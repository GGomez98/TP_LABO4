import{a as F,b as ue,c as aI,d as nr,e as w,f as cI}from"./chunk-M3GSIO6A.js";function uI(t,e){return Object.is(t,e)}var je=null,Mc=!1,Nc=1,In=Symbol("SIGNAL");function fe(t){let e=je;return je=t,e}function lI(){return je}var Oo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function kh(t){if(Mc)throw new Error("");if(je===null)return;je.consumerOnSignalRead(t);let e=je.nextProducerIndex++;if(kc(je),e<je.producerNode.length&&je.producerNode[e]!==t&&Po(je)){let n=je.producerNode[e];Oc(n,je.producerIndexOfThis[e])}je.producerNode[e]!==t&&(je.producerNode[e]=t,je.producerIndexOfThis[e]=Po(je)?pI(t,je,e):0),je.producerLastReadVersion[e]=t.version}function mS(){Nc++}function dI(t){if(!(Po(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Nc)){if(!t.producerMustRecompute(t)&&!Lh(t)){t.dirty=!1,t.lastCleanEpoch=Nc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Nc}}function hI(t){if(t.liveConsumerNode===void 0)return;let e=Mc;Mc=!0;try{for(let n of t.liveConsumerNode)n.dirty||yS(n)}finally{Mc=e}}function fI(){return je?.consumerAllowSignalWrites!==!1}function yS(t){t.dirty=!0,hI(t),t.consumerMarkedDirty?.(t)}function Pc(t){return t&&(t.nextProducerIndex=0),fe(t)}function Fh(t,e){if(fe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Po(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Oc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Lh(t){kc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(dI(n),r!==n.version))return!0}return!1}function Vh(t){if(kc(t),Po(t))for(let e=0;e<t.producerNode.length;e++)Oc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function pI(t,e,n){if(gI(t),t.liveConsumerNode.length===0&&mI(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=pI(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Oc(t,e){if(gI(t),t.liveConsumerNode.length===1&&mI(t))for(let r=0;r<t.producerNode.length;r++)Oc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];kc(i),i.producerIndexOfThis[r]=e}}function Po(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function kc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function gI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function mI(t){return t.producerNode!==void 0}function yI(t){let e=Object.create(vS);e.computation=t;let n=()=>{if(dI(e),kh(e),e.value===xc)throw e.error;return e.value};return n[In]=e,n}var Ph=Symbol("UNSET"),Oh=Symbol("COMPUTING"),xc=Symbol("ERRORED"),vS=ue(F({},Oo),{value:Ph,dirty:!0,error:null,equal:uI,producerMustRecompute(t){return t.value===Ph||t.value===Oh},producerRecomputeValue(t){if(t.value===Oh)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Oh;let n=Pc(t),r;try{r=t.computation()}catch(i){r=xc,t.error=i}finally{Fh(t,n)}if(e!==Ph&&e!==xc&&r!==xc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function _S(){throw new Error}var vI=_S;function _I(){vI()}function II(t){vI=t}var IS=null;function wI(t){let e=Object.create(DI);e.value=t;let n=()=>(kh(e),e.value);return n[In]=e,n}function jh(t,e){fI()||_I(),t.equal(t.value,e)||(t.value=e,wS(t))}function EI(t,e){fI()||_I(),jh(t,e(t.value))}var DI=ue(F({},Oo),{equal:uI,value:void 0});function wS(t){t.version++,mS(),hI(t),IS?.()}function Q(t){return typeof t=="function"}function Li(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Fc=Li(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function qr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Se=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Q(r))try{r()}catch(s){e=s instanceof Fc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{bI(s)}catch(o){e=e??[],o instanceof Fc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Fc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)bI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&qr(n,e)}remove(e){let{_finalizers:n}=this;n&&qr(n,e),e instanceof t&&e._removeParent(this)}};Se.EMPTY=(()=>{let t=new Se;return t.closed=!0,t})();var Uh=Se.EMPTY;function Lc(t){return t instanceof Se||t&&"closed"in t&&Q(t.remove)&&Q(t.add)&&Q(t.unsubscribe)}function bI(t){Q(t)?t():t.unsubscribe()}var zt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Vi={setTimeout(t,e,...n){let{delegate:r}=Vi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Vi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Vc(t){Vi.setTimeout(()=>{let{onUnhandledError:e}=zt;if(e)e(t);else throw t})}function ko(){}var TI=Bh("C",void 0,void 0);function CI(t){return Bh("E",void 0,t)}function AI(t){return Bh("N",t,void 0)}function Bh(t,e,n){return{kind:t,value:e,error:n}}var Gr=null;function ji(t){if(zt.useDeprecatedSynchronousErrorHandling){let e=!Gr;if(e&&(Gr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Gr;if(Gr=null,n)throw r}}else t()}function SI(t){zt.useDeprecatedSynchronousErrorHandling&&Gr&&(Gr.errorThrown=!0,Gr.error=t)}var Wr=class extends Se{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Lc(e)&&e.add(this)):this.destination=bS}static create(e,n,r){return new Ui(e,n,r)}next(e){this.isStopped?Hh(AI(e),this):this._next(e)}error(e){this.isStopped?Hh(CI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Hh(TI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ES=Function.prototype.bind;function $h(t,e){return ES.call(t,e)}var zh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){jc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){jc(r)}else jc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){jc(n)}}},Ui=class extends Wr{constructor(e,n,r){super();let i;if(Q(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&zt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&$h(e.next,s),error:e.error&&$h(e.error,s),complete:e.complete&&$h(e.complete,s)}):i=e}this.destination=new zh(i)}};function jc(t){zt.useDeprecatedSynchronousErrorHandling?SI(t):Vc(t)}function DS(t){throw t}function Hh(t,e){let{onStoppedNotification:n}=zt;n&&Vi.setTimeout(()=>n(t,e))}var bS={closed:!0,next:ko,error:DS,complete:ko};var Bi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function wt(t){return t}function qh(...t){return Gh(t)}function Gh(t){return t.length===0?wt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var se=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=CS(n)?n:new Ui(n,r,i);return ji(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=RI(r),new r((i,s)=>{let o=new Ui({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Bi](){return this}pipe(...n){return Gh(n)(this)}toPromise(n){return n=RI(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function RI(t){var e;return(e=t??zt.Promise)!==null&&e!==void 0?e:Promise}function TS(t){return t&&Q(t.next)&&Q(t.error)&&Q(t.complete)}function CS(t){return t&&t instanceof Wr||TS(t)&&Lc(t)}function Wh(t){return Q(t?.lift)}function pe(t){return e=>{if(Wh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function le(t,e,n,r,i){return new Kh(t,e,n,r,i)}var Kh=class extends Wr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function $i(){return pe((t,e)=>{let n=null;t._refCount++;let r=le(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Hi=class extends se{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Wh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Se;let n=this.getSubject();e.add(this.source.subscribe(le(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Se.EMPTY)}return e}refCount(){return $i()(this)}};var MI=Li(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var $e=(()=>{class t extends se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Uc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new MI}next(n){ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Uh:(this.currentObservers=null,s.push(n),new Se(()=>{this.currentObservers=null,qr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new se;return n.source=this,n}}return t.create=(e,n)=>new Uc(e,n),t})(),Uc=class extends $e{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Uh}};var Ke=class extends $e{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Qh={now(){return(Qh.delegate||Date).now()},delegate:void 0};var Bc=class extends Se{constructor(e,n){super()}schedule(e,n=0){return this}};var Fo={setInterval(t,e,...n){let{delegate:r}=Fo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Fo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var zi=class extends Bc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Fo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Fo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,qr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var qi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};qi.now=Qh.now;var Gi=class extends qi{constructor(e,n=qi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Yh=new Gi(zi);var $c=class extends zi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Hc=class extends Gi{};var Jh=new Hc($c);var Et=new se(t=>t.complete());function NI(t){return t&&Q(t.schedule)}function xI(t){return t[t.length-1]}function zc(t){return Q(xI(t))?t.pop():void 0}function rr(t){return NI(xI(t))?t.pop():void 0}function Zh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function OI(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{l(r.next(f))}catch(g){o(g)}}function u(f){try{l(r.throw(f))}catch(g){o(g)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function PI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kr(t){return this instanceof Kr?(this.v=t,this):new Kr(t)}function kI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(I){return function(A){return Promise.resolve(A).then(I,g)}}function a(I,A){r[I]&&(i[I]=function(x){return new Promise(function(R,O){s.push([I,x,R,O])>1||u(I,x)})},A&&(i[I]=A(i[I])))}function u(I,A){try{l(r[I](A))}catch(x){y(s[0][3],x)}}function l(I){I.value instanceof Kr?Promise.resolve(I.value.v).then(f,g):y(s[0][2],I)}function f(I){u("next",I)}function g(I){u("throw",I)}function y(I,A){I(A),s.shift(),s.length&&u(s[0][0],s[0][1])}}function FI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof PI=="function"?PI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var qc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Gc(t){return Q(t?.then)}function Wc(t){return Q(t[Bi])}function Kc(t){return Symbol.asyncIterator&&Q(t?.[Symbol.asyncIterator])}function Qc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function AS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Yc=AS();function Jc(t){return Q(t?.[Yc])}function Zc(t){return kI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Kr(n.read());if(i)return yield Kr(void 0);yield yield Kr(r)}}finally{n.releaseLock()}})}function Xc(t){return Q(t?.getReader)}function Me(t){if(t instanceof se)return t;if(t!=null){if(Wc(t))return SS(t);if(qc(t))return RS(t);if(Gc(t))return MS(t);if(Kc(t))return LI(t);if(Jc(t))return NS(t);if(Xc(t))return xS(t)}throw Qc(t)}function SS(t){return new se(e=>{let n=t[Bi]();if(Q(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function RS(t){return new se(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function MS(t){return new se(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Vc)})}function NS(t){return new se(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function LI(t){return new se(e=>{PS(t,e).catch(n=>e.error(n))})}function xS(t){return LI(Zc(t))}function PS(t,e){var n,r,i,s;return OI(this,void 0,void 0,function*(){try{for(n=FI(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function gt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function ir(t,e=0){return pe((n,r)=>{n.subscribe(le(r,i=>gt(r,t,()=>r.next(i),e),()=>gt(r,t,()=>r.complete(),e),i=>gt(r,t,()=>r.error(i),e)))})}function sr(t,e=0){return pe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function VI(t,e){return Me(t).pipe(sr(e),ir(e))}function jI(t,e){return Me(t).pipe(sr(e),ir(e))}function UI(t,e){return new se(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function BI(t,e){return new se(n=>{let r;return gt(n,e,()=>{r=t[Yc](),gt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>Q(r?.return)&&r.return()})}function eu(t,e){if(!t)throw new Error("Iterable cannot be null");return new se(n=>{gt(n,e,()=>{let r=t[Symbol.asyncIterator]();gt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function $I(t,e){return eu(Zc(t),e)}function HI(t,e){if(t!=null){if(Wc(t))return VI(t,e);if(qc(t))return UI(t,e);if(Gc(t))return jI(t,e);if(Kc(t))return eu(t,e);if(Jc(t))return BI(t,e);if(Xc(t))return $I(t,e)}throw Qc(t)}function Te(t,e){return e?HI(t,e):Me(t)}function q(...t){let e=rr(t);return Te(t,e)}function Wi(t,e){let n=Q(t)?t:()=>t,r=i=>i.error(n());return new se(e?i=>e.schedule(r,0,i):r)}function Xh(t){return!!t&&(t instanceof se||Q(t.lift)&&Q(t.subscribe))}var wn=Li(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Y(t,e){return pe((n,r)=>{let i=0;n.subscribe(le(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:OS}=Array;function kS(t,e){return OS(e)?t(...e):t(e)}function tu(t){return Y(e=>kS(t,e))}var{isArray:FS}=Array,{getPrototypeOf:LS,prototype:VS,keys:jS}=Object;function nu(t){if(t.length===1){let e=t[0];if(FS(e))return{args:e,keys:null};if(US(e)){let n=jS(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function US(t){return t&&typeof t=="object"&&LS(t)===VS}function ru(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Lo(...t){let e=rr(t),n=zc(t),{args:r,keys:i}=nu(t);if(r.length===0)return Te([],e);let s=new se(BS(r,e,i?o=>ru(i,o):wt));return n?s.pipe(tu(n)):s}function BS(t,e,n=wt){return r=>{zI(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)zI(e,()=>{let l=Te(t[u],e),f=!1;l.subscribe(le(r,g=>{s[u]=g,f||(f=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function zI(t,e,n){t?gt(n,t,e):e()}function qI(t,e,n,r,i,s,o,a){let u=[],l=0,f=0,g=!1,y=()=>{g&&!u.length&&!l&&e.complete()},I=x=>l<r?A(x):u.push(x),A=x=>{s&&e.next(x),l++;let R=!1;Me(n(x,f++)).subscribe(le(e,O=>{i?.(O),s?I(O):e.next(O)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let O=u.shift();o?gt(e,o,()=>A(O)):A(O)}y()}catch(O){e.error(O)}}))};return t.subscribe(le(e,I,()=>{g=!0,y()})),()=>{a?.()}}function Ne(t,e,n=1/0){return Q(e)?Ne((r,i)=>Y((s,o)=>e(r,s,i,o))(Me(t(r,i))),n):(typeof e=="number"&&(n=e),pe((r,i)=>qI(r,i,t,n)))}function Ki(t=1/0){return Ne(wt,t)}function GI(){return Ki(1)}function Qi(...t){return GI()(Te(t,rr(t)))}function iu(t){return new se(e=>{Me(t()).subscribe(e)})}function ef(...t){let e=zc(t),{args:n,keys:r}=nu(t),i=new se(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let f=0;f<o;f++){let g=!1;Me(n[f]).subscribe(le(s,y=>{g||(g=!0,l--),a[f]=y},()=>u--,void 0,()=>{(!u||!g)&&(l||s.next(r?ru(r,a):a),s.complete())}))}});return e?i.pipe(tu(e)):i}function mt(t,e){return pe((n,r)=>{let i=0;n.subscribe(le(r,s=>t.call(e,s,i++)&&r.next(s)))})}function or(t){return pe((e,n)=>{let r=null,i=!1,s;r=e.subscribe(le(n,void 0,void 0,o=>{s=Me(t(o,or(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function WI(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(le(o,f=>{let g=l++;u=a?t(u,f,g):(a=!0,f),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function En(t,e){return Q(e)?Ne(t,e,1):Ne(t,1)}function ar(t){return pe((e,n)=>{let r=!1;e.subscribe(le(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Dn(t){return t<=0?()=>Et:pe((e,n)=>{let r=0;e.subscribe(le(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function tf(t){return Y(()=>t)}function su(t=$S){return pe((e,n)=>{let r=!1;e.subscribe(le(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function $S(){return new wn}function Qr(t){return pe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Jt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?mt((i,s)=>t(i,s,r)):wt,Dn(1),n?ar(e):su(()=>new wn))}function Yi(t){return t<=0?()=>Et:pe((e,n)=>{let r=[];e.subscribe(le(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function nf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?mt((i,s)=>t(i,s,r)):wt,Yi(1),n?ar(e):su(()=>new wn))}function rf(t,e){return pe(WI(t,e,arguments.length>=2,!0))}function sf(...t){let e=rr(t);return pe((n,r)=>{(e?Qi(t,n,e):Qi(t,n)).subscribe(r)})}function yt(t,e){return pe((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(le(r,u=>{i?.unsubscribe();let l=0,f=s++;Me(t(u,f)).subscribe(i=le(r,g=>r.next(e?e(u,g,f,l++):g),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function of(t){return pe((e,n)=>{Me(t).subscribe(le(n,()=>n.complete(),ko)),!n.closed&&e.subscribe(n)})}function xe(t,e,n){let r=Q(t)||e||n?{next:t,error:e,complete:n}:t;return r?pe((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(le(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):wt}var xw="https://g.co/ng/security#xss",j=class extends Error{constructor(e,n){super(Bu(e,n)),this.code=e}};function Bu(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Go(t){return{toString:t}.toString()}var ou="__parameters__";function HS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Pw(t,e,n){return Go(()=>{let r=HS(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,f){let g=u.hasOwnProperty(ou)?u[ou]:Object.defineProperty(u,ou,{value:[]})[ou];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var If=globalThis;function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function zS(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ut(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ut).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function KI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var qS=we({__forward_ref__:we});function oi(t){return t.__forward_ref__=oi,t.toString=function(){return ut(this())},t}function ct(t){return Ow(t)?t():t}function Ow(t){return typeof t=="function"&&t.hasOwnProperty(qS)&&t.__forward_ref__===oi}function V(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function bt(t){return{providers:t.providers||[],imports:t.imports||[]}}function $u(t){return QI(t,Fw)||QI(t,Lw)}function kw(t){return $u(t)!==null}function QI(t,e){return t.hasOwnProperty(e)?t[e]:null}function GS(t){let e=t&&(t[Fw]||t[Lw]);return e||null}function YI(t){return t&&(t.hasOwnProperty(JI)||t.hasOwnProperty(WS))?t[JI]:null}var Fw=we({\u0275prov:we}),JI=we({\u0275inj:we}),Lw=we({ngInjectableDef:we}),WS=we({ngInjectorDef:we}),L=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=V({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Vw(t){return t&&!!t.\u0275providers}var KS=we({\u0275cmp:we}),QS=we({\u0275dir:we}),YS=we({\u0275pipe:we}),JS=we({\u0275mod:we}),mu=we({\u0275fac:we}),jo=we({__NG_ELEMENT_ID__:we}),ZI=we({__NG_ENV_ID__:we});function Hu(t){return typeof t=="string"?t:t==null?"":String(t)}function ZS(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Hu(t)}function XS(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new j(-200,t)}function dp(t,e){throw new j(-201,!1)}var te=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(te||{}),wf;function jw(){return wf}function xt(t){let e=wf;return wf=t,e}function Uw(t,e,n){let r=$u(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&te.Optional)return null;if(e!==void 0)return e;dp(t,"Injector")}var eR={},Uo=eR,Ef="__NG_DI_FLAG__",yu="ngTempTokenPath",tR="ngTokenPath",nR=/\n/gm,rR="\u0275",XI="__source",ts;function iR(){return ts}function cr(t){let e=ts;return ts=t,e}function sR(t,e=te.Default){if(ts===void 0)throw new j(-203,!1);return ts===null?Uw(t,void 0,e):ts.get(t,e&te.Optional?null:void 0,e)}function B(t,e=te.Default){return(jw()||sR)(ct(t),e)}function M(t,e=te.Default){return B(t,zu(e))}function zu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Df(t){let e=[];for(let n=0;n<t.length;n++){let r=ct(t[n]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,s=te.Default;for(let o=0;o<r.length;o++){let a=r[o],u=oR(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(B(i,s))}else e.push(B(r))}return e}function Bw(t,e){return t[Ef]=e,t.prototype[Ef]=e,t}function oR(t){return t[Ef]}function aR(t,e,n,r){let i=t[yu];throw e[XI]&&i.unshift(e[XI]),t.message=cR(`
`+t.message,i,n,r),t[tR]=i,t[yu]=null,t}function cR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==rR?t.slice(2):t;let i=ut(e);if(Array.isArray(e))i=e.map(ut).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):ut(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(nR,`
  `)}`}var nt=Bw(Pw("Optional"),8);var hp=Bw(Pw("SkipSelf"),4);function rs(t,e){let n=t.hasOwnProperty(mu);return n?t[mu]:null}function fp(t,e){t.forEach(n=>Array.isArray(n)?fp(n,e):e(n))}function $w(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function vu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function uR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function lR(t,e,n){let r=Wo(t,e);return r>=0?t[r|1]=n:(r=~r,uR(t,r,e,n)),r}function af(t,e){let n=Wo(t,e);if(n>=0)return t[n|1]}function Wo(t,e){return dR(t,e,1)}function dR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var is={},Pt=[],ss=new L(""),Hw=new L("",-1),zw=new L(""),_u=class{get(e,n=Uo){if(n===Uo){let r=new Error(`NullInjectorError: No provider for ${ut(e)}!`);throw r.name="NullInjectorError",r}return n}},qw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(qw||{}),en=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(en||{}),dr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(dr||{});function hR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function bf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];fR(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Gw(t){return t===3||t===4||t===6}function fR(t){return t.charCodeAt(0)===64}function Bo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?ew(t,n,i,null,e[++r]):ew(t,n,i,null,null))}}return t}function ew(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Ww="ng-template";function pR(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&hR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(pp(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function pp(t){return t.type===4&&t.value!==Ww}function gR(t,e,n){let r=t.type===4&&!n?Ww:t.value;return e===r}function mR(t,e,n){let r=4,i=t.attrs,s=i!==null?_R(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!qt(r)&&!qt(u))return!1;if(o&&qt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!gR(t,u,n)||u===""&&e.length===1){if(qt(r))return!1;o=!0}}else if(r&8){if(i===null||!pR(t,i,u,n)){if(qt(r))return!1;o=!0}}else{let l=e[++a],f=yR(u,i,pp(t),n);if(f===-1){if(qt(r))return!1;o=!0;continue}if(l!==""){let g;if(f>s?g="":g=i[f+1].toLowerCase(),r&2&&l!==g){if(qt(r))return!1;o=!0}}}}return qt(r)||o}function qt(t){return(t&1)===0}function yR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return IR(e,t)}function vR(t,e,n=!1){for(let r=0;r<e.length;r++)if(mR(t,e[r],n))return!0;return!1}function _R(t){for(let e=0;e<t.length;e++){let n=t[e];if(Gw(n))return e}return t.length}function IR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function tw(t,e){return t?":not("+e.trim()+")":e}function wR(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!qt(o)&&(e+=tw(s,i),i=""),r=o,s=s||!qt(r);n++}return i!==""&&(e+=tw(s,i)),e}function ER(t){return t.map(wR).join(",")}function DR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!qt(i))break;i=s}r++}return{attrs:e,classes:n}}function Ft(t){return Go(()=>{let e=Zw(t),n=ue(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===qw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||en.Emulated,styles:t.styles||Pt,_:null,schemas:t.schemas||null,tView:null,id:""});Xw(n);let r=t.dependencies;return n.directiveDefs=rw(r,!1),n.pipeDefs=rw(r,!0),n.id=CR(n),n})}function bR(t){return hr(t)||Kw(t)}function TR(t){return t!==null}function Tt(t){return Go(()=>({type:t.type,bootstrap:t.bootstrap||Pt,declarations:t.declarations||Pt,imports:t.imports||Pt,exports:t.exports||Pt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function nw(t,e){if(t==null)return is;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=dr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==dr.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Ye(t){return Go(()=>{let e=Zw(t);return Xw(e),e})}function hr(t){return t[KS]||null}function Kw(t){return t[QS]||null}function Qw(t){return t[YS]||null}function Yw(t){let e=hr(t)||Kw(t)||Qw(t);return e!==null?e.standalone:!1}function Jw(t,e){let n=t[JS]||null;if(!n&&e===!0)throw new Error(`Type ${ut(t)} does not have '\u0275mod' property.`);return n}function Zw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||is,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Pt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:nw(t.inputs,e),outputs:nw(t.outputs),debugInfo:null}}function Xw(t){t.features?.forEach(e=>e(t))}function rw(t,e){if(!t)return null;let n=e?Qw:bR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(TR)}function CR(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Lt(t){return{\u0275providers:t}}function AR(...t){return{\u0275providers:eE(!0,t),\u0275fromNgModule:!0}}function eE(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return fp(e,o=>{let a=o;Tf(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&tE(i,s),n}function tE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];gp(i,s=>{e(s,r)})}}function Tf(t,e,n,r){if(t=ct(t),!t)return!1;let i=null,s=YI(t),o=!s&&hr(t);if(!s&&!o){let u=t.ngModule;if(s=YI(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)Tf(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{fp(s.imports,f=>{Tf(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&tE(l,e)}if(!a){let l=rs(i)||(()=>new i);e({provide:i,useFactory:l,deps:Pt},i),e({provide:zw,useValue:i,multi:!0},i),e({provide:ss,useValue:()=>B(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;gp(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function gp(t,e){for(let n of t)Vw(n)&&(n=n.\u0275providers),Array.isArray(n)?gp(n,e):e(n)}var SR=we({provide:String,useValue:we});function nE(t){return t!==null&&typeof t=="object"&&SR in t}function RR(t){return!!(t&&t.useExisting)}function MR(t){return!!(t&&t.useFactory)}function os(t){return typeof t=="function"}function NR(t){return!!t.useClass}var qu=new L(""),du={},xR={},cf;function mp(){return cf===void 0&&(cf=new _u),cf}var lt=class{},$o=class extends lt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Af(e,o=>this.processProvider(o)),this.records.set(Hw,Ji(void 0,this)),i.has("environment")&&this.records.set(lt,Ji(void 0,this));let s=this.records.get(qu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(zw,Pt,te.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=cr(this),r=xt(void 0),i;try{return e()}finally{cr(n),xt(r)}}get(e,n=Uo,r=te.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ZI))return e[ZI](this);r=zu(r);let i,s=cr(this),o=xt(void 0);try{if(!(r&te.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=LR(e)&&$u(e);l&&this.injectableDefInScope(l)?u=Ji(Cf(e),du):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&te.Self?mp():this.parent;return n=r&te.Optional&&n===Uo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[yu]=a[yu]||[]).unshift(ut(e)),s)throw a;return aR(a,e,"R3InjectorError",this.source)}else throw a}finally{xt(o),cr(s)}}resolveInjectorInitializers(){let e=fe(null),n=cr(this),r=xt(void 0),i;try{let s=this.get(ss,Pt,te.Self);for(let o of s)o()}finally{cr(n),xt(r),fe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ut(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(e){e=ct(e);let n=os(e)?e:ct(e&&e.provide),r=OR(e);if(!os(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ji(void 0,du,!0),i.factory=()=>Df(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=fe(null);try{return n.value===du&&(n.value=xR,n.value=n.factory()),typeof n.value=="object"&&n.value&&FR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{fe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ct(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Cf(t){let e=$u(t),n=e!==null?e.factory:rs(t);if(n!==null)return n;if(t instanceof L)throw new j(204,!1);if(t instanceof Function)return PR(t);throw new j(204,!1)}function PR(t){if(t.length>0)throw new j(204,!1);let n=GS(t);return n!==null?()=>n.factory(t):()=>new t}function OR(t){if(nE(t))return Ji(void 0,t.useValue);{let e=rE(t);return Ji(e,du)}}function rE(t,e,n){let r;if(os(t)){let i=ct(t);return rs(i)||Cf(i)}else if(nE(t))r=()=>ct(t.useValue);else if(MR(t))r=()=>t.useFactory(...Df(t.deps||[]));else if(RR(t))r=()=>B(ct(t.useExisting));else{let i=ct(t&&(t.useClass||t.provide));if(kR(t))r=()=>new i(...Df(t.deps));else return rs(i)||Cf(i)}return r}function Ji(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function kR(t){return!!t.deps}function FR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function LR(t){return typeof t=="function"||typeof t=="object"&&t instanceof L}function Af(t,e){for(let n of t)Array.isArray(n)?Af(n,e):n&&Vw(n)?Af(n.\u0275providers,e):e(n)}function Vt(t,e){t instanceof $o&&t.assertNotDestroyed();let n,r=cr(t),i=xt(void 0);try{return e()}finally{cr(r),xt(i)}}function iE(){return jw()!==void 0||iR()!=null}function VR(t){if(!iE())throw new j(-203,!1)}function jR(t){return typeof t=="function"}var An=0,ne=1,K=2,dt=3,Gt=4,Wt=5,Iu=6,wu=7,kt=8,as=9,tn=10,Oe=11,Ho=12,iw=13,ms=14,nn=15,cs=16,Zi=17,us=18,Gu=19,sE=20,ur=21,uf=22,Ot=23,rn=25,oE=1;var Xr=7,Eu=8,Du=9,Dt=10,bu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(bu||{});function lr(t){return Array.isArray(t)&&typeof t[oE]=="object"}function Sn(t){return Array.isArray(t)&&t[oE]===!0}function aE(t){return(t.flags&4)!==0}function Wu(t){return t.componentOffset>-1}function yp(t){return(t.flags&1)===1}function fr(t){return!!t.template}function Sf(t){return(t[K]&512)!==0}var Rf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function cE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function gr(){return uE}function uE(t){return t.type.prototype.ngOnChanges&&(t.setInput=BR),UR}gr.ngInherit=!0;function UR(){let t=dE(this),e=t?.current;if(e){let n=t.previous;if(n===is)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function BR(t,e,n,r,i){let s=this.declaredInputs[r],o=dE(t)||$R(t,{previous:is,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new Rf(l&&l.currentValue,n,u===is),cE(t,e,i,n)}var lE="__ngSimpleChanges__";function dE(t){return t[lE]||null}function $R(t,e){return t[lE]=e}var sw=null;var Zt=function(t,e,n){sw?.(t,e,n)},HR="svg",zR="math";function sn(t){for(;Array.isArray(t);)t=t[An];return t}function hE(t,e){return sn(e[t])}function jt(t,e){return sn(e[t.index])}function vp(t,e){return t.data[e]}function mr(t,e){let n=e[t];return lr(n)?n:n[An]}function _p(t){return(t[K]&128)===128}function qR(t){return Sn(t[dt])}function Tu(t,e){return e==null?null:t[e]}function fE(t){t[Zi]=0}function pE(t){t[K]&1024||(t[K]|=1024,_p(t)&&Qu(t))}function GR(t,e){for(;t>0;)e=e[ms],t--;return e}function Ku(t){return!!(t[K]&9216||t[Ot]?.dirty)}function Mf(t){t[tn].changeDetectionScheduler?.notify(8),t[K]&64&&(t[K]|=1024),Ku(t)&&Qu(t)}function Qu(t){t[tn].changeDetectionScheduler?.notify(0);let e=ei(t);for(;e!==null&&!(e[K]&8192||(e[K]|=8192,!_p(e)));)e=ei(e)}function gE(t,e){if((t[K]&256)===256)throw new j(911,!1);t[ur]===null&&(t[ur]=[]),t[ur].push(e)}function WR(t,e){if(t[ur]===null)return;let n=t[ur].indexOf(e);n!==-1&&t[ur].splice(n,1)}function ei(t){let e=t[dt];return Sn(e)?e[dt]:e}var oe={lFrame:bE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var mE=!1;function KR(){return oe.lFrame.elementDepthCount}function QR(){oe.lFrame.elementDepthCount++}function YR(){oe.lFrame.elementDepthCount--}function yE(){return oe.bindingsEnabled}function JR(){return oe.skipHydrationRootTNode!==null}function ZR(t){return oe.skipHydrationRootTNode===t}function XR(){oe.skipHydrationRootTNode=null}function _e(){return oe.lFrame.lView}function vt(){return oe.lFrame.tView}function Yu(t){return oe.lFrame.contextLView=t,t[kt]}function Ju(t){return oe.lFrame.contextLView=null,t}function ht(){let t=vE();for(;t!==null&&t.type===64;)t=t.parent;return t}function vE(){return oe.lFrame.currentTNode}function eM(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ko(t,e){let n=oe.lFrame;n.currentTNode=t,n.isParent=e}function _E(){return oe.lFrame.isParent}function tM(){oe.lFrame.isParent=!1}function IE(){return mE}function ow(t){mE=t}function nM(){let t=oe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function rM(t){return oe.lFrame.bindingIndex=t}function Qo(){return oe.lFrame.bindingIndex++}function iM(t){let e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function sM(){return oe.lFrame.inI18n}function oM(t,e){let n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,Nf(e)}function aM(){return oe.lFrame.currentDirectiveIndex}function Nf(t){oe.lFrame.currentDirectiveIndex=t}function cM(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function wE(t){oe.lFrame.currentQueryIndex=t}function uM(t){let e=t[ne];return e.type===2?e.declTNode:e.type===1?t[Wt]:null}function EE(t,e,n){if(n&te.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&te.Host);)if(i=uM(s),i===null||(s=s[ms],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=oe.lFrame=DE();return r.currentTNode=e,r.lView=t,!0}function Ip(t){let e=DE(),n=t[ne];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function DE(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?bE(t):e}function bE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function TE(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var CE=TE;function wp(){let t=TE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function lM(t){return(oe.lFrame.contextLView=GR(t,oe.lFrame.contextLView))[kt]}function ys(){return oe.lFrame.selectedIndex}function ti(t){oe.lFrame.selectedIndex=t}function Zu(){let t=oe.lFrame;return vp(t.tView,t.selectedIndex)}function dM(){return oe.lFrame.currentNamespace}var AE=!0;function Ep(){return AE}function Dp(t){AE=t}function hM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=uE(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function bp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function hu(t,e,n){SE(t,e,3,n)}function fu(t,e,n,r){(t[K]&3)===n&&SE(t,e,n,r)}function lf(t,e){let n=t[K];(n&3)===e&&(n&=16383,n+=1,t[K]=n)}function SE(t,e,n,r){let i=r!==void 0?t[Zi]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Zi]+=65536),(a<s||s==-1)&&(fM(t,n,e,u),t[Zi]=(t[Zi]&4294901760)+u+2),u++}function aw(t,e){Zt(4,t,e);let n=fe(null);try{e.call(t)}finally{fe(n),Zt(5,t,e)}}function fM(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[K]>>14<t[Zi]>>16&&(t[K]&3)===e&&(t[K]+=16384,aw(a,s)):aw(a,s)}var ns=-1,ni=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function pM(t){return t instanceof ni}function gM(t){return(t.flags&8)!==0}function mM(t){return(t.flags&16)!==0}var df={},xf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=zu(r);let i=this.injector.get(e,df,r);return i!==df||n===df?i:this.parentInjector.get(e,n,r)}};function RE(t){return t!==ns}function Cu(t){return t&32767}function yM(t){return t>>16}function Au(t,e){let n=yM(t),r=e;for(;n>0;)r=r[ms],n--;return r}var Pf=!0;function cw(t){let e=Pf;return Pf=t,e}var vM=256,ME=vM-1,NE=5,_M=0,Xt={};function IM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(jo)&&(r=n[jo]),r==null&&(r=n[jo]=_M++);let i=r&ME,s=1<<i;e.data[t+(i>>NE)]|=s}function Su(t,e){let n=xE(t,e);if(n!==-1)return n;let r=e[ne];r.firstCreatePass&&(t.injectorIndex=e.length,hf(r.data,t),hf(e,null),hf(r.blueprint,null));let i=Tp(t,e),s=t.injectorIndex;if(RE(i)){let o=Cu(i),a=Au(i,e),u=a[ne].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function hf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function xE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Tp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=LE(i),r===null)return ns;if(n++,i=i[ms],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ns}function Of(t,e,n){IM(t,e,n)}function wM(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(Gw(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function PE(t,e,n){if(n&te.Optional||t!==void 0)return t;dp(e,"NodeInjector")}function OE(t,e,n,r){if(n&te.Optional&&r===void 0&&(r=null),!(n&(te.Self|te.Host))){let i=t[as],s=xt(void 0);try{return i?i.get(e,r,n&te.Optional):Uw(e,r,n&te.Optional)}finally{xt(s)}}return PE(r,e,n)}function kE(t,e,n,r=te.Default,i){if(t!==null){if(e[K]&2048&&!(r&te.Self)){let o=CM(t,e,n,r,Xt);if(o!==Xt)return o}let s=FE(t,e,n,r,Xt);if(s!==Xt)return s}return OE(e,n,r,i)}function FE(t,e,n,r,i){let s=bM(n);if(typeof s=="function"){if(!EE(e,t,r))return r&te.Host?PE(i,n,r):OE(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&te.Optional))dp(n);else return o}finally{CE()}}else if(typeof s=="number"){let o=null,a=xE(t,e),u=ns,l=r&te.Host?e[nn][Wt]:null;for((a===-1||r&te.SkipSelf)&&(u=a===-1?Tp(t,e):e[a+8],u===ns||!lw(r,!1)?a=-1:(o=e[ne],a=Cu(u),e=Au(u,e)));a!==-1;){let f=e[ne];if(uw(s,a,f.data)){let g=EM(a,e,n,o,r,l);if(g!==Xt)return g}u=e[a+8],u!==ns&&lw(r,e[ne].data[a+8]===l)&&uw(s,a,e)?(o=f,a=Cu(u),e=Au(u,e)):a=-1}}return i}function EM(t,e,n,r,i,s){let o=e[ne],a=o.data[t+8],u=r==null?Wu(a)&&Pf:r!=o&&(a.type&3)!==0,l=i&te.Host&&s===a,f=DM(a,o,n,u,l);return f!==null?ls(e,o,f,a):Xt}function DM(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,f=s>>20,g=r?a:a+f,y=i?a+f:l;for(let I=g;I<y;I++){let A=o[I];if(I<u&&n===A||I>=u&&A.type===n)return I}if(i){let I=o[u];if(I&&fr(I)&&I.type===n)return u}return null}function ls(t,e,n,r){let i=t[n],s=e.data;if(pM(i)){let o=i;o.resolving&&XS(ZS(s[n]));let a=cw(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?xt(o.injectImpl):null,f=EE(t,r,te.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&hM(n,s[n],e)}finally{l!==null&&xt(l),cw(a),o.resolving=!1,CE()}}return i}function bM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(jo)?t[jo]:void 0;return typeof e=="number"?e>=0?e&ME:TM:e}function uw(t,e,n){let r=1<<t;return!!(n[e+(t>>NE)]&r)}function lw(t,e){return!(t&te.Self)&&!(t&te.Host&&e)}var Zr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return kE(this._tNode,this._lView,e,zu(r),n)}};function TM(){return new Zr(ht(),_e())}function vs(t){return Go(()=>{let e=t.prototype.constructor,n=e[mu]||kf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[mu]||kf(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function kf(t){return Ow(t)?()=>{let e=kf(ct(t));return e&&e()}:rs(t)}function CM(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[K]&2048&&!(o[K]&512);){let a=FE(s,o,n,r|te.Self,Xt);if(a!==Xt)return a;let u=s.parent;if(!u){let l=o[sE];if(l){let f=l.get(n,Xt,r);if(f!==Xt)return f}u=LE(o),o=o[ms]}s=u}return i}function LE(t){let e=t[ne],n=e.type;return n===2?e.declTNode:n===1?t[Wt]:null}function Cp(t){return wM(ht(),t)}function dw(t,e=null,n=null,r){let i=VE(t,e,n,r);return i.resolveInjectorInitializers(),i}function VE(t,e=null,n=null,r,i=new Set){let s=[n||Pt,AR(t)];return r=r||(typeof t=="object"?void 0:ut(t)),new $o(s,e||mp(),r||null,i)}var Yr=class Yr{static create(e,n){if(Array.isArray(e))return dw({name:""},n,e,"");{let r=e.name??"";return dw({name:r},e.parent,e.providers,r)}}};Yr.THROW_IF_NOT_FOUND=Uo,Yr.NULL=new _u,Yr.\u0275prov=V({token:Yr,providedIn:"any",factory:()=>B(Hw)}),Yr.__NG_ELEMENT_ID__=-1;var Qe=Yr;var AM=new L("");AM.__NG_ELEMENT_ID__=t=>{let e=ht();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(t&te.Optional)return null;throw new j(204,!1)};var SM="ngOriginalError";function ff(t){return t[SM]}var jE=!0,Ap=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=RM,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Ff=class extends Ap{constructor(e){super(),this._lView=e}onDestroy(e){return gE(this._lView,e),()=>WR(this._lView,e)}};function RM(){return new Ff(_e())}var yr=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ke(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=V({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Lf=class extends $e{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,iE()&&(this.destroyRef=M(Ap,{optional:!0})??void 0,this.pendingTasks=M(yr,{optional:!0})??void 0)}emit(e){let n=fe(null);try{super.next(e)}finally{fe(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Se&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Pe=Lf;function Ru(...t){}function UE(t){let e,n;function r(){t=Ru;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function hw(t){return queueMicrotask(()=>t()),()=>{t=Ru}}var Sp="isAngularZone",Mu=Sp+"_ID",MM=0,ye=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pe(!1),this.onMicrotaskEmpty=new Pe(!1),this.onStable=new Pe(!1),this.onError=new Pe(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=jE}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,PM(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Sp)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,NM,Ru,Ru);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},NM={};function Rp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function xM(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){UE(()=>{t.callbackScheduled=!1,Vf(t),t.isCheckStableRunning=!0,Rp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Vf(t)}function PM(t){let e=()=>{xM(t)},n=MM++;t._inner=t._inner.fork({name:"angular",properties:{[Sp]:!0,[Mu]:n,[Mu+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(OM(u))return r.invokeTask(s,o,a,u);try{return fw(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),pw(t)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return fw(t),r.invoke(s,o,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!kM(u)&&e(),pw(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Vf(t),Rp(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Vf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function fw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function pw(t){t._nesting--,Rp(t)}var jf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pe,this.onMicrotaskEmpty=new Pe,this.onStable=new Pe,this.onError=new Pe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function OM(t){return BE(t,"__ignore_ng_zone__")}function kM(t){return BE(t,"__scheduler_tick__")}function BE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var bn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ff(e);for(;n&&ff(n);)n=ff(n);return n||null}},FM=new L("",{providedIn:"root",factory:()=>{let t=M(ye),e=M(bn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function LM(){return Xu(ht(),_e())}function Xu(t,e){return new vr(jt(t,e))}var vr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=LM;let t=e;return t})();function $E(t){return(t.flags&128)===128}var HE=new Map,VM=0;function jM(){return VM++}function UM(t){HE.set(t[Gu],t)}function Uf(t){HE.delete(t[Gu])}var gw="__ngContext__";function ri(t,e){lr(e)?(t[gw]=e[Gu],UM(e)):t[gw]=e}function zE(t){return GE(t[Ho])}function qE(t){return GE(t[Gt])}function GE(t){for(;t!==null&&!Sn(t);)t=t[Gt];return t}var Bf;function WE(t){Bf=t}function BM(){if(Bf!==void 0)return Bf;if(typeof document<"u")return document;throw new j(210,!1)}var Mp=new L("",{providedIn:"root",factory:()=>$M}),$M="ng",Np=new L(""),Ut=new L("",{providedIn:"platform",factory:()=>"unknown"});var xp=new L("",{providedIn:"root",factory:()=>BM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var HM="h",zM="b";var qM=()=>null;function Pp(t,e,n=!1){return qM(t,e,n)}var KE=!1,GM=new L("",{providedIn:"root",factory:()=>KE});var au;function WM(){if(au===void 0&&(au=null,If.trustedTypes))try{au=If.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return au}function mw(t){return WM()?.createScriptURL(t)||t}var Nu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xw})`}};function Yo(t){return t instanceof Nu?t.changingThisBreaksApplicationSecurity:t}function Op(t,e){let n=KM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${xw})`)}return n===e}function KM(t){return t instanceof Nu&&t.getTypeName()||null}var QM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function QE(t){return t=String(t),t.match(QM)?t:"unsafe:"+t}var el=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(el||{});function kp(t){let e=JE();return e?e.sanitize(el.URL,t)||"":Op(t,"URL")?Yo(t):QE(Hu(t))}function YM(t){let e=JE();if(e)return mw(e.sanitize(el.RESOURCE_URL,t)||"");if(Op(t,"ResourceURL"))return mw(Yo(t));throw new j(904,!1)}function JM(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?YM:kp}function YE(t,e,n){return JM(e,n)(t)}function JE(){let t=_e();return t&&t[tn].sanitizer}function ZE(t){return t instanceof Function?t():t}function ZM(t){return(t??M(Qe)).get(Ut)==="browser"}var Tn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Tn||{}),XM;function Fp(t,e){return XM(t,e)}function Xi(t,e,n,r,i){if(r!=null){let s,o=!1;Sn(r)?s=r:lr(r)&&(o=!0,r=r[An]);let a=sn(r);t===0&&n!==null?i==null?nD(e,n,a):Pu(e,n,a,i||null,!0):t===1&&n!==null?Pu(e,n,a,i||null,!0):t===2?pN(e,a,o):t===3&&e.destroyNode(a),s!=null&&mN(e,t,s,n,i)}}function eN(t,e){return t.createText(e)}function tN(t,e,n){t.setValue(e,n)}function XE(t,e,n){return t.createElement(e,n)}function nN(t,e){eD(t,e),e[An]=null,e[Wt]=null}function rN(t,e,n,r,i,s){r[An]=i,r[Wt]=e,tl(t,r,n,1,i,s)}function eD(t,e){e[tn].changeDetectionScheduler?.notify(9),tl(t,e,e[Oe],2,null,null)}function iN(t){let e=t[Ho];if(!e)return pf(t[ne],t);for(;e;){let n=null;if(lr(e))n=e[Ho];else{let r=e[Dt];r&&(n=r)}if(!n){for(;e&&!e[Gt]&&e!==t;)lr(e)&&pf(e[ne],e),e=e[dt];e===null&&(e=t),lr(e)&&pf(e[ne],e),n=e&&e[Gt]}e=n}}function sN(t,e,n,r){let i=Dt+r,s=n.length;r>0&&(n[i-1][Gt]=e),r<s-Dt?(e[Gt]=n[i],$w(n,Dt+r,e)):(n.push(e),e[Gt]=null),e[dt]=n;let o=e[cs];o!==null&&n!==o&&tD(o,e);let a=e[us];a!==null&&a.insertView(t),Mf(e),e[K]|=128}function tD(t,e){let n=t[Du],r=e[dt];if(lr(r))t[K]|=bu.HasTransplantedViews;else{let i=r[dt][nn];e[nn]!==i&&(t[K]|=bu.HasTransplantedViews)}n===null?t[Du]=[e]:n.push(e)}function Lp(t,e){let n=t[Du],r=n.indexOf(e);n.splice(r,1)}function xu(t,e){if(t.length<=Dt)return;let n=Dt+e,r=t[n];if(r){let i=r[cs];i!==null&&i!==t&&Lp(i,r),e>0&&(t[n-1][Gt]=r[Gt]);let s=vu(t,Dt+e);nN(r[ne],r);let o=s[us];o!==null&&o.detachView(s[ne]),r[dt]=null,r[Gt]=null,r[K]&=-129}return r}function Vp(t,e){if(!(e[K]&256)){let n=e[Oe];n.destroyNode&&tl(t,e,n,3,null,null),iN(e)}}function pf(t,e){if(e[K]&256)return;let n=fe(null);try{e[K]&=-129,e[K]|=256,e[Ot]&&Vh(e[Ot]),aN(t,e),oN(t,e),e[ne].type===1&&e[Oe].destroy();let r=e[cs];if(r!==null&&Sn(e[dt])){r!==e[dt]&&Lp(r,e);let i=e[us];i!==null&&i.detachView(t)}Uf(e)}finally{fe(n)}}function oN(t,e){let n=t.cleanup,r=e[wu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[wu]=null);let i=e[ur];if(i!==null){e[ur]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function aN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ni)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];Zt(4,a,u);try{u.call(a)}finally{Zt(5,a,u)}}else{Zt(4,i,s);try{s.call(i)}finally{Zt(5,i,s)}}}}}function cN(t,e,n){return uN(t,e.parent,n)}function uN(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[An];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===en.None||s===en.Emulated)return null}return jt(r,n)}}function Pu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function nD(t,e,n){t.appendChild(e,n)}function yw(t,e,n,r,i){r!==null?Pu(t,e,n,r,i):nD(t,e,n)}function rD(t,e){return t.parentNode(e)}function lN(t,e){return t.nextSibling(e)}function dN(t,e,n){return fN(t,e,n)}function hN(t,e,n){return t.type&40?jt(t,n):null}var fN=hN,vw;function jp(t,e,n,r){let i=cN(t,r,e),s=e[Oe],o=r.parent||e[Wt],a=dN(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)yw(s,i,n[u],a,!1);else yw(s,i,n,a,!1);vw!==void 0&&vw(s,r,e,n,i)}function Vo(t,e){if(e!==null){let n=e.type;if(n&3)return jt(e,t);if(n&4)return $f(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Vo(t,r);{let i=t[e.index];return Sn(i)?$f(-1,i):sn(i)}}else{if(n&128)return Vo(t,e.next);if(n&32)return Fp(e,t)()||sn(t[e.index]);{let r=iD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ei(t[nn]);return Vo(i,r)}else return Vo(t,e.next)}}}return null}function iD(t,e){if(e!==null){let r=t[nn][Wt],i=e.projection;return r.projection[i]}return null}function $f(t,e){let n=Dt+t+1;if(n<e.length){let r=e[n],i=r[ne].firstChild;if(i!==null)return Vo(r,i)}return e[Xr]}function pN(t,e,n){t.removeChild(null,e,n)}function Up(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&ri(sn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Up(t,e,n.child,r,i,s,!1),Xi(e,t,i,a,s);else if(u&32){let l=Fp(n,r),f;for(;f=l();)Xi(e,t,i,f,s);Xi(e,t,i,a,s)}else u&16?gN(t,e,r,n,i,s):Xi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function tl(t,e,n,r,i,s){Up(n,r,t.firstChild,e,i,s,!1)}function gN(t,e,n,r,i,s){let o=n[nn],u=o[Wt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Xi(e,t,i,f,s)}else{let l=u,f=o[dt];$E(r)&&(l.flags|=128),Up(t,e,l,f,i,s,!0)}}function mN(t,e,n,r,i){let s=n[Xr],o=sn(n);s!==o&&Xi(e,t,r,s,i);for(let a=Dt;a<n.length;a++){let u=n[a];tl(u[ne],u,t,e,r,s)}}function yN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Tn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Tn.Important),t.setStyle(n,r,i,s))}}function vN(t,e,n){t.setAttribute(e,"style",n)}function sD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function oD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&bf(t,e,r),i!==null&&sD(t,e,i),s!==null&&vN(t,e,s)}var Rn={};function Mn(t=1){aD(vt(),_e(),ys()+t,!1)}function aD(t,e,n,r){if(!r)if((e[K]&3)===3){let s=t.preOrderCheckHooks;s!==null&&hu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&fu(e,s,0,n)}ti(n)}function ae(t,e=te.Default){let n=_e();if(n===null)return B(t,e);let r=ht();return kE(r,n,ct(t),e)}function cD(){let t="invalid";throw new Error(t)}function uD(t,e,n,r,i,s){let o=fe(null);try{let a=null;i&dr.SignalBased&&(a=e[r][In]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&dr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):cE(e,a,r,s)}finally{fe(o)}}function _N(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ti(~i);else{let s=i,o=n[++r],a=n[++r];oM(o,s);let u=e[s];a(2,u)}}}finally{ti(-1)}}function nl(t,e,n,r,i,s,o,a,u,l,f){let g=e.blueprint.slice();return g[An]=i,g[K]=r|4|128|8|64,(l!==null||t&&t[K]&2048)&&(g[K]|=2048),fE(g),g[dt]=g[ms]=t,g[kt]=n,g[tn]=o||t&&t[tn],g[Oe]=a||t&&t[Oe],g[as]=u||t&&t[as]||null,g[Wt]=s,g[Gu]=jM(),g[Iu]=f,g[sE]=l,g[nn]=e.type==2?t[nn]:g,g}function rl(t,e,n,r,i){let s=t.data[e];if(s===null)s=IN(t,e,n,r,i),sM()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=eM();s.injectorIndex=o===null?-1:o.injectorIndex}return Ko(s,!0),s}function IN(t,e,n,r,i){let s=vE(),o=_E(),a=o?s:s&&s.parent,u=t.data[e]=TN(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function lD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function dD(t,e,n,r,i){let s=ys(),o=r&2;try{ti(-1),o&&e.length>rn&&aD(t,e,rn,!1),Zt(o?2:0,i),n(r,i)}finally{ti(s),Zt(o?3:1,i)}}function hD(t,e,n){if(aE(e)){let r=fe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{fe(r)}}}function fD(t,e,n){yE()&&(NN(t,e,n,jt(n,e)),(n.flags&64)===64&&vD(t,e,n))}function pD(t,e,n=jt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function gD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Bp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Bp(t,e,n,r,i,s,o,a,u,l,f){let g=rn+r,y=g+i,I=wN(g,y),A=typeof l=="function"?l():l;return I[ne]={type:t,blueprint:I,template:n,queries:null,viewQuery:a,declTNode:e,data:I.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function wN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Rn);return n}function EN(t,e,n,r){let s=r.get(GM,KE)||n===en.ShadowDom,o=t.selectRootElement(e,s);return DN(o),o}function DN(t){bN(t)}var bN=()=>null;function TN(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return JR()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function _w(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=dr.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?Iw(r,n,l,a,u):Iw(r,n,l,a)}return r}function Iw(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function CN(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let f=r;f<i;f++){let g=s[f],y=n?n.get(g):null,I=y?y.inputs:null,A=y?y.outputs:null;u=_w(0,g.inputs,f,u,I),l=_w(1,g.outputs,f,l,A);let x=u!==null&&o!==null&&!pp(e)?$N(u,f,o):null;a.push(x)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function AN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function $p(t,e,n,r,i,s,o,a){let u=jt(e,n),l=e.inputs,f;!a&&l!=null&&(f=l[r])?(Hp(t,n,f,r,i),Wu(e)&&SN(n,e.index)):e.type&3?(r=AN(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function SN(t,e){let n=mr(e,t);n[K]&16||(n[K]|=64)}function mD(t,e,n,r){if(yE()){let i=r===null?null:{"":-1},s=PN(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&yD(t,e,n,o,i,a),i&&ON(n,r,i)}n.mergedAttrs=Bo(n.mergedAttrs,n.attrs)}function yD(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Of(Su(n,e),t,r[l].type);FN(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let o=!1,a=!1,u=lD(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=Bo(n.mergedAttrs,f.hostAttrs),LN(t,n,e,u,f),kN(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let g=f.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}CN(t,n,s)}function RN(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;MN(o)!=a&&o.push(a),o.push(n,r,s)}}function MN(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function NN(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Wu(n)&&VN(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Su(n,e),ri(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=ls(e,t,a,n);if(ri(l,e),o!==null&&BN(e,a-i,l,u,n,o),fr(u)){let f=mr(n.index,e);f[kt]=ls(e,t,a,n)}}}function vD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=aM();try{ti(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Nf(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&xN(u,l)}}finally{ti(-1),Nf(o)}}function xN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function PN(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(vR(e,o.selectors,!1))if(r||(r=[]),fr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;Hf(t,e,u)}else r.unshift(o),Hf(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Hf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function ON(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new j(-301,!1);r.push(e[i],s)}}}function kN(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;fr(e)&&(n[""]=t)}}function FN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function LN(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=rs(i.type,!0)),o=new ni(s,fr(i),ae);t.blueprint[r]=o,n[r]=o,RN(t,e,r,lD(t,n,i.hostVars,Rn),i)}function VN(t,e,n){let r=jt(e,t),i=gD(n),s=t[tn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=il(t,nl(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function jN(t,e,n,r,i,s){let o=jt(t,e);UN(e[Oe],o,s,t.value,n,r,i)}function UN(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Hu(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function BN(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],f=o[a++],g=o[a++];uD(r,n,u,l,f,g)}}function $N(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function _D(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function ID(t,e){let n=t.contentQueries;if(n!==null){let r=fe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];wE(s),a.contentQueries(2,e[o],o)}}}finally{fe(r)}}}function il(t,e){return t[Ho]?t[iw][Gt]=e:t[Ho]=e,t[iw]=e,e}function zf(t,e,n){wE(0);let r=fe(null);try{e(t,n)}finally{fe(r)}}function HN(t){return t[wu]??=[]}function zN(t){return t.cleanup??=[]}function wD(t,e){let n=t[as],r=n?n.get(bn,null):null;r&&r.handleError(e)}function Hp(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],f=t.data[o];uD(f,l,r,a,u,i)}}function qN(t,e,n){let r=hE(e,t);tN(t[Oe],r,n)}function GN(t,e){let n=mr(e,t),r=n[ne];WN(r,n);let i=n[An];i!==null&&n[Iu]===null&&(n[Iu]=Pp(i,n[as])),zp(r,n,n[kt])}function WN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function zp(t,e,n){Ip(e);try{let r=t.viewQuery;r!==null&&zf(1,r,n);let i=t.template;i!==null&&dD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[us]?.finishViewCreation(t),t.staticContentQueries&&ID(t,e),t.staticViewQueries&&zf(2,t.viewQuery,n);let s=t.components;s!==null&&KN(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[K]&=-5,wp()}}function KN(t,e){for(let n=0;n<e.length;n++)GN(t,e[n])}function ED(t,e,n,r){let i=fe(null);try{let s=e.tView,a=t[K]&4096?4096:16,u=nl(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[cs]=l;let f=t[us];return f!==null&&(u[us]=f.createEmbeddedView(s)),zp(s,u,n),u}finally{fe(i)}}function QN(t,e){let n=Dt+e;if(n<t.length)return t[n]}function qf(t,e){return!e||e.firstChild===null||$E(t)}function DD(t,e,n,r=!0){let i=e[ne];if(sN(i,e,t,n),r){let o=$f(n,t),a=e[Oe],u=rD(a,t[Xr]);u!==null&&rN(i,t[Wt],a,e,u,o)}let s=e[Iu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function YN(t,e){let n=xu(t,e);return n!==void 0&&Vp(n[ne],n),n}function Ou(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(sn(s)),Sn(s)&&JN(s,r);let o=n.type;if(o&8)Ou(t,e,n.child,r);else if(o&32){let a=Fp(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=iD(e,n);if(Array.isArray(a))r.push(...a);else{let u=ei(e[nn]);Ou(u[ne],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function JN(t,e){for(let n=Dt;n<t.length;n++){let r=t[n],i=r[ne].firstChild;i!==null&&Ou(r[ne],r,i,e)}t[Xr]!==t[An]&&e.push(t[Xr])}var bD=[];function ZN(t){return t[Ot]??XN(t)}function XN(t){let e=bD.pop()??Object.create(tx);return e.lView=t,e}function ex(t){t.lView[Ot]!==t&&(t.lView=null,bD.push(t))}var tx=ue(F({},Oo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Qu(t.lView)},consumerOnSignalRead(){this.lView[Ot]=this}});function nx(t){let e=t[Ot]??Object.create(rx);return e.lView=t,e}var rx=ue(F({},Oo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=ei(t.lView);for(;e&&!TD(e[ne]);)e=ei(e);e&&pE(e)},consumerOnSignalRead(){this.lView[Ot]=this}});function TD(t){return t.type!==2}var ix=100;function CD(t,e=!0,n=0){let r=t[tn],i=r.rendererFactory,s=!1;s||i.begin?.();try{sx(t,n)}catch(o){throw e&&wD(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function sx(t,e){let n=IE();try{ow(!0),Gf(t,e);let r=0;for(;Ku(t);){if(r===ix)throw new j(103,!1);r++,Gf(t,1)}}finally{ow(n)}}function ox(t,e,n,r){let i=e[K];if((i&256)===256)return;let s=!1,o=!1;!s&&e[tn].inlineEffectRunner?.flush(),Ip(e);let a=!0,u=null,l=null;s||(TD(t)?(l=ZN(e),u=Pc(l)):lI()===null?(a=!1,l=nx(e),u=Pc(l)):e[Ot]&&(Vh(e[Ot]),e[Ot]=null));try{fE(e),rM(t.bindingStartIndex),n!==null&&dD(t,e,n,2,r);let f=(i&3)===3;if(!s)if(f){let I=t.preOrderCheckHooks;I!==null&&hu(e,I,null)}else{let I=t.preOrderHooks;I!==null&&fu(e,I,0,null),lf(e,0)}if(o||ax(e),AD(e,0),t.contentQueries!==null&&ID(t,e),!s)if(f){let I=t.contentCheckHooks;I!==null&&hu(e,I)}else{let I=t.contentHooks;I!==null&&fu(e,I,1),lf(e,1)}_N(t,e);let g=t.components;g!==null&&RD(e,g,0);let y=t.viewQuery;if(y!==null&&zf(2,y,r),!s)if(f){let I=t.viewCheckHooks;I!==null&&hu(e,I)}else{let I=t.viewHooks;I!==null&&fu(e,I,2),lf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[uf]){for(let I of e[uf])I();e[uf]=null}s||(e[K]&=-73)}catch(f){throw s||Qu(e),f}finally{l!==null&&(Fh(l,u),a&&ex(l)),wp()}}function AD(t,e){for(let n=zE(t);n!==null;n=qE(n))for(let r=Dt;r<n.length;r++){let i=n[r];SD(i,e)}}function ax(t){for(let e=zE(t);e!==null;e=qE(e)){if(!(e[K]&bu.HasTransplantedViews))continue;let n=e[Du];for(let r=0;r<n.length;r++){let i=n[r];pE(i)}}}function cx(t,e,n){let r=mr(e,t);SD(r,n)}function SD(t,e){_p(t)&&Gf(t,e)}function Gf(t,e){let r=t[ne],i=t[K],s=t[Ot],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Lh(s)),o||=!1,s&&(s.dirty=!1),t[K]&=-9217,o)ox(r,t,r.template,t[kt]);else if(i&8192){AD(t,1);let a=r.components;a!==null&&RD(t,a,1)}}function RD(t,e,n){for(let r=0;r<e.length;r++)cx(t,e[r],n)}function qp(t,e){let n=IE()?64:1088;for(t[tn].changeDetectionScheduler?.notify(e);t;){t[K]|=n;let r=ei(t);if(Sf(t)&&!r)return t;t=r}return null}var ii=class{get rootNodes(){let e=this._lView,n=e[ne];return Ou(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[kt]}set context(e){this._lView[kt]=e}get destroyed(){return(this._lView[K]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[dt];if(Sn(e)){let n=e[Eu],r=n?n.indexOf(this):-1;r>-1&&(xu(e,r),vu(n,r))}this._attachedToViewContainer=!1}Vp(this._lView[ne],this._lView)}onDestroy(e){gE(this._lView,e)}markForCheck(){qp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[K]&=-129}reattach(){Mf(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,CD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Sf(this._lView),n=this._lView[cs];n!==null&&!e&&Lp(n,this._lView),eD(this._lView[ne],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let n=Sf(this._lView),r=this._lView[cs];r!==null&&!n&&tD(r,this._lView),Mf(this._lView)}},sl=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=dx;let t=e;return t})(),ux=sl,lx=class extends ux{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=ED(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ii(i)}};function dx(){return hx(ht(),_e())}function hx(t,e){return t.type&4?new lx(e,t,Xu(t,e)):null}var SG=new RegExp(`^(\\d+)*(${zM}|${HM})*(.*)`);var fx=()=>null;function Wf(t,e){return fx(t,e)}var ds=class{},Gp=new L("",{providedIn:"root",factory:()=>!1});var MD=new L(""),ND=new L(""),Kf=class{},ku=class{};function px(t){let e=Error(`No component factory found for ${ut(t)}.`);return e[gx]=t,e}var gx="ngComponent";var Qf=class{resolveComponentFactory(e){throw px(e)}},Xp=class Xp{};Xp.NULL=new Qf;var hs=Xp,fs=class{},ai=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>mx();let t=e;return t})();function mx(){let t=_e(),e=ht(),n=mr(e.index,t);return(lr(n)?n:t)[Oe]}var yx=(()=>{let e=class e{};e.\u0275prov=V({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function Yf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=KI(i,a);else if(s==2){let u=a,l=e[++o];r=KI(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Fu=class extends hs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=hr(e);return new ps(n,this.ngModule)}};function ww(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:dr.None;e?n.push({propName:o,templateName:r,isSignal:(a&dr.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function vx(t){let e=t.toLowerCase();return e==="svg"?HR:e==="math"?zR:null}var ps=class extends ku{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=ww(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return ww(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=ER(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=fe(null);try{i=i||this.ngModule;let o=i instanceof lt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new xf(e,o):e,u=a.get(fs,null);if(u===null)throw new j(407,!1);let l=a.get(yx,null),f=a.get(ds,null),g={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:f},y=u.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",A=r?EN(y,r,this.componentDef.encapsulation,a):XE(y,I,vx(I)),x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let R=null;A!==null&&(R=Pp(A,a,!0));let O=Bp(0,null,null,1,0,null,null,null,null,null,null),$=nl(null,O,null,x,null,null,g,y,a,null,R);Ip($);let G,z,Ce=null;try{let ee=this.componentDef,E,m=null;ee.findHostDirectiveDefs?(E=[],m=new Map,ee.findHostDirectiveDefs(ee,E,m),E.push(ee)):E=[ee];let v=_x($,A);Ce=Ix(v,A,ee,E,$,g,y),z=vp(O,rn),A&&Dx(y,ee,A,r),n!==void 0&&bx(z,this.ngContentSelectors,n),G=Ex(Ce,ee,E,m,$,[Tx]),zp(O,$,null)}catch(ee){throw Ce!==null&&Uf(Ce),Uf($),ee}finally{wp()}return new Jf(this.componentType,G,Xu(z,$),$,z)}finally{fe(s)}}},Jf=class extends Kf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ii(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Hp(s[ne],s,i,e,n),this.previousInputValues.set(e,n);let o=mr(this._tNode.index,s);qp(o,1)}}get injector(){return new Zr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function _x(t,e){let n=t[ne],r=rn;return t[r]=e,rl(n,r,2,"#host",null)}function Ix(t,e,n,r,i,s,o){let a=i[ne];wx(r,t,e,o);let u=null;e!==null&&(u=Pp(e,i[as]));let l=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let g=nl(i,gD(n),null,f,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&Hf(a,t,r.length-1),il(i,g),i[t.index]=g}function wx(t,e,n,r){for(let i of t)e.mergedAttrs=Bo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Yf(e,e.mergedAttrs,!0),n!==null&&oD(r,n,e))}function Ex(t,e,n,r,i,s){let o=ht(),a=i[ne],u=jt(o,i);yD(a,i,o,n,null,r);for(let f=0;f<n.length;f++){let g=o.directiveStart+f,y=ls(i,a,g,o);ri(y,i)}vD(a,i,o),u&&ri(u,i);let l=ls(i,a,o.directiveStart+o.componentOffset,o);if(t[kt]=i[kt]=l,s!==null)for(let f of s)f(l,e);return hD(a,o,i),l}function Dx(t,e,n,r){if(r)bf(t,n,["ng-version","18.2.3"]);else{let{attrs:i,classes:s}=DR(e.selectors[0]);i&&bf(t,n,i),s&&s.length>0&&sD(t,n,s.join(" "))}}function bx(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function Tx(){let t=ht();bp(_e()[ne],t)}var _s=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Cx;let t=e;return t})();function Cx(){let t=ht();return Sx(t,_e())}var Ax=_s,xD=class extends Ax{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Xu(this._hostTNode,this._hostLView)}get injector(){return new Zr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Tp(this._hostTNode,this._hostLView);if(RE(e)){let n=Au(e,this._hostLView),r=Cu(e),i=n[ne].data[r+8];return new Zr(i,n)}else return new Zr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Ew(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Dt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Wf(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,qf(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!jR(e),a;if(o)a=n;else{let A=n||{};a=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}let u=o?e:new ps(hr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let x=(o?l:this.parentInjector).get(lt,null);x&&(s=x)}let f=hr(u.componentType??{}),g=Wf(this._lContainer,f?.id??null),y=g?.firstChild??null,I=u.create(l,i,y,s);return this.insertImpl(I.hostView,a,qf(this._hostTNode,g)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(qR(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[dt],l=new xD(u,u[Wt],u[dt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return DD(o,i,s,r),e.attachToViewContainerRef(),$w(gf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Ew(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=xu(this._lContainer,n);r&&(vu(gf(this._lContainer),n),Vp(r[ne],r))}detach(e){let n=this._adjustIndex(e,-1),r=xu(this._lContainer,n);return r&&vu(gf(this._lContainer),n)!=null?new ii(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Ew(t){return t[Eu]}function gf(t){return t[Eu]||(t[Eu]=[])}function Sx(t,e){let n,r=e[t.index];return Sn(r)?n=r:(n=_D(r,e,null,t),e[t.index]=n,il(e,n)),Mx(n,e,t,r),new xD(n,t,e)}function Rx(t,e){let n=t[Oe],r=n.createComment(""),i=jt(e,t),s=rD(n,i);return Pu(n,s,r,lN(n,i),!1),r}var Mx=Px,Nx=()=>!1;function xx(t,e,n){return Nx(t,e,n)}function Px(t,e,n,r){if(t[Xr])return;let i;n.type&8?i=sn(r):i=Rx(e,n),t[Xr]=i}var Dw=new Set;function _r(t){Dw.has(t)||(Dw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Ox(t){return typeof t=="function"&&t[In]!==void 0}function Jo(t,e){_r("NgSignals");let n=wI(t),r=n[In];return e?.equal&&(r.equal=e.equal),n.set=i=>jh(r,i),n.update=i=>EI(r,i),n.asReadonly=kx.bind(n),n}function kx(){let t=this[In];if(t.readonlyFn===void 0){let e=()=>this();e[In]=t,t.readonlyFn=e}return t.readonlyFn}function PD(t){return Ox(t)&&typeof t.set=="function"}function Fx(t){return Object.getPrototypeOf(t.prototype).constructor}function Nn(t){let e=Fx(t.type),n=!0,r=[t];for(;e;){let i;if(fr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=cu(t.inputs),o.inputTransforms=cu(t.inputTransforms),o.declaredInputs=cu(t.declaredInputs),o.outputs=cu(t.outputs);let a=i.hostBindings;a&&Bx(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&jx(t,u),l&&Ux(t,l),Lx(t,i),zS(t.outputs,i.outputs),fr(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Nn&&(n=!1)}}e=Object.getPrototypeOf(e)}Vx(r)}function Lx(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Vx(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Bo(i.hostAttrs,n=Bo(n,i.hostAttrs))}}function cu(t){return t===is?{}:t===Pt?[]:t}function jx(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Ux(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function Bx(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Wp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var pr=class{},zo=class{};var Zf=class extends pr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Fu(this);let s=Jw(e);this._bootstrapComponents=ZE(s.bootstrap),this._r3Injector=VE(e,n,[{provide:pr,useValue:this},{provide:hs,useValue:this.componentFactoryResolver},...r],ut(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Xf=class extends zo{constructor(e){super(),this.moduleType=e}create(e){return new Zf(this.moduleType,e,[])}};var Lu=class extends pr{constructor(e){super(),this.componentFactoryResolver=new Fu(this),this.instance=null;let n=new $o([...e.providers,{provide:pr,useValue:this},{provide:hs,useValue:this.componentFactoryResolver}],e.parent||mp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ol(t,e,n=null){return new Lu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function OD(t){return Hx(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function $x(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Hx(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function zx(t,e,n){return t[e]=n}function qx(t,e){return t[e]}function Is(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Gx(t){return(t.flags&32)===32}function Wx(t,e,n,r,i,s,o,a,u){let l=e.consts,f=rl(e,t,4,o||null,a||null);mD(e,n,f,Tu(l,u)),bp(e,f);let g=f.tView=Bp(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}function Kx(t,e,n,r,i,s,o,a,u,l){let f=n+rn,g=e.firstCreatePass?Wx(f,e,t,r,i,s,o,a,u):e.data[f];Ko(g,!1);let y=Qx(e,t,g,n);Ep()&&jp(e,t,y,g),ri(y,t);let I=_D(y,t,y,g);return t[f]=I,il(t,I),xx(I,g,t),yp(g)&&fD(e,t,g),u!=null&&pD(t,g,l),g}function Zo(t,e,n,r,i,s,o,a){let u=_e(),l=vt(),f=Tu(l.consts,s);return Kx(u,l,t,e,n,r,i,f,o,a),Zo}var Qx=Yx;function Yx(t,e,n,r){return Dp(!0),e[Oe].createComment("")}var es=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(es||{}),kD=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=V({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),Jr=class Jr{constructor(){this.ngZone=M(ye),this.scheduler=M(ds),this.errorHandler=M(bn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of Jr.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};Jr.PHASES=[es.EarlyRead,es.Write,es.MixedReadWrite,es.Read],Jr.\u0275prov=V({token:Jr,providedIn:"root",factory:()=>new Jr});var ep=Jr,tp=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Kp(t,e){!e?.injector&&VR(Kp);let n=e?.injector??M(Qe);return ZM(n)?(_r("NgAfterNextRender"),Zx(t,n,e,!0)):Xx}function Jx(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function Zx(t,e,n,r){let i=e.get(kD);i.impl??=e.get(ep);let s=n?.phase??es.MixedReadWrite,o=new tp(i.impl,Jx(t,s),r,e.get(Ap));return i.impl.register(o),o}var Xx={destroy(){}};function Xo(t,e,n,r){let i=_e(),s=Qo();if(Is(i,s,e)){let o=vt(),a=Zu();jN(a,i,t,e,n,r)}return Xo}function FD(t,e,n,r){return Is(t,Qo(),n)?e+Hu(n)+r:Rn}function uu(t,e){return t<<17|e<<2}function si(t){return t>>17&32767}function eP(t){return(t&2)==2}function tP(t,e){return t&131071|e<<17}function np(t){return t|2}function gs(t){return(t&131068)>>2}function mf(t,e){return t&-131069|e<<2}function nP(t){return(t&1)===1}function rp(t){return t|1}function rP(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=si(o),u=gs(o);t[r]=n;let l=!1,f;if(Array.isArray(n)){let g=n;f=g[1],(f===null||Wo(g,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let y=si(t[a+1]);t[r+1]=uu(y,a),y!==0&&(t[y+1]=mf(t[y+1],r)),t[a+1]=tP(t[a+1],r)}else t[r+1]=uu(a,0),a!==0&&(t[a+1]=mf(t[a+1],r)),a=r;else t[r+1]=uu(u,0),a===0?a=r:t[u+1]=mf(t[u+1],r),u=r;l&&(t[r+1]=np(t[r+1])),bw(t,f,r,!0),bw(t,f,r,!1),iP(e,f,t,r,s),o=uu(a,u),s?e.classBindings=o:e.styleBindings=o}function iP(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Wo(s,e)>=0&&(n[r+1]=rp(n[r+1]))}function bw(t,e,n,r){let i=t[n+1],s=e===null,o=r?si(i):gs(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];sP(u,e)&&(a=!0,t[o+1]=r?rp(l):np(l)),o=r?si(l):gs(l)}a&&(t[n+1]=r?np(i):rp(i))}function sP(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Wo(t,e)>=0:!1}function Ir(t,e,n){let r=_e(),i=Qo();if(Is(r,i,e)){let s=vt(),o=Zu();$p(s,o,r,t,e,r[Oe],n,!1)}return Ir}function Tw(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Hp(t,n,s[o],o,r)}function al(t,e){return oP(t,e,null,!0),al}function oP(t,e,n,r){let i=_e(),s=vt(),o=iM(2);if(s.firstUpdatePass&&cP(s,t,o,r),e!==Rn&&Is(i,o,e)){let a=s.data[ys()];fP(s,a,i,i[Oe],t,i[o+1]=pP(e,n),r,o)}}function aP(t,e){return e>=t.expandoStartIndex}function cP(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[ys()],o=aP(t,n);gP(s,r)&&e===null&&!o&&(e=!1),e=uP(i,s,e,r),rP(i,s,e,n,o,r)}}function uP(t,e,n,r){let i=cM(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=yf(null,t,e,n,r),n=qo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=yf(i,t,e,n,r),s===null){let u=lP(t,e,r);u!==void 0&&Array.isArray(u)&&(u=yf(null,t,e,u[1],r),u=qo(u,e.attrs,r),dP(t,e,r,u))}else s=hP(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function lP(t,e,n){let r=n?e.classBindings:e.styleBindings;if(gs(r)!==0)return t[si(r)]}function dP(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[si(i)]=r}function hP(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=qo(r,o,n)}return qo(r,e.attrs,n)}function yf(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=qo(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function qo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),lR(t,o,n?!0:e[++s]))}return t===void 0?null:t}function fP(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],f=nP(l)?Cw(u,e,n,i,gs(l),o):void 0;if(!Vu(f)){Vu(s)||eP(l)&&(s=Cw(u,null,n,i,a,o));let g=hE(ys(),n);yN(r,o,g,i,s)}}function Cw(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,g=f===null,y=n[i+1];y===Rn&&(y=g?Pt:void 0);let I=g?af(y,r):f===r?y:void 0;if(l&&!Vu(I)&&(I=af(u,r)),Vu(I)&&(a=I,o))return a;let A=t[i+1];i=o?si(A):gs(A)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=af(u,r))}return a}function Vu(t){return t!==void 0}function pP(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ut(Yo(t)))),t}function gP(t,e){return(t.flags&(e?8:16))!==0}function MG(t,e){_r("NgControlFlow");let n=_e(),r=Qo(),i=n[r]!==Rn?n[r]:-1,s=i!==-1?Aw(n,rn+i):void 0,o=0;if(Is(n,r,t)){let a=fe(null);try{if(s!==void 0&&YN(s,o),t!==-1){let u=rn+t,l=Aw(n,u),f=mP(n[ne],u),g=Wf(l,f.tView.ssrId),y=ED(n,f,e,{dehydratedView:g});DD(l,y,o,qf(f,g))}}finally{fe(a)}}else if(s!==void 0){let a=QN(s,o);a!==void 0&&(a[kt]=e)}}function Aw(t,e){return t[e]}function mP(t,e){return vp(t,e)}function yP(t,e,n,r,i,s){let o=e.consts,a=Tu(o,i),u=rl(e,t,2,r,a);return mD(e,n,u,Tu(o,s)),u.attrs!==null&&Yf(u,u.attrs,!1),u.mergedAttrs!==null&&Yf(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function J(t,e,n,r){let i=_e(),s=vt(),o=rn+t,a=i[Oe],u=s.firstCreatePass?yP(o,s,i,e,n,r):s.data[o],l=vP(s,i,u,a,e,t);i[o]=l;let f=yp(u);return Ko(u,!0),oD(a,l,u),!Gx(u)&&Ep()&&jp(s,i,l,u),KR()===0&&ri(l,i),QR(),f&&(fD(s,i,u),hD(s,u,i)),r!==null&&pD(i,u),J}function Z(){let t=ht();_E()?tM():(t=t.parent,Ko(t,!1));let e=t;ZR(e)&&XR(),YR();let n=vt();return n.firstCreatePass&&(bp(n,t),aE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&gM(e)&&Tw(n,e,_e(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&mM(e)&&Tw(n,e,_e(),e.stylesWithoutHost,!1),Z}function Ct(t,e,n,r){return J(t,e,n,r),Z(),Ct}var vP=(t,e,n,r,i,s)=>(Dp(!0),XE(r,i,dM()));function LD(){return _e()}var ju="en-US";var _P=ju;function IP(t){typeof t=="string"&&(_P=t.toLowerCase().replace(/_/g,"-"))}var wP=(t,e,n)=>{};function ce(t,e,n,r){let i=_e(),s=vt(),o=ht();return VD(s,i,i[Oe],o,t,e,r),ce}function EP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[wu],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function VD(t,e,n,r,i,s,o){let a=yp(r),l=t.firstCreatePass&&zN(t),f=e[kt],g=HN(e),y=!0;if(r.type&3||o){let x=jt(r,e),R=o?o(x):x,O=g.length,$=o?z=>o(sn(z[r.index])):r.index,G=null;if(!o&&a&&(G=EP(t,e,i,r.index)),G!==null){let z=G.__ngLastListenerFn__||G;z.__ngNextListenerFn__=s,G.__ngLastListenerFn__=s,y=!1}else{s=Rw(r,e,f,s),wP(x,i,s);let z=n.listen(R,i,s);g.push(s,z),l&&l.push(i,$,O,O+1)}}else s=Rw(r,e,f,s);let I=r.outputs,A;if(y&&I!==null&&(A=I[i])){let x=A.length;if(x)for(let R=0;R<x;R+=2){let O=A[R],$=A[R+1],Ce=e[O][$].subscribe(s),ee=g.length;g.push(s,Ce),l&&l.push(i,r.index,ee,-(ee+1))}}}function Sw(t,e,n,r){let i=fe(null);try{return Zt(6,e,n),n(r)!==!1}catch(s){return wD(t,s),!1}finally{Zt(7,e,n),fe(i)}}function Rw(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?mr(t.index,e):e;qp(o,5);let a=Sw(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=Sw(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function ea(t=1){return lM(t)}function Qp(t,e,n){return jD(t,"",e,"",n),Qp}function jD(t,e,n,r,i){let s=_e(),o=FD(s,e,n,r);if(o!==Rn){let a=vt(),u=Zu();$p(a,u,s,t,o,s[Oe],i,!1)}return jD}function re(t,e=""){let n=_e(),r=vt(),i=t+rn,s=r.firstCreatePass?rl(r,i,1,e,null):r.data[i],o=DP(r,n,s,e,t);n[i]=o,Ep()&&jp(r,n,o,s),Ko(s,!1)}var DP=(t,e,n,r,i)=>(Dp(!0),eN(e[Oe],r));function Yp(t){return UD("",t,""),Yp}function UD(t,e,n){let r=_e(),i=FD(r,t,e,n);return i!==Rn&&qN(r,ys(),i),UD}function bP(t,e,n){PD(e)&&(e=e());let r=_e(),i=Qo();if(Is(r,i,e)){let s=vt(),o=Zu();$p(s,o,r,t,e,r[Oe],n,!1)}return bP}function NG(t,e){let n=PD(t);return n&&t.set(e),n}function TP(t,e){let n=_e(),r=vt(),i=ht();return VD(r,n,n[Oe],i,t,e),TP}function CP(t,e,n){let r=vt();if(r.firstCreatePass){let i=fr(t);ip(n,r.data,r.blueprint,i,!0),ip(e,r.data,r.blueprint,i,!1)}}function ip(t,e,n,r,i){if(t=ct(t),Array.isArray(t))for(let s=0;s<t.length;s++)ip(t[s],e,n,r,i);else{let s=vt(),o=_e(),a=ht(),u=os(t)?t:ct(t.provide),l=rE(t),f=a.providerIndexes&1048575,g=a.directiveStart,y=a.providerIndexes>>20;if(os(t)||!t.multi){let I=new ni(l,i,ae),A=_f(u,e,i?f:f+y,g);A===-1?(Of(Su(a,o),s,u),vf(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(I),o.push(I)):(n[A]=I,o[A]=I)}else{let I=_f(u,e,f+y,g),A=_f(u,e,f,f+y),x=I>=0&&n[I],R=A>=0&&n[A];if(i&&!R||!i&&!x){Of(Su(a,o),s,u);let O=RP(i?SP:AP,n.length,i,r,l);!i&&R&&(n[A].providerFactory=O),vf(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(O),o.push(O)}else{let O=BD(n[i?A:I],l,!i&&r);vf(s,t,I>-1?I:A,O)}!i&&r&&R&&n[A].componentProviders++}}}function vf(t,e,n,r){let i=os(e),s=NR(e);if(i||s){let u=(s?ct(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function BD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function _f(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function AP(t,e,n,r){return sp(this.multi,[])}function SP(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=ls(n,n[ne],this.providerFactory.index,r);s=a.slice(0,o),sp(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],sp(i,s);return s}function sp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function RP(t,e,n,r,i){let s=new ni(t,n,ae);return s.multi=[],s.index=e,s.componentProviders=0,BD(s,i,r&&!n),s}function ta(t,e=[]){return n=>{n.providersResolver=(r,i)=>CP(r,i?i(t):t,e)}}var MP=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=eE(!1,r.type),s=i.length>0?ol([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=V({token:e,providedIn:"environment",factory:()=>new e(B(lt))});let t=e;return t})();function $D(t){_r("NgStandalone"),t.getStandaloneInjector=e=>e.get(MP).getOrCreateStandaloneInjector(t)}function HD(t,e,n){let r=nM()+t,i=_e();return i[r]===Rn?zx(i,r,n?e.call(n):e()):qx(i,r)}var Cn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},zD=new Cn("18.2.3");var cl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var qD=new L("");function ci(t){return!!t&&typeof t.then=="function"}function GD(t){return!!t&&typeof t.subscribe=="function"}var ul=new L(""),WD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=M(ul,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(ci(o))r.push(o);else if(GD(o)){let a=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),na=new L("");function NP(){II(()=>{throw new j(600,!1)})}function xP(t){return t.isBoundToModule}var PP=10;function OP(t,e,n){try{let r=n();return ci(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var wr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=M(FM),this.afterRenderManager=M(kD),this.zonelessEnabled=M(Gp),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new $e,this.afterTick=new $e,this.componentTypes=[],this.components=[],this.isStable=M(yr).hasPendingTasks.pipe(Y(r=>!r)),this._injector=M(lt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof ku;if(!this._injector.get(WD).done){let I=!s&&Yw(r),A=!1;throw new j(405,A)}let a;s?a=r:a=this._injector.get(hs).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=xP(a)?void 0:this._injector.get(pr),l=i||a.selector,f=a.create(Qe.NULL,[],l,u),g=f.location.nativeElement,y=f.injector.get(qD,null);return y?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),pu(this.components,f),y?.unregisterApplication(g)}),this._loadComponent(f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new j(101,!1);let r=fe(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,fe(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(fs,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<PP;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:o}of this._views)kP(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>Ku(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;pu(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(na,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>pu(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new j(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function kP(t,e,n,r){if(!n&&!Ku(t))return;CD(t,e,n&&!r?0:1)}var op=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ll=(()=>{let e=class e{compileModuleSync(r){return new Xf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=Jw(r),o=ZE(s.declarations).reduce((a,u)=>{let l=hr(u);return l&&a.push(new ps(l)),a},[]);return new op(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var FP=(()=>{let e=class e{constructor(){this.zone=M(ye),this.changeDetectionScheduler=M(ds),this.applicationRef=M(wr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),LP=new L("",{factory:()=>!1});function KD({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ye(ue(F({},QD()),{scheduleInRootZone:n})),[{provide:ye,useFactory:t},{provide:ss,multi:!0,useFactory:()=>{let r=M(FP,{optional:!0});return()=>r.initialize()}},{provide:ss,multi:!0,useFactory:()=>{let r=M(VP);return()=>{r.initialize()}}},e===!0?{provide:MD,useValue:!0}:[],{provide:ND,useValue:n??jE}]}function xG(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=KD({ngZoneFactory:()=>{let i=QD(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&_r("NgZone_CoalesceEvent"),new ye(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Lt([{provide:LP,useValue:!0},{provide:Gp,useValue:!1},r])}function QD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var VP=(()=>{let e=class e{constructor(){this.subscription=new Se,this.initialized=!1,this.zone=M(ye),this.pendingTasks=M(yr)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var jP=(()=>{let e=class e{constructor(){this.appRef=M(wr),this.taskService=M(yr),this.ngZone=M(ye),this.zonelessEnabled=M(Gp),this.disableScheduling=M(MD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Se,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Mu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(ND,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof jf||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?hw:UE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Mu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,hw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function UP(){return typeof $localize<"u"&&$localize.locale||ju}var Jp=new L("",{providedIn:"root",factory:()=>M(Jp,te.Optional|te.SkipSelf)||UP()});var YD=new L("");function lu(t){return!!t.platformInjector}function BP(t){let e=lu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ye);return n.run(()=>{lu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(bn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),lu(t)){let s=()=>e.destroy(),o=t.platformInjector.get(YD);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{pu(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return OP(r,n,()=>{let s=e.get(WD);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Jp,ju);if(IP(o||ju),lu(t)){let a=e.get(wr);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return $P(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function $P(t,e){let n=t.injector.get(wr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new j(-403,!1);e.push(t)}var gu=null;function HP(t=[],e){return Qe.create({name:e,providers:[{provide:qu,useValue:"platform"},{provide:YD,useValue:new Set([()=>gu=null])},...t]})}function zP(t=[]){if(gu)return gu;let e=HP(t);return gu=e,NP(),qP(e),e}function qP(t){t.get(Np,null)?.forEach(n=>n())}var ui=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=GP;let t=e;return t})();function GP(t){return WP(ht(),_e(),(t&16)===16)}function WP(t,e,n){if(Wu(t)&&!n){let r=mr(t.index,e);return new ii(r,r)}else if(t.type&175){let r=e[nn];return new ii(r,e)}return null}var ap=class{constructor(){}supports(e){return OD(e)}create(e){return new cp(e)}},KP=(t,e)=>e,cp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||KP}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<Mw(r,i,s)?n:r,a=Mw(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,f=u-i;if(l!=f){for(let y=0;y<l;y++){let I=y<s.length?s[y]:s[y]=0,A=I+y;f<=A&&A<l&&(s[y]=I+1)}let g=o.previousIndex;s[g]=f-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!OD(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,$x(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new up(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Uu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Uu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},up=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},lp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Uu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new lp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Mw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Nw(){return new Zp([new ap])}var Zp=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Nw()),deps:[[e,new hp,new nt]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new j(901,!1)}};e.\u0275prov=V({token:e,providedIn:"root",factory:Nw});let t=e;return t})();function JD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=zP(r),s=[KD({}),{provide:ds,useExisting:jP},...n||[]],o=new Lu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return BP({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var ZD=new L("");function Er(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ra(t,e){_r("NgSignals");let n=yI(t);return e?.equal&&(n[In].equal=e.equal),n}function xn(t){let e=fe(null);try{return t()}finally{fe(e)}}function XD(t){let e=hr(t);if(!e)return null;let n=new ps(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var ib=null;function On(){return ib}function sb(t){ib??=t}var dl=class{};var Je=new L(""),ig=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>M(YP),providedIn:"platform"});let t=e;return t})(),ob=new L(""),YP=(()=>{let e=class e extends ig{constructor(){super(),this._doc=M(Je),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return On().getBaseHref(this._doc)}onPopState(r){let i=On().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=On().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function sg(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function eb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Pn(t){return t&&t[0]!=="?"?"?"+t:t}var kn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>M(og),providedIn:"root"});let t=e;return t})(),ab=new L(""),og=(()=>{let e=class e extends kn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??M(Je).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return sg(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Pn(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Pn(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Pn(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(B(ig),B(ab,8))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cb=(()=>{let e=class e extends kn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=sg(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Pn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Pn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(B(ig),B(ab,8))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),Es=(()=>{let e=class e{constructor(r){this._subject=new Pe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=XP(eb(tb(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Pn(i))}normalize(r){return e.stripTrailingSlash(ZP(this._basePath,tb(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Pn(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Pn(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Pn,e.joinWithSlash=sg,e.stripTrailingSlash=eb,e.\u0275fac=function(i){return new(i||e)(B(kn))},e.\u0275prov=V({token:e,factory:()=>JP(),providedIn:"root"});let t=e;return t})();function JP(){return new Es(B(kn))}function ZP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function tb(t){return t.replace(/\/index.html$/,"")}function XP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function hl(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var eg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ub=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new eg(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let u=i.get(o);i.move(u,a),nb(u,s)}});for(let s=0,o=i.length;s<o;s++){let u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);nb(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(ae(_s),ae(sl),ae(Zp))},e.\u0275dir=Ye({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function nb(t,e){t.context.$implicit=e.item}var lb=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new tg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){rb("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){rb("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(ae(_s),ae(sl))},e.\u0275dir=Ye({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),tg=class{constructor(){this.$implicit=null,this.ngIf=null}};function rb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ut(e)}'.`)}var ag=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Tt({type:e}),e.\u0275inj=bt({});let t=e;return t})(),cg="browser",eO="server";function tO(t){return t===cg}function fl(t){return t===eO}var db=(()=>{let e=class e{};e.\u0275prov=V({token:e,providedIn:"root",factory:()=>tO(M(Ut))?new ng(M(Je),window):new rg});let t=e;return t})(),ng=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=nO(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function nO(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var rg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},ws=class{};var sa=class{},ml=class{},Fn=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var lg=class{encodeKey(e){return hb(e)}encodeValue(e){return hb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function rO(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}var iO=/%(\d[a-f0-9])/gi,sO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function hb(t){return encodeURIComponent(t).replace(iO,(e,n)=>sO[n]??e)}function gl(t){return`${t}`}var br=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new lg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=rO(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(gl):[gl(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(gl(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(gl(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var dg=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function oO(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function fb(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function pb(t){return typeof Blob<"u"&&t instanceof Blob}function gb(t){return typeof FormData<"u"&&t instanceof FormData}function aO(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var ia=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(oO(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Fn,this.context??=new dg,!this.params)this.params=new br,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||fb(this.body)||pb(this.body)||gb(this.body)||aO(this.body)?this.body:this.body instanceof br?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||gb(this.body)?null:pb(this.body)?this.body.type||null:fb(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof br?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,f=e.params||this.params,g=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((y,I)=>y.set(I,e.setHeaders[I]),l)),e.setParams&&(f=Object.keys(e.setParams).reduce((y,I)=>y.set(I,e.setParams[I]),f)),new t(n,r,o,{params:f,headers:l,context:g,reportProgress:u,responseType:i,withCredentials:a,transferCache:s})}},Tr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Tr||{}),oa=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Fn,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},yl=class t extends oa{constructor(e={}){super(e),this.type=Tr.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},aa=class t extends oa{constructor(e={}){super(e),this.type=Tr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Dr=class extends oa{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},_b=200,cO=204;function ug(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var pg=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof ia)o=r;else{let l;s.headers instanceof Fn?l=s.headers:l=new Fn(s.headers);let f;s.params&&(s.params instanceof br?f=s.params:f=new br({fromObject:s.params})),o=new ia(r,i,s.body!==void 0?s.body:null,{headers:l,context:s.context,params:f,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=q(o).pipe(En(l=>this.handler.handle(l)));if(r instanceof ia||s.observe==="events")return a;let u=a.pipe(mt(l=>l instanceof aa));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe(Y(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return u.pipe(Y(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return u.pipe(Y(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return u.pipe(Y(l=>l.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new br().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,ug(s,i))}post(r,i,s={}){return this.request("POST",r,ug(s,i))}put(r,i,s={}){return this.request("PUT",r,ug(s,i))}};e.\u0275fac=function(i){return new(i||e)(B(sa))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),uO=/^\)\]\}',?\n/,lO="X-Request-URL";function mb(t){if(t.url)return t.url;let e=lO.toLocaleLowerCase();return t.headers.get(e)}var dO=(()=>{let e=class e{constructor(){this.fetchImpl=M(hg,{optional:!0})?.fetch??((...r)=>globalThis.fetch(...r)),this.ngZone=M(ye)}handle(r){return new se(i=>{let s=new AbortController;return this.doRequest(r,s.signal,i).then(fg,o=>i.error(new Dr({error:o}))),()=>s.abort()})}doRequest(r,i,s){return w(this,null,function*(){let o=this.createRequestInit(r),a;try{let A=this.ngZone.runOutsideAngular(()=>this.fetchImpl(r.urlWithParams,F({signal:i},o)));hO(A),s.next({type:Tr.Sent}),a=yield A}catch(A){s.error(new Dr({error:A,status:A.status??0,statusText:A.statusText,url:r.urlWithParams,headers:A.headers}));return}let u=new Fn(a.headers),l=a.statusText,f=mb(a)??r.urlWithParams,g=a.status,y=null;if(r.reportProgress&&s.next(new yl({headers:u,status:g,statusText:l,url:f})),a.body){let A=a.headers.get("content-length"),x=[],R=a.body.getReader(),O=0,$,G,z=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>w(this,null,function*(){for(;;){let{done:ee,value:E}=yield R.read();if(ee)break;if(x.push(E),O+=E.length,r.reportProgress){G=r.responseType==="text"?(G??"")+($??=new TextDecoder).decode(E,{stream:!0}):void 0;let m=()=>s.next({type:Tr.DownloadProgress,total:A?+A:void 0,loaded:O,partialText:G});z?z.run(m):m()}}}));let Ce=this.concatChunks(x,O);try{let ee=a.headers.get("Content-Type")??"";y=this.parseBody(r,Ce,ee)}catch(ee){s.error(new Dr({error:ee,headers:new Fn(a.headers),status:a.status,statusText:a.statusText,url:mb(a)??r.urlWithParams}));return}}g===0&&(g=y?_b:0),g>=200&&g<300?(s.next(new aa({body:y,headers:u,status:g,statusText:l,url:f})),s.complete()):s.error(new Dr({error:y,headers:u,status:g,statusText:l,url:f}))})}parseBody(r,i,s){switch(r.responseType){case"json":let o=new TextDecoder().decode(i).replace(uO,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:s});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},s=r.withCredentials?"include":void 0;if(r.headers.forEach((o,a)=>i[o]=a.join(",")),r.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!r.headers.has("Content-Type")){let o=r.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:s}}concatChunks(r,i){let s=new Uint8Array(i),o=0;for(let a of r)s.set(a,o),o+=a.length;return s}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),hg=class{};function fg(){}function hO(t){t.then(fg,fg)}function fO(t,e){return e(t)}function pO(t,e,n){return(r,i)=>Vt(n,()=>e(r,s=>t(s,i)))}var Ib=new L(""),gO=new L(""),mO=new L("",{providedIn:"root",factory:()=>!0});var yb=(()=>{let e=class e extends sa{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=M(yr),this.contributeToStability=M(mO)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Ib),...this.injector.get(gO,[])]));this.chain=i.reduceRight((s,o)=>pO(s,o,this.injector),fO)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(Qr(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(B(ml),B(lt))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})();var yO=/^\)\]\}',?\n/;function vO(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var vb=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new j(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Te(i.\u0275loadImpl()):q(null)).pipe(yt(()=>new se(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((R,O)=>a.setRequestHeader(R,O.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let R=r.detectContentTypeHeader();R!==null&&a.setRequestHeader("Content-Type",R)}if(r.responseType){let R=r.responseType.toLowerCase();a.responseType=R!=="json"?R:"text"}let u=r.serializeBody(),l=null,f=()=>{if(l!==null)return l;let R=a.statusText||"OK",O=new Fn(a.getAllResponseHeaders()),$=vO(a)||r.url;return l=new yl({headers:O,status:a.status,statusText:R,url:$}),l},g=()=>{let{headers:R,status:O,statusText:$,url:G}=f(),z=null;O!==cO&&(z=typeof a.response>"u"?a.responseText:a.response),O===0&&(O=z?_b:0);let Ce=O>=200&&O<300;if(r.responseType==="json"&&typeof z=="string"){let ee=z;z=z.replace(yO,"");try{z=z!==""?JSON.parse(z):null}catch(E){z=ee,Ce&&(Ce=!1,z={error:E,text:z})}}Ce?(o.next(new aa({body:z,headers:R,status:O,statusText:$,url:G||void 0})),o.complete()):o.error(new Dr({error:z,headers:R,status:O,statusText:$,url:G||void 0}))},y=R=>{let{url:O}=f(),$=new Dr({error:R,status:a.status||0,statusText:a.statusText||"Unknown Error",url:O||void 0});o.error($)},I=!1,A=R=>{I||(o.next(f()),I=!0);let O={type:Tr.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(O.total=R.total),r.responseType==="text"&&a.responseText&&(O.partialText=a.responseText),o.next(O)},x=R=>{let O={type:Tr.UploadProgress,loaded:R.loaded};R.lengthComputable&&(O.total=R.total),o.next(O)};return a.addEventListener("load",g),a.addEventListener("error",y),a.addEventListener("timeout",y),a.addEventListener("abort",y),r.reportProgress&&(a.addEventListener("progress",A),u!==null&&a.upload&&a.upload.addEventListener("progress",x)),a.send(u),o.next({type:Tr.Sent}),()=>{a.removeEventListener("error",y),a.removeEventListener("abort",y),a.removeEventListener("load",g),a.removeEventListener("timeout",y),r.reportProgress&&(a.removeEventListener("progress",A),u!==null&&a.upload&&a.upload.removeEventListener("progress",x)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(B(ws))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),wb=new L(""),_O="XSRF-TOKEN",IO=new L("",{providedIn:"root",factory:()=>_O}),wO="X-XSRF-TOKEN",EO=new L("",{providedIn:"root",factory:()=>wO}),vl=class{},DO=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=hl(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(B(Je),B(Ut),B(IO))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})();function bO(t,e){let n=t.url.toLowerCase();if(!M(wb)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=M(vl).getToken(),i=M(EO);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function y3(...t){let e=[pg,vb,yb,{provide:sa,useExisting:yb},{provide:ml,useFactory:()=>M(dO,{optional:!0})??M(vb)},{provide:Ib,useValue:bO,multi:!0},{provide:wb,useValue:!0},{provide:vl,useClass:DO}];for(let n of t)e.push(...n.\u0275providers);return Lt(e)}var yg=class extends dl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},vg=class t extends yg{static makeCurrent(){sb(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=TO();return n==null?null:CO(n)}resetBaseElement(){ca=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return hl(document.cookie,e)}},ca=null;function TO(){return ca=ca||document.querySelector("base"),ca?ca.getAttribute("href"):null}function CO(t){return new URL(t,document.baseURI).pathname}var AO=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),_l=new L(""),Tb=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new j(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(B(_l),B(ye))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),ua=class{constructor(e){this._doc=e}},gg="ng-app-id",Cb=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=fl(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${gg}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(gg),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(gg,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(B(Je),B(Mp),B(xp,8),B(Ut))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),mg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ig=/%COMP%/g,Ab="%COMP%",SO=`_nghost-${Ab}`,RO=`_ngcontent-${Ab}`,MO=!0,NO=new L("",{providedIn:"root",factory:()=>MO});function xO(t){return RO.replace(Ig,t)}function PO(t){return SO.replace(Ig,t)}function Sb(t,e){return e.map(n=>n.replace(Ig,t))}var Eb=(()=>{let e=class e{constructor(r,i,s,o,a,u,l,f=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=fl(u),this.defaultRenderer=new la(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===en.ShadowDom&&(i=ue(F({},i),{encapsulation:en.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Il?s.applyToHost(r):s instanceof da&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,l=this.eventManager,f=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(i.encapsulation){case en.Emulated:o=new Il(l,f,i,this.appId,g,a,u,y);break;case en.ShadowDom:return new _g(l,f,r,i,a,u,this.nonce,y);default:o=new da(l,f,i,g,a,u,y);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(B(Tb),B(Cb),B(Mp),B(NO),B(Je),B(Ut),B(ye),B(xp))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),la=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(mg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Db(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Db(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=mg[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=mg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Tn.DashCase|Tn.Important)?e.style.setProperty(n,r,i&Tn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Tn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=On().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Db(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var _g=class extends la{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Sb(i.id,i.styles);for(let f of l){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},da=class extends la{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?Sb(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Il=class extends da{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=xO(l),this.hostAttr=PO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},OO=(()=>{let e=class e extends ua{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(B(Je))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),kO=(()=>{let e=class e extends ua{constructor(r){super(r),this.delegate=M(ZD,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(B(Je))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),bb=["alt","control","meta","shift"],FO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},LO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},VO=(()=>{let e=class e extends ua{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>On().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),bb.forEach(f=>{let g=i.indexOf(f);g>-1&&(i.splice(g,1),a+=f+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=FO[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),bb.forEach(a=>{if(a!==s){let u=LO[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(B(Je))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})();function H3(t,e){return JD(F({rootComponent:t},jO(e)))}function jO(t){return{appProviders:[...zO,...t?.providers??[]],platformProviders:HO}}function UO(){vg.makeCurrent()}function BO(){return new bn}function $O(){return WE(document),document}var HO=[{provide:Ut,useValue:cg},{provide:Np,useValue:UO,multi:!0},{provide:Je,useFactory:$O,deps:[]}];var zO=[{provide:qu,useValue:"root"},{provide:bn,useFactory:BO,deps:[]},{provide:_l,useClass:OO,multi:!0,deps:[Je,ye,Ut]},{provide:_l,useClass:VO,multi:!0,deps:[Je]},{provide:_l,useClass:kO,multi:!0},Eb,Cb,Tb,{provide:fs,useExisting:Eb},{provide:ws,useClass:AO,deps:[]},[]];var Rb=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(B(Je))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var X="primary",Ca=Symbol("RouteTitle"),Tg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ss(t){return new Tg(t)}function GO(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function WO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!on(t[n],e[n]))return!1;return!0}function on(t,e){let n=t?Cg(t):void 0,r=e?Cg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Ub(t[i],e[i]))return!1;return!0}function Cg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Ub(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function Bb(t){return t.length>0?t[t.length-1]:null}function Sr(t){return Xh(t)?t:ci(t)?Te(Promise.resolve(t)):q(t)}var KO={exact:Hb,subset:zb},$b={exact:QO,subset:YO,ignored:()=>!0};function Mb(t,e,n){return KO[n.paths](t.root,e.root,n.matrixParams)&&$b[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function QO(t,e){return on(t,e)}function Hb(t,e,n){if(!di(t.segments,e.segments)||!Dl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Hb(t.children[r],e.children[r],n))return!1;return!0}function YO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Ub(t[n],e[n]))}function zb(t,e,n){return qb(t,e,e.segments,n)}function qb(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!di(i,n)||e.hasChildren()||!Dl(i,n,r))}else if(t.segments.length===n.length){if(!di(t.segments,n)||!Dl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!zb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!di(t.segments,i)||!Dl(t.segments,i,r)||!t.children[X]?!1:qb(t.children[X],e,s,r)}}function Dl(t,e,n){return e.every((r,i)=>$b[n](t[i].parameters,r.parameters))}var Vn=class{constructor(e=new ve([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ss(this.queryParams),this._queryParamMap}toString(){return XO.serialize(this)}},ve=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bl(this)}},li=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ss(this.parameters),this._parameterMap}toString(){return Wb(this)}};function JO(t,e){return di(t,e)&&t.every((n,r)=>on(n.parameters,e[r].parameters))}function di(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function ZO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===X&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==X&&(n=n.concat(e(i,r)))}),n}var Aa=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>new Rs,providedIn:"root"});let t=e;return t})(),Rs=class{parse(e){let n=new Sg(e);return new Vn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ha(e.root,!0)}`,r=nk(e.queryParams),i=typeof e.fragment=="string"?`#${ek(e.fragment)}`:"";return`${n}${r}${i}`}},XO=new Rs;function bl(t){return t.segments.map(e=>Wb(e)).join("/")}function ha(t,e){if(!t.hasChildren())return bl(t);if(e){let n=t.children[X]?ha(t.children[X],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==X&&r.push(`${i}:${ha(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=ZO(t,(r,i)=>i===X?[ha(t.children[X],!1)]:[`${i}:${ha(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[X]!=null?`${bl(t)}/${n[0]}`:`${bl(t)}/(${n.join("//")})`}}function Gb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wl(t){return Gb(t).replace(/%3B/gi,";")}function ek(t){return encodeURI(t)}function Ag(t){return Gb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tl(t){return decodeURIComponent(t)}function Nb(t){return Tl(t.replace(/\+/g,"%20"))}function Wb(t){return`${Ag(t.path)}${tk(t.parameters)}`}function tk(t){return Object.entries(t).map(([e,n])=>`;${Ag(e)}=${Ag(n)}`).join("")}function nk(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${wl(n)}=${wl(i)}`).join("&"):`${wl(n)}=${wl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var rk=/^[^\/()?;#]+/;function wg(t){let e=t.match(rk);return e?e[0]:""}var ik=/^[^\/()?;=#]+/;function sk(t){let e=t.match(ik);return e?e[0]:""}var ok=/^[^=?&#]+/;function ak(t){let e=t.match(ok);return e?e[0]:""}var ck=/^[^&#]+/;function uk(t){let e=t.match(ck);return e?e[0]:""}var Sg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ve([],{}):new ve([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[X]=new ve(e,n)),r}parseSegment(){let e=wg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new li(Tl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=sk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=wg(this.remaining);i&&(r=i,this.capture(r))}e[Tl(n)]=Tl(r)}parseQueryParam(e){let n=ak(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=uk(this.remaining);o&&(r=o,this.capture(r))}let i=Nb(n),s=Nb(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=wg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=X);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[X]:new ve([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function Kb(t){return t.segments.length>0?new ve([],{[X]:t}):t}function Qb(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=Qb(i);if(r===X&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ve(t.segments,e);return lk(n)}function lk(t){if(t.numberOfChildren===1&&t.children[X]){let e=t.children[X];return new ve(t.segments.concat(e.segments),e.children)}return t}function hi(t){return t instanceof Vn}function dk(t,e,n=null,r=null){let i=Yb(t);return Jb(i,e,n,r)}function Yb(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new ve(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=Kb(r);return e??i}function Jb(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Eg(i,i,i,n,r);let s=hk(e);if(s.toRoot())return Eg(i,i,new ve([],{}),n,r);let o=fk(s,i,t),a=o.processChildren?ga(o.segmentGroup,o.index,s.commands):Xb(o.segmentGroup,o.index,s.commands);return Eg(i,o.segmentGroup,a,n,r)}function Cl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function va(t){return typeof t=="object"&&t!=null&&t.outlets}function Eg(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let o;t===e?o=n:o=Zb(t,e,n);let a=Kb(Qb(o));return new Vn(a,s,i)}function Zb(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Zb(s,e,n)}),new ve(t.segments,r)}var Al=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Cl(r[0]))throw new j(4003,!1);let i=r.find(va);if(i&&i!==Bb(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function hk(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Al(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Al(n,e,r)}var Ts=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function fk(t,e,n){if(t.isAbsolute)return new Ts(e,!0,0);if(!n)return new Ts(e,!1,NaN);if(n.parent===null)return new Ts(n,!0,0);let r=Cl(t.commands[0])?0:1,i=n.segments.length-1+r;return pk(n,i,t.numberOfDoubleDots)}function pk(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new Ts(r,!1,i-s)}function gk(t){return va(t[0])?t[0].outlets:{[X]:t}}function Xb(t,e,n){if(t??=new ve([],{}),t.segments.length===0&&t.hasChildren())return ga(t,e,n);let r=mk(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ve(t.segments.slice(0,r.pathIndex),{});return s.children[X]=new ve(t.segments.slice(r.pathIndex),t.children),ga(s,0,i)}else return r.match&&i.length===0?new ve(t.segments,{}):r.match&&!t.hasChildren()?Rg(t,e,n):r.match?ga(t,0,i):Rg(t,e,n)}function ga(t,e,n){if(n.length===0)return new ve(t.segments,{});{let r=gk(n),i={};if(Object.keys(r).some(s=>s!==X)&&t.children[X]&&t.numberOfChildren===1&&t.children[X].segments.length===0){let s=ga(t.children[X],e,n);return new ve(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Xb(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ve(t.segments,i)}}function mk(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(va(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!Pb(u,l,o))return s;r+=2}else{if(!Pb(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Rg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(va(s)){let u=yk(s.outlets);return new ve(r,u)}if(i===0&&Cl(n[0])){let u=t.segments[e];r.push(new li(u.path,xb(n[0]))),i++;continue}let o=va(s)?s.outlets[X]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Cl(a)?(r.push(new li(o,xb(a))),i+=2):(r.push(new li(o,{})),i++)}return new ve(r,{})}function yk(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Rg(new ve([],{}),0,r))}),e}function xb(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Pb(t,e,n){return t==n.path&&on(e,n.parameters)}var ma="imperative",He=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(He||{}),Bt=class{constructor(e,n){this.id=e,this.url=n}},Ms=class extends Bt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=He.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},an=class extends Bt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=He.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},St=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(St||{}),Sl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Sl||{}),Ln=class extends Bt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=He.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Cr=class extends Bt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=He.NavigationSkipped}},_a=class extends Bt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=He.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Rl=class extends Bt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=He.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mg=class extends Bt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=He.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ng=class extends Bt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=He.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},xg=class extends Bt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=He.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pg=class extends Bt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=He.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Og=class{constructor(e){this.route=e,this.type=He.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},kg=class{constructor(e){this.route=e,this.type=He.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Fg=class{constructor(e){this.snapshot=e,this.type=He.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lg=class{constructor(e){this.snapshot=e,this.type=He.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vg=class{constructor(e){this.snapshot=e,this.type=He.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jg=class{constructor(e){this.snapshot=e,this.type=He.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ml=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=He.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ia=class{},Ns=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function vk(t,e){return t.providers&&!t._injector&&(t._injector=ol(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Kt(t){return t.outlet||X}function _k(t,e){let n=t.filter(r=>Kt(r)===e);return n.push(...t.filter(r=>Kt(r)!==e)),n}function Sa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Ug=class{get injector(){return Sa(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Ra(this.rootInjector),this.attachRef=null}},Ra=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Ug(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(B(lt))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Bg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Bg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=$g(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return $g(e,this._root).map(n=>n.value)}};function Bg(t,e){if(t===e.value)return e;for(let n of e.children){let r=Bg(t,n);if(r)return r}return null}function $g(t,e){if(t===e.value)return[e];for(let n of e.children){let r=$g(t,n);if(r.length)return r.unshift(e),r}return[]}var At=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function bs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var xl=class extends Nl{constructor(e,n){super(e),this.snapshot=n,Jg(this,e)}toString(){return this.snapshot.toString()}};function eT(t){let e=Ik(t),n=new Ke([new li("",{})]),r=new Ke({}),i=new Ke({}),s=new Ke({}),o=new Ke(""),a=new Ar(n,r,s,o,i,X,t,e.root);return a.snapshot=e.root,new xl(new At(a,[]),e)}function Ik(t){let e={},n={},r={},i="",s=new Cs([],e,r,i,n,X,t,null,{});return new Ol("",new At(s,[]))}var Ar=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Y(l=>l[Ca]))??q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Y(e=>Ss(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Y(e=>Ss(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Pl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&nT(i)&&(r.resolve[Ca]=i.title),r}var Cs=class{get title(){return this.data?.[Ca]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ss(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ss(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ol=class extends Nl{constructor(e,n){super(n),this.url=e,Jg(this,n)}toString(){return tT(this._root)}};function Jg(t,e){e.value._routerState=t,e.children.forEach(n=>Jg(t,n))}function tT(t){let e=t.children.length>0?` { ${t.children.map(tT).join(", ")} } `:"";return`${t.value}${e}`}function Dg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,on(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),on(e.params,n.params)||t.paramsSubject.next(n.params),WO(e.url,n.url)||t.urlSubject.next(n.url),on(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Hg(t,e){let n=on(t.params,e.params)&&JO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Hg(t.parent,e.parent))}function nT(t){return typeof t.title=="string"||t.title===null}var wk=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=X,this.activateEvents=new Pe,this.deactivateEvents=new Pe,this.attachEvents=new Pe,this.detachEvents=new Pe,this.parentContexts=M(Ra),this.location=M(_s),this.changeDetector=M(ui),this.inputBinder=M(Vl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new zg(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ye({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[gr]});let t=e;return t})(),zg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ar?this.route:e===Ra?this.childContexts:this.parent.get(e,n)}},Vl=new L(""),Ob=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=Lo([i.queryParams,i.params,i.data]).pipe(yt(([o,a,u],l)=>(u=F(F(F({},o),a),u),l===0?q(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=XD(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,o[u])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})();function Ek(t,e,n){let r=wa(t,e._root,n?n._root:void 0);return new xl(r,e)}function wa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Dk(t,e,n);return new At(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>wa(t,a)),o}}let r=bk(e.value),i=e.children.map(s=>wa(t,s));return new At(r,i)}}function Dk(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return wa(t,r,i);return wa(t,r)})}function bk(t){return new Ar(new Ke(t.url),new Ke(t.params),new Ke(t.queryParams),new Ke(t.fragment),new Ke(t.data),t.outlet,t.component,t)}var Ea=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},rT="ngNavigationCancelingError";function kl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=hi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=iT(!1,St.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function iT(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[rT]=!0,n.cancellationCode=e,n}function Tk(t){return sT(t)&&hi(t.url)}function sT(t){return!!t&&t[rT]}var Ck=(t,e,n,r)=>Y(i=>(new qg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),qg=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Dg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=bs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=bs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=bs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=bs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new jg(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Lg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Dg(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Dg(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Fl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},As=class{constructor(e,n){this.component=e,this.route=n}};function Ak(t,e,n){let r=t._root,i=e?e._root:null;return fa(r,i,n,[r.value])}function Sk(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ps(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!kw(t)?t:e.get(t):r}function fa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=bs(e);return t.children.forEach(o=>{Rk(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ya(a,n.getContext(o),i)),i}function Rk(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=Mk(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Fl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?fa(t,e,a?a.children:null,r,i):fa(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new As(a.outlet.component,o))}else o&&ya(e,a,i),i.canActivateChecks.push(new Fl(r)),s.component?fa(t,null,a?a.children:null,r,i):fa(t,null,n,r,i);return i}function Mk(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!di(t.url,e.url);case"pathParamsOrQueryParamsChange":return!di(t.url,e.url)||!on(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hg(t,e)||!on(t.queryParams,e.queryParams);case"paramsChange":default:return!Hg(t,e)}}function ya(t,e,n){let r=bs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?ya(o,e.children.getContext(s),n):ya(o,null,n):ya(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new As(e.outlet.component,i)):n.canDeactivateChecks.push(new As(null,i)):n.canDeactivateChecks.push(new As(null,i))}function Ma(t){return typeof t=="function"}function Nk(t){return typeof t=="boolean"}function xk(t){return t&&Ma(t.canLoad)}function Pk(t){return t&&Ma(t.canActivate)}function Ok(t){return t&&Ma(t.canActivateChild)}function kk(t){return t&&Ma(t.canDeactivate)}function Fk(t){return t&&Ma(t.canMatch)}function oT(t){return t instanceof wn||t?.name==="EmptyError"}var El=Symbol("INITIAL_VALUE");function xs(){return yt(t=>Lo(t.map(e=>e.pipe(Dn(1),sf(El)))).pipe(Y(e=>{for(let n of e)if(n!==!0){if(n===El)return El;if(n===!1||Lk(n))return n}return!0}),mt(e=>e!==El),Dn(1)))}function Lk(t){return hi(t)||t instanceof Ea}function Vk(t,e){return Ne(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?q(ue(F({},n),{guardsResult:!0})):jk(o,r,i,t).pipe(Ne(a=>a&&Nk(a)?Uk(r,s,t,e):q(a)),Y(a=>ue(F({},n),{guardsResult:a})))})}function jk(t,e,n,r){return Te(t).pipe(Ne(i=>qk(i.component,i.route,n,e,r)),Jt(i=>i!==!0,!0))}function Uk(t,e,n,r){return Te(e).pipe(En(i=>Qi($k(i.route.parent,r),Bk(i.route,r),zk(t,i.path,n),Hk(t,i.route,n))),Jt(i=>i!==!0,!0))}function Bk(t,e){return t!==null&&e&&e(new Vg(t)),q(!0)}function $k(t,e){return t!==null&&e&&e(new Fg(t)),q(!0)}function Hk(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return q(!0);let i=r.map(s=>iu(()=>{let o=Sa(e)??n,a=Ps(s,o),u=Pk(a)?a.canActivate(e,t):Vt(o,()=>a(e,t));return Sr(u).pipe(Jt())}));return q(i).pipe(xs())}function zk(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Sk(o)).filter(o=>o!==null).map(o=>iu(()=>{let a=o.guards.map(u=>{let l=Sa(o.node)??n,f=Ps(u,l),g=Ok(f)?f.canActivateChild(r,t):Vt(l,()=>f(r,t));return Sr(g).pipe(Jt())});return q(a).pipe(xs())}));return q(s).pipe(xs())}function qk(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return q(!0);let o=s.map(a=>{let u=Sa(e)??i,l=Ps(a,u),f=kk(l)?l.canDeactivate(t,e,n,r):Vt(u,()=>l(t,e,n,r));return Sr(f).pipe(Jt())});return q(o).pipe(xs())}function Gk(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return q(!0);let s=i.map(o=>{let a=Ps(o,t),u=xk(a)?a.canLoad(e,n):Vt(t,()=>a(e,n));return Sr(u)});return q(s).pipe(xs(),aT(r))}function aT(t){return qh(xe(e=>{if(typeof e!="boolean")throw kl(t,e)}),Y(e=>e===!0))}function Wk(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return q(!0);let s=i.map(o=>{let a=Ps(o,t),u=Fk(a)?a.canMatch(e,n):Vt(t,()=>a(e,n));return Sr(u)});return q(s).pipe(xs(),aT(r))}var Da=class{constructor(e){this.segmentGroup=e||null}},ba=class extends Error{constructor(e){super(),this.urlTree=e}};function Ds(t){return Wi(new Da(t))}function Kk(t){return Wi(new j(4e3,!1))}function Qk(t){return Wi(iT(!1,St.GuardRejected))}var Gg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return q(r);if(i.numberOfChildren>1||!i.children[X])return Kk(`${e.redirectTo}`);i=i.children[X]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:f,url:g,outlet:y,params:I,data:A,title:x}=i,R=Vt(s,()=>a({params:I,data:A,queryParams:u,fragment:l,routeConfig:f,url:g,outlet:y,title:x}));if(R instanceof Vn)throw new ba(R);n=R}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new ba(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Vn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new ve(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Wg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yk(t,e,n,r,i){let s=cT(t,e,n);return s.matched?(r=vk(e,r),Wk(r,e,n,i).pipe(Y(o=>o===!0?s:F({},Wg)))):q(s)}function cT(t,e,n){if(e.path==="**")return Jk(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},Wg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||GO)(n,t,e);if(!i)return F({},Wg);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?F(F({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Jk(t){return{matched:!0,parameters:t.length>0?Bb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function kb(t,e,n,r){return n.length>0&&e1(t,n,r)?{segmentGroup:new ve(e,Xk(r,new ve(n,t.children))),slicedSegments:[]}:n.length===0&&t1(t,n,r)?{segmentGroup:new ve(t.segments,Zk(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ve(t.segments,t.children),slicedSegments:n}}function Zk(t,e,n,r){let i={};for(let s of n)if(jl(t,e,s)&&!r[Kt(s)]){let o=new ve([],{});i[Kt(s)]=o}return F(F({},r),i)}function Xk(t,e){let n={};n[X]=e;for(let r of t)if(r.path===""&&Kt(r)!==X){let i=new ve([],{});n[Kt(r)]=i}return n}function e1(t,e,n){return n.some(r=>jl(t,e,r)&&Kt(r)!==X)}function t1(t,e,n){return n.some(r=>jl(t,e,r))}function jl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function n1(t,e,n){return e.length===0&&!t.children[n]}var Kg=class{};function r1(t,e,n,r,i,s,o="emptyOnly"){return new Qg(t,e,n,r,i,o,s).recognize()}var i1=31,Qg=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Gg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=kb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Y(({children:n,rootSnapshot:r})=>{let i=new At(r,n),s=new Ol("",i),o=dk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Cs([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),X,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,X,n).pipe(Y(r=>({children:r,rootSnapshot:n})),or(r=>{if(r instanceof ba)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Da?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(Y(o=>o instanceof At?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Te(s).pipe(En(o=>{let a=r.children[o],u=_k(n,o);return this.processSegmentGroup(e,u,a,o,i)}),rf((o,a)=>(o.push(...a),o)),ar(null),nf(),Ne(o=>{if(o===null)return Ds(r);let a=uT(o);return s1(a),q(a)}))}processSegment(e,n,r,i,s,o,a){return Te(n).pipe(En(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(or(l=>{if(l instanceof Da)return q(null);throw l}))),Jt(u=>!!u),or(u=>{if(oT(u))return n1(r,i,s)?q(new Kg):Ds(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return Kt(r)!==o&&(o===X||!jl(i,s,r))?Ds(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):Ds(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:g,remainingSegments:y}=cT(n,i,s);if(!u)return Ds(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>i1&&(this.allowRedirects=!1));let I=new Cs(s,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Fb(i),Kt(i),i.component??i._loadedComponent??null,i,Lb(i)),A=Pl(I,a,this.paramsInheritanceStrategy);I.params=Object.freeze(A.params),I.data=Object.freeze(A.data);let x=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,g,I,e);return this.applyRedirects.lineralizeSegments(i,x).pipe(Ne(R=>this.processSegment(e,r,n,R.concat(y),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=Yk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(yt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(yt(({routes:l})=>{let f=r._loadedInjector??e,{parameters:g,consumedSegments:y,remainingSegments:I}=u,A=new Cs(y,g,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Fb(r),Kt(r),r.component??r._loadedComponent??null,r,Lb(r)),x=Pl(A,o,this.paramsInheritanceStrategy);A.params=Object.freeze(x.params),A.data=Object.freeze(x.data);let{segmentGroup:R,slicedSegments:O}=kb(n,y,I,l);if(O.length===0&&R.hasChildren())return this.processChildren(f,l,R,A).pipe(Y(G=>new At(A,G)));if(l.length===0&&O.length===0)return q(new At(A,[]));let $=Kt(r)===s;return this.processSegment(f,l,R,O,$?X:s,!0,A).pipe(Y(G=>new At(A,G instanceof At?[G]:[])))}))):Ds(n)))}getChildConfig(e,n,r){return n.children?q({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?q({routes:n._loadedRoutes,injector:n._loadedInjector}):Gk(e,n,r,this.urlSerializer).pipe(Ne(i=>i?this.configLoader.loadChildren(e,n).pipe(xe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):Qk(n))):q({routes:[],injector:e})}};function s1(t){t.sort((e,n)=>e.value.outlet===X?-1:n.value.outlet===X?1:e.value.outlet.localeCompare(n.value.outlet))}function o1(t){let e=t.value.routeConfig;return e&&e.path===""}function uT(t){let e=[],n=new Set;for(let r of t){if(!o1(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=uT(r.children);e.push(new At(r.value,i))}return e.filter(r=>!n.has(r))}function Fb(t){return t.data||{}}function Lb(t){return t.resolve||{}}function a1(t,e,n,r,i,s){return Ne(o=>r1(t,e,n,r,o.extractedUrl,i,s).pipe(Y(({state:a,tree:u})=>ue(F({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function c1(t,e){return Ne(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return q(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of lT(u))o.add(l);let a=0;return Te(o).pipe(En(u=>s.has(u)?u1(u,r,t,e):(u.data=Pl(u,u.parent,t).resolve,q(void 0))),xe(()=>a++),Yi(1),Ne(u=>a===o.size?q(n):Et))})}function lT(t){let e=t.children.map(n=>lT(n)).flat();return[t,...e]}function u1(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!nT(i)&&(s[Ca]=i.title),l1(s,t,e,r).pipe(Y(o=>(t._resolvedData=o,t.data=Pl(t,t.parent,n).resolve,null)))}function l1(t,e,n,r){let i=Cg(t);if(i.length===0)return q({});let s={};return Te(i).pipe(Ne(o=>d1(t[o],e,n,r).pipe(Jt(),xe(a=>{if(a instanceof Ea)throw kl(new Rs,a);s[o]=a}))),Yi(1),tf(s),or(o=>oT(o)?Et:Wi(o)))}function d1(t,e,n,r){let i=Sa(e)??r,s=Ps(t,i),o=s.resolve?s.resolve(e,n):Vt(i,()=>s(e,n));return Sr(o)}function bg(t){return yt(e=>{let n=t(e);return n?Te(n).pipe(Y(()=>e)):q(e)})}var dT=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===X);return i}getResolvedTitleForRoute(r){return r.data[Ca]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>M(h1),providedIn:"root"});let t=e;return t})(),h1=(()=>{let e=class e extends dT{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(B(Rb))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Na=new L("",{providedIn:"root",factory:()=>({})}),f1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ft({type:e,selectors:[["ng-component"]],standalone:!0,features:[$D],decls:1,vars:0,template:function(i,s){i&1&&Ct(0,"router-outlet")},dependencies:[wk],encapsulation:2});let t=e;return t})();function Zg(t){let e=t.children&&t.children.map(Zg),n=e?ue(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==X&&(n.component=f1),n}var Ta=new L(""),Xg=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=M(ll)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return q(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Sr(r.loadComponent()).pipe(Y(hT),xe(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Qr(()=>{this.componentLoaders.delete(r)})),s=new Hi(i,()=>new $e).pipe($i());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return q({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=p1(i,this.compiler,r,this.onLoadEndListener).pipe(Qr(()=>{this.childrenLoaders.delete(i)})),a=new Hi(o,()=>new $e).pipe($i());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function p1(t,e,n,r){return Sr(t.loadChildren()).pipe(Y(hT),Ne(i=>i instanceof zo||Array.isArray(i)?q(i):Te(e.compileModuleAsync(i))),Y(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Ta,[],{optional:!0,self:!0}).flat()),{routes:o.map(Zg),injector:s}}))}function g1(t){return t&&typeof t=="object"&&"default"in t}function hT(t){return g1(t)?t.default:t}var em=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>M(m1),providedIn:"root"});let t=e;return t})(),m1=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fT=new L(""),pT=new L("");function y1(t,e,n){let r=t.get(pT),i=t.get(Je);return t.get(ye).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),v1(t))),{onViewTransitionCreated:u}=r;return u&&Vt(t,()=>u({transition:a,from:e,to:n})),o})}function v1(t){return new Promise(e=>{Kp({read:()=>setTimeout(e)},{injector:t})})}var _1=new L(""),tm=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new $e,this.transitionAbortSubject=new $e,this.configLoader=M(Xg),this.environmentInjector=M(lt),this.urlSerializer=M(Aa),this.rootContexts=M(Ra),this.location=M(Es),this.inputBindingEnabled=M(Vl,{optional:!0})!==null,this.titleStrategy=M(dT),this.options=M(Na,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=M(em),this.createViewTransition=M(fT,{optional:!0}),this.navigationErrorHandler=M(_1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>q(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Og(s)),i=s=>this.events.next(new kg(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ue(F(F({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Ke({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ma,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(mt(o=>o.id!==0),Y(o=>ue(F({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),yt(o=>{let a=!1,u=!1;return q(o).pipe(yt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",St.SupersededByNewNavigation),Et;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ue(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!f&&g!=="reload"){let y="";return this.events.next(new Cr(l.id,this.urlSerializer.serialize(l.rawUrl),y,Sl.IgnoredSameUrlNavigation)),l.resolve(!1),Et}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return q(l).pipe(yt(y=>{let I=this.transitions?.getValue();return this.events.next(new Ms(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),I!==this.transitions?.getValue()?Et:Promise.resolve(y)}),a1(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),xe(y=>{o.targetSnapshot=y.targetSnapshot,o.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=ue(F({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let I=new Rl(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(I)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:y,extractedUrl:I,source:A,restoredState:x,extras:R}=l,O=new Ms(y,this.urlSerializer.serialize(I),A,x);this.events.next(O);let $=eT(this.rootComponentType).snapshot;return this.currentTransition=o=ue(F({},l),{targetSnapshot:$,urlAfterRedirects:I,extras:ue(F({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=I,q(o)}else{let y="";return this.events.next(new Cr(l.id,this.urlSerializer.serialize(l.extractedUrl),y,Sl.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Et}}),xe(l=>{let f=new Mg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),Y(l=>(this.currentTransition=o=ue(F({},l),{guards:Ak(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),Vk(this.environmentInjector,l=>this.events.next(l)),xe(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw kl(this.urlSerializer,l.guardsResult);let f=new Ng(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),mt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",St.GuardRejected),!1)),bg(l=>{if(l.guards.canActivateChecks.length)return q(l).pipe(xe(f=>{let g=new xg(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}),yt(f=>{let g=!1;return q(f).pipe(c1(this.paramsInheritanceStrategy,this.environmentInjector),xe({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(f,"",St.NoDataFromResolver)}}))}),xe(f=>{let g=new Pg(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}))}),bg(l=>{let f=g=>{let y=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(g.routeConfig).pipe(xe(I=>{g.component=I}),Y(()=>{})));for(let I of g.children)y.push(...f(I));return y};return Lo(f(l.targetSnapshot.root)).pipe(ar(null),Dn(1))}),bg(()=>this.afterPreactivation()),yt(()=>{let{currentSnapshot:l,targetSnapshot:f}=o,g=this.createViewTransition?.(this.environmentInjector,l.root,f.root);return g?Te(g).pipe(Y(()=>o)):q(o)}),Y(l=>{let f=Ek(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=ue(F({},l),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,o}),xe(()=>{this.events.next(new Ia)}),Ck(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Dn(1),xe({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new an(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),of(this.transitionAbortSubject.pipe(xe(l=>{throw l}))),Qr(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",St.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),or(l=>{if(u=!0,sT(l))this.events.next(new Ln(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),Tk(l)?this.events.next(new Ns(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let f=new _a(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let g=Vt(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(g instanceof Ea){let{message:y,cancellationCode:I}=kl(this.urlSerializer,g);this.events.next(new Ln(o.id,this.urlSerializer.serialize(o.extractedUrl),y,I)),this.events.next(new Ns(g.redirectTo,g.navigationBehaviorOptions))}else{this.events.next(f);let y=r.errorHandler(l);o.resolve(!!y)}}catch(g){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(g)}}return Et}))}))}cancelNavigationTransition(r,i,s){let o=new Ln(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function I1(t){return t!==ma}var w1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>M(E1),providedIn:"root"});let t=e;return t})(),Yg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},E1=(()=>{let e=class e extends Yg{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=vs(e)))(s||e)}})(),e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>M(D1),providedIn:"root"});let t=e;return t})(),D1=(()=>{let e=class e extends gT{constructor(){super(...arguments),this.location=M(Es),this.urlSerializer=M(Aa),this.options=M(Na,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=M(em),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Vn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=eT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ms)this.stateMemento=this.createStateMemento();else if(r instanceof Cr)this.rawUrlTree=i.initialUrl;else if(r instanceof Rl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof Ia?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof Ln&&(r.code===St.GuardRejected||r.code===St.NoDataFromResolver)?this.restoreHistory(i):r instanceof _a?this.restoreHistory(i,!0):r instanceof an&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof Vn?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=F(F({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=F(F({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=vs(e)))(s||e)}})(),e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pa=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(pa||{});function mT(t,e){t.events.pipe(mt(n=>n instanceof an||n instanceof Ln||n instanceof _a||n instanceof Cr),Y(n=>n instanceof an||n instanceof Cr?pa.COMPLETE:(n instanceof Ln?n.code===St.Redirect||n.code===St.SupersededByNewNavigation:!1)?pa.REDIRECTING:pa.FAILED),mt(n=>n!==pa.REDIRECTING),Dn(1)).subscribe(()=>{e()})}function b1(t){throw t}var T1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},C1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},jn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=M(cl),this.stateManager=M(gT),this.options=M(Na,{optional:!0})||{},this.pendingTasks=M(yr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=M(tm),this.urlSerializer=M(Aa),this.location=M(Es),this.urlHandlingStrategy=M(em),this._events=new $e,this.errorHandler=this.options.errorHandler||b1,this.navigated=!1,this.routeReuseStrategy=M(w1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=M(Ta,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!M(Vl,{optional:!0}),this.eventsSubscription=new Se,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Ln&&i.code!==St.Redirect&&i.code!==St.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof an)this.navigated=!0;else if(i instanceof Ns){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l=F({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||I1(s.source)},a);this.scheduleNavigation(u,ma,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}S1(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ma,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=F({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Zg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,f=l?this.currentUrlTree.fragment:a,g=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":g=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=o||null}g!==null&&(g=this.removeEmptyProps(g));let y;try{let I=s?s.snapshot:this.routerState.snapshot.root;y=Yb(I)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),y=this.currentUrlTree.root}return Jb(y,r,g,f??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=hi(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,ma,null,i)}navigate(r,i={skipLocationChange:!1}){return A1(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=F({},T1):i===!1?s=F({},C1):s=i,hi(r))return Mb(this.currentUrlTree,r,s);let o=this.parseUrl(r);return Mb(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,l,f;a?(u=a.resolve,l=a.reject,f=a.promise):f=new Promise((y,I)=>{u=y,l=I});let g=this.pendingTasks.add();return mT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(y=>Promise.reject(y))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function A1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}function S1(t){return!(t instanceof Ia)&&!(t instanceof Ns)}var yT=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.onChanges=new $e,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(f=>{f instanceof an&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(hi(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:YE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:hi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(ae(jn),ae(Ar),Cp("tabindex"),ae(ai),ae(vr),ae(kn))},e.\u0275dir=Ye({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&ce("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Xo("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Er],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Er],replaceUrl:[2,"replaceUrl","replaceUrl",Er],routerLink:"routerLink"},standalone:!0,features:[Wp,gr]});let t=e;return t})();var Ll=class{};var R1=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(mt(r=>r instanceof an),En(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=ol(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return Te(s).pipe(Ki())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=q(null);let o=s.pipe(Ne(a=>a===null?q(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Te([o,a]).pipe(Ki())}else return o})}};e.\u0275fac=function(i){return new(i||e)(B(jn),B(ll),B(lt),B(Ll),B(Xg))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vT=new L(""),M1=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ms?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof an?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Cr&&r.code===Sl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ml&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ml(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){cD()},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})();function lW(t,...e){return Lt([{provide:Ta,multi:!0,useValue:t},[],{provide:Ar,useFactory:_T,deps:[jn]},{provide:na,multi:!0,useFactory:IT},e.map(n=>n.\u0275providers)])}function _T(t){return t.routerState.root}function xa(t,e){return{\u0275kind:t,\u0275providers:e}}function IT(){let t=M(Qe);return e=>{let n=t.get(wr);if(e!==n.components[0])return;let r=t.get(jn),i=t.get(wT);t.get(nm)===1&&r.initialNavigation(),t.get(ET,null,te.Optional)?.setUpPreloading(),t.get(vT,null,te.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var wT=new L("",{factory:()=>new $e}),nm=new L("",{providedIn:"root",factory:()=>1});function N1(){return xa(2,[{provide:nm,useValue:0},{provide:ul,multi:!0,deps:[Qe],useFactory:e=>{let n=e.get(ob,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(jn),s=e.get(wT);mT(i,()=>{r(!0)}),e.get(tm).afterPreactivation=()=>(r(!0),s.closed?q(void 0):s),i.initialNavigation()}))}}])}function x1(){return xa(3,[{provide:ul,multi:!0,useFactory:()=>{let e=M(jn);return()=>{e.setUpLocationChangeListener()}}},{provide:nm,useValue:2}])}var ET=new L("");function P1(t){return xa(0,[{provide:ET,useExisting:R1},{provide:Ll,useExisting:t}])}function O1(){return xa(8,[Ob,{provide:Vl,useExisting:Ob}])}function k1(t){let e=[{provide:fT,useValue:y1},{provide:pT,useValue:F({skipNextTransition:!!t?.skipInitialTransition},t)}];return xa(9,e)}var Vb=new L("ROUTER_FORROOT_GUARD"),F1=[Es,{provide:Aa,useClass:Rs},jn,Ra,{provide:Ar,useFactory:_T,deps:[jn]},Xg,[]],rm=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[F1,[],{provide:Ta,multi:!0,useValue:r},{provide:Vb,useFactory:U1,deps:[[jn,new nt,new hp]]},{provide:Na,useValue:i||{}},i?.useHash?V1():j1(),L1(),i?.preloadingStrategy?P1(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?B1(i):[],i?.bindToComponentInputs?O1().\u0275providers:[],i?.enableViewTransitions?k1().\u0275providers:[],$1()]}}static forChild(r){return{ngModule:e,providers:[{provide:Ta,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(B(Vb,8))},e.\u0275mod=Tt({type:e}),e.\u0275inj=bt({});let t=e;return t})();function L1(){return{provide:vT,useFactory:()=>{let t=M(db),e=M(ye),n=M(Na),r=M(tm),i=M(Aa);return n.scrollOffset&&t.setOffset(n.scrollOffset),new M1(i,r,t,e,n)}}}function V1(){return{provide:kn,useClass:cb}}function j1(){return{provide:kn,useClass:og}}function U1(t){return"guarded"}function B1(t){return[t.initialNavigation==="disabled"?x1().\u0275providers:[],t.initialNavigation==="enabledBlocking"?N1().\u0275providers:[]]}var jb=new L("");function $1(){return[{provide:jb,useFactory:IT},{provide:na,multi:!0,useExisting:jb}]}var bT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},z1=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},TT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=s>>2,g=(s&3)<<4|a>>4,y=(a&15)<<2|l>>6,I=l&63;u||(I=64,o||(y=64)),r.push(n[f],n[g],n[y],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):z1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||g==null)throw new sm;let y=s<<2|a>>4;if(r.push(y),l!==64){let I=a<<4&240|l>>2;if(r.push(I),g!==64){let A=l<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},sm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},q1=function(t){let e=bT(t);return TT.encodeByteArray(e,!0)},Pa=function(t){return q1(t).replace(/\./g,"")},am=function(t){try{return TT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function G1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var W1=()=>G1().__FIREBASE_DEFAULTS__,K1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Q1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&am(t[1]);return e&&JSON.parse(e)},Bl=()=>{try{return W1()||K1()||Q1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cm=t=>{var e,n;return(n=(e=Bl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},CT=t=>{let e=cm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},um=()=>{var t;return(t=Bl())===null||t===void 0?void 0:t.config},lm=t=>{var e;return(e=Bl())===null||e===void 0?void 0:e[`_${t}`]};var Ul=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function AT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pa(JSON.stringify(n)),Pa(JSON.stringify(o)),""].join(".")}function ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ST(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function Y1(){var t;let e=(t=Bl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NT(){let t=ze();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xT(){return!Y1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dm(){try{return typeof indexedDB=="object"}catch{return!1}}function PT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var J1="FirebaseError",Rt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=J1,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Un.prototype.create)}},Un=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Z1(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Rt(i,a,r)}};function Z1(t,e){return t.replace(X1,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var X1=/\{\$([^}]+)}/g;function OT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(DT(s)&&DT(o)){if(!fi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function DT(t){return t!==null&&typeof t=="object"}function Oa(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Os(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ks(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function kT(t,e){let n=new om(t,e);return n.subscribe.bind(n)}var om=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");eF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=im),i.error===void 0&&(i.error=im),i.complete===void 0&&(i.complete=im);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function eF(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function im(){}var hW=4*60*60*1e3;function ft(t){return t&&t._delegate?t._delegate:t}var $t=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var pi="[DEFAULT]";var hm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Ul;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nF(e))try{this.getOrInitializeService({instanceIdentifier:pi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=pi){return this.instances.has(e)}getOptions(e=pi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pi){return this.component?this.component.multipleInstances?e:pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function tF(t){return t===pi?void 0:t}function nF(t){return t.instantiationMode==="EAGER"}var $l=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new hm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var rF=[],de=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(de||{}),iF={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},sF=de.INFO,oF={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},aF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=oF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Rr=class{constructor(e){this.name=e,this._logLevel=sF,this._logHandler=aF,this._userLogHandler=null,rF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}};var cF=(t,e)=>e.some(n=>t instanceof n),FT,LT;function uF(){return FT||(FT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lF(){return LT||(LT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var VT=new WeakMap,pm=new WeakMap,jT=new WeakMap,fm=new WeakMap,mm=new WeakMap;function dF(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(cn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&VT.set(n,t)}).catch(()=>{}),mm.set(e,t),e}function hF(t){if(pm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});pm.set(t,e)}var gm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UT(t){gm=t(gm)}function fF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Hl(this),e,...n);return jT.set(r,e.sort?e.sort():[e]),cn(r)}:lF().includes(t)?function(...e){return t.apply(Hl(this),e),cn(VT.get(this))}:function(...e){return cn(t.apply(Hl(this),e))}}function pF(t){return typeof t=="function"?fF(t):(t instanceof IDBTransaction&&hF(t),cF(t,uF())?new Proxy(t,gm):t)}function cn(t){if(t instanceof IDBRequest)return dF(t);if(fm.has(t))return fm.get(t);let e=pF(t);return e!==t&&(fm.set(t,e),mm.set(e,t)),e}var Hl=t=>mm.get(t);function $T(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=cn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(cn(o.result),u.oldVersion,u.newVersion,cn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var gF=["get","getKey","getAll","getAllKeys","count"],mF=["put","add","delete","clear"],ym=new Map;function BT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ym.get(e))return ym.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=mF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gF.includes(n)))return;let s=function(o,...a){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return ym.set(e,s),s}UT(t=>ue(F({},t),{get:(e,n,r)=>BT(e,n)||t.get(e,n,r),has:(e,n)=>!!BT(e,n)||t.has(e,n)}));var _m=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function yF(t){let e=t.getComponent();return e?.type==="VERSION"}var Im="@firebase/app",HT="0.10.10";var Bn=new Rr("@firebase/app"),vF="@firebase/app-compat",_F="@firebase/analytics-compat",IF="@firebase/analytics",wF="@firebase/app-check-compat",EF="@firebase/app-check",DF="@firebase/auth",bF="@firebase/auth-compat",TF="@firebase/database",CF="@firebase/database-compat",AF="@firebase/functions",SF="@firebase/functions-compat",RF="@firebase/installations",MF="@firebase/installations-compat",NF="@firebase/messaging",xF="@firebase/messaging-compat",PF="@firebase/performance",OF="@firebase/performance-compat",kF="@firebase/remote-config",FF="@firebase/remote-config-compat",LF="@firebase/storage",VF="@firebase/storage-compat",jF="@firebase/firestore",UF="@firebase/vertexai-preview",BF="@firebase/firestore-compat",$F="firebase",HF="10.13.1";var wm="[DEFAULT]",zF={[Im]:"fire-core",[vF]:"fire-core-compat",[IF]:"fire-analytics",[_F]:"fire-analytics-compat",[EF]:"fire-app-check",[wF]:"fire-app-check-compat",[DF]:"fire-auth",[bF]:"fire-auth-compat",[TF]:"fire-rtdb",[CF]:"fire-rtdb-compat",[AF]:"fire-fn",[SF]:"fire-fn-compat",[RF]:"fire-iid",[MF]:"fire-iid-compat",[NF]:"fire-fcm",[xF]:"fire-fcm-compat",[PF]:"fire-perf",[OF]:"fire-perf-compat",[kF]:"fire-rc",[FF]:"fire-rc-compat",[LF]:"fire-gcs",[VF]:"fire-gcs-compat",[jF]:"fire-fst",[BF]:"fire-fst-compat",[UF]:"fire-vertex","fire-js":"fire-js",[$F]:"fire-js-all"};var ka=new Map,qF=new Map,Em=new Map;function zT(t,e){try{t.container.addComponent(e)}catch(n){Bn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Nr(t){let e=t.name;if(Em.has(e))return Bn.debug(`There were multiple attempts to register component ${e}.`),!1;Em.set(e,t);for(let n of ka.values())zT(n,t);for(let n of qF.values())zT(n,t);return!0}function La(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Qt(t){return t.settings!==void 0}var GF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mr=new Un("app","Firebase",GF);var Dm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $t("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}};var xr=HF;function Cm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:wm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Mr.create("bad-app-name",{appName:String(i)});if(n||(n=um()),!n)throw Mr.create("no-options");let s=ka.get(i);if(s){if(fi(n,s.options)&&fi(r,s.config))return s;throw Mr.create("duplicate-app",{appName:i})}let o=new $l(i);for(let u of Em.values())o.addComponent(u);let a=new Dm(n,r,o);return ka.set(i,a),a}function Fs(t=wm){let e=ka.get(t);if(!e&&t===wm&&um())return Cm();if(!e)throw Mr.create("no-app",{appName:t});return e}function zl(){return Array.from(ka.values())}function Ue(t,e,n){var r;let i=(r=zF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bn.warn(a.join(" "));return}Nr(new $t(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var WF="firebase-heartbeat-database",KF=1,Fa="firebase-heartbeat-store",vm=null;function KT(){return vm||(vm=$T(WF,KF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mr.create("idb-open",{originalErrorMessage:t.message})})),vm}function QF(t){return w(this,null,function*(){try{let n=(yield KT()).transaction(Fa),r=yield n.objectStore(Fa).get(QT(t));return yield n.done,r}catch(e){if(e instanceof Rt)Bn.warn(e.message);else{let n=Mr.create("idb-get",{originalErrorMessage:e?.message});Bn.warn(n.message)}}})}function qT(t,e){return w(this,null,function*(){try{let r=(yield KT()).transaction(Fa,"readwrite");yield r.objectStore(Fa).put(e,QT(t)),yield r.done}catch(n){if(n instanceof Rt)Bn.warn(n.message);else{let r=Mr.create("idb-set",{originalErrorMessage:n?.message});Bn.warn(r.message)}}})}function QT(t){return`${t.name}!${t.options.appId}`}var YF=1024,JF=30*24*60*60*1e3,bm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Tm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=GT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=JF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Bn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=GT(),{heartbeatsToSend:r,unsentEntries:i}=ZF(this._heartbeatsCache.heartbeats),s=Pa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Bn.warn(n),""}})}};function GT(){return new Date().toISOString().substring(0,10)}function ZF(t,e=YF){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),WT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),WT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Tm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return dm()?PT().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield QF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return qT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return qT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function WT(t){return Pa(JSON.stringify({version:2,heartbeats:t})).length}function XF(t){Nr(new $t("platform-logger",e=>new _m(e),"PRIVATE")),Nr(new $t("heartbeat",e=>new bm(e),"PRIVATE")),Ue(Im,HT,t),Ue(Im,HT,"esm2017"),Ue("fire-js","")}XF("");var eL="firebase",tL="10.13.1";Ue(eL,tL,"app");var mi=new Cn("ANGULARFIRE2_VERSION");function Gl(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Va=(t,e)=>{let n=e?[e]:zl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Vs=class{constructor(){return Va(nL)}},nL="app-check";function Ls(){}var ql=class{zone;delegate;constructor(e,n=Jh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Am=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ls,{},Ls,Ls)),n.pipe(xe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},js=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ql(Zone.current)),this.insideAngular=n.run(()=>new ql(Zone.current,Yh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(B(ye))};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Wl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function rL(t){return Wl().ngZone.runOutsideAngular(()=>t())}function gi(t){return Wl().ngZone.run(()=>t())}function iL(t){return sL(Wl())(t)}function sL(t){return function(n){return n=n.lift(new Am(t.ngZone)),n.pipe(sr(t.outsideAngular),ir(t.insideAngular))}}var oL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),gi(()=>t.apply(void 0,r))},Yt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=gi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ls,{},Ls,Ls))),r[s]=oL(r[s],n));let i=rL(()=>t.apply(this,r));if(!e)if(i instanceof se){let s=Wl();return i.pipe(sr(s.outsideAngular),ir(s.insideAngular))}else return gi(()=>i);return i instanceof se?i.pipe(iL):i instanceof Promise?gi(()=>new Promise((s,o)=>i.then(a=>gi(()=>s(a)),a=>gi(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:gi(()=>i)};var $n=class{constructor(e){return e}},yi=class{constructor(){return zl()}};function aL(t){return t&&t.length===1?t[0]:new $n(Fs())}var Sm=new L("angularfire2._apps"),cL={provide:$n,useFactory:aL,deps:[[new nt,Sm]]},uL={provide:yi,deps:[[new nt,Sm]]};function lL(t){return(e,n)=>{let r=n.get(Ut);Ue("angularfire",mi.full,"core"),Ue("angularfire",mi.full,"app"),Ue("angular",zD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new $n(i)}}function ZW(t,...e){return Lt([cL,uL,{provide:Sm,useFactory:lL(t),multi:!0,deps:[ye,Qe,js,...e]}])}var XW=Yt(Cm,!0);function hC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var fC=hC,pC=new Un("auth","Firebase",hC());var Xl=new Rr("@firebase/auth");function dL(t,...e){Xl.logLevel<=de.WARN&&Xl.warn(`Auth (${xr}): ${t}`,...e)}function Ql(t,...e){Xl.logLevel<=de.ERROR&&Xl.error(`Auth (${xr}): ${t}`,...e)}function ln(t,...e){throw Jm(t,...e)}function vi(t,...e){return Jm(t,...e)}function gC(t,e,n){let r=Object.assign(Object.assign({},fC()),{[e]:n});return new Un("auth","Firebase",r).create(e,{appName:t.name})}function qn(t){return gC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pC.create(t,...e)}function W(t,e,...n){if(!t)throw Jm(e,...n)}function Hn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ql(e),new Error(e)}function Or(t,e){t||Hn(e)}function xm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function hL(){return YT()==="http:"||YT()==="https:"}function YT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function fL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hL()||RT()||"connection"in navigator)?navigator.onLine:!0}function pL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var _i=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Or(n>e,"Short delay should be less than long delay!"),this.isMobile=ST()||MT()}get(){return fL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Zm(t,e){Or(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var ed=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var gL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var mL=new _i(3e4,6e4);function kr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Gn(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){return mC(t,i,()=>w(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let g=Oa(Object.assign({key:t.config.apiKey},f)).slice(1),y=yield t._getAdditionalHeaders();return y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode),ed.fetch()(yC(t,t.config.apiHost,n,g),Object.assign({method:e,headers:y,referrerPolicy:"no-referrer"},l))}))})}function mC(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},gL),e);try{let i=new Pm(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Kl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kl(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Kl(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Kl(t,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw gC(t,f,l);ln(t,f)}}catch(i){if(i instanceof Rt)throw i;ln(t,"network-request-failed",{message:String(i)})}})}function qa(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield Gn(t,e,n,r,i);return"mfaPendingCredential"in l&&ln(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function yC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Zm(t.config,i):`${t.config.apiScheme}://${i}`}function yL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Pm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vi(this.auth,"network-request-failed")),mL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Kl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=vi(t,e,r);return i.customData._tokenResponse=n,i}function JT(t){return t!==void 0&&t.enterprise!==void 0}var Om=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function vL(t,e){return w(this,null,function*(){return Gn(t,"GET","/v2/recaptchaConfig",kr(t,e))})}function _L(t,e){return w(this,null,function*(){return Gn(t,"POST","/v1/accounts:delete",e)})}function vC(t,e){return w(this,null,function*(){return Gn(t,"POST","/v1/accounts:lookup",e)})}function ja(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Xm(t,e=!1){return w(this,null,function*(){let n=ft(t),r=yield n.getIdToken(e),i=ey(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ja(Rm(i.auth_time)),issuedAtTime:ja(Rm(i.iat)),expirationTime:ja(Rm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Rm(t){return Number(t)*1e3}function ey(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ql("JWT malformed, contained fewer than 3 sections"),null;try{let i=am(n);return i?JSON.parse(i):(Ql("Failed to decode base64 JWT payload"),null)}catch(i){return Ql("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ZT(t){let e=ey(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Us(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Rt&&IL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function IL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var km=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ba=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ja(this.lastLoginAt),this.creationTime=ja(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function td(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Us(t,vC(n,{idToken:r}));W(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?_C(s.providerUserInfo):[],a=wL(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,f=u?l:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ba(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,g)})}function ty(t){return w(this,null,function*(){let e=ft(t);yield td(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function wL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function _C(t){return t.map(e=>{var{providerId:n}=e,r=Zh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function EL(t,e){return w(this,null,function*(){let n=yield mC(t,{},()=>w(this,null,function*(){let r=Oa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=yC(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ed.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function DL(t,e){return w(this,null,function*(){return Gn(t,"POST","/v2/accounts:revokeToken",kr(t,e))})}var Ua=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){W(e.length!==0,"internal-error");let n=ZT(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield EL(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(W(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(W(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Hn("not implemented")}};function Pr(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Bs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Zh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new km(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ba(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield Us(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Xm(this,e)}reload(){return ty(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield td(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(Qt(this.auth.app))return Promise.reject(qn(this.auth));let e=yield this.getIdToken();return yield Us(this,_L(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,f;let g=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,I=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,O=(l=n.createdAt)!==null&&l!==void 0?l:void 0,$=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:G,emailVerified:z,isAnonymous:Ce,providerData:ee,stsTokenManager:E}=n;W(G&&E,e,"internal-error");let m=Ua.fromJSON(this.name,E);W(typeof G=="string",e,"internal-error"),Pr(g,e.name),Pr(y,e.name),W(typeof z=="boolean",e,"internal-error"),W(typeof Ce=="boolean",e,"internal-error"),Pr(I,e.name),Pr(A,e.name),Pr(x,e.name),Pr(R,e.name),Pr(O,e.name),Pr($,e.name);let v=new t({uid:G,auth:e,email:y,emailVerified:z,displayName:g,isAnonymous:Ce,photoURL:A,phoneNumber:I,tenantId:x,stsTokenManager:m,createdAt:O,lastLoginAt:$});return ee&&Array.isArray(ee)&&(v.providerData=ee.map(D=>Object.assign({},D))),R&&(v._redirectEventId=R),v}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new Ua;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield td(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];W(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?_C(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Ua;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ba(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var XT=new Map;function zn(t){Or(t instanceof Function,"Expected a class definition");let e=XT.get(t);return e?(Or(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,XT.set(t,e),e)}var bL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Fm=bL;function Yl(t,e,n){return`firebase:${t}:${e}:${n}`}var nd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Yl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Yl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Bs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(zn(Fm),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||zn(Fm),o=Yl(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let f=yield l._get(o);if(f){let g=Bs._fromJSON(e,f);l!==s&&(a=g),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function eC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TC(e))return"Blackberry";if(CC(e))return"Webos";if(wC(e))return"Safari";if((e.includes("chrome/")||EC(e))&&!e.includes("edge/"))return"Chrome";if(bC(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function IC(t=ze()){return/firefox\//i.test(t)}function wC(t=ze()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EC(t=ze()){return/crios\//i.test(t)}function DC(t=ze()){return/iemobile/i.test(t)}function bC(t=ze()){return/android/i.test(t)}function TC(t=ze()){return/blackberry/i.test(t)}function CC(t=ze()){return/webos/i.test(t)}function ny(t=ze()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function TL(t=ze()){var e;return ny(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function CL(){return NT()&&document.documentMode===10}function AC(t=ze()){return ny(t)||bC(t)||CC(t)||TC(t)||/windows phone/i.test(t)||DC(t)}function SC(t,e=[]){let n;switch(t){case"Browser":n=eC(ze());break;case"Worker":n=`${eC(ze())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xr}/${r}`}var Lm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function AL(n){return w(this,arguments,function*(t,e={}){return Gn(t,"GET","/v2/passwordPolicy",kr(t,e))})}var SL=6,Vm=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:SL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var jm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rd(this),this.idTokenSubscription=new rd(this),this.beforeStateQueue=new Lm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zn(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield nd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield vC(this,{idToken:e}),r=yield Bs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(Qt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield td(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=pL()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(Qt(this.app))return Promise.reject(qn(this));let n=e?ft(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return Qt(this.app)?Promise.reject(qn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Qt(this.app)?Promise.reject(qn(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(zn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield AL(this),n=new Vm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Un("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield DL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&zn(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=yield nd.create(this,[zn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&dL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function wi(t){return ft(t)}var rd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=kT(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ld={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RL(t){ld=t}function RC(t){return ld.loadJS(t)}function ML(){return ld.recaptchaEnterpriseScript}function NL(){return ld.gapiScript}function MC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var xL="recaptcha-enterprise",PL="NO_RECAPTCHA",Um=class{constructor(e){this.type=xL,this.auth=wi(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(s){return w(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>w(this,null,function*(){vL(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Om(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;JT(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(PL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&JT(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=ML();u.length!==0&&(u+=a),RC(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function tC(t,e,n,r=!1){return w(this,null,function*(){let i=new Um(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Bm(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield tC(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>w(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield tC(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function ry(t,e){let n=La(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(fi(s,e??{}))return i;ln(i,"already-initialized")}return n.initialize({options:e})}function OL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(zn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function iy(t,e,n){let r=wi(t);W(r._canInitEmulator,r,"emulator-config-failed"),W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=NC(e),{host:o,port:a}=kL(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||FL()}function NC(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function kL(t){let e=NC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:nC(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:nC(o)}}}function nC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function FL(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var $a=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hn("not implemented")}_getIdTokenResponse(e){return Hn("not implemented")}_linkToIdToken(e,n){return Hn("not implemented")}_getReauthenticationResolver(e){return Hn("not implemented")}};function LL(t,e){return w(this,null,function*(){return Gn(t,"POST","/v1/accounts:signUp",e)})}function VL(t,e){return w(this,null,function*(){return qa(t,"POST","/v1/accounts:signInWithPassword",kr(t,e))})}function jL(t,e){return w(this,null,function*(){return qa(t,"POST","/v1/accounts:signInWithEmailLink",kr(t,e))})}function UL(t,e){return w(this,null,function*(){return qa(t,"POST","/v1/accounts:signInWithEmailLink",kr(t,e))})}var Ha=class t extends $a{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,n,"signInWithPassword",VL);case"emailLink":return jL(e,{email:this._email,oobCode:this._password});default:ln(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,r,"signUpPassword",LL);case"emailLink":return UL(e,{idToken:n,email:this._email,oobCode:this._password});default:ln(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Mm(t,e){return w(this,null,function*(){return qa(t,"POST","/v1/accounts:signInWithIdp",kr(t,e))})}function BL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $L(t){let e=Os(ks(t)).link,n=e?Os(ks(e)).deep_link_id:null,r=Os(ks(t)).deep_link_id;return(r?Os(ks(r)).link:null)||r||n||e||t}var id=class t{constructor(e){var n,r,i,s,o,a;let u=Os(ks(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,g=BL((i=u.mode)!==null&&i!==void 0?i:null);W(l&&f&&g,"argument-error"),this.apiKey=l,this.operation=g,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=$L(e);try{return new t(n)}catch{return null}}};var xC=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Ha._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=id.parseLink(r);return W(i,"argument-error"),Ha._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),sd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var $m=class extends sd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function HL(t,e){return w(this,null,function*(){return qa(t,"POST","/v1/accounts:signUp",kr(t,e))})}var $s=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield Bs._fromIdTokenResponse(e,r,i),o=rC(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=rC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function rC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Hm=class t extends Rt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function PC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Hm._fromErrorAndOperation(t,s,e,r):s})}function zL(t,e,n=!1){return w(this,null,function*(){let r=yield Us(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return $s._forOperation(t,"link",r)})}function qL(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(Qt(r.app))return Promise.reject(qn(r));let i="reauthenticate";try{let s=yield Us(t,PC(r,i,e,t),n);W(s.idToken,r,"internal-error");let o=ey(s.idToken);W(o,r,"internal-error");let{sub:a}=o;return W(t.uid===a,r,"user-mismatch"),$s._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ln(r,"user-mismatch"),s}})}function OC(t,e,n=!1){return w(this,null,function*(){if(Qt(t.app))return Promise.reject(qn(t));let r="signIn",i=yield PC(t,r,e),s=yield $s._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function sy(t,e){return w(this,null,function*(){return OC(wi(t),e)})}function kC(t){return w(this,null,function*(){let e=wi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function oy(t,e,n){return w(this,null,function*(){if(Qt(t.app))return Promise.reject(qn(t));let r=wi(t),o=yield Bm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HL).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&kC(t),u}),a=yield $s._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function ay(t,e,n){return Qt(t.app)?Promise.reject(qn(t)):sy(ft(t),xC.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&kC(t),r}))}function GL(t,e){return w(this,null,function*(){return Gn(t,"POST","/v1/accounts:update",e)})}function cy(r,i){return w(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let s=ft(t),a={idToken:yield s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=yield Us(s,GL(s.auth,a));s.displayName=u.displayName||null,s.photoURL=u.photoUrl||null;let l=s.providerData.find(({providerId:f})=>f==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),yield s._updateTokensIfNecessary(u)})}function uy(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function ly(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}var od="__sak";var ad=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(od,"1"),this.storage.removeItem(od),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var WL=1e3,KL=10,QL=(()=>{class t extends ad{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AC(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);CL()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,KL):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},WL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield nr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield nr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield nr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),FC=QL;var YL=(()=>{class t extends ad{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),dy=YL;function JL(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var ZL=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(f=>w(this,null,function*(){return f(r.origin,o)})),l=yield JL(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function LC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var zm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=LC("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){let y=g;if(y.data.eventId===l)switch(y.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(y.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function un(){return window}function XL(t){un().location.href=t}function VC(){return typeof un().WorkerGlobalScope<"u"&&typeof un().importScripts=="function"}function eV(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function tV(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function nV(){return VC()?self:null}var jC="firebaseLocalStorageDb",rV=1,cd="firebaseLocalStorage",UC="fbase_key",Ii=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function dd(t,e){return t.transaction([cd],e?"readwrite":"readonly").objectStore(cd)}function iV(){let t=indexedDB.deleteDatabase(jC);return new Ii(t).toPromise()}function qm(){let t=indexedDB.open(jC,rV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(cd,{keyPath:UC})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(cd)?e(r):(r.close(),yield iV(),e(yield qm()))}))})}function iC(t,e,n){return w(this,null,function*(){let r=dd(t,!0).put({[UC]:e,value:n});return new Ii(r).toPromise()})}function sV(t,e){return w(this,null,function*(){let n=dd(t,!1).get(e),r=yield new Ii(n).toPromise();return r===void 0?null:r.value})}function sC(t,e){let n=dd(t,!0).delete(e);return new Ii(n).toPromise()}var oV=800,aV=3,cV=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield qm(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>aV)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return VC()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=ZL._getInstance(nV()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield eV(),!this.activeServiceWorker)return;this.sender=new zm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||tV()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield qm();return yield iC(n,od,"1"),yield sC(n,od),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>iC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>sV(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>sC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=dd(s,!1).getAll();return new Ii(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),oV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),BC=cV;var a9=MC("rcb"),c9=new _i(3e4,6e4);function uV(t,e){return e?zn(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var za=class extends $a{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function lV(t){return OC(t.auth,new za(t),t.bypassAuthState)}function dV(t){let{auth:e,user:n}=t;return W(n,e,"internal-error"),qL(n,new za(t),t.bypassAuthState)}function hV(t){return w(this,null,function*(){let{auth:e,user:n}=t;return W(n,e,"internal-error"),zL(n,new za(t),t.bypassAuthState)})}var Gm=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lV;case"linkViaPopup":case"linkViaRedirect":return hV;case"reauthViaPopup":case"reauthViaRedirect":return dV;default:ln(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var u9=new _i(2e3,1e4);var fV="pendingRedirect",Jl=new Map,Wm=class t extends Gm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=Jl.get(this.auth._key());if(!e){try{let r=(yield pV(this.resolver,this.auth))?yield nr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jl.set(this.auth._key(),e)}return this.bypassAuthState||Jl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return nr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,nr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function pV(t,e){return w(this,null,function*(){let n=yV(e),r=mV(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function gV(t,e){Jl.set(t._key(),e)}function mV(t){return zn(t._redirectPersistence)}function yV(t){return Yl(fV,t.config.apiKey,t.name)}function vV(t,e,n=!1){return w(this,null,function*(){if(Qt(t.app))return Promise.reject(qn(t));let r=wi(t),i=uV(r,e),o=yield new Wm(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var _V=10*60*1e3,Km=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!$C(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_V&&this.cachedEventUids.clear(),this.cachedEventUids.has(oC(e))}saveEventToCache(e){this.cachedEventUids.add(oC(e)),this.lastProcessedEventTime=Date.now()}};function oC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $C({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function IV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $C(t);default:return!1}}function wV(n){return w(this,arguments,function*(t,e={}){return Gn(t,"GET","/v1/projects",e)})}var EV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DV=/^https?/;function bV(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield wV(t);for(let n of e)try{if(TV(n))return}catch{}ln(t,"unauthorized-domain")})}function TV(t){let e=xm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!DV.test(n))return!1;if(EV.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var CV=new _i(3e4,6e4);function aC(){let t=un().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AV(t){return new Promise((e,n)=>{var r,i,s;function o(){aC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aC(),n(vi(t,"network-request-failed"))},timeout:CV.get()})}if(!((i=(r=un().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=un().gapi)===null||s===void 0)&&s.load)o();else{let a=MC("iframefcb");return un()[a]=()=>{gapi.load?o():n(vi(t,"network-request-failed"))},RC(`${NL()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Zl=null,e})}var Zl=null;function SV(t){return Zl=Zl||AV(t),Zl}var RV=new _i(5e3,15e3),MV="__/auth/iframe",NV="emulator/auth/iframe",xV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OV(t){let e=t.config;W(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Zm(e,NV):`https://${t.config.authDomain}/${MV}`,r={apiKey:e.apiKey,appName:t.name,v:xr},i=PV.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Oa(r).slice(1)}`}function kV(t){return w(this,null,function*(){let e=yield SV(t),n=un().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:OV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xV,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=vi(t,"network-request-failed"),a=un().setTimeout(()=>{s(o)},RV.get());function u(){un().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var FV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LV=500,VV=600,jV="_blank",UV="http://localhost",ud=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function BV(t,e,n,r=LV,i=VV){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},FV),{width:r.toString(),height:i.toString(),top:s,left:o}),l=ze().toLowerCase();n&&(a=EC(l)?jV:n),IC(l)&&(e=e||UV,u.scrollbars="yes");let f=Object.entries(u).reduce((y,[I,A])=>`${y}${I}=${A},`,"");if(TL(l)&&a!=="_self")return $V(e||"",a),new ud(null);let g=window.open(e||"",a,f);W(g,t,"popup-blocked");try{g.focus()}catch{}return new ud(g)}function $V(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var HV="__/auth/handler",zV="emulator/auth/handler",qV=encodeURIComponent("fac");function cC(t,e,n,r,i,s){return w(this,null,function*(){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xr,eventId:i};if(e instanceof sd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",OT(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,g]of Object.entries(s||{}))o[f]=g}if(e instanceof $m){let f=e.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let f of Object.keys(a))a[f]===void 0&&delete a[f];let u=yield t._getAppCheckToken(),l=u?`#${qV}=${encodeURIComponent(u)}`:"";return`${GV(t)}?${Oa(a).slice(1)}${l}`})}function GV({config:t}){return t.emulator?Zm(t,zV):`https://${t.authDomain}/${HV}`}var Nm="webStorageSupport",Qm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dy,this._completeRedirectFn=vV,this._overrideRedirectResult=gV}_openPopup(e,n,r,i){return w(this,null,function*(){var s;Or((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield cC(e,n,r,xm(),i);return BV(e,o,LC())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield cC(e,n,r,xm(),i);return XL(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Or(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield kV(e),r=new Km(e);return n.register("authEvent",i=>(W(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nm,{type:Nm},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Nm];o!==void 0&&n(!!o),ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return AC()||wC()||ny()}},HC=Qm;var uC="@firebase/auth",lC="1.7.8";var Ym=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function WV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KV(t){Nr(new $t("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;W(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SC(t)},l=new jm(r,i,s,u);return OL(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Nr(new $t("auth-internal",e=>{let n=wi(e.getProvider("auth").getImmediate());return(r=>new Ym(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ue(uC,lC,WV(t)),Ue(uC,lC,"esm2017")}var QV=5*60,YV=lm("authIdTokenMaxAge")||QV,dC=null,JV=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>YV)return;let i=n?.token;dC!==i&&(dC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function hy(t=Fs()){let e=La(t,"auth");if(e.isInitialized())return e.getImmediate();let n=ry(t,{popupRedirectResolver:HC,persistence:[BC,FC,dy]}),r=lm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=JV(s.toString());ly(n,o,()=>o(n.currentUser)),uy(n,a=>o(a))}}let i=cm("auth");return i&&iy(n,`http://${i}`),n}function ZV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}RL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=vi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",ZV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KV("Browser");var zC="auth",Ei=class{constructor(e){return e}},Ga=class{constructor(){return Va(zC)}};var fy=new L("angularfire2.auth-instances");function $j(t,e){let n=Gl(zC,t,e);return n&&new Ei(n)}function Hj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ei(r)}}var zj={provide:Ga,deps:[[new nt,fy]]},qj={provide:Ei,useFactory:$j,deps:[[new nt,fy],$n]};function G9(t,...e){return Ue("angularfire",mi.full,"auth"),Lt([qj,zj,{provide:fy,useFactory:Hj(t),multi:!0,deps:[ye,Qe,js,yi,[new nt,Vs],...e]}])}var W9=Yt(oy,!0);var K9=Yt(hy,!0);var Q9=Yt(ay,!0);var Y9=Yt(cy,!0);var qC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},GC={};var py,WC;(function(){var t;function e(E,m){function v(){}v.prototype=m.prototype,E.D=m.prototype,E.prototype=new v,E.prototype.constructor=E,E.C=function(D,b,C){for(var _=Array(arguments.length-2),yn=2;yn<arguments.length;yn++)_[yn-2]=arguments[yn];return m.prototype[b].apply(D,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,m,v){v||(v=0);var D=Array(16);if(typeof m=="string")for(var b=0;16>b;++b)D[b]=m.charCodeAt(v++)|m.charCodeAt(v++)<<8|m.charCodeAt(v++)<<16|m.charCodeAt(v++)<<24;else for(b=0;16>b;++b)D[b]=m[v++]|m[v++]<<8|m[v++]<<16|m[v++]<<24;m=E.g[0],v=E.g[1],b=E.g[2];var C=E.g[3],_=m+(C^v&(b^C))+D[0]+3614090360&4294967295;m=v+(_<<7&4294967295|_>>>25),_=C+(b^m&(v^b))+D[1]+3905402710&4294967295,C=m+(_<<12&4294967295|_>>>20),_=b+(v^C&(m^v))+D[2]+606105819&4294967295,b=C+(_<<17&4294967295|_>>>15),_=v+(m^b&(C^m))+D[3]+3250441966&4294967295,v=b+(_<<22&4294967295|_>>>10),_=m+(C^v&(b^C))+D[4]+4118548399&4294967295,m=v+(_<<7&4294967295|_>>>25),_=C+(b^m&(v^b))+D[5]+1200080426&4294967295,C=m+(_<<12&4294967295|_>>>20),_=b+(v^C&(m^v))+D[6]+2821735955&4294967295,b=C+(_<<17&4294967295|_>>>15),_=v+(m^b&(C^m))+D[7]+4249261313&4294967295,v=b+(_<<22&4294967295|_>>>10),_=m+(C^v&(b^C))+D[8]+1770035416&4294967295,m=v+(_<<7&4294967295|_>>>25),_=C+(b^m&(v^b))+D[9]+2336552879&4294967295,C=m+(_<<12&4294967295|_>>>20),_=b+(v^C&(m^v))+D[10]+4294925233&4294967295,b=C+(_<<17&4294967295|_>>>15),_=v+(m^b&(C^m))+D[11]+2304563134&4294967295,v=b+(_<<22&4294967295|_>>>10),_=m+(C^v&(b^C))+D[12]+1804603682&4294967295,m=v+(_<<7&4294967295|_>>>25),_=C+(b^m&(v^b))+D[13]+4254626195&4294967295,C=m+(_<<12&4294967295|_>>>20),_=b+(v^C&(m^v))+D[14]+2792965006&4294967295,b=C+(_<<17&4294967295|_>>>15),_=v+(m^b&(C^m))+D[15]+1236535329&4294967295,v=b+(_<<22&4294967295|_>>>10),_=m+(b^C&(v^b))+D[1]+4129170786&4294967295,m=v+(_<<5&4294967295|_>>>27),_=C+(v^b&(m^v))+D[6]+3225465664&4294967295,C=m+(_<<9&4294967295|_>>>23),_=b+(m^v&(C^m))+D[11]+643717713&4294967295,b=C+(_<<14&4294967295|_>>>18),_=v+(C^m&(b^C))+D[0]+3921069994&4294967295,v=b+(_<<20&4294967295|_>>>12),_=m+(b^C&(v^b))+D[5]+3593408605&4294967295,m=v+(_<<5&4294967295|_>>>27),_=C+(v^b&(m^v))+D[10]+38016083&4294967295,C=m+(_<<9&4294967295|_>>>23),_=b+(m^v&(C^m))+D[15]+3634488961&4294967295,b=C+(_<<14&4294967295|_>>>18),_=v+(C^m&(b^C))+D[4]+3889429448&4294967295,v=b+(_<<20&4294967295|_>>>12),_=m+(b^C&(v^b))+D[9]+568446438&4294967295,m=v+(_<<5&4294967295|_>>>27),_=C+(v^b&(m^v))+D[14]+3275163606&4294967295,C=m+(_<<9&4294967295|_>>>23),_=b+(m^v&(C^m))+D[3]+4107603335&4294967295,b=C+(_<<14&4294967295|_>>>18),_=v+(C^m&(b^C))+D[8]+1163531501&4294967295,v=b+(_<<20&4294967295|_>>>12),_=m+(b^C&(v^b))+D[13]+2850285829&4294967295,m=v+(_<<5&4294967295|_>>>27),_=C+(v^b&(m^v))+D[2]+4243563512&4294967295,C=m+(_<<9&4294967295|_>>>23),_=b+(m^v&(C^m))+D[7]+1735328473&4294967295,b=C+(_<<14&4294967295|_>>>18),_=v+(C^m&(b^C))+D[12]+2368359562&4294967295,v=b+(_<<20&4294967295|_>>>12),_=m+(v^b^C)+D[5]+4294588738&4294967295,m=v+(_<<4&4294967295|_>>>28),_=C+(m^v^b)+D[8]+2272392833&4294967295,C=m+(_<<11&4294967295|_>>>21),_=b+(C^m^v)+D[11]+1839030562&4294967295,b=C+(_<<16&4294967295|_>>>16),_=v+(b^C^m)+D[14]+4259657740&4294967295,v=b+(_<<23&4294967295|_>>>9),_=m+(v^b^C)+D[1]+2763975236&4294967295,m=v+(_<<4&4294967295|_>>>28),_=C+(m^v^b)+D[4]+1272893353&4294967295,C=m+(_<<11&4294967295|_>>>21),_=b+(C^m^v)+D[7]+4139469664&4294967295,b=C+(_<<16&4294967295|_>>>16),_=v+(b^C^m)+D[10]+3200236656&4294967295,v=b+(_<<23&4294967295|_>>>9),_=m+(v^b^C)+D[13]+681279174&4294967295,m=v+(_<<4&4294967295|_>>>28),_=C+(m^v^b)+D[0]+3936430074&4294967295,C=m+(_<<11&4294967295|_>>>21),_=b+(C^m^v)+D[3]+3572445317&4294967295,b=C+(_<<16&4294967295|_>>>16),_=v+(b^C^m)+D[6]+76029189&4294967295,v=b+(_<<23&4294967295|_>>>9),_=m+(v^b^C)+D[9]+3654602809&4294967295,m=v+(_<<4&4294967295|_>>>28),_=C+(m^v^b)+D[12]+3873151461&4294967295,C=m+(_<<11&4294967295|_>>>21),_=b+(C^m^v)+D[15]+530742520&4294967295,b=C+(_<<16&4294967295|_>>>16),_=v+(b^C^m)+D[2]+3299628645&4294967295,v=b+(_<<23&4294967295|_>>>9),_=m+(b^(v|~C))+D[0]+4096336452&4294967295,m=v+(_<<6&4294967295|_>>>26),_=C+(v^(m|~b))+D[7]+1126891415&4294967295,C=m+(_<<10&4294967295|_>>>22),_=b+(m^(C|~v))+D[14]+2878612391&4294967295,b=C+(_<<15&4294967295|_>>>17),_=v+(C^(b|~m))+D[5]+4237533241&4294967295,v=b+(_<<21&4294967295|_>>>11),_=m+(b^(v|~C))+D[12]+1700485571&4294967295,m=v+(_<<6&4294967295|_>>>26),_=C+(v^(m|~b))+D[3]+2399980690&4294967295,C=m+(_<<10&4294967295|_>>>22),_=b+(m^(C|~v))+D[10]+4293915773&4294967295,b=C+(_<<15&4294967295|_>>>17),_=v+(C^(b|~m))+D[1]+2240044497&4294967295,v=b+(_<<21&4294967295|_>>>11),_=m+(b^(v|~C))+D[8]+1873313359&4294967295,m=v+(_<<6&4294967295|_>>>26),_=C+(v^(m|~b))+D[15]+4264355552&4294967295,C=m+(_<<10&4294967295|_>>>22),_=b+(m^(C|~v))+D[6]+2734768916&4294967295,b=C+(_<<15&4294967295|_>>>17),_=v+(C^(b|~m))+D[13]+1309151649&4294967295,v=b+(_<<21&4294967295|_>>>11),_=m+(b^(v|~C))+D[4]+4149444226&4294967295,m=v+(_<<6&4294967295|_>>>26),_=C+(v^(m|~b))+D[11]+3174756917&4294967295,C=m+(_<<10&4294967295|_>>>22),_=b+(m^(C|~v))+D[2]+718787259&4294967295,b=C+(_<<15&4294967295|_>>>17),_=v+(C^(b|~m))+D[9]+3951481745&4294967295,E.g[0]=E.g[0]+m&4294967295,E.g[1]=E.g[1]+(b+(_<<21&4294967295|_>>>11))&4294967295,E.g[2]=E.g[2]+b&4294967295,E.g[3]=E.g[3]+C&4294967295}r.prototype.u=function(E,m){m===void 0&&(m=E.length);for(var v=m-this.blockSize,D=this.B,b=this.h,C=0;C<m;){if(b==0)for(;C<=v;)i(this,E,C),C+=this.blockSize;if(typeof E=="string"){for(;C<m;)if(D[b++]=E.charCodeAt(C++),b==this.blockSize){i(this,D),b=0;break}}else for(;C<m;)if(D[b++]=E[C++],b==this.blockSize){i(this,D),b=0;break}}this.h=b,this.o+=m},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var m=1;m<E.length-8;++m)E[m]=0;var v=8*this.o;for(m=E.length-8;m<E.length;++m)E[m]=v&255,v/=256;for(this.u(E),E=Array(16),m=v=0;4>m;++m)for(var D=0;32>D;D+=8)E[v++]=this.g[m]>>>D&255;return E};function s(E,m){var v=a;return Object.prototype.hasOwnProperty.call(v,E)?v[E]:v[E]=m(E)}function o(E,m){this.h=m;for(var v=[],D=!0,b=E.length-1;0<=b;b--){var C=E[b]|0;D&&C==m||(v[b]=C,D=!1)}this.g=v}var a={};function u(E){return-128<=E&&128>E?s(E,function(m){return new o([m|0],0>m?-1:0)}):new o([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return g;if(0>E)return R(l(-E));for(var m=[],v=1,D=0;E>=v;D++)m[D]=E/v|0,v*=4294967296;return new o(m,0)}function f(E,m){if(E.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(E.charAt(0)=="-")return R(f(E.substring(1),m));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=l(Math.pow(m,8)),D=g,b=0;b<E.length;b+=8){var C=Math.min(8,E.length-b),_=parseInt(E.substring(b,b+C),m);8>C?(C=l(Math.pow(m,C)),D=D.j(C).add(l(_))):(D=D.j(v),D=D.add(l(_)))}return D}var g=u(0),y=u(1),I=u(16777216);t=o.prototype,t.m=function(){if(x(this))return-R(this).m();for(var E=0,m=1,v=0;v<this.g.length;v++){var D=this.i(v);E+=(0<=D?D:4294967296+D)*m,m*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A(this))return"0";if(x(this))return"-"+R(this).toString(E);for(var m=l(Math.pow(E,6)),v=this,D="";;){var b=z(v,m).g;v=O(v,b.j(m));var C=((0<v.g.length?v.g[0]:v.h)>>>0).toString(E);if(v=b,A(v))return C+D;for(;6>C.length;)C="0"+C;D=C+D}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function A(E){if(E.h!=0)return!1;for(var m=0;m<E.g.length;m++)if(E.g[m]!=0)return!1;return!0}function x(E){return E.h==-1}t.l=function(E){return E=O(this,E),x(E)?-1:A(E)?0:1};function R(E){for(var m=E.g.length,v=[],D=0;D<m;D++)v[D]=~E.g[D];return new o(v,~E.h).add(y)}t.abs=function(){return x(this)?R(this):this},t.add=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],D=0,b=0;b<=m;b++){var C=D+(this.i(b)&65535)+(E.i(b)&65535),_=(C>>>16)+(this.i(b)>>>16)+(E.i(b)>>>16);D=_>>>16,C&=65535,_&=65535,v[b]=_<<16|C}return new o(v,v[v.length-1]&-2147483648?-1:0)};function O(E,m){return E.add(R(m))}t.j=function(E){if(A(this)||A(E))return g;if(x(this))return x(E)?R(this).j(R(E)):R(R(this).j(E));if(x(E))return R(this.j(R(E)));if(0>this.l(I)&&0>E.l(I))return l(this.m()*E.m());for(var m=this.g.length+E.g.length,v=[],D=0;D<2*m;D++)v[D]=0;for(D=0;D<this.g.length;D++)for(var b=0;b<E.g.length;b++){var C=this.i(D)>>>16,_=this.i(D)&65535,yn=E.i(b)>>>16,po=E.i(b)&65535;v[2*D+2*b]+=_*po,$(v,2*D+2*b),v[2*D+2*b+1]+=C*po,$(v,2*D+2*b+1),v[2*D+2*b+1]+=_*yn,$(v,2*D+2*b+1),v[2*D+2*b+2]+=C*yn,$(v,2*D+2*b+2)}for(D=0;D<m;D++)v[D]=v[2*D+1]<<16|v[2*D];for(D=m;D<2*m;D++)v[D]=0;return new o(v,0)};function $(E,m){for(;(E[m]&65535)!=E[m];)E[m+1]+=E[m]>>>16,E[m]&=65535,m++}function G(E,m){this.g=E,this.h=m}function z(E,m){if(A(m))throw Error("division by zero");if(A(E))return new G(g,g);if(x(E))return m=z(R(E),m),new G(R(m.g),R(m.h));if(x(m))return m=z(E,R(m)),new G(R(m.g),m.h);if(30<E.g.length){if(x(E)||x(m))throw Error("slowDivide_ only works with positive integers.");for(var v=y,D=m;0>=D.l(E);)v=Ce(v),D=Ce(D);var b=ee(v,1),C=ee(D,1);for(D=ee(D,2),v=ee(v,2);!A(D);){var _=C.add(D);0>=_.l(E)&&(b=b.add(v),C=_),D=ee(D,1),v=ee(v,1)}return m=O(E,b.j(m)),new G(b,m)}for(b=g;0<=E.l(m);){for(v=Math.max(1,Math.floor(E.m()/m.m())),D=Math.ceil(Math.log(v)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),C=l(v),_=C.j(m);x(_)||0<_.l(E);)v-=D,C=l(v),_=C.j(m);A(C)&&(C=y),b=b.add(C),E=O(E,_)}return new G(b,E)}t.A=function(E){return z(this,E).h},t.and=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],D=0;D<m;D++)v[D]=this.i(D)&E.i(D);return new o(v,this.h&E.h)},t.or=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],D=0;D<m;D++)v[D]=this.i(D)|E.i(D);return new o(v,this.h|E.h)},t.xor=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],D=0;D<m;D++)v[D]=this.i(D)^E.i(D);return new o(v,this.h^E.h)};function Ce(E){for(var m=E.g.length+1,v=[],D=0;D<m;D++)v[D]=E.i(D)<<1|E.i(D-1)>>>31;return new o(v,E.h)}function ee(E,m){var v=m>>5;m%=32;for(var D=E.g.length-v,b=[],C=0;C<D;C++)b[C]=0<m?E.i(C+v)>>>m|E.i(C+v+1)<<32-m:E.i(C+v);return new o(b,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,WC=GC.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=f,py=GC.Integer=o}).apply(typeof qC<"u"?qC:typeof self<"u"?self:typeof window<"u"?window:{});var hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wn={};var gy,my,Hs,yy,Wa,fd,vy,_y,Iy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,h){return c==Array.prototype||c==Object.prototype||(c[d]=h.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof hd=="object"&&hd];for(var d=0;d<c.length;++d){var h=c[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var h=r;c=c.split(".");for(var p=0;p<c.length-1;p++){var T=c[p];if(!(T in h))break e;h=h[T]}c=c[c.length-1],p=h[c],d=d(p),d!=p&&d!=null&&e(h,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var h=0,p=!1,T={next:function(){if(!p&&h<c.length){var S=h++;return{value:d(S,c[S]),done:!1}}return p=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,h){return h})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function f(c,d,h){return c.call.apply(c.bind,arguments)}function g(c,d,h){if(!c)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,p),c.apply(d,T)}}return function(){return c.apply(d,arguments)}}function y(c,d,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,y.apply(null,arguments)}function I(c,d){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),c.apply(this,p)}}function A(c,d){function h(){}h.prototype=d.prototype,c.aa=d.prototype,c.prototype=new h,c.prototype.constructor=c,c.Qb=function(p,T,S){for(var k=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)k[Ie-2]=arguments[Ie];return d.prototype[T].apply(p,k)}}function x(c){let d=c.length;if(0<d){let h=Array(d);for(let p=0;p<d;p++)h[p]=c[p];return h}return[]}function R(c,d){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let T=c.length||0,S=p.length||0;c.length=T+S;for(let k=0;k<S;k++)c[T+k]=p[k]}else c.push(p)}}class O{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function $(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function z(c){return z[" "](c),c}z[" "]=function(){};var Ce=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ee(c,d,h){for(let p in c)d.call(h,c[p],p,c)}function E(c,d){for(let h in c)d.call(void 0,c[h],h,c)}function m(c){let d={};for(let h in c)d[h]=c[h];return d}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,d){let h,p;for(let T=1;T<arguments.length;T++){p=arguments[T];for(h in p)c[h]=p[h];for(let S=0;S<v.length;S++)h=v[S],Object.prototype.hasOwnProperty.call(p,h)&&(c[h]=p[h])}}function b(c){var d=1;c=c.split(":");let h=[];for(;0<d&&c.length;)h.push(c.shift()),d--;return c.length&&h.push(c.join(":")),h}function C(c){a.setTimeout(()=>{throw c},0)}function _(){var c=ch;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class yn{constructor(){this.h=this.g=null}add(d,h){let p=po.get();p.set(d,h),this.h?this.h.next=p:this.g=p,this.h=p}}var po=new O(()=>new FA,c=>c.reset());class FA{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let go,mo=!1,ch=new yn,o_=()=>{let c=a.Promise.resolve(void 0);go=()=>{c.then(LA)}};var LA=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(h){C(h)}var d=po;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}mo=!1};function Zn(){this.s=this.s,this.C=this.C}Zn.prototype.s=!1,Zn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Zn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ze(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Ze.prototype.h=function(){this.defaultPrevented=!0};var VA=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let h=()=>{};a.addEventListener("test",h,d),a.removeEventListener("test",h,d)}catch{}return c}();function yo(c,d){if(Ze.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var h=this.type=c.type,p=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ce){e:{try{z(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else h=="mouseover"?d=c.fromElement:h=="mouseout"&&(d=c.toElement);this.relatedTarget=d,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:jA[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&yo.aa.h.call(this)}}A(yo,Ze);var jA={2:"touch",3:"pen",4:"mouse"};yo.prototype.h=function(){yo.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var vo="closure_listenable_"+(1e6*Math.random()|0),UA=0;function BA(c,d,h,p,T){this.listener=c,this.proxy=null,this.src=d,this.type=h,this.capture=!!p,this.ha=T,this.key=++UA,this.da=this.fa=!1}function fc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function pc(c){this.src=c,this.g={},this.h=0}pc.prototype.add=function(c,d,h,p,T){var S=c.toString();c=this.g[S],c||(c=this.g[S]=[],this.h++);var k=lh(c,d,p,T);return-1<k?(d=c[k],h||(d.fa=!1)):(d=new BA(d,this.src,S,!!p,T),d.fa=h,c.push(d)),d};function uh(c,d){var h=d.type;if(h in c.g){var p=c.g[h],T=Array.prototype.indexOf.call(p,d,void 0),S;(S=0<=T)&&Array.prototype.splice.call(p,T,1),S&&(fc(d),c.g[h].length==0&&(delete c.g[h],c.h--))}}function lh(c,d,h,p){for(var T=0;T<c.length;++T){var S=c[T];if(!S.da&&S.listener==d&&S.capture==!!h&&S.ha==p)return T}return-1}var dh="closure_lm_"+(1e6*Math.random()|0),hh={};function a_(c,d,h,p,T){if(p&&p.once)return u_(c,d,h,p,T);if(Array.isArray(d)){for(var S=0;S<d.length;S++)a_(c,d[S],h,p,T);return null}return h=mh(h),c&&c[vo]?c.K(d,h,l(p)?!!p.capture:!!p,T):c_(c,d,h,!1,p,T)}function c_(c,d,h,p,T,S){if(!d)throw Error("Invalid event type");var k=l(T)?!!T.capture:!!T,Ie=ph(c);if(Ie||(c[dh]=Ie=new pc(c)),h=Ie.add(d,h,p,k,S),h.proxy)return h;if(p=$A(),h.proxy=p,p.src=c,p.listener=h,c.addEventListener)VA||(T=k),T===void 0&&(T=!1),c.addEventListener(d.toString(),p,T);else if(c.attachEvent)c.attachEvent(d_(d.toString()),p);else if(c.addListener&&c.removeListener)c.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function $A(){function c(h){return d.call(c.src,c.listener,h)}let d=HA;return c}function u_(c,d,h,p,T){if(Array.isArray(d)){for(var S=0;S<d.length;S++)u_(c,d[S],h,p,T);return null}return h=mh(h),c&&c[vo]?c.L(d,h,l(p)?!!p.capture:!!p,T):c_(c,d,h,!0,p,T)}function l_(c,d,h,p,T){if(Array.isArray(d))for(var S=0;S<d.length;S++)l_(c,d[S],h,p,T);else p=l(p)?!!p.capture:!!p,h=mh(h),c&&c[vo]?(c=c.i,d=String(d).toString(),d in c.g&&(S=c.g[d],h=lh(S,h,p,T),-1<h&&(fc(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete c.g[d],c.h--)))):c&&(c=ph(c))&&(d=c.g[d.toString()],c=-1,d&&(c=lh(d,h,p,T)),(h=-1<c?d[c]:null)&&fh(h))}function fh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[vo])uh(d.i,c);else{var h=c.type,p=c.proxy;d.removeEventListener?d.removeEventListener(h,p,c.capture):d.detachEvent?d.detachEvent(d_(h),p):d.addListener&&d.removeListener&&d.removeListener(p),(h=ph(d))?(uh(h,c),h.h==0&&(h.src=null,d[dh]=null)):fc(c)}}}function d_(c){return c in hh?hh[c]:hh[c]="on"+c}function HA(c,d){if(c.da)c=!0;else{d=new yo(d,this);var h=c.listener,p=c.ha||c.src;c.fa&&fh(c),c=h.call(p,d)}return c}function ph(c){return c=c[dh],c instanceof pc?c:null}var gh="__closure_events_fn_"+(1e9*Math.random()>>>0);function mh(c){return typeof c=="function"?c:(c[gh]||(c[gh]=function(d){return c.handleEvent(d)}),c[gh])}function Xe(){Zn.call(this),this.i=new pc(this),this.M=this,this.F=null}A(Xe,Zn),Xe.prototype[vo]=!0,Xe.prototype.removeEventListener=function(c,d,h,p){l_(this,c,d,h,p)};function ot(c,d){var h,p=c.F;if(p)for(h=[];p;p=p.F)h.push(p);if(c=c.M,p=d.type||d,typeof d=="string")d=new Ze(d,c);else if(d instanceof Ze)d.target=d.target||c;else{var T=d;d=new Ze(p,c),D(d,T)}if(T=!0,h)for(var S=h.length-1;0<=S;S--){var k=d.g=h[S];T=gc(k,p,!0,d)&&T}if(k=d.g=c,T=gc(k,p,!0,d)&&T,T=gc(k,p,!1,d)&&T,h)for(S=0;S<h.length;S++)k=d.g=h[S],T=gc(k,p,!1,d)&&T}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var h=c.g[d],p=0;p<h.length;p++)fc(h[p]);delete c.g[d],c.h--}}this.F=null},Xe.prototype.K=function(c,d,h,p){return this.i.add(String(c),d,!1,h,p)},Xe.prototype.L=function(c,d,h,p){return this.i.add(String(c),d,!0,h,p)};function gc(c,d,h,p){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,S=0;S<d.length;++S){var k=d[S];if(k&&!k.da&&k.capture==h){var Ie=k.listener,We=k.ha||k.src;k.fa&&uh(c.i,k),T=Ie.call(We,p)!==!1&&T}}return T&&!p.defaultPrevented}function h_(c,d,h){if(typeof c=="function")h&&(c=y(c,h));else if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function f_(c){c.g=h_(()=>{c.g=null,c.i&&(c.i=!1,f_(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class zA extends Zn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:f_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _o(c){Zn.call(this),this.h=c,this.g={}}A(_o,Zn);var p_=[];function g_(c){ee(c.g,function(d,h){this.g.hasOwnProperty(h)&&fh(d)},c),c.g={}}_o.prototype.N=function(){_o.aa.N.call(this),g_(this)},_o.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yh=a.JSON.stringify,qA=a.JSON.parse,GA=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function vh(){}vh.prototype.h=null;function m_(c){return c.h||(c.h=c.i())}function y_(){}var Io={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _h(){Ze.call(this,"d")}A(_h,Ze);function Ih(){Ze.call(this,"c")}A(Ih,Ze);var Br={},v_=null;function mc(){return v_=v_||new Xe}Br.La="serverreachability";function __(c){Ze.call(this,Br.La,c)}A(__,Ze);function wo(c){let d=mc();ot(d,new __(d))}Br.STAT_EVENT="statevent";function I_(c,d){Ze.call(this,Br.STAT_EVENT,c),this.stat=d}A(I_,Ze);function at(c){let d=mc();ot(d,new I_(d,c))}Br.Ma="timingevent";function w_(c,d){Ze.call(this,Br.Ma,c),this.size=d}A(w_,Ze);function Eo(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Do(){this.g=!0}Do.prototype.xa=function(){this.g=!1};function WA(c,d,h,p,T,S){c.info(function(){if(c.g)if(S)for(var k="",Ie=S.split("&"),We=0;We<Ie.length;We++){var me=Ie[We].split("=");if(1<me.length){var et=me[0];me=me[1];var tt=et.split("_");k=2<=tt.length&&tt[1]=="type"?k+(et+"="+me+"&"):k+(et+"=redacted&")}}else k=null;else k=S;return"XMLHTTP REQ ("+p+") [attempt "+T+"]: "+d+`
`+h+`
`+k})}function KA(c,d,h,p,T,S,k){c.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+T+"]: "+d+`
`+h+`
`+S+" "+k})}function Pi(c,d,h,p){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+YA(c,h)+(p?" "+p:"")})}function QA(c,d){c.info(function(){return"TIMEOUT: "+d})}Do.prototype.info=function(){};function YA(c,d){if(!c.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(c=0;c<h.length;c++)if(Array.isArray(h[c])){var p=h[c];if(!(2>p.length)){var T=p[1];if(Array.isArray(T)&&!(1>T.length)){var S=T[0];if(S!="noop"&&S!="stop"&&S!="close")for(var k=1;k<T.length;k++)T[k]=""}}}}return yh(h)}catch{return d}}var yc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},E_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wh;function vc(){}A(vc,vh),vc.prototype.g=function(){return new XMLHttpRequest},vc.prototype.i=function(){return{}},wh=new vc;function Xn(c,d,h,p){this.j=c,this.i=d,this.l=h,this.R=p||1,this.U=new _o(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new D_}function D_(){this.i=null,this.g="",this.h=!1}var b_={},Eh={};function Dh(c,d,h){c.L=1,c.v=Ec(vn(d)),c.m=h,c.P=!0,T_(c,null)}function T_(c,d){c.F=Date.now(),_c(c),c.A=vn(c.v);var h=c.A,p=c.R;Array.isArray(p)||(p=[String(p)]),j_(h.i,"t",p),c.C=0,h=c.j.J,c.h=new D_,c.g=rI(c.j,h?d:null,!c.m),0<c.O&&(c.M=new zA(y(c.Y,c,c.g),c.O)),d=c.U,h=c.g,p=c.ca;var T="readystatechange";Array.isArray(T)||(T&&(p_[0]=T.toString()),T=p_);for(var S=0;S<T.length;S++){var k=a_(h,T[S],p||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=c.H?m(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),wo(),WA(c.i,c.u,c.A,c.l,c.R,c.m)}Xn.prototype.ca=function(c){c=c.target;let d=this.M;d&&_n(c)==3?d.j():this.Y(c)},Xn.prototype.Y=function(c){try{if(c==this.g)e:{let tt=_n(this.g);var d=this.g.Ba();let Fi=this.g.Z();if(!(3>tt)&&(tt!=3||this.g&&(this.h.h||this.g.oa()||G_(this.g)))){this.J||tt!=4||d==7||(d==8||0>=Fi?wo(3):wo(2)),bh(this);var h=this.g.Z();this.X=h;t:if(C_(this)){var p=G_(this.g);c="";var T=p.length,S=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$r(this),bo(this);var k="";break t}this.h.i=new a.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,c+=this.h.i.decode(p[d],{stream:!(S&&d==T-1)});p.length=0,this.h.g+=c,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=h==200,KA(this.i,this.u,this.A,this.l,this.R,tt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,We=this.g;if((Ie=We.g?We.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Ie)){var me=Ie;break t}}me=null}if(h=me)Pi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Th(this,h);else{this.o=!1,this.s=3,at(12),$r(this),bo(this);break e}}if(this.P){h=!0;let Ht;for(;!this.J&&this.C<k.length;)if(Ht=JA(this,k),Ht==Eh){tt==4&&(this.s=4,at(14),h=!1),Pi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==b_){this.s=4,at(15),Pi(this.i,this.l,k,"[Invalid Chunk]"),h=!1;break}else Pi(this.i,this.l,Ht,null),Th(this,Ht);if(C_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tt!=4||k.length!=0||this.h.h||(this.s=1,at(16),h=!1),this.o=this.o&&h,!h)Pi(this.i,this.l,k,"[Invalid Chunked Response]"),$r(this),bo(this);else if(0<k.length&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.ba&&!et.M&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Nh(et),et.M=!0,at(11))}}else Pi(this.i,this.l,k,null),Th(this,k);tt==4&&$r(this),this.o&&!this.J&&(tt==4?X_(this.j,this):(this.o=!1,_c(this)))}else pS(this.g),h==400&&0<k.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),$r(this),bo(this)}}}catch{}finally{}};function C_(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function JA(c,d){var h=c.C,p=d.indexOf(`
`,h);return p==-1?Eh:(h=Number(d.substring(h,p)),isNaN(h)?b_:(p+=1,p+h>d.length?Eh:(d=d.slice(p,p+h),c.C=p+h,d)))}Xn.prototype.cancel=function(){this.J=!0,$r(this)};function _c(c){c.S=Date.now()+c.I,A_(c,c.I)}function A_(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Eo(y(c.ba,c),d)}function bh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Xn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(QA(this.i,this.A),this.L!=2&&(wo(),at(17)),$r(this),this.s=2,bo(this)):A_(this,this.S-c)};function bo(c){c.j.G==0||c.J||X_(c.j,c)}function $r(c){bh(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,g_(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Th(c,d){try{var h=c.j;if(h.G!=0&&(h.g==c||Ch(h.h,c))){if(!c.K&&Ch(h.h,c)&&h.G==3){try{var p=h.Da.g.parse(d)}catch{p=null}if(Array.isArray(p)&&p.length==3){var T=p;if(T[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<c.F)Ac(h),Tc(h);else break e;Mh(h),at(18)}}else h.za=T[1],0<h.za-h.T&&37500>T[2]&&h.F&&h.v==0&&!h.C&&(h.C=Eo(y(h.Za,h),6e3));if(1>=M_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else zr(h,11)}else if((c.K||h.g==c)&&Ac(h),!$(d))for(T=h.Da.g.parse(d),d=0;d<T.length;d++){let me=T[d];if(h.T=me[0],me=me[1],h.G==2)if(me[0]=="c"){h.K=me[1],h.ia=me[2];let et=me[3];et!=null&&(h.la=et,h.j.info("VER="+h.la));let tt=me[4];tt!=null&&(h.Aa=tt,h.j.info("SVER="+h.Aa));let Fi=me[5];Fi!=null&&typeof Fi=="number"&&0<Fi&&(p=1.5*Fi,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let Ht=c.g;if(Ht){let Rc=Ht.g?Ht.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rc){var S=p.h;S.g||Rc.indexOf("spdy")==-1&&Rc.indexOf("quic")==-1&&Rc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Ah(S,S.h),S.h=null))}if(p.D){let xh=Ht.g?Ht.g.getResponseHeader("X-HTTP-Session-Id"):null;xh&&(p.ya=xh,be(p.I,p.D,xh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-c.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var k=c;if(p.qa=nI(p,p.J?p.ia:null,p.W),k.K){N_(p.h,k);var Ie=k,We=p.L;We&&(Ie.I=We),Ie.B&&(bh(Ie),_c(Ie)),p.g=k}else J_(p);0<h.i.length&&Cc(h)}else me[0]!="stop"&&me[0]!="close"||zr(h,7);else h.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?zr(h,7):Rh(h):me[0]!="noop"&&h.l&&h.l.ta(me),h.v=0)}}wo(4)}catch{}}var ZA=class{constructor(c,d){this.g=c,this.map=d}};function S_(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function R_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function M_(c){return c.h?1:c.g?c.g.size:0}function Ch(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Ah(c,d){c.g?c.g.add(d):c.h=d}function N_(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}S_.prototype.cancel=function(){if(this.i=x_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function x_(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let h of c.g.values())d=d.concat(h.D);return d}return x(c.i)}function XA(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],h=c.length,p=0;p<h;p++)d.push(c[p]);return d}d=[],h=0;for(p in c)d[h++]=c[p];return d}function eS(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var h=0;h<c;h++)d.push(h);return d}d=[],h=0;for(let p in c)d[h++]=p;return d}}}function P_(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var h=eS(c),p=XA(c),T=p.length,S=0;S<T;S++)d.call(void 0,p[S],h&&h[S],c)}var O_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tS(c,d){if(c){c=c.split("&");for(var h=0;h<c.length;h++){var p=c[h].indexOf("="),T=null;if(0<=p){var S=c[h].substring(0,p);T=c[h].substring(p+1)}else S=c[h];d(S,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function Hr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Hr){this.h=c.h,Ic(this,c.j),this.o=c.o,this.g=c.g,wc(this,c.s),this.l=c.l;var d=c.i,h=new Ao;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),k_(this,h),this.m=c.m}else c&&(d=String(c).match(O_))?(this.h=!1,Ic(this,d[1]||"",!0),this.o=To(d[2]||""),this.g=To(d[3]||"",!0),wc(this,d[4]),this.l=To(d[5]||"",!0),k_(this,d[6]||"",!0),this.m=To(d[7]||"")):(this.h=!1,this.i=new Ao(null,this.h))}Hr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Co(d,F_,!0),":");var h=this.g;return(h||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Co(d,F_,!0),"@"),c.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&c.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&c.push("/"),c.push(Co(h,h.charAt(0)=="/"?iS:rS,!0))),(h=this.i.toString())&&c.push("?",h),(h=this.m)&&c.push("#",Co(h,oS)),c.join("")};function vn(c){return new Hr(c)}function Ic(c,d,h){c.j=h?To(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function wc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function k_(c,d,h){d instanceof Ao?(c.i=d,aS(c.i,c.h)):(h||(d=Co(d,sS)),c.i=new Ao(d,c.h))}function be(c,d,h){c.i.set(d,h)}function Ec(c){return be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function To(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Co(c,d,h){return typeof c=="string"?(c=encodeURI(c).replace(d,nS),h&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nS(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var F_=/[#\/\?@]/g,rS=/[#\?:]/g,iS=/[#\?]/g,sS=/[#\?@]/g,oS=/#/g;function Ao(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function er(c){c.g||(c.g=new Map,c.h=0,c.i&&tS(c.i,function(d,h){c.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=Ao.prototype,t.add=function(c,d){er(this),this.i=null,c=Oi(this,c);var h=this.g.get(c);return h||this.g.set(c,h=[]),h.push(d),this.h+=1,this};function L_(c,d){er(c),d=Oi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function V_(c,d){return er(c),d=Oi(c,d),c.g.has(d)}t.forEach=function(c,d){er(this),this.g.forEach(function(h,p){h.forEach(function(T){c.call(d,T,p,this)},this)},this)},t.na=function(){er(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let p=0;p<d.length;p++){let T=c[p];for(let S=0;S<T.length;S++)h.push(d[p])}return h},t.V=function(c){er(this);let d=[];if(typeof c=="string")V_(this,c)&&(d=d.concat(this.g.get(Oi(this,c))));else{c=Array.from(this.g.values());for(let h=0;h<c.length;h++)d=d.concat(c[h])}return d},t.set=function(c,d){return er(this),this.i=null,c=Oi(this,c),V_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function j_(c,d,h){L_(c,d),0<h.length&&(c.i=null,c.g.set(Oi(c,d),x(h)),c.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var p=d[h];let S=encodeURIComponent(String(p)),k=this.V(p);for(p=0;p<k.length;p++){var T=S;k[p]!==""&&(T+="="+encodeURIComponent(String(k[p]))),c.push(T)}}return this.i=c.join("&")};function Oi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function aS(c,d){d&&!c.j&&(er(c),c.i=null,c.g.forEach(function(h,p){var T=p.toLowerCase();p!=T&&(L_(this,p),j_(this,T,h))},c)),c.j=d}function cS(c,d){let h=new Do;if(a.Image){let p=new Image;p.onload=I(tr,h,"TestLoadImage: loaded",!0,d,p),p.onerror=I(tr,h,"TestLoadImage: error",!1,d,p),p.onabort=I(tr,h,"TestLoadImage: abort",!1,d,p),p.ontimeout=I(tr,h,"TestLoadImage: timeout",!1,d,p),a.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=c}else d(!1)}function uS(c,d){let h=new Do,p=new AbortController,T=setTimeout(()=>{p.abort(),tr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:p.signal}).then(S=>{clearTimeout(T),S.ok?tr(h,"TestPingServer: ok",!0,d):tr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),tr(h,"TestPingServer: error",!1,d)})}function tr(c,d,h,p,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),p(h)}catch{}}function lS(){this.g=new GA}function dS(c,d,h){let p=h||"";try{P_(c,function(T,S){let k=T;l(T)&&(k=yh(T)),d.push(p+S+"="+encodeURIComponent(k))})}catch(T){throw d.push(p+"type="+encodeURIComponent("_badmap")),T}}function So(c){this.l=c.Ub||null,this.j=c.eb||!1}A(So,vh),So.prototype.g=function(){return new Dc(this.l,this.j)},So.prototype.i=function(c){return function(){return c}}({});function Dc(c,d){Xe.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Dc,Xe),t=Dc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Mo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ro(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Mo(this)),this.g&&(this.readyState=3,Mo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;U_(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function U_(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ro(this):Mo(this),this.readyState==3&&U_(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ro(this))},t.Qa=function(c){this.g&&(this.response=c,Ro(this))},t.ga=function(){this.g&&Ro(this)};function Ro(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Mo(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,c.push(h[0]+": "+h[1]),h=d.next();return c.join(`\r
`)};function Mo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Dc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function B_(c){let d="";return ee(c,function(h,p){d+=p,d+=":",d+=h,d+=`\r
`}),d}function Sh(c,d,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=B_(h),typeof c=="string"?h!=null&&encodeURIComponent(String(h)):be(c,d,h))}function Ae(c){Xe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Ae,Xe);var hS=/^https?$/i,fS=["POST","PUT"];t=Ae.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wh.g(),this.v=this.o?m_(this.o):m_(wh),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(S){$_(this,S);return}if(c=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var T in p)h.set(T,p[T]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let S of p.keys())h.set(S,p.get(S));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),T=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(fS,d,void 0))||p||T||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,k]of h)this.g.setRequestHeader(S,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{q_(this),this.u=!0,this.g.send(c),this.u=!1}catch(S){$_(this,S)}};function $_(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,H_(c),bc(c)}function H_(c){c.A||(c.A=!0,ot(c,"complete"),ot(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ot(this,"complete"),ot(this,"abort"),bc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bc(this,!0)),Ae.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?z_(this):this.bb())},t.bb=function(){z_(this)};function z_(c){if(c.h&&typeof o<"u"&&(!c.v[1]||_n(c)!=4||c.Z()!=2)){if(c.u&&_n(c)==4)h_(c.Ea,0,c);else if(ot(c,"readystatechange"),_n(c)==4){c.h=!1;try{let k=c.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var p;if(p=k===0){var T=String(c.D).match(O_)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),p=!hS.test(T?T.toLowerCase():"")}h=p}if(h)ot(c,"complete"),ot(c,"success");else{c.m=6;try{var S=2<_n(c)?c.g.statusText:""}catch{S=""}c.l=S+" ["+c.Z()+"]",H_(c)}}finally{bc(c)}}}}function bc(c,d){if(c.g){q_(c);let h=c.g,p=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||ot(c,"ready");try{h.onreadystatechange=p}catch{}}}function q_(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function _n(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),qA(d)}};function G_(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function pS(c){let d={};c=(c.g&&2<=_n(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<c.length;p++){if($(c[p]))continue;var h=b(c[p]);let T=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=d[T]||[];d[T]=S,S.push(h)}E(d,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function No(c,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[c]||d}function W_(c){this.Aa=0,this.i=[],this.j=new Do,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=No("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=No("baseRetryDelayMs",5e3,c),this.cb=No("retryDelaySeedMs",1e4,c),this.Wa=No("forwardChannelMaxRetries",2,c),this.wa=No("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new S_(c&&c.concurrentRequestLimit),this.Da=new lS,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=W_.prototype,t.la=8,t.G=1,t.connect=function(c,d,h,p){at(0),this.W=c,this.H=d||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=nI(this,null,this.W),Cc(this)};function Rh(c){if(K_(c),c.G==3){var d=c.U++,h=vn(c.I);if(be(h,"SID",c.K),be(h,"RID",d),be(h,"TYPE","terminate"),xo(c,h),d=new Xn(c,c.j,d),d.L=2,d.v=Ec(vn(h)),h=!1,a.navigator&&a.navigator.sendBeacon)try{h=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&a.Image&&(new Image().src=d.v,h=!0),h||(d.g=rI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),_c(d)}tI(c)}function Tc(c){c.g&&(Nh(c),c.g.cancel(),c.g=null)}function K_(c){Tc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ac(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Cc(c){if(!R_(c.h)&&!c.s){c.s=!0;var d=c.Ga;go||o_(),mo||(go(),mo=!0),ch.add(d,c),c.B=0}}function gS(c,d){return M_(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Eo(y(c.Ga,c,d),eI(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let T=new Xn(this,this.j,c),S=this.o;if(this.S&&(S?(S=m(S),D(S,this.S)):S=this.S),this.m!==null||this.O||(T.H=S,S=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(d+=p,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=Y_(this,T,d),h=vn(this.I),be(h,"RID",c),be(h,"CVER",22),this.D&&be(h,"X-HTTP-Session-Id",this.D),xo(this,h),S&&(this.O?d="headers="+encodeURIComponent(String(B_(S)))+"&"+d:this.m&&Sh(h,this.m,S)),Ah(this.h,T),this.Ua&&be(h,"TYPE","init"),this.P?(be(h,"$req",d),be(h,"SID","null"),T.T=!0,Dh(T,h,null)):Dh(T,h,d),this.G=2}}else this.G==3&&(c?Q_(this,c):this.i.length==0||R_(this.h)||Q_(this))};function Q_(c,d){var h;d?h=d.l:h=c.U++;let p=vn(c.I);be(p,"SID",c.K),be(p,"RID",h),be(p,"AID",c.T),xo(c,p),c.m&&c.o&&Sh(p,c.m,c.o),h=new Xn(c,c.j,h,c.B+1),c.m===null&&(h.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Y_(c,h,1e3),h.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ah(c.h,h),Dh(h,p,d)}function xo(c,d){c.H&&ee(c.H,function(h,p){be(d,p,h)}),c.l&&P_({},function(h,p){be(d,p,h)})}function Y_(c,d,h){h=Math.min(c.i.length,h);var p=c.l?y(c.l.Na,c.l,c):null;e:{var T=c.i;let S=-1;for(;;){let k=["count="+h];S==-1?0<h?(S=T[0].g,k.push("ofs="+S)):S=0:k.push("ofs="+S);let Ie=!0;for(let We=0;We<h;We++){let me=T[We].g,et=T[We].map;if(me-=S,0>me)S=Math.max(0,T[We].g-100),Ie=!1;else try{dS(et,k,"req"+me+"_")}catch{p&&p(et)}}if(Ie){p=k.join("&");break e}}}return c=c.i.splice(0,h),d.D=c,p}function J_(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;go||o_(),mo||(go(),mo=!0),ch.add(d,c),c.v=0}}function Mh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Eo(y(c.Fa,c),eI(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Z_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Eo(y(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Tc(this),Z_(this))};function Nh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Z_(c){c.g=new Xn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=vn(c.qa);be(d,"RID","rpc"),be(d,"SID",c.K),be(d,"AID",c.T),be(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&be(d,"TO",c.ja),be(d,"TYPE","xmlhttp"),xo(c,d),c.m&&c.o&&Sh(d,c.m,c.o),c.L&&(c.g.I=c.L);var h=c.g;c=c.ia,h.L=1,h.v=Ec(vn(d)),h.m=null,h.P=!0,T_(h,c)}t.Za=function(){this.C!=null&&(this.C=null,Tc(this),Mh(this),at(19))};function Ac(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function X_(c,d){var h=null;if(c.g==d){Ac(c),Nh(c),c.g=null;var p=2}else if(Ch(c.h,d))h=d.D,N_(c.h,d),p=1;else return;if(c.G!=0){if(d.o)if(p==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var T=c.B;p=mc(),ot(p,new w_(p,h)),Cc(c)}else J_(c);else if(T=d.s,T==3||T==0&&0<d.X||!(p==1&&gS(c,d)||p==2&&Mh(c)))switch(h&&0<h.length&&(d=c.h,d.i=d.i.concat(h)),T){case 1:zr(c,5);break;case 4:zr(c,10);break;case 3:zr(c,6);break;default:zr(c,2)}}}function eI(c,d){let h=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(h*=2),h*d}function zr(c,d){if(c.j.info("Error code "+d),d==2){var h=y(c.fb,c),p=c.Xa;let T=!p;p=new Hr(p||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ic(p,"https"),Ec(p),T?cS(p.toString(),h):uS(p.toString(),h)}else at(2);c.G=0,c.l&&c.l.sa(d),tI(c),K_(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function tI(c){if(c.G=0,c.ka=[],c.l){let d=x_(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.ra()}}function nI(c,d,h){var p=h instanceof Hr?vn(h):new Hr(h);if(p.g!="")d&&(p.g=d+"."+p.g),wc(p,p.s);else{var T=a.location;p=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var S=new Hr(null);p&&Ic(S,p),d&&(S.g=d),T&&wc(S,T),h&&(S.l=h),p=S}return h=c.D,d=c.ya,h&&d&&be(p,h,d),be(p,"VER",c.la),xo(c,p),p}function rI(c,d,h){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ae(new So({eb:h})):new Ae(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function iI(){}t=iI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Sc(){}Sc.prototype.g=function(c,d){return new It(c,d)};function It(c,d){Xe.call(this),this.g=new W_(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!$(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!$(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ki(this)}A(It,Xe),It.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},It.prototype.close=function(){Rh(this.g)},It.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var h={};h.__data__=c,c=h}else this.u&&(h={},h.__data__=yh(c),c=h);d.i.push(new ZA(d.Ya++,c)),d.G==3&&Cc(d)},It.prototype.N=function(){this.g.l=null,delete this.j,Rh(this.g),delete this.g,It.aa.N.call(this)};function sI(c){_h.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let h in d){c=h;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}A(sI,_h);function oI(){Ih.call(this),this.status=1}A(oI,Ih);function ki(c){this.g=c}A(ki,iI),ki.prototype.ua=function(){ot(this.g,"a")},ki.prototype.ta=function(c){ot(this.g,new sI(c))},ki.prototype.sa=function(c){ot(this.g,new oI)},ki.prototype.ra=function(){ot(this.g,"b")},Sc.prototype.createWebChannel=Sc.prototype.g,It.prototype.send=It.prototype.o,It.prototype.open=It.prototype.m,It.prototype.close=It.prototype.close,Iy=Wn.createWebChannelTransport=function(){return new Sc},_y=Wn.getStatEventTarget=function(){return mc()},vy=Wn.Event=Br,fd=Wn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yc.NO_ERROR=0,yc.TIMEOUT=8,yc.HTTP_ERROR=6,Wa=Wn.ErrorCode=yc,E_.COMPLETE="complete",yy=Wn.EventType=E_,y_.EventType=Io,Io.OPEN="a",Io.CLOSE="b",Io.ERROR="c",Io.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,Hs=Wn.WebChannel=y_,my=Wn.FetchXmlHttpFactory=So,Ae.prototype.listenOnce=Ae.prototype.L,Ae.prototype.getLastError=Ae.prototype.Ka,Ae.prototype.getLastErrorCode=Ae.prototype.Ba,Ae.prototype.getStatus=Ae.prototype.Z,Ae.prototype.getResponseJson=Ae.prototype.Oa,Ae.prototype.getResponseText=Ae.prototype.oa,Ae.prototype.send=Ae.prototype.ea,Ae.prototype.setWithCredentials=Ae.prototype.Ha,gy=Wn.XhrIo=Ae}).apply(typeof hd<"u"?hd:typeof self<"u"?self:typeof window<"u"?window:{});var KC="@firebase/firestore";var qe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};qe.UNAUTHENTICATED=new qe(null),qe.GOOGLE_CREDENTIALS=new qe("google-credentials-uid"),qe.FIRST_PARTY=new qe("first-party-uid"),qe.MOCK_USER=new qe("mock-user");var ao="10.13.1";var Ci=new Rr("@firebase/firestore");function Ka(){return Ci.logLevel}function U(t,...e){if(Ci.logLevel<=de.DEBUG){let n=e.map($v);Ci.debug(`Firestore (${ao}): ${t}`,...n)}}function Ai(t,...e){if(Ci.logLevel<=de.ERROR){let n=e.map($v);Ci.error(`Firestore (${ao}): ${t}`,...n)}}function _d(t,...e){if(Ci.logLevel<=de.WARN){let n=e.map($v);Ci.warn(`Firestore (${ao}): ${t}`,...n)}}function $v(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function he(t="Unexpected state"){let e=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: `+t;throw Ai(e),new Error(e)}function Be(t,e){t||he()}function De(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends Rt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Kn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Id=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},by=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qe.UNAUTHENTICATED))}shutdown(){}},Ty=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Cy=class{constructor(e){this.t=e,this.currentUser=qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Kn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Kn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Kn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string"),new Id(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new qe(e)}},Ay=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Sy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Ay(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ry=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},My=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,U("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Be(typeof n.token=="string"),this.R=n.token,new Ry(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function Wj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var wd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Wj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Ee(t,e){return t<e?-1:t>e?1:0}function Ws(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var st=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Re=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new st(0,0))}static max(){return new t(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ed=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ve=class t extends Ed{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Kj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Mt=class t extends Ed{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Kj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new H(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new H(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ie=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ve.fromString(e))}static fromName(e){return new t(Ve.fromString(e).popFirst(5))}static empty(){return new t(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ve(e.slice()))}};var Ny=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Ny.UNKNOWN_ID=-1;function Qj(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Re.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new Si(i,ie.empty(),e)}function Yj(t){return new Si(t.readTime,t.key,-1)}var Si=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Re.min(),ie.empty(),-1)}static max(){return new t(Re.max(),ie.empty(),-1)}};function Jj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}var Zj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",xy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function m0(t){return w(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==Zj)throw t;U("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(f=>{o[l]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function Xj(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bd(t){return t.name==="IndexedDbTransactionError"}var eU=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Hv(t){return t==null}function ec(t){return t===0&&1/t==-1/0}function tU(t){return typeof t=="number"&&Number.isInteger(t)&&!ec(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var nU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],u5=[...nU,"documentOverlays"],rU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],iU=rU,sU=[...iU,"indexConfiguration","indexState","indexEntries"];var l5=[...sU,"globals"];function QC(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ic(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function y0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Nt=class t{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qs(this.root,e,this.comparator,!1)}getReverseIterator(){return new qs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qs(this.root,e,this.comparator,!0)}},qs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},pn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();let e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}};pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,n,r,i,s){return this}insert(e,n,r){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var pt=class t{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dd(this.data.getIterator())}getIteratorFrom(e){return new Dd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Dd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var fn=class t{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new t([])}unionWith(e){let n=new pt(Mt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ws(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Py=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Yn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Py("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Yn.EMPTY_BYTE_STRING=new Yn("");var oU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lr(t){if(Be(!!t),typeof t=="string"){let e=0,n=oU.exec(t);if(Be(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Le(t.seconds),nanos:Le(t.nanos)}}function Le(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ks(t){return typeof t=="string"?Yn.fromBase64String(t):Yn.fromUint8Array(t)}function zv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function v0(t){let e=t.mapValue.fields.__previous_value__;return zv(e)?v0(e):e}function bd(t){let e=Lr(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}var Oy=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},ky=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var pd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zv(t)?4:I0(t)?9007199254740991:_0(t)?10:11:he()}function gn(t,e){if(t===e)return!0;let n=Qs(t);if(n!==Qs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bd(t).isEqual(bd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Lr(i.timestampValue),a=Lr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ks(i.bytesValue).isEqual(Ks(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Le(i.geoPointValue.latitude)===Le(s.geoPointValue.latitude)&&Le(i.geoPointValue.longitude)===Le(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Le(i.integerValue)===Le(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Le(i.doubleValue),a=Le(s.doubleValue);return o===a?ec(o)===ec(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ws(t.arrayValue.values||[],e.arrayValue.values||[],gn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(QC(o)!==QC(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!gn(o[u],a[u])))return!1;return!0}(t,e);default:return he()}}function tc(t,e){return(t.values||[]).find(n=>gn(n,e))!==void 0}function Ys(t,e){if(t===e)return 0;let n=Qs(t),r=Qs(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Le(s.integerValue||s.doubleValue),u=Le(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return YC(t.timestampValue,e.timestampValue);case 4:return YC(bd(t),bd(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Ks(s),u=Ks(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let f=Ee(a[l],u[l]);if(f!==0)return f}return Ee(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Ee(Le(s.latitude),Le(o.latitude));return a!==0?a:Ee(Le(s.longitude),Le(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return JC(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,f;let g=s.fields||{},y=o.fields||{},I=(a=g.value)===null||a===void 0?void 0:a.arrayValue,A=(u=y.value)===null||u===void 0?void 0:u.arrayValue,x=Ee(((l=I?.values)===null||l===void 0?void 0:l.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return x!==0?x:JC(I,A)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===pd.mapValue&&o===pd.mapValue)return 0;if(s===pd.mapValue)return 1;if(o===pd.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){let y=Ee(u[g],f[g]);if(y!==0)return y;let I=Ys(a[u[g]],l[f[g]]);if(I!==0)return I}return Ee(u.length,f.length)}(t.mapValue,e.mapValue);default:throw he()}}function YC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);let n=Lr(t),r=Lr(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function JC(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Ys(n[i],r[i]);if(s)return s}return Ee(n.length,r.length)}function Js(t){return Fy(t)}function Fy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Lr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ks(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Fy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Fy(n.fields[o])}`;return i+"}"}(t.mapValue):he()}function Ly(t){return!!t&&"integerValue"in t}function qv(t){return!!t&&"arrayValue"in t}function yd(t){return!!t&&"mapValue"in t}function _0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ya(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ic(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ya(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ya(t.arrayValue.values[n]);return e}return Object.assign({},t)}function I0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var hn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!yd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ya(n)}setAll(e){let n=Mt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ya(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());yd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];yd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ic(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Ya(this.value))}};function w0(t){let e=[];return ic(t.fields,(n,r)=>{let i=new Mt([n]);if(yd(r)){let s=w0(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new fn(e)}var Zs=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,Re.min(),Re.min(),Re.min(),hn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Re.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Re.min(),Re.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Re.min(),Re.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Xs=class{constructor(e,n){this.position=e,this.inclusive=n}};function ZC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=Ys(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function XC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gn(t.position[n],e.position[n]))return!1;return!0}var eo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function aU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Td=class{},Ge=class t extends Td{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new jy(e,n,r):n==="array-contains"?new $y(e,r):n==="in"?new Hy(e,r):n==="not-in"?new zy(e,r):n==="array-contains-any"?new qy(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Uy(e,r):new By(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ys(n,this.value)):n!==null&&Qs(this.value)===Qs(n)&&this.matchesComparison(Ys(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Vr=class t extends Td{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return E0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function E0(t){return t.op==="and"}function D0(t){return cU(t)&&E0(t)}function cU(t){for(let e of t.filters)if(e instanceof Vr)return!1;return!0}function Vy(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+Js(t.value);if(D0(t))return t.filters.map(e=>Vy(e)).join(",");{let e=t.filters.map(n=>Vy(n)).join(",");return`${t.op}(${e})`}}function b0(t,e){return t instanceof Ge?function(r,i){return i instanceof Ge&&r.op===i.op&&r.field.isEqual(i.field)&&gn(r.value,i.value)}(t,e):t instanceof Vr?function(r,i){return i instanceof Vr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&b0(o,i.filters[a]),!0):!1}(t,e):void he()}function T0(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${Js(n.value)}`}(t):t instanceof Vr?function(n){return n.op.toString()+" {"+n.getFilters().map(T0).join(" ,")+"}"}(t):"Filter"}var jy=class extends Ge{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){let n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}},Uy=class extends Ge{constructor(e,n){super(e,"in",n),this.keys=C0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},By=class extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=C0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function C0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}var $y=class extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return qv(n)&&tc(n.arrayValue,this.value)}},Hy=class extends Ge{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&tc(this.value.arrayValue,n)}},zy=class extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!tc(this.value.arrayValue,n)}},qy=class extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!qv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>tc(this.value.arrayValue,r))}};var Gy=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function e0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Gy(t,e,n,r,i,s,o)}function Gv(t){let e=De(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Vy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Hv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Js(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Js(r)).join(",")),e.ue=n}return e.ue}function Wv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!aU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!b0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!XC(t.startAt,e.startAt)&&XC(t.endAt,e.endAt)}var to=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function uU(t,e,n,r,i,s,o,a){return new to(t,e,n,r,i,s,o,a)}function lU(t){return new to(t)}function t0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dU(t){return t.collectionGroup!==null}function Ja(t){let e=De(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new pt(Mt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new eo(s,r))}),n.has(Mt.keyField().canonicalString())||e.ce.push(new eo(Mt.keyField(),r))}return e.ce}function bi(t){let e=De(t);return e.le||(e.le=hU(e,Ja(t))),e.le}function hU(t,e){if(t.limitType==="F")return e0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new eo(i.field,s)});let n=t.endAt?new Xs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Xs(t.startAt.position,t.startAt.inclusive):null;return e0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Wy(t,e,n){return new to(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function A0(t,e){return Wv(bi(t),bi(e))&&t.limitType===e.limitType}function S0(t){return`${Gv(bi(t))}|lt:${t.limitType}`}function Qa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>T0(i)).join(", ")}]`),Hv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Js(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Js(i)).join(",")),`Target(${r})`}(bi(t))}; limitType=${t.limitType})`}function Kv(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Ja(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=ZC(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,Ja(r),i)||r.endAt&&!function(o,a,u){let l=ZC(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,Ja(r),i))}(t,e)}function fU(t){return(e,n)=>{let r=!1;for(let i of Ja(t)){let s=pU(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function pU(t,e,n){let r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?Ys(u,l):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}var jr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ic(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return y0(this.inner)}size(){return this.innerSize}};var gU=new Nt(ie.comparator);function Cd(){return gU}var R0=new Nt(ie.comparator);function gd(...t){let e=R0;for(let n of t)e=e.insert(n.key,n);return e}function M0(t){let e=R0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Di(){return Za()}function N0(){return Za()}function Za(){return new jr(t=>t.toString(),(t,e)=>t.isEqual(e))}var mU=new Nt(ie.comparator),yU=new pt(ie.comparator);function it(...t){let e=yU;for(let n of t)e=e.add(n);return e}var vU=new pt(Ee);function _U(){return vU}function Qv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ec(e)?"-0":e}}function x0(t){return{integerValue:""+t}}function IU(t,e){return tU(e)?x0(e):Qv(t,e)}var no=class{constructor(){this._=void 0}};function wU(t,e,n){return t instanceof ro?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&zv(s)&&(s=v0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ri?O0(t,e):t instanceof Mi?k0(t,e):function(i,s){let o=P0(i,s),a=n0(o)+n0(i.Pe);return Ly(o)&&Ly(i.Pe)?x0(a):Qv(i.serializer,a)}(t,e)}function EU(t,e,n){return t instanceof Ri?O0(t,e):t instanceof Mi?k0(t,e):n}function P0(t,e){return t instanceof io?function(r){return Ly(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var ro=class extends no{},Ri=class extends no{constructor(e){super(),this.elements=e}};function O0(t,e){let n=F0(e);for(let r of t.elements)n.some(i=>gn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Mi=class extends no{constructor(e){super(),this.elements=e}};function k0(t,e){let n=F0(e);for(let r of t.elements)n=n.filter(i=>!gn(i,r));return{arrayValue:{values:n}}}var io=class extends no{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function n0(t){return Le(t.integerValue||t.doubleValue)}function F0(t){return qv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function DU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ri&&i instanceof Ri||r instanceof Mi&&i instanceof Mi?Ws(r.elements,i.elements,gn):r instanceof io&&i instanceof io?gn(r.Pe,i.Pe):r instanceof ro&&i instanceof ro}(t.transform,e.transform)}var Ky=class{constructor(e,n){this.version=e,this.transformResults=n}},Ti=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function vd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var so=class{};function L0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ad(t.key,Ti.none()):new Ni(t.key,t.data,Ti.none());{let n=t.data,r=hn.empty(),i=new pt(Mt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Jn(t.key,r,new fn(i.toArray()),Ti.none())}}function bU(t,e,n){t instanceof Ni?function(i,s,o){let a=i.value.clone(),u=i0(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Jn?function(i,s,o){if(!vd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=i0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(V0(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Xa(t,e,n,r){return t instanceof Ni?function(s,o,a,u){if(!vd(s.precondition,o))return a;let l=s.value.clone(),f=s0(s.fieldTransforms,u,o);return l.setAll(f),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Jn?function(s,o,a,u){if(!vd(s.precondition,o))return a;let l=s0(s.fieldTransforms,u,o),f=o.data;return f.setAll(V0(s)),f.setAll(l),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,a){return vd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function TU(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=P0(r.transform,i||null);s!=null&&(n===null&&(n=hn.empty()),n.set(r.field,s))}return n||null}function r0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ws(r,i,(s,o)=>DU(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ni=class extends so{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Jn=class extends so{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function V0(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function i0(t,e,n){let r=new Map;Be(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,EU(o,a,n[i]))}return r}function s0(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,wU(s,o,e))}return r}var Ad=class extends so{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Qy=class extends so{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Yy=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&bU(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xa(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Xa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=N0();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=L0(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),it())}isEqual(e){return this.batchId===e.batchId&&Ws(this.mutations,e.mutations,(n,r)=>r0(n,r))&&Ws(this.baseMutations,e.baseMutations,(n,r)=>r0(n,r))}},Jy=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Be(e.mutations.length===r.length);let i=function(){return mU}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Zy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ke,ge;function CU(t){switch(t){default:return he();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function AU(t){if(t===void 0)return Ai("GRPC error has no .code"),N.UNKNOWN;switch(t){case ke.OK:return N.OK;case ke.CANCELLED:return N.CANCELLED;case ke.UNKNOWN:return N.UNKNOWN;case ke.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case ke.INTERNAL:return N.INTERNAL;case ke.UNAVAILABLE:return N.UNAVAILABLE;case ke.UNAUTHENTICATED:return N.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case ke.NOT_FOUND:return N.NOT_FOUND;case ke.ALREADY_EXISTS:return N.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return N.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case ke.ABORTED:return N.ABORTED;case ke.OUT_OF_RANGE:return N.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return N.UNIMPLEMENTED;case ke.DATA_LOSS:return N.DATA_LOSS;default:return he()}}(ge=ke||(ke={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";var h5=new py([4294967295,4294967295],0);var Xy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function ev(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function RU(t,e){return ev(t,e.toTimestamp())}function Gs(t){return Be(!!t),Re.fromTimestamp(function(n){let r=Lr(n);return new st(r.seconds,r.nanos)}(t))}function j0(t,e){return tv(t,e).canonicalString()}function tv(t,e){let n=function(i){return new Ve(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function MU(t){let e=Ve.fromString(t);return Be(VU(e)),e}function nv(t,e){return j0(t.databaseId,e.path)}function NU(t){let e=MU(t);return e.length===4?Ve.emptyPath():PU(e)}function xU(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PU(t){return Be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function o0(t,e,n){return{name:nv(t,e),fields:n.value.mapValue.fields}}function OU(t,e){let n;if(e instanceof Ni)n={update:o0(t,e.key,e.value)};else if(e instanceof Ad)n={delete:nv(t,e.key)};else if(e instanceof Jn)n={update:o0(t,e.key,e.data),updateMask:LU(e.fieldMask)};else{if(!(e instanceof Qy))return he();n={verify:nv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof ro)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ri)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Mi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof io)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:RU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:he()}(t,e.precondition)),n}function kU(t,e){return t&&t.length>0?(Be(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Gs(i.updateTime):Gs(s);return o.isEqual(Re.min())&&(o=Gs(s)),new Ky(o,i.transformResults||[])}(n,e))):[]}function FU(t){let e=NU(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Be(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(g){let y=U0(g);return y instanceof Vr&&D0(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(y=>function(A){return new eo(zs(A.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(y))}(n.orderBy));let a=null;n.limit&&(a=function(g){let y;return y=typeof g=="object"?g.value:g,Hv(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(g){let y=!!g.before,I=g.values||[];return new Xs(I,y)}(n.startAt));let l=null;return n.endAt&&(l=function(g){let y=!g.before,I=g.values||[];return new Xs(I,y)}(n.endAt)),uU(e,i,o,s,a,"F",u,l)}function U0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=zs(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=zs(n.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=zs(n.unaryFilter.field);return Ge.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=zs(n.unaryFilter.field);return Ge.create(o,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(zs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Vr.create(n.compositeFilter.filters.map(r=>U0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(t):he()}function zs(t){return Mt.fromServerFormat(t.fieldPath)}function LU(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var rv=class{constructor(e){this.ct=e}};function jU(t){let e=FU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wy(e,e.limit,"L"):e}var Sd=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Le(e.integerValue));else if("doubleValue"in e){let r=Le(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),ec(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Lr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Ks(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?I0(e)?this.dt(n,Number.MAX_SAFE_INTEGER):_0(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):he()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Le(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ie.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Sd.vt=new Sd;var iv=class{constructor(){this.un=new sv}addToCollectionParentIndex(e,n){return this.un.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Si.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Si.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},sv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pt(Ve.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pt(Ve.comparator)).toArray()}};var f5=new Uint8Array(0);var dn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(41943040,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);var nc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var ov=class{constructor(){this.changes=new jr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zs.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var av=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var cv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Xa(r.mutation,i,fn.empty(),st.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,it()).next(()=>r))}getLocalViewOfDocuments(e,n,r=it()){let i=Di();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=gd();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Di();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,it()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Cd(),o=Za(),a=function(){return Za()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Jn)?s=s.insert(l.key,l):f!==void 0?(o.set(l.key,f.mutation.getFieldMask()),Xa(f.mutation,l,f.mutation.getFieldMask(),st.now())):o.set(l.key,fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,f)=>o.set(l,f)),n.forEach((l,f)=>{var g;return a.set(l,new av(f,(g=o.get(l))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Za(),i=new Nt((o,a)=>o-a),s=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||fn.empty();f=a.applyToLocalView(l,f),r.set(u,f);let g=(i.get(a.batchId)||it()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,f=u.value,g=N0();f.forEach(y=>{if(!s.has(y)){let I=L0(n.get(y),r.get(y));I!==null&&g.set(y,I),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,g))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dU(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):P.resolve(Di()),a=-1,u=s;return o.next(l=>P.forEach(l,(f,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(f)?P.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,it())).next(f=>({batchId:a,changes:M0(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let i=gd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=gd();return this.indexManager.getCollectionParents(e,s).next(a=>P.forEach(a,u=>{let l=function(g,y){return new to(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((g,y)=>{o=o.insert(g,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let f=l.getKey();o.get(f)===null&&(o=o.insert(f,Zs.newInvalidDocument(f)))});let a=gd();return o.forEach((u,l)=>{let f=s.get(u);f!==void 0&&Xa(f.mutation,l,fn.empty(),st.now()),Kv(n,l)&&(a=a.insert(u,l))}),a})}};var uv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return P.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Gs(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:jU(i.bundledQuery),readTime:Gs(i.readTime)}}(n)),P.resolve()}};var lv=class{constructor(){this.overlays=new Nt(ie.comparator),this.Ir=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Di();return P.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=Di(),s=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Nt((l,f)=>l-f),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=s.get(l.largestBatchId);f===null&&(f=Di(),s=s.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let a=Di(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>a.set(l,f)),!(a.size()>=i)););return P.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Zy(n,r));let s=this.Ir.get(n);s===void 0&&(s=it(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var dv=class{constructor(){this.sessionToken=Yn.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var rc=class{constructor(){this.Tr=new pt(Fe.Er),this.dr=new pt(Fe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Fe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Fe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new ie(new Ve([])),r=new Fe(n,e),i=new Fe(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new ie(new Ve([])),r=new Fe(n,e),i=new Fe(n,e+1),s=it();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Fe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Fe=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ie.comparator(e.key,n.key)||Ee(e.wr,n.wr)}static Ar(e,n){return Ee(e.wr,n.wr)||ie.comparator(e.key,n.key)}};var hv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new pt(Fe.Er)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Yy(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new Fe(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,n){return P.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Fe(n,0),i=new Fe(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(Ee);return n.forEach(i=>{let s=new Fe(i,0),o=new Fe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),P.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;ie.isDocumentKey(s)||(s=s.child(""));let o=new Fe(new ie(s),0),a=new pt(Ee);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),P.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Be(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return P.forEach(n.mutations,i=>{let s=new Fe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Fe(n,0),i=this.br.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var fv=class{constructor(e){this.Mr=e,this.docs=function(){return new Nt(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():Zs.newInvalidDocument(n))}getEntries(e,n){let r=Cd();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Zs.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Cd(),o=n.path,a=new ie(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Jj(Yj(f),r)<=0||(i.has(f.key)||Kv(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,n,r,i){he()}Or(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new pv(this)}getSize(e){return P.resolve(this.size)}},pv=class extends ov{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var gv=class{constructor(e){this.persistence=e,this.Nr=new jr(n=>Gv(n),Wv),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.Lr=0,this.Br=new rc,this.targetCount=0,this.kr=nc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),P.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new nc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Kn(n),P.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(s).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Br.containsKey(n))}};var mv=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new eU(0),this.Kr=!1,this.Kr=!0,this.$r=new dv,this.referenceDelegate=e(this),this.Ur=new gv(this),this.indexManager=new iv,this.remoteDocumentCache=function(i){return new fv(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new rv(n),this.Gr=new uv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new hv(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);let i=new yv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return P.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},yv=class extends xy{constructor(e){super(),this.currentSequenceNumber=e}},vv=class t{constructor(e){this.persistence=e,this.Jr=new rc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw he()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),P.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Xr,r=>{let i=ie.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Re.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return P.or([()=>P.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var _v=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=it(),i=it();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Iv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var wv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return xT()?8:Xj(ze())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Iv;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ka()<=de.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),P.resolve()):(Ka()<=de.DEBUG&&U("QueryEngine","Query:",Qa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ka()<=de.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(n))):P.resolve())}Yi(e,n){if(t0(n))return P.resolve(null);let r=bi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Wy(n,null,"F"),r=bi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=it(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,Wy(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return t0(n)||i.isEqual(Re.min())?P.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?P.resolve(null):(Ka()<=de.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qa(n)),this.rs(e,o,n,Qj(i,-1)).next(a=>a))})}ts(e,n){let r=new pt(fU(e));return n.forEach((i,s)=>{Kv(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Ka()<=de.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.Ji.getDocumentsMatchingQuery(e,n,Si.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Ev=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Nt(Ee),this._s=new jr(s=>Gv(s),Wv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function UU(t,e,n,r){return new Ev(t,e,n,r)}function B0(t,e){return w(this,null,function*(){let n=De(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=it();for(let l of i){o.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of s){a.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function BU(t,e){let n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,f){let g=l.batch,y=g.keys(),I=P.resolve();return y.forEach(A=>{I=I.next(()=>f.getEntry(u,A)).next(x=>{let R=l.docVersions.get(A);Be(R!==null),x.version.compareTo(R)<0&&(g.applyToRemoteDocument(x,l),x.isValidDocument()&&(x.setReadTime(l.commitVersion),f.addEntry(x)))})}),I.next(()=>a.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=it();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function $U(t){let e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function HU(t,e){let n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var Rd=class{constructor(){this.activeTargetIds=_U()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Dv=class{constructor(){this.so=new Rd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Rd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var bv=class{_o(e){}shutdown(){}};var Md=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var md=null;function wy(){return md===null?md=function(){return 268435456+Math.round(2147483648*Math.random())}():md++,"0x"+md.toString(16)}var zU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Tv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var rt="WebChannelConnection",Cv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=wy(),u=this.xo(n,r.toUriEncodedString());U("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(f=>(U("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw _d("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ao}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=zU[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=wy();return new Promise((o,a)=>{let u=new gy;u.setWithCredentials(!0),u.listenOnce(yy.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Wa.NO_ERROR:let f=u.getResponseJson();U(rt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Wa.TIMEOUT:U(rt,`RPC '${e}' ${s} timed out`),a(new H(N.DEADLINE_EXCEEDED,"Request time out"));break;case Wa.HTTP_ERROR:let g=u.getStatus();if(U(rt,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let I=y?.error;if(I&&I.status&&I.message){let A=function(R){let O=R.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(O)>=0?O:N.UNKNOWN}(I.status);a(new H(A,I.message))}else a(new H(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new H(N.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{U(rt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);U(rt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=wy(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Iy(),a=_y(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new my({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=s.join("");U(rt,`Creating RPC '${e}' stream ${i}: ${f}`,u);let g=o.createWebChannel(f,u),y=!1,I=!1,A=new Tv({Io:R=>{I?U(rt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(y||(U(rt,`Opening RPC '${e}' stream ${i} transport.`),g.open(),y=!0),U(rt,`RPC '${e}' stream ${i} sending:`,R),g.send(R))},To:()=>g.close()}),x=(R,O,$)=>{R.listen(O,G=>{try{$(G)}catch(z){setTimeout(()=>{throw z},0)}})};return x(g,Hs.EventType.OPEN,()=>{I||(U(rt,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),x(g,Hs.EventType.CLOSE,()=>{I||(I=!0,U(rt,`RPC '${e}' stream ${i} transport closed`),A.So())}),x(g,Hs.EventType.ERROR,R=>{I||(I=!0,_d(rt,`RPC '${e}' stream ${i} transport errored:`,R),A.So(new H(N.UNAVAILABLE,"The operation could not be completed")))}),x(g,Hs.EventType.MESSAGE,R=>{var O;if(!I){let $=R.data[0];Be(!!$);let G=$,z=G.error||((O=G[0])===null||O===void 0?void 0:O.error);if(z){U(rt,`RPC '${e}' stream ${i} received error:`,z);let Ce=z.status,ee=function(v){let D=ke[v];if(D!==void 0)return AU(D)}(Ce),E=z.message;ee===void 0&&(ee=N.INTERNAL,E="Unknown error status: "+Ce+" with message "+z.message),I=!0,A.So(new H(ee,E)),g.close()}else U(rt,`RPC '${e}' stream ${i} received:`,$),A.bo($)}}),x(a,vy.STAT_EVENT,R=>{R.stat===fd.PROXY?U(rt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===fd.NOPROXY&&U(rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function Ey(){return typeof document<"u"?document:null}function $d(t){return new Xy(t,!0)}var Nd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Av=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Nd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Ai(n.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new H(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var Sv=class extends Av{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Be(!!e.streamToken),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=kU(e.writeResults,e.commitTime),r=Gs(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=xU(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>OU(this.serializer,r))};this.a_(n)}};var Rv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new H(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,tv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(N.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,tv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(N.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Mv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ai(n),this.D_=!1):U("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Nv=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){oc(this)&&(U("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=De(u);l.L_.add(4),yield sc(l),l.q_.set("Unknown"),l.L_.delete(4),yield Hd(l)})}(this))}))}),this.q_=new Mv(r,i)}};function Hd(t){return w(this,null,function*(){if(oc(t))for(let e of t.B_)yield e(!0)})}function sc(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function oc(t){return De(t).L_.size===0}function $0(t,e,n){return w(this,null,function*(){if(!Bd(e))throw e;t.L_.add(1),yield sc(t),t.q_.set("Offline"),n||(n=()=>$U(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){U("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Hd(t)}))})}function H0(t,e){return e().catch(n=>$0(t,n,e))}function zd(t){return w(this,null,function*(){let e=De(t),n=Ur(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;qU(e);)try{let i=yield HU(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,GU(e,i)}catch(i){yield $0(e,i)}z0(e)&&q0(e)})}function qU(t){return oc(t)&&t.O_.length<10}function GU(t,e){t.O_.push(e);let n=Ur(t);n.r_()&&n.V_&&n.m_(e.mutations)}function z0(t){return oc(t)&&!Ur(t).n_()&&t.O_.length>0}function q0(t){Ur(t).start()}function WU(t){return w(this,null,function*(){Ur(t).p_()})}function KU(t){return w(this,null,function*(){let e=Ur(t);for(let n of t.O_)e.m_(n.mutations)})}function QU(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=Jy.from(r,e,n);yield H0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield zd(t)})}function YU(t,e){return w(this,null,function*(){e&&Ur(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return CU(o)&&o!==N.ABORTED}(i.code)){let s=r.O_.shift();Ur(r).s_(),yield H0(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield zd(r)}})}(t,e)),z0(t)&&q0(t)})}function a0(t,e){return w(this,null,function*(){let n=De(t);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");let r=oc(n);n.L_.add(3),yield sc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Hd(n)})}function JU(t,e){return w(this,null,function*(){let n=De(t);e?(n.L_.delete(2),yield Hd(n)):e||(n.L_.add(2),yield sc(n),n.q_.set("Unknown"))})}function Ur(t){return t.U_||(t.U_=function(n,r,i){let s=De(n);return s.w_(),new Sv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:WU.bind(null,t),mo:YU.bind(null,t),f_:KU.bind(null,t),g_:QU.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield zd(t)):(yield t.U_.stop(),t.O_.length>0&&(U("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var xv=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function G0(t,e){if(Ai("AsyncQueue",`${e}: ${t}`),Bd(t))return new H(N.UNAVAILABLE,`${e}: ${t}`);throw t}var Pv=class{constructor(){this.queries=c0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=De(n),s=i.queries;i.queries=c0(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new H(N.ABORTED,"Firestore shutting down"))}};function c0(){return new jr(t=>S0(t),A0)}function ZU(t){t.Y_.forEach(e=>{e.next()})}var u0,l0;(l0=u0||(u0={})).ea="default",l0.Cache="cache";var Ov=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new jr(a=>S0(a),A0),this.Ma=new Map,this.xa=new Set,this.Oa=new Nt(ie.comparator),this.Na=new Map,this.La=new rc,this.Ba={},this.ka=new Map,this.qa=nc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function XU(t,e,n){return w(this,null,function*(){let r=r2(t);try{let i=yield function(o,a){let u=De(o),l=st.now(),f=a.reduce((I,A)=>I.add(A.key),it()),g,y;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let A=Cd(),x=it();return u.cs.getEntries(I,f).next(R=>{A=R,A.forEach((O,$)=>{$.isValidDocument()||(x=x.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,A)).next(R=>{g=R;let O=[];for(let $ of a){let G=TU($,g.get($.key).overlayedDocument);G!=null&&O.push(new Jn($.key,G,w0(G.value.mapValue),Ti.exists(!0)))}return u.mutationQueue.addMutationBatch(I,l,O,a)}).next(R=>{y=R;let O=R.applyToLocalDocumentSet(g,x);return u.documentOverlayCache.saveOverlays(I,R.batchId,O)})}).then(()=>({batchId:y.batchId,changes:M0(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Nt(Ee)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield qd(r,i.changes),yield zd(r.remoteStore)}catch(i){let s=G0(i,"Failed to persist write");n.reject(s)}})}function d0(t,e,n){let r=De(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=De(o);u.onlineState=a;let l=!1;u.queries.forEach((f,g)=>{for(let y of g.j_)y.Z_(a)&&(l=!0)}),l&&ZU(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function e2(t,e){return w(this,null,function*(){let n=De(t),r=e.batch.batchId;try{let i=yield BU(n.localStore,e);K0(n,r,null),W0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield qd(n,i)}catch(i){yield m0(i)}})}function t2(t,e,n){return w(this,null,function*(){let r=De(t);try{let i=yield function(o,a){let u=De(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,a).next(g=>(Be(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(l,g))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);K0(r,e,n),W0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield qd(r,i)}catch(i){yield m0(i)}})}function W0(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function K0(t,e,n){let r=De(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function qd(t,e,n){return w(this,null,function*(){let r=De(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let g=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(l){i.push(l);let g=_v.Wi(u.targetId,l);s.push(g)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let f=De(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>P.forEach(l,y=>P.forEach(y.$i,I=>f.persistence.referenceDelegate.addReference(g,y.targetId,I)).next(()=>P.forEach(y.Ui,I=>f.persistence.referenceDelegate.removeReference(g,y.targetId,I)))))}catch(g){if(!Bd(g))throw g;U("LocalStore","Failed to update sequence numbers: "+g)}for(let g of l){let y=g.targetId;if(!g.fromCache){let I=f.os.get(y),A=I.snapshotVersion,x=I.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(y,x)}}})}(r.localStore,s))})}function n2(t,e){return w(this,null,function*(){let n=De(t);if(!n.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());let r=yield B0(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new H(N.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield qd(n,r.hs)}})}function r2(t){let e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=e2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=t2.bind(null,e),e}var xd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=$d(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return UU(this.persistence,new wv,e.initialUser,this.serializer)}createPersistence(e){return new mv(vv.Zr,this.serializer)}createSharedClientState(e){return new Dv}terminate(){return w(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var kv=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>d0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=n2.bind(null,this.syncEngine),yield JU(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Pv}()}createDatastore(e){let n=$d(e.databaseInfo.databaseId),r=function(s){return new Cv(s)}(e.databaseInfo);return function(s,o,a,u){return new Rv(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Nv(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>d0(this.syncEngine,n,0),function(){return Md.D()?new Md:new bv}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,f){let g=new Ov(i,s,o,a,u,l);return f&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return w(this,null,function*(){var e,n;yield function(i){return w(this,null,function*(){let s=De(i);U("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield sc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var Fv=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qe.UNAUTHENTICATED,this.clientId=wd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>w(this,null,function*(){U("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(U("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=G0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Dy(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield B0(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function h0(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield s2(t);U("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>a0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>a0(e.remoteStore,i)),t._onlineComponents=e})}function i2(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function s2(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Dy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!i2(n))throw n;_d("Error using user provided cache. Falling back to memory cache: "+n),yield Dy(t,new xd)}}else U("FirestoreClient","Using default OfflineComponentProvider"),yield Dy(t,new xd);return t._offlineComponents})}function o2(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),yield h0(t,t._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),yield h0(t,new kv))),t._onlineComponents})}function a2(t){return o2(t).then(e=>e.syncEngine)}function Q0(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var f0=new Map;function Y0(t,e,n){if(!n)throw new H(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function c2(t,e,n,r){if(e===!0&&r===!0)throw new H(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function p0(t){if(!ie.isDocumentKey(t))throw new H(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function g0(t){if(ie.isDocumentKey(t))throw new H(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function J0(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Yv(t);throw new H(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Pd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Q0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},oo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new H(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new by;switch(r.type){case"firstParty":return new Sy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=f0.get(n);r&&(U("ComponentProvider","Removing Datastore"),f0.delete(n),r.terminate())}(this),Promise.resolve()}};function Z0(t,e,n,r={}){var i;let s=(t=J0(t,oo))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&_d("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=qe.MOCK_USER;else{a=AT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new H(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new qe(l)}t._authCredentials=new Ty(new Id(a,u))}}var Lv=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Qn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Fr=class t extends Lv{constructor(e,n,r){super(e,n,lU(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Qn(this.firestore,null,new ie(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function X0(t,e,...n){if(t=ft(t),Y0("collection","path",e),t instanceof oo){let r=Ve.fromString(e,...n);return g0(r),new Fr(t,null,r)}{if(!(t instanceof Qn||t instanceof Fr))throw new H(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ve.fromString(e,...n));return g0(r),new Fr(t.firestore,null,r)}}function eA(t,e,...n){if(t=ft(t),arguments.length===1&&(e=wd.newId()),Y0("doc","path",e),t instanceof oo){let r=Ve.fromString(e,...n);return p0(r),new Qn(t,null,new ie(r))}{if(!(t instanceof Qn||t instanceof Fr))throw new H(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ve.fromString(e,...n));return p0(r),new Qn(t.firestore,t instanceof Fr?t.converter:null,new ie(r))}}var Vv=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Nd(this,"async_queue_retry"),this.Eu=()=>{let n=Ey();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=Ey();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=Ey();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new Kn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return w(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Bd(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ai("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=xv.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&he()}verifyOperationInProgress(){}mu(){return w(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};var Od=class extends oo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Vv}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||nA(this),this._firestoreClient.terminate()}};function tA(t,e){let n=typeof t=="object"?t:Fs(),r=typeof t=="string"?t:e||"(default)",i=La(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=CT("firestore");s&&Z0(i,...s)}return i}function u2(t){return t._firestoreClient||nA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function nA(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,f){return new Oy(a,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Q0(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Fv(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var kd=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Yn.fromBase64String(e))}catch(n){throw new H(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Fd=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ld=class{constructor(e){this._methodName=e}};var Vd=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}};var jd=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var l2=/^__.*__$/,jv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Jn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ni(e,this.data,n,this.fieldTransforms)}};function rA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}var Uv=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Ud(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(rA(this.wu)&&l2.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},Bv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$d(e)}Nu(e,n,r,i=!1){return new Uv({wu:e,methodName:n,Ou:r,path:Mt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function d2(t){let e=t._freezeSettings(),n=$d(t._databaseId);return new Bv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function h2(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);aA("Data must be an object, but it was:",o,r);let a=sA(r,o),u,l;if(s.merge)u=new fn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let g of s.mergeFields){let y=f2(e,g,n);if(!o.contains(y))throw new H(N.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);m2(f,y)||f.push(y)}u=new fn(f),l=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,l=o.fieldTransforms;return new jv(new hn(a),u,l)}function iA(t,e){if(oA(t=ft(t)))return aA("Unsupported field value:",e,t),sA(t,e);if(t instanceof Ld)return function(r,i){if(!rA(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=iA(a,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return IU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=st.fromDate(r);return{timestampValue:ev(i.serializer,s)}}if(r instanceof st){let s=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ev(i.serializer,s)}}if(r instanceof Vd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kd)return{bytesValue:SU(i.serializer,r._byteString)};if(r instanceof Qn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:j0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof jd)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return Qv(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Yv(r)}`)}(t,e)}function sA(t,e){let n={};return y0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ic(t,(r,i)=>{let s=iA(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function oA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof Vd||t instanceof kd||t instanceof Qn||t instanceof Ld||t instanceof jd)}function aA(t,e,n){if(!oA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Yv(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function f2(t,e,n){if((e=ft(e))instanceof Fd)return e._internalPath;if(typeof e=="string")return g2(t,e);throw Ud("Field path arguments must be of type string or ",t,!1,void 0,n)}var p2=new RegExp("[~\\*/\\[\\]]");function g2(t,e,n){if(e.search(p2)>=0)throw Ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fd(...e.split("."))._internalPath}catch{throw Ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ud(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new H(N.INVALID_ARGUMENT,a+t+u)}function m2(t,e){return t.some(n=>n.isEqual(e))}function y2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function cA(t,e){let n=J0(t.firestore,Od),r=eA(t),i=y2(t.converter,e);return v2(n,[h2(d2(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ti.exists(!1))]).then(()=>r)}function v2(t,e){return function(r,i){let s=new Kn;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return XU(yield a2(r),i,s)})),s.promise}(u2(t),e)}(function(e,n=!0){(function(i){ao=i})(xr),Nr(new $t("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Od(new Cy(r.getProvider("auth-internal")),new My(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new H(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ky(l.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ue(KC,"4.7.1",e),Ue(KC,"4.7.1","esm2017")})();var xi=class{constructor(e){return e}},uA="firestore",Jv=class{constructor(){return Va(uA)}};var Zv=new L("angularfire2.firestore-instances");function _2(t,e){let n=Gl(uA,t,e);return n&&new xi(n)}function I2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new xi(r)}}var w2={provide:Jv,deps:[[new nt,Zv]]},E2={provide:xi,useFactory:_2,deps:[[new nt,Zv],$n]};function F6(t,...e){return Ue("angularfire",mi.full,"fst"),Lt([E2,w2,{provide:Zv,useFactory:I2(t),multi:!0,deps:[ye,Qe,js,yi,[new nt,Ga],[new nt,Vs],...e]}])}var lA=Yt(cA,!0);var dA=Yt(X0,!0);var L6=Yt(tA,!0);var Xv=aI(cI());var b2=()=>["../../home"],mn=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ft({type:t,selectors:[["app-juego"]],decls:3,vars:2,consts:[["id","button"],["id","close",3,"routerLink"]],template:function(n,r){n&1&&(J(0,"div",0)(1,"button",1),re(2,"X"),Z()()),n&2&&(Mn(),Ir("routerLink",HD(1,b2)))},dependencies:[yT],styles:["#button[_ngcontent-%COMP%]{width:100vw;display:flex;justify-content:end}button[_ngcontent-%COMP%]{width:50px;height:50px;margin:30px 10px 10px;box-shadow:0 0 15px #00000080;background-color:#cb1212cc;border-radius:10px;text-align:center;color:#fff;font-size:30px}#close[_ngcontent-%COMP%]:hover{background-color:#c64242cc}"]})};function T2(t,e){t&1&&Ct(0,"img",30)}var Kd=class t{constructor(e,n){this.firestore=e;this.auth=n}palabras=["GATO","PERRO","CASA","FLOR","ARBOL","LUNA","SOL","MAR","CIELO","NUBE","R\xCDO","FUEGO","AGUA","TIERRA","AIRE","ESTRELLA","LIBRO","MUSICA","CINE","COMIDA","BEBIDA","JUEGO","DEPORTE","COCHE","AVI\xD3N","BARCO","TREN","BICICLETA","CIUDAD","PA\xCDS","MUNDO","IDIOMA","PALABRA","LETRA","SONIDO","COLOR","LINEA","C\xCDRCULO","CUADRADO","FAMILIA","AMIGO","AMOR","PAZ","GUERRA","TRABAJO","ESCUELA","OFICINA","PARQUE","CALLE","CARRETERA","PUENTE","MUSEO","TEATRO","HOSPITAL","IGLESIA","TEMPLO","TIENDA","RESTAURANTE","CAFETER\xCDA","ZAPATO","CAMISETA","PANTAL\xD3N","SOMBRERO","RELOJ","BOLSA","LLAVE","TEL\xC9FONO","ORDENADOR","MESA","SILLA","CAMA","SOFA","VENTANA","PUERTA","LIBRETA","L\xC1PIZ","BOLIGRAFO","CEPILLO","ESPEJO","PEINE","JAB\xD3N","TOALLA","LAVAVAJILLAS","NEVERA","LAVADORA","COCINA","HORNO","MICROONDAS","TELEVISOR","RADIO","CAMARA","REPRODUCTOR","MOTOR","BATERIA","CARGADOR","CUADERNO","GRIFO","CORTE","PLATO"];palabraSeleccionada="";palabraOculta="";vidasCount=5;puntos=0;teclado=document.getElementsByClassName("letter");ngOnInit(){this.InitGame(),Xv.default.fire({title:"Ahorcado",html:`<div style="text-align: left;">
      -Tenes 5 intentos para adivinar la palabra secreta<br><br>
      -Cada letra que se agregue vale un punto y cada letra incorrecta resta una vida<br><br>
      -Al acertar una palabra esta se reemplaza por otra y el jugador vuelve a tener todas las vidas<br><br>
      -El juegos se termina cuando te quedas sin vidas
      </div>`,background:"#000",color:"#fff",confirmButtonColor:"#ff5722",confirmButtonText:"Entendido",allowOutsideClick:!1,allowEscapeKey:!1})}InitGame(){this.palabraSeleccionada=this.palabras[Math.floor(Math.random()*this.palabras.length)],console.log(this.palabraSeleccionada);for(let e=0;e<this.palabraSeleccionada.length;e++)this.palabraOculta+="_";console.log(this.teclado);for(let e=0;e<this.teclado.length;e++){let n=this.teclado[e].id,r=document.getElementById(n);r!=null&&(r.style.display="block")}}BuscarLetra(e){let n=[],r=!1;for(let i=0;i<this.palabraSeleccionada.length;i++)if(e.toUpperCase()==this.palabraSeleccionada[i].toUpperCase()){let s=this.palabraOculta.split("");s[i]=e.toUpperCase(),this.palabraOculta=s.join(""),n.push(e.toUpperCase()),r=!0,this.puntos++}if(r||(console.log("Esa letra no existe"),this.vidasCount--),this.hideButton(e),this.ActualizarPalabra())if(this.vidasCount==0){Xv.default.fire({title:`Perdiste
Puntuacion Final: ${this.puntos}`,background:"#000",color:"#fff",confirmButtonColor:"#ff5722"});let i=dA(this.firestore,"ahorcado");lA(i,{puntaje:this.puntos,user:this.auth.currentUser?.displayName}),this.vidasCount=5,this.puntos=0,this.InitGame()}else this.vidasCount=5,this.InitGame()}hideButton(e){let n=document.getElementById(e);n&&(n.style.display="none")}get vidas(){return Array(this.vidasCount).fill(0).map((e,n)=>n)}ActualizarPalabra(){let e=!1;return(this.vidasCount==0||this.palabraOculta.indexOf("_")==-1)&&(e=!0,this.palabraOculta=""),e}static \u0275fac=function(n){return new(n||t)(ae(xi),ae(Ei))};static \u0275cmp=Ft({type:t,selectors:[["app-ahorcado"]],decls:58,vars:2,consts:[["id","barra-vidas"],["src","https://firebasestorage.googleapis.com/v0/b/tp-labo4-fae81.appspot.com/o/corazon.png?alt=media&token=821aefc2-08ca-4af0-8947-67d7ff5d6c8e","alt","vida","id","vida",4,"ngFor","ngForOf"],["id","palabra"],[1,"alphabet-buttons","container-fluid"],["id","A",1,"letter",3,"click"],["id","B",1,"letter",3,"click"],["id","C",1,"letter",3,"click"],["id","D",1,"letter",3,"click"],["id","E",1,"letter",3,"click"],["id","F",1,"letter",3,"click"],["id","G",1,"letter",3,"click"],["id","H",1,"letter",3,"click"],["id","I",1,"letter",3,"click"],["id","J",1,"letter",3,"click"],["id","K",1,"letter",3,"click"],["id","L",1,"letter",3,"click"],["id","M",1,"letter",3,"click"],["id","N",1,"letter",3,"click"],["id","O",1,"letter",3,"click"],["id","P",1,"letter",3,"click"],["id","Q",1,"letter",3,"click"],["id","R",1,"letter",3,"click"],["id","S",1,"letter",3,"click"],["id","T",1,"letter",3,"click"],["id","U",1,"letter",3,"click"],["id","V",1,"letter",3,"click"],["id","W",1,"letter",3,"click"],["id","X",1,"letter",3,"click"],["id","Y",1,"letter",3,"click"],["id","Z",1,"letter",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/tp-labo4-fae81.appspot.com/o/corazon.png?alt=media&token=821aefc2-08ca-4af0-8947-67d7ff5d6c8e","alt","vida","id","vida"]],template:function(n,r){n&1&&(Ct(0,"app-juego"),J(1,"div",0),Zo(2,T2,1,0,"img",1),Z(),J(3,"p",2),re(4),Z(),J(5,"div",3)(6,"button",4),ce("click",function(){return r.BuscarLetra("A")}),re(7,"A"),Z(),J(8,"button",5),ce("click",function(){return r.BuscarLetra("B")}),re(9,"B"),Z(),J(10,"button",6),ce("click",function(){return r.BuscarLetra("C")}),re(11,"C"),Z(),J(12,"button",7),ce("click",function(){return r.BuscarLetra("D")}),re(13,"D"),Z(),J(14,"button",8),ce("click",function(){return r.BuscarLetra("E")}),re(15,"E"),Z(),J(16,"button",9),ce("click",function(){return r.BuscarLetra("F")}),re(17,"F"),Z(),J(18,"button",10),ce("click",function(){return r.BuscarLetra("G")}),re(19,"G"),Z(),J(20,"button",11),ce("click",function(){return r.BuscarLetra("H")}),re(21,"H"),Z(),J(22,"button",12),ce("click",function(){return r.BuscarLetra("I")}),re(23,"I"),Z(),J(24,"button",13),ce("click",function(){return r.BuscarLetra("J")}),re(25,"J"),Z(),J(26,"button",14),ce("click",function(){return r.BuscarLetra("K")}),re(27,"K"),Z(),J(28,"button",15),ce("click",function(){return r.BuscarLetra("L")}),re(29,"L"),Z(),J(30,"button",16),ce("click",function(){return r.BuscarLetra("M")}),re(31,"M"),Z(),J(32,"button",17),ce("click",function(){return r.BuscarLetra("N")}),re(33,"N"),Z(),J(34,"button",18),ce("click",function(){return r.BuscarLetra("O")}),re(35,"O"),Z(),J(36,"button",19),ce("click",function(){return r.BuscarLetra("P")}),re(37,"P"),Z(),J(38,"button",20),ce("click",function(){return r.BuscarLetra("Q")}),re(39,"Q"),Z(),J(40,"button",21),ce("click",function(){return r.BuscarLetra("R")}),re(41,"R"),Z(),J(42,"button",22),ce("click",function(){return r.BuscarLetra("S")}),re(43,"S"),Z(),J(44,"button",23),ce("click",function(){return r.BuscarLetra("T")}),re(45,"T"),Z(),J(46,"button",24),ce("click",function(){return r.BuscarLetra("U")}),re(47,"U"),Z(),J(48,"button",25),ce("click",function(){return r.BuscarLetra("V")}),re(49,"V"),Z(),J(50,"button",26),ce("click",function(){return r.BuscarLetra("W")}),re(51,"W"),Z(),J(52,"button",27),ce("click",function(){return r.BuscarLetra("X")}),re(53,"X"),Z(),J(54,"button",28),ce("click",function(){return r.BuscarLetra("Y")}),re(55,"Y"),Z(),J(56,"button",29),ce("click",function(){return r.BuscarLetra("Z")}),re(57,"Z"),Z()()),n&2&&(Mn(2),Ir("ngForOf",r.vidas),Mn(2),Yp(r.palabraOculta))},dependencies:[ub,mn],styles:["p[_ngcontent-%COMP%]{color:#fff}.alphabet-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;width:90vw}.letter[_ngcontent-%COMP%]{width:100px;height:100px;margin:30px 10px 10px;box-shadow:0 0 15px #00000080;background-color:#000c;padding:20px;border-radius:10px;text-align:center;color:#fff;font-size:30px}.letter[_ngcontent-%COMP%]:hover{background-color:#5b5b5bcc}#palabra[_ngcontent-%COMP%]{width:100%;text-align:center;font-size:100px;letter-spacing:10px}#vida[_ngcontent-%COMP%]{width:40px}#barra-vidas[_ngcontent-%COMP%]{padding:20px}"]})};var co=aI(cI());var Qd=class t{http=M(pg);constructor(){}getCartas(){return this.http.get("https://www.deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1")}mostrarCarta(e){return this.http.get(`https://deckofcardsapi.com/api/deck/${e}/draw/?count=1`)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})};function A2(t,e){if(t&1&&(J(0,"div",2),Ct(1,"img",3),Z()),t&2){let n=ea();Mn(),Qp("src",n.cartaEnMesaImagen,kp)}}function S2(t,e){if(t&1){let n=LD();J(0,"div",4)(1,"button",5),ce("click",function(){Yu(n);let i=ea();return Ju(i.Apostar("menor"))}),re(2,"Menor"),Z(),J(3,"button",5),ce("click",function(){Yu(n);let i=ea();return Ju(i.Apostar("igual"))}),re(4,"Igual"),Z(),J(5,"button",5),ce("click",function(){Yu(n);let i=ea();return Ju(i.Apostar("mayor"))}),re(6,"Mayor"),Z()()}}var Yd=class t{constructor(e){this.cartasService=e}baraja;idBaraja;cartaEnMesa;cartaEnMesaImagen;subscription;dataCargada=!1;cartaRecogida;cartasDescartadas=[];puntaje=0;ngOnDestroy(){this.subscription.unsubscribe()}ngOnInit(){co.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#000",color:"#fff",didOpen:()=>{co.default.showLoading()}}),this.subscription=this.cartasService.getCartas().subscribe(e=>{this.baraja=e,this.idBaraja=this.baraja.deck_id,this.obtenerCarta(),co.default.close(),this.dataCargada=!0,co.default.fire({title:"Mayor o Menor",html:`<div style="text-align: left;">
          -Al jugador se le muestra una carta de un mazo de 52 cartas y debe adivinar si la proxima carta es mayor, menor o igual a la siguiente<br><br>
          -Por cada acierto suma un punto<br><br>
          -El juego finaliza cuando el mazo se queda sin cartas<br><br>
          </div>`,background:"#000",color:"#fff",confirmButtonColor:"#ff5722",confirmButtonText:"Entendido",allowOutsideClick:!1,allowEscapeKey:!1})})}obtenerCarta(){this.subscription=this.cartasService.mostrarCarta(this.idBaraja).subscribe(e=>w(this,null,function*(){this.cartaRecogida=e,this.cartaEnMesa=this.cartaRecogida.cards[0],this.cartaEnMesaImagen=this.cartaEnMesa.image,this.asignarValores()}))}asignarValores(){switch(this.cartaEnMesa.value){case"ACE":this.cartaEnMesa.value=1;break;case"KING":this.cartaEnMesa.value=13;break;case"QUEEN":this.cartaEnMesa.value=12;break;case"JACK":this.cartaEnMesa.value=11;break;default:this.cartaEnMesa.value=parseInt(this.cartaEnMesa.value);break}}Apostar(e){this.cartasDescartadas.push(this.cartaEnMesa),console.log(this.cartasDescartadas[this.cartasDescartadas.length-1]),this.cartasService.mostrarCarta(this.idBaraja).subscribe(n=>{switch(this.cartaRecogida=n,this.cartaEnMesa=this.cartaRecogida.cards[0],this.cartaEnMesaImagen=this.cartaEnMesa.image,this.asignarValores(),e){case"mayor":this.cartaEnMesa.value>this.cartasDescartadas[this.cartasDescartadas.length-1].value&&(console.log("Es Mayor"),this.puntaje+=1);break;case"menor":this.cartaEnMesa.value<this.cartasDescartadas[this.cartasDescartadas.length-1].value&&(console.log("Es Menor"),this.puntaje+=1);break;case"igual":this.cartasDescartadas[this.cartasDescartadas.length-1].value==this.cartaEnMesa.value&&(console.log("Es Igual"),this.puntaje+=1);break}console.log(this.puntaje),this.cartasDescartadas.length==51&&co.default.fire({title:"Juego Terminado",background:"#000",color:"#fff",confirmButtonColor:"#ff5722"})})}static \u0275fac=function(n){return new(n||t)(ae(Qd))};static \u0275cmp=Ft({type:t,selectors:[["app-mayor-o-menor"]],decls:3,vars:2,consts:[["id","mesa","class","container_fluid",4,"ngIf"],["id","opciones","class","container_fluid",4,"ngIf"],["id","mesa",1,"container_fluid"],[3,"src"],["id","opciones",1,"container_fluid"],[1,"opcion",3,"click"]],template:function(n,r){n&1&&(Ct(0,"app-juego"),Zo(1,A2,2,1,"div",0)(2,S2,7,0,"div",1)),n&2&&(Mn(),Ir("ngIf",r.dataCargada),Mn(),Ir("ngIf",r.dataCargada))},dependencies:[lb,mn],styles:["p[_ngcontent-%COMP%]{color:#fff}#mesa[_ngcontent-%COMP%], #opciones[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:10px}.opcion[_ngcontent-%COMP%]{width:200px;height:100px;margin:30px 10px 10px;box-shadow:0 0 15px #00000080;background-color:#000c;padding:20px;border-radius:10px;text-align:center;color:#fff;font-size:30px}.opcion[_ngcontent-%COMP%]:hover{background-color:#5b5b5bcc}"]})};var Jd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ft({type:t,selectors:[["app-preguntas"]],decls:3,vars:0,template:function(n,r){n&1&&(J(0,"p"),re(1,"preguntas works!"),Z(),Ct(2,"app-juego"))},dependencies:[mn],styles:["p[_ngcontent-%COMP%]{color:#fff}"]})};var Zd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ft({type:t,selectors:[["app-buscaminas"]],decls:3,vars:0,template:function(n,r){n&1&&(J(0,"p"),re(1,"buscaminas works!"),Z(),Ct(2,"app-juego"))},dependencies:[mn],styles:["p[_ngcontent-%COMP%]{color:#fff}"]})};var R2=[{path:"ahorcado",component:Kd},{path:"mayor-o-menor",component:Yd},{path:"preguntas",component:Jd},{path:"buscaminas",component:Zd}],Xd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Tt({type:t});static \u0275inj=bt({imports:[rm.forChild(R2),rm]})};var IA=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(ae(ai),ae(vr))},e.\u0275dir=Ye({type:e});let t=e;return t})(),M2=(()=>{let e=class e extends IA{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=vs(e)))(s||e)}})(),e.\u0275dir=Ye({type:e,features:[Nn]});let t=e;return t})(),wA=new L("");var N2={provide:wA,useExisting:oi(()=>EA),multi:!0};function x2(){let t=On()?On().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var P2=new L(""),EA=(()=>{let e=class e extends IA{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!x2())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(ae(ai),ae(vr),ae(P2,8))},e.\u0275dir=Ye({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&ce("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[ta([N2]),Nn]});let t=e;return t})();function O2(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var t_=new L(""),DA=new L("");function k2(t){return O2(t.value)?{required:!0}:null}function hA(t){return null}function bA(t){return t!=null}function TA(t){return ci(t)?Te(t):t}function CA(t){let e={};return t.forEach(n=>{e=n!=null?F(F({},e),n):e}),Object.keys(e).length===0?null:e}function AA(t,e){return e.map(n=>n(t))}function F2(t){return!t.validate}function SA(t){return t.map(e=>F2(e)?e:n=>e.validate(n))}function L2(t){if(!t)return null;let e=t.filter(bA);return e.length==0?null:function(n){return CA(AA(n,e))}}function n_(t){return t!=null?L2(SA(t)):null}function V2(t){if(!t)return null;let e=t.filter(bA);return e.length==0?null:function(n){let r=AA(n,e).map(TA);return ef(r).pipe(Y(CA))}}function r_(t){return t!=null?V2(SA(t)):null}function fA(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function j2(t){return t._rawValidators}function U2(t){return t._rawAsyncValidators}function e_(t){return t?Array.isArray(t)?t:[t]:[]}function th(t,e){return Array.isArray(t)?t.includes(e):t===e}function pA(t,e){let n=e_(e);return e_(t).forEach(i=>{th(n,i)||n.push(i)}),n}function gA(t,e){return e_(e).filter(n=>!th(t,n))}var nh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=n_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=r_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ho=class extends nh{get formDirective(){return null}get path(){return null}},hc=class extends nh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},rh=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},B2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},y8=ue(F({},B2),{"[class.ng-submitted]":"isSubmitted"}),v8=(()=>{let e=class e extends rh{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ae(hc,2))},e.\u0275dir=Ye({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&al("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Nn]});let t=e;return t})(),_8=(()=>{let e=class e extends rh{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ae(ho,10))},e.\u0275dir=Ye({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&al("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Nn]});let t=e;return t})();var ac="VALID",eh="INVALID",uo="PENDING",cc="DISABLED",fo=class{},ih=class extends fo{constructor(e,n){super(),this.value=e,this.source=n}},lc=class extends fo{constructor(e,n){super(),this.pristine=e,this.source=n}},dc=class extends fo{constructor(e,n){super(),this.touched=e,this.source=n}},lo=class extends fo{constructor(e,n){super(),this.status=e,this.source=n}};function RA(t){return(ah(t)?t.validators:t)||null}function $2(t){return Array.isArray(t)?n_(t):t||null}function MA(t,e){return(ah(e)?e.asyncValidators:t)||null}function H2(t){return Array.isArray(t)?r_(t):t||null}function ah(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function z2(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new j(1e3,"");if(!r[n])throw new j(1001,"")}function q2(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new j(1002,"")})}var sh=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ra(()=>this.statusReactive()),this.statusReactive=Jo(void 0),this._pristine=ra(()=>this.pristineReactive()),this.pristineReactive=Jo(!0),this._touched=ra(()=>this.touchedReactive()),this.touchedReactive=Jo(!1),this._events=new $e,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return xn(this.statusReactive)}set status(e){xn(()=>this.statusReactive.set(e))}get valid(){return this.status===ac}get invalid(){return this.status===eh}get pending(){return this.status==uo}get disabled(){return this.status===cc}get enabled(){return this.status!==cc}get pristine(){return xn(this.pristineReactive)}set pristine(e){xn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return xn(this.touchedReactive)}set touched(e){xn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(pA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(pA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gA(e,this._rawAsyncValidators))}hasValidator(e){return th(this._rawValidators,e)}hasAsyncValidator(e){return th(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ue(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new dc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new dc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ue(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new lc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new lc(!0,r))}markAsPending(e={}){this.status=uo;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new lo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ue(F({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=cc,this.errors=null,this._forEachChild(i=>{i.disable(ue(F({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ih(this.value,r)),this._events.next(new lo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ue(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ac,this._forEachChild(r=>{r.enable(ue(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ue(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ac||this.status===uo)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ih(this.value,n)),this._events.next(new lo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ue(F({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?cc:ac}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=uo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=TA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new lo(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Pe,this.statusChanges=new Pe}_calculateStatus(){return this._allControlsDisabled()?cc:this.errors?eh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(uo)?uo:this._anyControlsHaveStatus(eh)?eh:ac}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new lc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new dc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ah(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=$2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=H2(this._rawAsyncValidators)}},oh=class extends sh{constructor(e,n,r){super(RA(n),MA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){q2(this,!0,e),Object.keys(e).forEach(r=>{z2(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var i_=new L("CallSetDisabledState",{providedIn:"root",factory:()=>s_}),s_="always";function G2(t,e){return[...e.path,t]}function NA(t,e,n=s_){xA(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),K2(t,e),Y2(t,e),Q2(t,e),W2(t,e)}function mA(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function W2(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function xA(t,e){let n=j2(t);e.validator!==null?t.setValidators(fA(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=U2(t);e.asyncValidator!==null?t.setAsyncValidators(fA(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();mA(e._rawValidators,i),mA(e._rawAsyncValidators,i)}function K2(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&PA(t,e)})}function Q2(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&PA(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function PA(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Y2(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function J2(t,e){t==null,xA(t,e)}function Z2(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function X2(t){return Object.getPrototypeOf(t.constructor)===M2}function eB(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function tB(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===EA?n=s:X2(s)?r=s:i=s}),i||r||n||null}var nB={provide:ho,useExisting:oi(()=>rB)},uc=Promise.resolve(),rB=(()=>{let e=class e extends ho{get submitted(){return xn(this.submittedReactive)}constructor(r,i,s){super(),this.callSetDisabledState=s,this._submitted=ra(()=>this.submittedReactive()),this.submittedReactive=Jo(!1),this._directives=new Set,this.ngSubmit=new Pe,this.form=new oh({},n_(r),r_(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){uc.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),NA(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){uc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){uc.then(()=>{let i=this._findContainer(r.path),s=new oh({});J2(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){uc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){uc.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),eB(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(ae(t_,10),ae(DA,10),ae(i_,8))},e.\u0275dir=Ye({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&ce("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ta([nB]),Nn]});let t=e;return t})();function yA(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function vA(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var iB=class extends sh{constructor(e=null,n,r){super(RA(n),MA(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ah(n)&&(n.nonNullable||n.initialValueIsDefault)&&(vA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){yA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){yA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){vA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var sB={provide:hc,useExisting:oi(()=>oB)},_A=Promise.resolve(),oB=(()=>{let e=class e extends hc{constructor(r,i,s,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new iB,this._registered=!1,this.name="",this.update=new Pe,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=tB(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),Z2(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){NA(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){_A.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&Er(i);_A.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?G2(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(ae(ho,9),ae(t_,10),ae(DA,10),ae(wA,10),ae(ui,8),ae(i_,8))},e.\u0275dir=Ye({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ta([sB]),Nn,gr]});let t=e;return t})(),w8=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ye({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var aB=(()=>{let e=class e{constructor(){this._validator=hA}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):hA,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ye({type:e,features:[gr]});let t=e;return t})();var cB={provide:t_,useExisting:oi(()=>uB),multi:!0};var uB=(()=>{let e=class e extends aB{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Er,this.createValidator=r=>k2}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=vs(e)))(s||e)}})(),e.\u0275dir=Ye({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&Xo("required",s._enabled?"":null)},inputs:{required:"required"},features:[ta([cB]),Nn]});let t=e;return t})();var lB=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Tt({type:e}),e.\u0275inj=bt({});let t=e;return t})();var OA=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:i_,useValue:r.callSetDisabledState??s_}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Tt({type:e}),e.\u0275inj=bt({imports:[lB]});let t=e;return t})();var kA=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Tt({type:t});static \u0275inj=bt({imports:[ag,Xd,OA]})};export{V as a,bt as b,L as c,B as d,M as e,Ft as f,Tt as g,Yu as h,Ju as i,vs as j,Mn as k,ae as l,Nn as m,Zo as n,MG as o,J as p,Z as q,Ct as r,LD as s,ce as t,ea as u,re as v,UD as w,bP as x,NG as y,TP as z,$D as A,xG as B,ag as C,y3 as D,H3 as E,wk as F,jn as G,lW as H,ZW as I,XW as J,Ei as K,G9 as L,W9 as M,K9 as N,Q9 as O,Y9 as P,cA as Q,xi as R,F6 as S,lA as T,dA as U,L6 as V,EA as W,v8 as X,_8 as Y,rB as Z,oB as _,w8 as $,uB as aa,OA as ba,kA as ca};

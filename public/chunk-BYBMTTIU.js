import{a as F,b as fe,c as Iu,d as _r,e as _,f as wu}from"./chunk-M3GSIO6A.js";function qw(t,e){return Object.is(t,e)}var He=null,Eu=!1,bu=1,Fn=Symbol("SIGNAL");function de(t){let e=He;return He=t,e}function Gw(){return He}var la={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Uf(t){if(Eu)throw new Error("");if(He===null)return;He.consumerOnSignalRead(t);let e=He.nextProducerIndex++;if(Au(He),e<He.producerNode.length&&He.producerNode[e]!==t&&ua(He)){let n=He.producerNode[e];Tu(n,He.producerIndexOfThis[e])}He.producerNode[e]!==t&&(He.producerNode[e]=t,He.producerIndexOfThis[e]=ua(He)?Yw(t,He,e):0),He.producerLastReadVersion[e]=t.version}function bM(){bu++}function Ww(t){if(!(ua(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===bu)){if(!t.producerMustRecompute(t)&&!$f(t)){t.dirty=!1,t.lastCleanEpoch=bu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=bu}}function Kw(t){if(t.liveConsumerNode===void 0)return;let e=Eu;Eu=!0;try{for(let n of t.liveConsumerNode)n.dirty||DM(n)}finally{Eu=e}}function Qw(){return He?.consumerAllowSignalWrites!==!1}function DM(t){t.dirty=!0,Kw(t),t.consumerMarkedDirty?.(t)}function Cu(t){return t&&(t.nextProducerIndex=0),de(t)}function Bf(t,e){if(de(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ua(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Tu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function $f(t){Au(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Ww(n),r!==n.version))return!0}return!1}function Hf(t){if(Au(t),ua(t))for(let e=0;e<t.producerNode.length;e++)Tu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Yw(t,e,n){if(Jw(t),t.liveConsumerNode.length===0&&Zw(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Yw(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Tu(t,e){if(Jw(t),t.liveConsumerNode.length===1&&Zw(t))for(let r=0;r<t.producerNode.length;r++)Tu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Au(i),i.producerIndexOfThis[r]=e}}function ua(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Au(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Jw(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Zw(t){return t.producerNode!==void 0}function Xw(t){let e=Object.create(CM);e.computation=t;let n=()=>{if(Ww(e),Uf(e),e.value===Du)throw e.error;return e.value};return n[Fn]=e,n}var Vf=Symbol("UNSET"),jf=Symbol("COMPUTING"),Du=Symbol("ERRORED"),CM=fe(F({},la),{value:Vf,dirty:!0,error:null,equal:qw,producerMustRecompute(t){return t.value===Vf||t.value===jf},producerRecomputeValue(t){if(t.value===jf)throw new Error("Detected cycle in computations.");let e=t.value;t.value=jf;let n=Cu(t),r;try{r=t.computation()}catch(i){r=Du,t.error=i}finally{Bf(t,n)}if(e!==Vf&&e!==Du&&r!==Du&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function TM(){throw new Error}var eE=TM;function tE(){eE()}function nE(t){eE=t}var AM=null;function rE(t){let e=Object.create(sE);e.value=t;let n=()=>(Uf(e),e.value);return n[Fn]=e,n}function zf(t,e){Qw()||tE(),t.equal(t.value,e)||(t.value=e,SM(t))}function iE(t,e){Qw()||tE(),zf(t,e(t.value))}var sE=fe(F({},la),{equal:qw,value:void 0});function SM(t){t.version++,bM(),Kw(t),AM?.()}function se(t){return typeof t=="function"}function as(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Su=as(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ci(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Pe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(se(r))try{r()}catch(s){e=s instanceof Su?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{oE(s)}catch(o){e=e??[],o instanceof Su?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Su(e)}}add(e){var n;if(e&&e!==this)if(this.closed)oE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ci(n,e)}remove(e){let{_finalizers:n}=this;n&&ci(n,e),e instanceof t&&e._removeParent(this)}};Pe.EMPTY=(()=>{let t=new Pe;return t.closed=!0,t})();var qf=Pe.EMPTY;function Ru(t){return t instanceof Pe||t&&"closed"in t&&se(t.remove)&&se(t.add)&&se(t.unsubscribe)}function oE(t){se(t)?t():t.unsubscribe()}var Zt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var cs={setTimeout(t,e,...n){let{delegate:r}=cs;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=cs;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Mu(t){cs.setTimeout(()=>{let{onUnhandledError:e}=Zt;if(e)e(t);else throw t})}function da(){}var aE=Gf("C",void 0,void 0);function cE(t){return Gf("E",void 0,t)}function uE(t){return Gf("N",t,void 0)}function Gf(t,e,n){return{kind:t,value:e,error:n}}var ui=null;function us(t){if(Zt.useDeprecatedSynchronousErrorHandling){let e=!ui;if(e&&(ui={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ui;if(ui=null,n)throw r}}else t()}function lE(t){Zt.useDeprecatedSynchronousErrorHandling&&ui&&(ui.errorThrown=!0,ui.error=t)}var li=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ru(e)&&e.add(this)):this.destination=NM}static create(e,n,r){return new ls(e,n,r)}next(e){this.isStopped?Kf(uE(e),this):this._next(e)}error(e){this.isStopped?Kf(cE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Kf(aE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},RM=Function.prototype.bind;function Wf(t,e){return RM.call(t,e)}var Qf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Nu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Nu(r)}else Nu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Nu(n)}}},ls=class extends li{constructor(e,n,r){super();let i;if(se(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Zt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Wf(e.next,s),error:e.error&&Wf(e.error,s),complete:e.complete&&Wf(e.complete,s)}):i=e}this.destination=new Qf(i)}};function Nu(t){Zt.useDeprecatedSynchronousErrorHandling?lE(t):Mu(t)}function MM(t){throw t}function Kf(t,e){let{onStoppedNotification:n}=Zt;n&&cs.setTimeout(()=>n(t,e))}var NM={closed:!0,next:da,error:MM,complete:da};var ds=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Rt(t){return t}function Yf(...t){return Jf(t)}function Jf(t){return t.length===0?Rt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var he=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=PM(n)?n:new ls(n,r,i);return us(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=dE(r),new r((i,s)=>{let o=new ls({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ds](){return this}pipe(...n){return Jf(n)(this)}toPromise(n){return n=dE(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function dE(t){var e;return(e=t??Zt.Promise)!==null&&e!==void 0?e:Promise}function xM(t){return t&&se(t.next)&&se(t.error)&&se(t.complete)}function PM(t){return t&&t instanceof li||xM(t)&&Ru(t)}function Zf(t){return se(t?.lift)}function ye(t){return e=>{if(Zf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pe(t,e,n,r,i){return new Xf(t,e,n,r,i)}var Xf=class extends li{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function hs(){return ye((t,e)=>{let n=null;t._refCount++;let r=pe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var fs=class extends he{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Zf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;let n=this.getSubject();e.add(this.source.subscribe(pe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return hs()(this)}};var hE=as(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ge=(()=>{class t extends he{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new xu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new hE}next(n){us(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){us(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){us(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?qf:(this.currentObservers=null,s.push(n),new Pe(()=>{this.currentObservers=null,ci(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new he;return n.source=this,n}}return t.create=(e,n)=>new xu(e,n),t})(),xu=class extends Ge{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:qf}};var Je=class extends Ge{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ep={now(){return(ep.delegate||Date).now()},delegate:void 0};var Pu=class extends Pe{constructor(e,n){super()}schedule(e,n=0){return this}};var ha={setInterval(t,e,...n){let{delegate:r}=ha;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ha;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ps=class extends Pu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return ha.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ha.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ci(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var gs=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};gs.now=ep.now;var ms=class extends gs{constructor(e,n=gs.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var tp=new ms(ps);var Ou=class extends ps{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ku=class extends ms{};var np=new ku(Ou);var Mt=new he(t=>t.complete());function fE(t){return t&&se(t.schedule)}function pE(t){return t[t.length-1]}function Fu(t){return se(pE(t))?t.pop():void 0}function Ir(t){return fE(pE(t))?t.pop():void 0}function rp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function mE(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function gE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function di(t){return this instanceof di?(this.v=t,this):new di(t)}function yE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(C){return Promise.resolve(C).then(y,p)}}function a(y,C){r[y]&&(i[y]=function(M){return new Promise(function(R,N){s.push([y,M,R,N])>1||u(y,M)})},C&&(i[y]=C(i[y])))}function u(y,C){try{l(r[y](C))}catch(M){m(s[0][3],M)}}function l(y){y.value instanceof di?Promise.resolve(y.value.v).then(h,p):m(s[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,C){y(C),s.shift(),s.length&&u(s[0][0],s[0][1])}}function vE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof gE=="function"?gE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var Lu=t=>t&&typeof t.length=="number"&&typeof t!="function";function Vu(t){return se(t?.then)}function ju(t){return se(t[ds])}function Uu(t){return Symbol.asyncIterator&&se(t?.[Symbol.asyncIterator])}function Bu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function OM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var $u=OM();function Hu(t){return se(t?.[$u])}function zu(t){return yE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield di(n.read());if(i)return yield di(void 0);yield yield di(r)}}finally{n.releaseLock()}})}function qu(t){return se(t?.getReader)}function Le(t){if(t instanceof he)return t;if(t!=null){if(ju(t))return kM(t);if(Lu(t))return FM(t);if(Vu(t))return LM(t);if(Uu(t))return _E(t);if(Hu(t))return VM(t);if(qu(t))return jM(t)}throw Bu(t)}function kM(t){return new he(e=>{let n=t[ds]();if(se(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function FM(t){return new he(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function LM(t){return new he(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Mu)})}function VM(t){return new he(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function _E(t){return new he(e=>{UM(t,e).catch(n=>e.error(n))})}function jM(t){return _E(zu(t))}function UM(t,e){var n,r,i,s;return mE(this,void 0,void 0,function*(){try{for(n=vE(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Dt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function wr(t,e=0){return ye((n,r)=>{n.subscribe(pe(r,i=>Dt(r,t,()=>r.next(i),e),()=>Dt(r,t,()=>r.complete(),e),i=>Dt(r,t,()=>r.error(i),e)))})}function Er(t,e=0){return ye((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function IE(t,e){return Le(t).pipe(Er(e),wr(e))}function wE(t,e){return Le(t).pipe(Er(e),wr(e))}function EE(t,e){return new he(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function bE(t,e){return new he(n=>{let r;return Dt(n,e,()=>{r=t[$u](),Dt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>se(r?.return)&&r.return()})}function Gu(t,e){if(!t)throw new Error("Iterable cannot be null");return new he(n=>{Dt(n,e,()=>{let r=t[Symbol.asyncIterator]();Dt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function DE(t,e){return Gu(zu(t),e)}function CE(t,e){if(t!=null){if(ju(t))return IE(t,e);if(Lu(t))return EE(t,e);if(Vu(t))return wE(t,e);if(Uu(t))return Gu(t,e);if(Hu(t))return bE(t,e);if(qu(t))return DE(t,e)}throw Bu(t)}function Me(t,e){return e?CE(t,e):Le(t)}function J(...t){let e=Ir(t);return Me(t,e)}function ys(t,e){let n=se(t)?t:()=>t,r=i=>i.error(n());return new he(e?i=>e.schedule(r,0,i):r)}function ip(t){return!!t&&(t instanceof he||se(t.lift)&&se(t.subscribe))}var Ln=as(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function oe(t,e){return ye((n,r)=>{let i=0;n.subscribe(pe(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:BM}=Array;function $M(t,e){return BM(e)?t(...e):t(e)}function Wu(t){return oe(e=>$M(t,e))}var{isArray:HM}=Array,{getPrototypeOf:zM,prototype:qM,keys:GM}=Object;function Ku(t){if(t.length===1){let e=t[0];if(HM(e))return{args:e,keys:null};if(WM(e)){let n=GM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function WM(t){return t&&typeof t=="object"&&zM(t)===qM}function Qu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function fa(...t){let e=Ir(t),n=Fu(t),{args:r,keys:i}=Ku(t);if(r.length===0)return Me([],e);let s=new he(KM(r,e,i?o=>Qu(i,o):Rt));return n?s.pipe(Wu(n)):s}function KM(t,e,n=Rt){return r=>{TE(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)TE(e,()=>{let l=Me(t[u],e),h=!1;l.subscribe(pe(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function TE(t,e,n){t?Dt(n,t,e):e()}function AE(t,e,n,r,i,s,o,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?C(M):u.push(M),C=M=>{s&&e.next(M),l++;let R=!1;Le(n(M,h++)).subscribe(pe(e,N=>{i?.(N),s?y(N):e.next(N)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let N=u.shift();o?Dt(e,o,()=>C(N)):C(N)}m()}catch(N){e.error(N)}}))};return t.subscribe(pe(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Ve(t,e,n=1/0){return se(e)?Ve((r,i)=>oe((s,o)=>e(r,s,i,o))(Le(t(r,i))),n):(typeof e=="number"&&(n=e),ye((r,i)=>AE(r,i,t,n)))}function vs(t=1/0){return Ve(Rt,t)}function SE(){return vs(1)}function _s(...t){return SE()(Me(t,Ir(t)))}function Yu(t){return new he(e=>{Le(t()).subscribe(e)})}function sp(...t){let e=Fu(t),{args:n,keys:r}=Ku(t),i=new he(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;Le(n[h]).subscribe(pe(s,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?Qu(r,a):a),s.complete())}))}});return e?i.pipe(Wu(e)):i}function Ct(t,e){return ye((n,r)=>{let i=0;n.subscribe(pe(r,s=>t.call(e,s,i++)&&r.next(s)))})}function br(t){return ye((e,n)=>{let r=null,i=!1,s;r=e.subscribe(pe(n,void 0,void 0,o=>{s=Le(t(o,br(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function RE(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(pe(o,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Vn(t,e){return se(e)?Ve(t,e,1):Ve(t,1)}function Dr(t){return ye((e,n)=>{let r=!1;e.subscribe(pe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function jn(t){return t<=0?()=>Mt:ye((e,n)=>{let r=0;e.subscribe(pe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function op(t){return oe(()=>t)}function Ju(t=QM){return ye((e,n)=>{let r=!1;e.subscribe(pe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function QM(){return new Ln}function hi(t){return ye((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function hn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ct((i,s)=>t(i,s,r)):Rt,jn(1),n?Dr(e):Ju(()=>new Ln))}function Is(t){return t<=0?()=>Mt:ye((e,n)=>{let r=[];e.subscribe(pe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ap(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ct((i,s)=>t(i,s,r)):Rt,Is(1),n?Dr(e):Ju(()=>new Ln))}function cp(t,e){return ye(RE(t,e,arguments.length>=2,!0))}function up(...t){let e=Ir(t);return ye((n,r)=>{(e?_s(t,n,e):_s(t,n)).subscribe(r)})}function Tt(t,e){return ye((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(pe(r,u=>{i?.unsubscribe();let l=0,h=s++;Le(t(u,h)).subscribe(i=pe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function lp(t){return ye((e,n)=>{Le(t).subscribe(pe(n,()=>n.complete(),da)),!n.closed&&e.subscribe(n)})}function je(t,e,n){let r=se(t)||e||n?{next:t,error:e,complete:n}:t;return r?ye((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(pe(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Rt}var gb="https://g.co/ng/security#xss",B=class extends Error{constructor(e,n){super(xl(e,n)),this.code=e}};function xl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ta(t){return{toString:t}.toString()}var Zu="__parameters__";function YM(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function mb(t,e,n){return Ta(()=>{let r=YM(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(Zu)?u[Zu]:Object.defineProperty(u,Zu,{value:[]})[Zu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Cp=globalThis;function Te(t){for(let e in t)if(t[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function JM(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function It(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(It).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function ME(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var ZM=Te({__forward_ref__:Te});function Ti(t){return t.__forward_ref__=Ti,t.toString=function(){return It(this())},t}function _t(t){return yb(t)?t():t}function yb(t){return typeof t=="function"&&t.hasOwnProperty(ZM)&&t.__forward_ref__===Ti}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Nt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Pl(t){return NE(t,_b)||NE(t,Ib)}function vb(t){return Pl(t)!==null}function NE(t,e){return t.hasOwnProperty(e)?t[e]:null}function XM(t){let e=t&&(t[_b]||t[Ib]);return e||null}function xE(t){return t&&(t.hasOwnProperty(PE)||t.hasOwnProperty(eN))?t[PE]:null}var _b=Te({\u0275prov:Te}),PE=Te({\u0275inj:Te}),Ib=Te({ngInjectableDef:Te}),eN=Te({ngInjectorDef:Te}),V=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function wb(t){return t&&!!t.\u0275providers}var tN=Te({\u0275cmp:Te}),nN=Te({\u0275dir:Te}),rN=Te({\u0275pipe:Te}),iN=Te({\u0275mod:Te}),ul=Te({\u0275fac:Te}),ga=Te({__NG_ELEMENT_ID__:Te}),OE=Te({__NG_ENV_ID__:Te});function Ol(t){return typeof t=="string"?t:t==null?"":String(t)}function sN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ol(t)}function oN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new B(-200,t)}function Sg(t,e){throw new B(-201,!1)}var ue=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ue||{}),Tp;function Eb(){return Tp}function jt(t){let e=Tp;return Tp=t,e}function bb(t,e,n){let r=Pl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ue.Optional)return null;if(e!==void 0)return e;Sg(t,"Injector")}var aN={},ma=aN,Ap="__NG_DI_FLAG__",ll="ngTempTokenPath",cN="ngTokenPath",uN=/\n/gm,lN="\u0275",kE="__source",Cs;function dN(){return Cs}function Cr(t){let e=Cs;return Cs=t,e}function hN(t,e=ue.Default){if(Cs===void 0)throw new B(-203,!1);return Cs===null?bb(t,void 0,e):Cs.get(t,e&ue.Optional?null:void 0,e)}function G(t,e=ue.Default){return(Eb()||hN)(_t(t),e)}function x(t,e=ue.Default){return G(t,kl(e))}function kl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Sp(t){let e=[];for(let n=0;n<t.length;n++){let r=_t(t[n]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,s=ue.Default;for(let o=0;o<r.length;o++){let a=r[o],u=fN(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(G(i,s))}else e.push(G(r))}return e}function Db(t,e){return t[Ap]=e,t.prototype[Ap]=e,t}function fN(t){return t[Ap]}function pN(t,e,n,r){let i=t[ll];throw e[kE]&&i.unshift(e[kE]),t.message=gN(`
`+t.message,i,n,r),t[cN]=i,t[ll]=null,t}function gN(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==lN?t.slice(2):t;let i=It(e);if(Array.isArray(e))i=e.map(It).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):It(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(uN,`
  `)}`}var dt=Db(mb("Optional"),8);var Rg=Db(mb("SkipSelf"),4);function As(t,e){let n=t.hasOwnProperty(ul);return n?t[ul]:null}function mN(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function yN(t){return t.flat(Number.POSITIVE_INFINITY)}function Mg(t,e){t.forEach(n=>Array.isArray(n)?Mg(n,e):e(n))}function Cb(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function dl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function vN(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function _N(t,e,n){let r=Aa(t,e);return r>=0?t[r|1]=n:(r=~r,vN(t,r,e,n)),r}function dp(t,e){let n=Aa(t,e);if(n>=0)return t[n|1]}function Aa(t,e){return IN(t,e,1)}function IN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Ss={},Ut=[],Rs=new V(""),Tb=new V("",-1),Ab=new V(""),hl=class{get(e,n=ma){if(n===ma){let r=new Error(`NullInjectorError: No provider for ${It(e)}!`);throw r.name="NullInjectorError",r}return n}},Sb=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Sb||{}),gn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(gn||{}),Sr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Sr||{});function wN(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Rp(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];EN(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Rb(t){return t===3||t===4||t===6}function EN(t){return t.charCodeAt(0)===64}function ya(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?FE(t,n,i,null,e[++r]):FE(t,n,i,null,null))}}return t}function FE(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Mb="ng-template";function bN(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&wN(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Ng(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Ng(t){return t.type===4&&t.value!==Mb}function DN(t,e,n){let r=t.type===4&&!n?Mb:t.value;return e===r}function CN(t,e,n){let r=4,i=t.attrs,s=i!==null?SN(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Xt(r)&&!Xt(u))return!1;if(o&&Xt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!DN(t,u,n)||u===""&&e.length===1){if(Xt(r))return!1;o=!0}}else if(r&8){if(i===null||!bN(t,i,u,n)){if(Xt(r))return!1;o=!0}}else{let l=e[++a],h=TN(u,i,Ng(t),n);if(h===-1){if(Xt(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Xt(r))return!1;o=!0}}}}return Xt(r)||o}function Xt(t){return(t&1)===0}function TN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return RN(e,t)}function AN(t,e,n=!1){for(let r=0;r<e.length;r++)if(CN(t,e[r],n))return!0;return!1}function SN(t){for(let e=0;e<t.length;e++){let n=t[e];if(Rb(n))return e}return t.length}function RN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function LE(t,e){return t?":not("+e.trim()+")":e}function MN(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Xt(o)&&(e+=LE(s,i),i=""),r=o,s=s||!Xt(r);n++}return i!==""&&(e+=LE(s,i)),e}function NN(t){return t.map(MN).join(",")}function xN(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Xt(i))break;i=s}r++}return{attrs:e,classes:n}}function $t(t){return Ta(()=>{let e=kb(t),n=fe(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Sb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||gn.Emulated,styles:t.styles||Ut,_:null,schemas:t.schemas||null,tView:null,id:""});Fb(n);let r=t.dependencies;return n.directiveDefs=jE(r,!1),n.pipeDefs=jE(r,!0),n.id=kN(n),n})}function PN(t){return Rr(t)||Nb(t)}function ON(t){return t!==null}function xt(t){return Ta(()=>({type:t.type,bootstrap:t.bootstrap||Ut,declarations:t.declarations||Ut,imports:t.imports||Ut,exports:t.exports||Ut,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function VE(t,e){if(t==null)return Ss;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Sr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Sr.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Xe(t){return Ta(()=>{let e=kb(t);return Fb(e),e})}function Rr(t){return t[tN]||null}function Nb(t){return t[nN]||null}function xb(t){return t[rN]||null}function Pb(t){let e=Rr(t)||Nb(t)||xb(t);return e!==null?e.standalone:!1}function Ob(t,e){let n=t[iN]||null;if(!n&&e===!0)throw new Error(`Type ${It(t)} does not have '\u0275mod' property.`);return n}function kb(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ss,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ut,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:VE(t.inputs,e),outputs:VE(t.outputs),debugInfo:null}}function Fb(t){t.features?.forEach(e=>e(t))}function jE(t,e){if(!t)return null;let n=e?xb:PN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(ON)}function kN(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Ht(t){return{\u0275providers:t}}function FN(...t){return{\u0275providers:Lb(!0,t),\u0275fromNgModule:!0}}function Lb(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Mg(e,o=>{let a=o;Mp(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Vb(i,s),n}function Vb(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];xg(i,s=>{e(s,r)})}}function Mp(t,e,n,r){if(t=_t(t),!t)return!1;let i=null,s=xE(t),o=!s&&Rr(t);if(!s&&!o){let u=t.ngModule;if(s=xE(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)Mp(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{Mg(s.imports,h=>{Mp(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&Vb(l,e)}if(!a){let l=As(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ut},i),e({provide:Ab,useValue:i,multi:!0},i),e({provide:Rs,useValue:()=>G(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;xg(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function xg(t,e){for(let n of t)wb(n)&&(n=n.\u0275providers),Array.isArray(n)?xg(n,e):e(n)}var LN=Te({provide:String,useValue:Te});function jb(t){return t!==null&&typeof t=="object"&&LN in t}function VN(t){return!!(t&&t.useExisting)}function jN(t){return!!(t&&t.useFactory)}function Ms(t){return typeof t=="function"}function UN(t){return!!t.useClass}var Fl=new V(""),rl={},BN={},hp;function Pg(){return hp===void 0&&(hp=new hl),hp}var wt=class{},va=class extends wt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xp(e,o=>this.processProvider(o)),this.records.set(Tb,ws(void 0,this)),i.has("environment")&&this.records.set(wt,ws(void 0,this));let s=this.records.get(Fl);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Ab,Ut,ue.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=de(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),de(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Cr(this),r=jt(void 0),i;try{return e()}finally{Cr(n),jt(r)}}get(e,n=ma,r=ue.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(OE))return e[OE](this);r=kl(r);let i,s=Cr(this),o=jt(void 0);try{if(!(r&ue.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=GN(e)&&Pl(e);l&&this.injectableDefInScope(l)?u=ws(Np(e),rl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ue.Self?Pg():this.parent;return n=r&ue.Optional&&n===ma?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[ll]=a[ll]||[]).unshift(It(e)),s)throw a;return pN(a,e,"R3InjectorError",this.source)}else throw a}finally{jt(o),Cr(s)}}resolveInjectorInitializers(){let e=de(null),n=Cr(this),r=jt(void 0),i;try{let s=this.get(Rs,Ut,ue.Self);for(let o of s)o()}finally{Cr(n),jt(r),de(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(It(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B(205,!1)}processProvider(e){e=_t(e);let n=Ms(e)?e:_t(e&&e.provide),r=HN(e);if(!Ms(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ws(void 0,rl,!0),i.factory=()=>Sp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=de(null);try{return n.value===rl&&(n.value=BN,n.value=n.factory()),typeof n.value=="object"&&n.value&&qN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{de(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=_t(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Np(t){let e=Pl(t),n=e!==null?e.factory:As(t);if(n!==null)return n;if(t instanceof V)throw new B(204,!1);if(t instanceof Function)return $N(t);throw new B(204,!1)}function $N(t){if(t.length>0)throw new B(204,!1);let n=XM(t);return n!==null?()=>n.factory(t):()=>new t}function HN(t){if(jb(t))return ws(void 0,t.useValue);{let e=Ub(t);return ws(e,rl)}}function Ub(t,e,n){let r;if(Ms(t)){let i=_t(t);return As(i)||Np(i)}else if(jb(t))r=()=>_t(t.useValue);else if(jN(t))r=()=>t.useFactory(...Sp(t.deps||[]));else if(VN(t))r=()=>G(_t(t.useExisting));else{let i=_t(t&&(t.useClass||t.provide));if(zN(t))r=()=>new i(...Sp(t.deps));else return As(i)||Np(i)}return r}function ws(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function zN(t){return!!t.deps}function qN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function GN(t){return typeof t=="function"||typeof t=="object"&&t instanceof V}function xp(t,e){for(let n of t)Array.isArray(n)?xp(n,e):n&&wb(n)?xp(n.\u0275providers,e):e(n)}function zt(t,e){t instanceof va&&t.assertNotDestroyed();let n,r=Cr(t),i=jt(void 0);try{return e()}finally{Cr(r),jt(i)}}function Bb(){return Eb()!==void 0||dN()!=null}function WN(t){if(!Bb())throw new B(-203,!1)}function KN(t){return typeof t=="function"}var zn=0,te=1,ee=2,lt=3,en=4,rn=5,_a=6,fl=7,ct=8,Ns=9,mn=10,Ue=11,Ia=12,UE=13,js=14,tn=15,mi=16,Es=17,Un=18,Ll=19,$b=20,Tr=21,fp=22,Bt=23,nn=25,Hb=1;var yi=7,pl=8,xs=9,ut=10,gl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(gl||{});function Ar(t){return Array.isArray(t)&&typeof t[Hb]=="object"}function qn(t){return Array.isArray(t)&&t[Hb]===!0}function zb(t){return(t.flags&4)!==0}function Vl(t){return t.componentOffset>-1}function Og(t){return(t.flags&1)===1}function Mr(t){return!!t.template}function Pp(t){return(t[ee]&512)!==0}var Op=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function qb(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function xr(){return Gb}function Gb(t){return t.type.prototype.ngOnChanges&&(t.setInput=YN),QN}xr.ngInherit=!0;function QN(){let t=Kb(this),e=t?.current;if(e){let n=t.previous;if(n===Ss)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function YN(t,e,n,r,i){let s=this.declaredInputs[r],o=Kb(t)||JN(t,{previous:Ss,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new Op(l&&l.currentValue,n,u===Ss),qb(t,e,i,n)}var Wb="__ngSimpleChanges__";function Kb(t){return t[Wb]||null}function JN(t,e){return t[Wb]=e}var BE=null;var fn=function(t,e,n){BE?.(t,e,n)},ZN="svg",XN="math";function yn(t){for(;Array.isArray(t);)t=t[zn];return t}function Qb(t,e){return yn(e[t])}function qt(t,e){return yn(e[t.index])}function kg(t,e){return t.data[e]}function Pr(t,e){let n=e[t];return Ar(n)?n:n[zn]}function ex(t){return(t[ee]&4)===4}function Fg(t){return(t[ee]&128)===128}function tx(t){return qn(t[lt])}function Ps(t,e){return e==null?null:t[e]}function Yb(t){t[Es]=0}function Jb(t){t[ee]&1024||(t[ee]|=1024,Fg(t)&&Ul(t))}function nx(t,e){for(;t>0;)e=e[js],t--;return e}function jl(t){return!!(t[ee]&9216||t[Bt]?.dirty)}function kp(t){t[mn].changeDetectionScheduler?.notify(8),t[ee]&64&&(t[ee]|=1024),jl(t)&&Ul(t)}function Ul(t){t[mn].changeDetectionScheduler?.notify(0);let e=vi(t);for(;e!==null&&!(e[ee]&8192||(e[ee]|=8192,!Fg(e)));)e=vi(e)}function Zb(t,e){if((t[ee]&256)===256)throw new B(911,!1);t[Tr]===null&&(t[Tr]=[]),t[Tr].push(e)}function rx(t,e){if(t[Tr]===null)return;let n=t[Tr].indexOf(e);n!==-1&&t[Tr].splice(n,1)}function vi(t){let e=t[lt];return qn(e)?e[lt]:e}var le={lFrame:aD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Xb=!1;function ix(){return le.lFrame.elementDepthCount}function sx(){le.lFrame.elementDepthCount++}function ox(){le.lFrame.elementDepthCount--}function eD(){return le.bindingsEnabled}function ax(){return le.skipHydrationRootTNode!==null}function cx(t){return le.skipHydrationRootTNode===t}function ux(){le.skipHydrationRootTNode=null}function ve(){return le.lFrame.lView}function et(){return le.lFrame.tView}function Us(t){return le.lFrame.contextLView=t,t[ct]}function Bs(t){return le.lFrame.contextLView=null,t}function Et(){let t=tD();for(;t!==null&&t.type===64;)t=t.parent;return t}function tD(){return le.lFrame.currentTNode}function lx(){let t=le.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Sa(t,e){let n=le.lFrame;n.currentTNode=t,n.isParent=e}function nD(){return le.lFrame.isParent}function dx(){le.lFrame.isParent=!1}function rD(){return Xb}function $E(t){Xb=t}function hx(){let t=le.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function fx(t){return le.lFrame.bindingIndex=t}function $s(){return le.lFrame.bindingIndex++}function px(t){let e=le.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function gx(){return le.lFrame.inI18n}function mx(t,e){let n=le.lFrame;n.bindingIndex=n.bindingRootIndex=t,Fp(e)}function yx(){return le.lFrame.currentDirectiveIndex}function Fp(t){le.lFrame.currentDirectiveIndex=t}function vx(t){let e=le.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function iD(){return le.lFrame.currentQueryIndex}function Lg(t){le.lFrame.currentQueryIndex=t}function _x(t){let e=t[te];return e.type===2?e.declTNode:e.type===1?t[rn]:null}function sD(t,e,n){if(n&ue.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ue.Host);)if(i=_x(s),i===null||(s=s[js],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=le.lFrame=oD();return r.currentTNode=e,r.lView=t,!0}function Vg(t){let e=oD(),n=t[te];le.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function oD(){let t=le.lFrame,e=t===null?null:t.child;return e===null?aD(t):e}function aD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function cD(){let t=le.lFrame;return le.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var uD=cD;function jg(){let t=cD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ix(t){return(le.lFrame.contextLView=nx(t,le.lFrame.contextLView))[ct]}function Ai(){return le.lFrame.selectedIndex}function _i(t){le.lFrame.selectedIndex=t}function Bl(){let t=le.lFrame;return kg(t.tView,t.selectedIndex)}function wx(){return le.lFrame.currentNamespace}var lD=!0;function Ug(){return lD}function Bg(t){lD=t}function Ex(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=Gb(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function $g(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function il(t,e,n){dD(t,e,3,n)}function sl(t,e,n,r){(t[ee]&3)===n&&dD(t,e,n,r)}function pp(t,e){let n=t[ee];(n&3)===e&&(n&=16383,n+=1,t[ee]=n)}function dD(t,e,n,r){let i=r!==void 0?t[Es]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Es]+=65536),(a<s||s==-1)&&(bx(t,n,e,u),t[Es]=(t[Es]&4294901760)+u+2),u++}function HE(t,e){fn(4,t,e);let n=de(null);try{e.call(t)}finally{de(n),fn(5,t,e)}}function bx(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[ee]>>14<t[Es]>>16&&(t[ee]&3)===e&&(t[ee]+=16384,HE(a,s)):HE(a,s)}var Ts=-1,Ii=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Dx(t){return t instanceof Ii}function Cx(t){return(t.flags&8)!==0}function Tx(t){return(t.flags&16)!==0}var gp={},Lp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=kl(r);let i=this.injector.get(e,gp,r);return i!==gp||n===gp?i:this.parentInjector.get(e,n,r)}};function hD(t){return t!==Ts}function ml(t){return t&32767}function Ax(t){return t>>16}function yl(t,e){let n=Ax(t),r=e;for(;n>0;)r=r[js],n--;return r}var Vp=!0;function zE(t){let e=Vp;return Vp=t,e}var Sx=256,fD=Sx-1,pD=5,Rx=0,pn={};function Mx(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ga)&&(r=n[ga]),r==null&&(r=n[ga]=Rx++);let i=r&fD,s=1<<i;e.data[t+(i>>pD)]|=s}function vl(t,e){let n=gD(t,e);if(n!==-1)return n;let r=e[te];r.firstCreatePass&&(t.injectorIndex=e.length,mp(r.data,t),mp(e,null),mp(r.blueprint,null));let i=Hg(t,e),s=t.injectorIndex;if(hD(i)){let o=ml(i),a=yl(i,e),u=a[te].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function mp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function gD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Hg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=ID(i),r===null)return Ts;if(n++,i=i[js],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ts}function jp(t,e,n){Mx(t,e,n)}function Nx(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(Rb(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function mD(t,e,n){if(n&ue.Optional||t!==void 0)return t;Sg(e,"NodeInjector")}function yD(t,e,n,r){if(n&ue.Optional&&r===void 0&&(r=null),!(n&(ue.Self|ue.Host))){let i=t[Ns],s=jt(void 0);try{return i?i.get(e,r,n&ue.Optional):bb(e,r,n&ue.Optional)}finally{jt(s)}}return mD(r,e,n)}function vD(t,e,n,r=ue.Default,i){if(t!==null){if(e[ee]&2048&&!(r&ue.Self)){let o=kx(t,e,n,r,pn);if(o!==pn)return o}let s=_D(t,e,n,r,pn);if(s!==pn)return s}return yD(e,n,r,i)}function _D(t,e,n,r,i){let s=Px(n);if(typeof s=="function"){if(!sD(e,t,r))return r&ue.Host?mD(i,n,r):yD(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ue.Optional))Sg(n);else return o}finally{uD()}}else if(typeof s=="number"){let o=null,a=gD(t,e),u=Ts,l=r&ue.Host?e[tn][rn]:null;for((a===-1||r&ue.SkipSelf)&&(u=a===-1?Hg(t,e):e[a+8],u===Ts||!GE(r,!1)?a=-1:(o=e[te],a=ml(u),e=yl(u,e)));a!==-1;){let h=e[te];if(qE(s,a,h.data)){let p=xx(a,e,n,o,r,l);if(p!==pn)return p}u=e[a+8],u!==Ts&&GE(r,e[te].data[a+8]===l)&&qE(s,a,e)?(o=h,a=ml(u),e=yl(u,e)):a=-1}}return i}function xx(t,e,n,r,i,s){let o=e[te],a=o.data[t+8],u=r==null?Vl(a)&&Vp:r!=o&&(a.type&3)!==0,l=i&ue.Host&&s===a,h=ol(a,o,n,u,l);return h!==null?wi(e,o,h,a):pn}function ol(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let C=o[y];if(y<u&&n===C||y>=u&&C.type===n)return y}if(i){let y=o[u];if(y&&Mr(y)&&y.type===n)return u}return null}function wi(t,e,n,r){let i=t[n],s=e.data;if(Dx(i)){let o=i;o.resolving&&oN(sN(s[n]));let a=zE(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?jt(o.injectImpl):null,h=sD(t,r,ue.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Ex(n,s[n],e)}finally{l!==null&&jt(l),zE(a),o.resolving=!1,uD()}}return i}function Px(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ga)?t[ga]:void 0;return typeof e=="number"?e>=0?e&fD:Ox:e}function qE(t,e,n){let r=1<<t;return!!(n[e+(t>>pD)]&r)}function GE(t,e){return!(t&ue.Self)&&!(t&ue.Host&&e)}var gi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return vD(this._tNode,this._lView,e,kl(r),n)}};function Ox(){return new gi(Et(),ve())}function Hs(t){return Ta(()=>{let e=t.prototype.constructor,n=e[ul]||Up(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[ul]||Up(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Up(t){return yb(t)?()=>{let e=Up(_t(t));return e&&e()}:As(t)}function kx(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[ee]&2048&&!(o[ee]&512);){let a=_D(s,o,n,r|ue.Self,pn);if(a!==pn)return a;let u=s.parent;if(!u){let l=o[$b];if(l){let h=l.get(n,pn,r);if(h!==pn)return h}u=ID(o),o=o[js]}s=u}return i}function ID(t){let e=t[te],n=e.type;return n===2?e.declTNode:n===1?t[rn]:null}function zg(t){return Nx(Et(),t)}function WE(t,e=null,n=null,r){let i=wD(t,e,n,r);return i.resolveInjectorInitializers(),i}function wD(t,e=null,n=null,r,i=new Set){let s=[n||Ut,FN(t)];return r=r||(typeof t=="object"?void 0:It(t)),new va(s,e||Pg(),r||null,i)}var fi=class fi{static create(e,n){if(Array.isArray(e))return WE({name:""},n,e,"");{let r=e.name??"";return WE({name:r},e.parent,e.providers,r)}}};fi.THROW_IF_NOT_FOUND=ma,fi.NULL=new hl,fi.\u0275prov=j({token:fi,providedIn:"any",factory:()=>G(Tb)}),fi.__NG_ELEMENT_ID__=-1;var Ze=fi;var Fx=new V("");Fx.__NG_ELEMENT_ID__=t=>{let e=Et();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(t&ue.Optional)return null;throw new B(204,!1)};var Lx="ngOriginalError";function yp(t){return t[Lx]}var ED=!0,qg=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Vx,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Bp=class extends qg{constructor(e){super(),this._lView=e}onDestroy(e){return Zb(this._lView,e),()=>rx(this._lView,e)}};function Vx(){return new Bp(ve())}var Or=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Je(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=j({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var $p=class extends Ge{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,Bb()&&(this.destroyRef=x(qg,{optional:!0})??void 0,this.pendingTasks=x(Or,{optional:!0})??void 0)}emit(e){let n=de(null);try{super.next(e)}finally{de(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Pe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Fe=$p;function _l(...t){}function bD(t){let e,n;function r(){t=_l;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function KE(t){return queueMicrotask(()=>t()),()=>{t=_l}}var Gg="isAngularZone",Il=Gg+"_ID",jx=0,we=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fe(!1),this.onMicrotaskEmpty=new Fe(!1),this.onStable=new Fe(!1),this.onError=new Fe(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=ED}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,$x(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Gg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new B(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Ux,_l,_l);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Ux={};function Wg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Bx(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){bD(()=>{t.callbackScheduled=!1,Hp(t),t.isCheckStableRunning=!0,Wg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Hp(t)}function $x(t){let e=()=>{Bx(t)},n=jx++;t._inner=t._inner.fork({name:"angular",properties:{[Gg]:!0,[Il]:n,[Il+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(Hx(u))return r.invokeTask(s,o,a,u);try{return QE(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),YE(t)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return QE(t),r.invoke(s,o,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!zx(u)&&e(),YE(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Hp(t),Wg(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Hp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function QE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function YE(t){t._nesting--,Wg(t)}var zp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fe,this.onMicrotaskEmpty=new Fe,this.onStable=new Fe,this.onError=new Fe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Hx(t){return DD(t,"__ignore_ng_zone__")}function zx(t){return DD(t,"__scheduler_tick__")}function DD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Bn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&yp(e);for(;n&&yp(n);)n=yp(n);return n||null}},qx=new V("",{providedIn:"root",factory:()=>{let t=x(we),e=x(Bn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function Gx(){return zs(Et(),ve())}function zs(t,e){return new sn(qt(t,e))}var sn=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=Gx;let t=e;return t})();function Wx(t){return t instanceof sn?t.nativeElement:t}function Kx(){return this._results[Symbol.iterator]()}var qp=class t{get changes(){return this._changes??=new Fe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Kx)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=yN(e);(this._changesDetected=!mN(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function CD(t){return(t.flags&128)===128}var TD=new Map,Qx=0;function Yx(){return Qx++}function Jx(t){TD.set(t[Ll],t)}function Gp(t){TD.delete(t[Ll])}var JE="__ngContext__";function Ei(t,e){Ar(e)?(t[JE]=e[Ll],Jx(e)):t[JE]=e}function AD(t){return RD(t[Ia])}function SD(t){return RD(t[en])}function RD(t){for(;t!==null&&!qn(t);)t=t[en];return t}var Wp;function MD(t){Wp=t}function Zx(){if(Wp!==void 0)return Wp;if(typeof document<"u")return document;throw new B(210,!1)}var Kg=new V("",{providedIn:"root",factory:()=>Xx}),Xx="ng",Qg=new V(""),Gt=new V("",{providedIn:"platform",factory:()=>"unknown"});var Yg=new V("",{providedIn:"root",factory:()=>Zx().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var eP="h",tP="b";var nP=()=>null;function Jg(t,e,n=!1){return nP(t,e,n)}var ND=!1,rP=new V("",{providedIn:"root",factory:()=>ND});var Xu;function iP(){if(Xu===void 0&&(Xu=null,Cp.trustedTypes))try{Xu=Cp.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Xu}function ZE(t){return iP()?.createScriptURL(t)||t}var wl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gb})`}};function Ra(t){return t instanceof wl?t.changingThisBreaksApplicationSecurity:t}function Zg(t,e){let n=sP(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${gb})`)}return n===e}function sP(t){return t instanceof wl&&t.getTypeName()||null}var oP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xD(t){return t=String(t),t.match(oP)?t:"unsafe:"+t}var $l=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}($l||{});function Si(t){let e=OD();return e?e.sanitize($l.URL,t)||"":Zg(t,"URL")?Ra(t):xD(Ol(t))}function aP(t){let e=OD();if(e)return ZE(e.sanitize($l.RESOURCE_URL,t)||"");if(Zg(t,"ResourceURL"))return ZE(Ra(t));throw new B(904,!1)}function cP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?aP:Si}function PD(t,e,n){return cP(e,n)(t)}function OD(){let t=ve();return t&&t[mn].sanitizer}function kD(t){return t instanceof Function?t():t}function uP(t){return(t??x(Ze)).get(Gt)==="browser"}var $n=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}($n||{}),lP;function Xg(t,e){return lP(t,e)}function bs(t,e,n,r,i){if(r!=null){let s,o=!1;qn(r)?s=r:Ar(r)&&(o=!0,r=r[zn]);let a=yn(r);t===0&&n!==null?i==null?jD(e,n,a):El(e,n,a,i||null,!0):t===1&&n!==null?El(e,n,a,i||null,!0):t===2?CP(e,a,o):t===3&&e.destroyNode(a),s!=null&&AP(e,t,s,n,i)}}function dP(t,e){return t.createText(e)}function hP(t,e,n){t.setValue(e,n)}function FD(t,e,n){return t.createElement(e,n)}function fP(t,e){LD(t,e),e[zn]=null,e[rn]=null}function pP(t,e,n,r,i,s){r[zn]=i,r[rn]=e,zl(t,r,n,1,i,s)}function LD(t,e){e[mn].changeDetectionScheduler?.notify(9),zl(t,e,e[Ue],2,null,null)}function gP(t){let e=t[Ia];if(!e)return vp(t[te],t);for(;e;){let n=null;if(Ar(e))n=e[Ia];else{let r=e[ut];r&&(n=r)}if(!n){for(;e&&!e[en]&&e!==t;)Ar(e)&&vp(e[te],e),e=e[lt];e===null&&(e=t),Ar(e)&&vp(e[te],e),n=e&&e[en]}e=n}}function mP(t,e,n,r){let i=ut+r,s=n.length;r>0&&(n[i-1][en]=e),r<s-ut?(e[en]=n[i],Cb(n,ut+r,e)):(n.push(e),e[en]=null),e[lt]=n;let o=e[mi];o!==null&&n!==o&&VD(o,e);let a=e[Un];a!==null&&a.insertView(t),kp(e),e[ee]|=128}function VD(t,e){let n=t[xs],r=e[lt];if(Ar(r))t[ee]|=gl.HasTransplantedViews;else{let i=r[lt][tn];e[tn]!==i&&(t[ee]|=gl.HasTransplantedViews)}n===null?t[xs]=[e]:n.push(e)}function em(t,e){let n=t[xs],r=n.indexOf(e);n.splice(r,1)}function wa(t,e){if(t.length<=ut)return;let n=ut+e,r=t[n];if(r){let i=r[mi];i!==null&&i!==t&&em(i,r),e>0&&(t[n-1][en]=r[en]);let s=dl(t,ut+e);fP(r[te],r);let o=s[Un];o!==null&&o.detachView(s[te]),r[lt]=null,r[en]=null,r[ee]&=-129}return r}function Hl(t,e){if(!(e[ee]&256)){let n=e[Ue];n.destroyNode&&zl(t,e,n,3,null,null),gP(e)}}function vp(t,e){if(e[ee]&256)return;let n=de(null);try{e[ee]&=-129,e[ee]|=256,e[Bt]&&Hf(e[Bt]),vP(t,e),yP(t,e),e[te].type===1&&e[Ue].destroy();let r=e[mi];if(r!==null&&qn(e[lt])){r!==e[lt]&&em(r,e);let i=e[Un];i!==null&&i.detachView(t)}Gp(e)}finally{de(n)}}function yP(t,e){let n=t.cleanup,r=e[fl];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[fl]=null);let i=e[Tr];if(i!==null){e[Tr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function vP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ii)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];fn(4,a,u);try{u.call(a)}finally{fn(5,a,u)}}else{fn(4,i,s);try{s.call(i)}finally{fn(5,i,s)}}}}}function _P(t,e,n){return IP(t,e.parent,n)}function IP(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[zn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===gn.None||s===gn.Emulated)return null}return qt(r,n)}}function El(t,e,n,r,i){t.insertBefore(e,n,r,i)}function jD(t,e,n){t.appendChild(e,n)}function XE(t,e,n,r,i){r!==null?El(t,e,n,r,i):jD(t,e,n)}function UD(t,e){return t.parentNode(e)}function wP(t,e){return t.nextSibling(e)}function EP(t,e,n){return DP(t,e,n)}function bP(t,e,n){return t.type&40?qt(t,n):null}var DP=bP,eb;function tm(t,e,n,r){let i=_P(t,r,e),s=e[Ue],o=r.parent||e[rn],a=EP(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)XE(s,i,n[u],a,!1);else XE(s,i,n,a,!1);eb!==void 0&&eb(s,r,e,n,i)}function pa(t,e){if(e!==null){let n=e.type;if(n&3)return qt(e,t);if(n&4)return Kp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return pa(t,r);{let i=t[e.index];return qn(i)?Kp(-1,i):yn(i)}}else{if(n&128)return pa(t,e.next);if(n&32)return Xg(e,t)()||yn(t[e.index]);{let r=BD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=vi(t[tn]);return pa(i,r)}else return pa(t,e.next)}}}return null}function BD(t,e){if(e!==null){let r=t[tn][rn],i=e.projection;return r.projection[i]}return null}function Kp(t,e){let n=ut+t+1;if(n<e.length){let r=e[n],i=r[te].firstChild;if(i!==null)return pa(r,i)}return e[yi]}function CP(t,e,n){t.removeChild(null,e,n)}function nm(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&Ei(yn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)nm(t,e,n.child,r,i,s,!1),bs(e,t,i,a,s);else if(u&32){let l=Xg(n,r),h;for(;h=l();)bs(e,t,i,h,s);bs(e,t,i,a,s)}else u&16?TP(t,e,r,n,i,s):bs(e,t,i,a,s);n=o?n.projectionNext:n.next}}function zl(t,e,n,r,i,s){nm(n,r,t.firstChild,e,i,s,!1)}function TP(t,e,n,r,i,s){let o=n[tn],u=o[rn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];bs(e,t,i,h,s)}else{let l=u,h=o[lt];CD(r)&&(l.flags|=128),nm(t,e,l,h,i,s,!0)}}function AP(t,e,n,r,i){let s=n[yi],o=yn(n);s!==o&&bs(e,t,r,s,i);for(let a=ut;a<n.length;a++){let u=n[a];zl(u[te],u,t,e,r,s)}}function SP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:$n.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=$n.Important),t.setStyle(n,r,i,s))}}function RP(t,e,n){t.setAttribute(e,"style",n)}function $D(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function HD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Rp(t,e,r),i!==null&&$D(t,e,i),s!==null&&RP(t,e,s)}var Gn={};function Se(t=1){zD(et(),ve(),Ai()+t,!1)}function zD(t,e,n,r){if(!r)if((e[ee]&3)===3){let s=t.preOrderCheckHooks;s!==null&&il(e,s,n)}else{let s=t.preOrderHooks;s!==null&&sl(e,s,0,n)}_i(n)}function Q(t,e=ue.Default){let n=ve();if(n===null)return G(t,e);let r=Et();return vD(r,n,_t(t),e)}function qD(){let t="invalid";throw new Error(t)}function GD(t,e,n,r,i,s){let o=de(null);try{let a=null;i&Sr.SignalBased&&(a=e[r][Fn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Sr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):qb(e,a,r,s)}finally{de(o)}}function MP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)_i(~i);else{let s=i,o=n[++r],a=n[++r];mx(o,s);let u=e[s];a(2,u)}}}finally{_i(-1)}}function ql(t,e,n,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[zn]=i,p[ee]=r|4|128|8|64,(l!==null||t&&t[ee]&2048)&&(p[ee]|=2048),Yb(p),p[lt]=p[js]=t,p[ct]=n,p[mn]=o||t&&t[mn],p[Ue]=a||t&&t[Ue],p[Ns]=u||t&&t[Ns]||null,p[rn]=s,p[Ll]=Yx(),p[_a]=h,p[$b]=l,p[tn]=e.type==2?t[tn]:p,p}function Gl(t,e,n,r,i){let s=t.data[e];if(s===null)s=NP(t,e,n,r,i),gx()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=lx();s.injectorIndex=o===null?-1:o.injectorIndex}return Sa(s,!0),s}function NP(t,e,n,r,i){let s=tD(),o=nD(),a=o?s:s&&s.parent,u=t.data[e]=LP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function WD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function KD(t,e,n,r,i){let s=Ai(),o=r&2;try{_i(-1),o&&e.length>nn&&zD(t,e,nn,!1),fn(o?2:0,i),n(r,i)}finally{_i(s),fn(o?3:1,i)}}function QD(t,e,n){if(zb(e)){let r=de(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{de(r)}}}function YD(t,e,n){eD()&&(HP(t,e,n,qt(n,e)),(n.flags&64)===64&&t0(t,e,n))}function JD(t,e,n=qt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function ZD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=rm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function rm(t,e,n,r,i,s,o,a,u,l,h){let p=nn+r,m=p+i,y=xP(p,m),C=typeof l=="function"?l():l;return y[te]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function xP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Gn);return n}function PP(t,e,n,r){let s=r.get(rP,ND)||n===gn.ShadowDom,o=t.selectRootElement(e,s);return OP(o),o}function OP(t){kP(t)}var kP=()=>null;function FP(t,e,n,r){let i=i0(e);i.push(n),t.firstCreatePass&&s0(t).push(r,i.length-1)}function LP(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return ax()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function tb(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=Sr.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?nb(r,n,l,a,u):nb(r,n,l,a)}return r}function nb(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function VP(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],m=n?n.get(p):null,y=m?m.inputs:null,C=m?m.outputs:null;u=tb(0,p.inputs,h,u,y),l=tb(1,p.outputs,h,l,C);let M=u!==null&&o!==null&&!Ng(e)?eO(u,h,o):null;a.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function jP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function im(t,e,n,r,i,s,o,a){let u=qt(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(sm(t,n,h,r,i),Vl(e)&&UP(n,e.index)):e.type&3?(r=jP(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function UP(t,e){let n=Pr(e,t);n[ee]&16||(n[ee]|=64)}function XD(t,e,n,r){if(eD()){let i=r===null?null:{"":-1},s=qP(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&e0(t,e,n,o,i,a),i&&GP(n,r,i)}n.mergedAttrs=ya(n.mergedAttrs,n.attrs)}function e0(t,e,n,r,i,s){for(let l=0;l<r.length;l++)jp(vl(n,e),t,r[l].type);KP(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=WD(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=ya(n.mergedAttrs,h.hostAttrs),QP(t,n,e,u,h),WP(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}VP(t,n,s)}function BP(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;$P(o)!=a&&o.push(a),o.push(n,r,s)}}function $P(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function HP(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Vl(n)&&YP(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||vl(n,e),Ei(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=wi(e,t,a,n);if(Ei(l,e),o!==null&&XP(e,a-i,l,u,n,o),Mr(u)){let h=Pr(n.index,e);h[ct]=wi(e,t,a,n)}}}function t0(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=yx();try{_i(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Fp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&zP(u,l)}}finally{_i(-1),Fp(o)}}function zP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function qP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(AN(e,o.selectors,!1))if(r||(r=[]),Mr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;Qp(t,e,u)}else r.unshift(o),Qp(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Qp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function GP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new B(-301,!1);r.push(e[i],s)}}}function WP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Mr(e)&&(n[""]=t)}}function KP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function QP(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=As(i.type,!0)),o=new Ii(s,Mr(i),Q);t.blueprint[r]=o,n[r]=o,BP(t,e,r,WD(t,n,i.hostVars,Gn),i)}function YP(t,e,n){let r=qt(e,t),i=ZD(n),s=t[mn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Wl(t,ql(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function JP(t,e,n,r,i,s){let o=qt(t,e);ZP(e[Ue],o,s,t.value,n,r,i)}function ZP(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Ol(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function XP(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];GD(r,n,u,l,h,p)}}function eO(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function n0(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function r0(t,e){let n=t.contentQueries;if(n!==null){let r=de(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Lg(s),a.contentQueries(2,e[o],o)}}}finally{de(r)}}}function Wl(t,e){return t[Ia]?t[UE][en]=e:t[Ia]=e,t[UE]=e,e}function Yp(t,e,n){Lg(0);let r=de(null);try{e(t,n)}finally{de(r)}}function i0(t){return t[fl]??=[]}function s0(t){return t.cleanup??=[]}function o0(t,e){let n=t[Ns],r=n?n.get(Bn,null):null;r&&r.handleError(e)}function sm(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],h=t.data[o];GD(h,l,r,a,u,i)}}function tO(t,e,n){let r=Qb(e,t);hP(t[Ue],r,n)}function nO(t,e){let n=Pr(e,t),r=n[te];rO(r,n);let i=n[zn];i!==null&&n[_a]===null&&(n[_a]=Jg(i,n[Ns])),om(r,n,n[ct])}function rO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function om(t,e,n){Vg(e);try{let r=t.viewQuery;r!==null&&Yp(1,r,n);let i=t.template;i!==null&&KD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Un]?.finishViewCreation(t),t.staticContentQueries&&r0(t,e),t.staticViewQueries&&Yp(2,t.viewQuery,n);let s=t.components;s!==null&&iO(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ee]&=-5,jg()}}function iO(t,e){for(let n=0;n<e.length;n++)nO(t,e[n])}function Kl(t,e,n,r){let i=de(null);try{let s=e.tView,a=t[ee]&4096?4096:16,u=ql(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[mi]=l;let h=t[Un];return h!==null&&(u[Un]=h.createEmbeddedView(s)),om(s,u,n),u}finally{de(i)}}function a0(t,e){let n=ut+e;if(n<t.length)return t[n]}function Ea(t,e){return!e||e.firstChild===null||CD(t)}function Ql(t,e,n,r=!0){let i=e[te];if(mP(i,e,t,n),r){let o=Kp(n,t),a=e[Ue],u=UD(a,t[yi]);u!==null&&pP(i,t[rn],a,e,u,o)}let s=e[_a];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function c0(t,e){let n=wa(t,e);return n!==void 0&&Hl(n[te],n),n}function bl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(yn(s)),qn(s)&&sO(s,r);let o=n.type;if(o&8)bl(t,e,n.child,r);else if(o&32){let a=Xg(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=BD(e,n);if(Array.isArray(a))r.push(...a);else{let u=vi(e[tn]);bl(u[te],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function sO(t,e){for(let n=ut;n<t.length;n++){let r=t[n],i=r[te].firstChild;i!==null&&bl(r[te],r,i,e)}t[yi]!==t[zn]&&e.push(t[yi])}var u0=[];function oO(t){return t[Bt]??aO(t)}function aO(t){let e=u0.pop()??Object.create(uO);return e.lView=t,e}function cO(t){t.lView[Bt]!==t&&(t.lView=null,u0.push(t))}var uO=fe(F({},la),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ul(t.lView)},consumerOnSignalRead(){this.lView[Bt]=this}});function lO(t){let e=t[Bt]??Object.create(dO);return e.lView=t,e}var dO=fe(F({},la),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=vi(t.lView);for(;e&&!l0(e[te]);)e=vi(e);e&&Jb(e)},consumerOnSignalRead(){this.lView[Bt]=this}});function l0(t){return t.type!==2}var hO=100;function d0(t,e=!0,n=0){let r=t[mn],i=r.rendererFactory,s=!1;s||i.begin?.();try{fO(t,n)}catch(o){throw e&&o0(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function fO(t,e){let n=rD();try{$E(!0),Jp(t,e);let r=0;for(;jl(t);){if(r===hO)throw new B(103,!1);r++,Jp(t,1)}}finally{$E(n)}}function pO(t,e,n,r){let i=e[ee];if((i&256)===256)return;let s=!1,o=!1;!s&&e[mn].inlineEffectRunner?.flush(),Vg(e);let a=!0,u=null,l=null;s||(l0(t)?(l=oO(e),u=Cu(l)):Gw()===null?(a=!1,l=lO(e),u=Cu(l)):e[Bt]&&(Hf(e[Bt]),e[Bt]=null));try{Yb(e),fx(t.bindingStartIndex),n!==null&&KD(t,e,n,2,r);let h=(i&3)===3;if(!s)if(h){let y=t.preOrderCheckHooks;y!==null&&il(e,y,null)}else{let y=t.preOrderHooks;y!==null&&sl(e,y,0,null),pp(e,0)}if(o||gO(e),h0(e,0),t.contentQueries!==null&&r0(t,e),!s)if(h){let y=t.contentCheckHooks;y!==null&&il(e,y)}else{let y=t.contentHooks;y!==null&&sl(e,y,1),pp(e,1)}MP(t,e);let p=t.components;p!==null&&p0(e,p,0);let m=t.viewQuery;if(m!==null&&Yp(2,m,r),!s)if(h){let y=t.viewCheckHooks;y!==null&&il(e,y)}else{let y=t.viewHooks;y!==null&&sl(e,y,2),pp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[fp]){for(let y of e[fp])y();e[fp]=null}s||(e[ee]&=-73)}catch(h){throw s||Ul(e),h}finally{l!==null&&(Bf(l,u),a&&cO(l)),jg()}}function h0(t,e){for(let n=AD(t);n!==null;n=SD(n))for(let r=ut;r<n.length;r++){let i=n[r];f0(i,e)}}function gO(t){for(let e=AD(t);e!==null;e=SD(e)){if(!(e[ee]&gl.HasTransplantedViews))continue;let n=e[xs];for(let r=0;r<n.length;r++){let i=n[r];Jb(i)}}}function mO(t,e,n){let r=Pr(e,t);f0(r,n)}function f0(t,e){Fg(t)&&Jp(t,e)}function Jp(t,e){let r=t[te],i=t[ee],s=t[Bt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&$f(s)),o||=!1,s&&(s.dirty=!1),t[ee]&=-9217,o)pO(r,t,r.template,t[ct]);else if(i&8192){h0(t,1);let a=r.components;a!==null&&p0(t,a,1)}}function p0(t,e,n){for(let r=0;r<e.length;r++)mO(t,e[r],n)}function am(t,e){let n=rD()?64:1088;for(t[mn].changeDetectionScheduler?.notify(e);t;){t[ee]|=n;let r=vi(t);if(Pp(t)&&!r)return t;t=r}return null}var bi=class{get rootNodes(){let e=this._lView,n=e[te];return bl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ct]}set context(e){this._lView[ct]=e}get destroyed(){return(this._lView[ee]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[lt];if(qn(e)){let n=e[pl],r=n?n.indexOf(this):-1;r>-1&&(wa(e,r),dl(n,r))}this._attachedToViewContainer=!1}Hl(this._lView[te],this._lView)}onDestroy(e){Zb(this._lView,e)}markForCheck(){am(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ee]&=-129}reattach(){kp(this._lView),this._lView[ee]|=128}detectChanges(){this._lView[ee]|=1024,d0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Pp(this._lView),n=this._lView[mi];n!==null&&!e&&em(n,this._lView),LD(this._lView[te],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let n=Pp(this._lView),r=this._lView[mi];r!==null&&!n&&VD(r,this._lView),kp(this._lView)}},Di=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=_O;let t=e;return t})(),yO=Di,vO=class extends yO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Kl(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new bi(i)}};function _O(){return cm(Et(),ve())}function cm(t,e){return t.type&4?new vO(e,t,zs(t,e)):null}var I9=new RegExp(`^(\\d+)*(${tP}|${eP})*(.*)`);var IO=()=>null;function ba(t,e){return IO(t,e)}var Os=class{},um=new V("",{providedIn:"root",factory:()=>!1});var g0=new V(""),m0=new V(""),Zp=class{},Dl=class{};function wO(t){let e=Error(`No component factory found for ${It(t)}.`);return e[EO]=t,e}var EO="ngComponent";var Xp=class{resolveComponentFactory(e){throw wO(e)}},gm=class gm{};gm.NULL=new Xp;var ks=gm,Fs=class{},Ri=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>bO();let t=e;return t})();function bO(){let t=ve(),e=Et(),n=Pr(e.index,t);return(Ar(n)?n:t)[Ue]}var DO=(()=>{let e=class e{};e.\u0275prov=j({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function eg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=ME(i,a);else if(s==2){let u=a,l=e[++o];r=ME(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Cl=class extends ks{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Rr(e);return new Ls(n,this.ngModule)}};function rb(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:Sr.None;e?n.push({propName:o,templateName:r,isSignal:(a&Sr.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function CO(t){let e=t.toLowerCase();return e==="svg"?ZN:e==="math"?XN:null}var Ls=class extends Dl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=rb(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return rb(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=NN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=de(null);try{i=i||this.ngModule;let o=i instanceof wt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Lp(e,o):e,u=a.get(Fs,null);if(u===null)throw new B(407,!1);let l=a.get(DO,null),h=a.get(Os,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",C=r?PP(m,r,this.componentDef.encapsulation,a):FD(m,y,CO(y)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let R=null;C!==null&&(R=Jg(C,a,!0));let N=rm(0,null,null,1,0,null,null,null,null,null,null),L=ql(null,N,null,M,null,null,p,m,a,null,R);Vg(L);let $,H,De=null;try{let K=this.componentDef,E,v=null;K.findHostDirectiveDefs?(E=[],v=new Map,K.findHostDirectiveDefs(K,E,v),E.push(K)):E=[K];let I=TO(L,C);De=AO(I,C,K,E,L,p,m),H=kg(N,nn),C&&MO(m,K,C,r),n!==void 0&&NO(H,this.ngContentSelectors,n),$=RO(De,K,E,v,L,[xO]),om(N,L,null)}catch(K){throw De!==null&&Gp(De),Gp(L),K}finally{jg()}return new tg(this.componentType,$,zs(H,L),L,H)}finally{de(s)}}},tg=class extends Zp{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new bi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;sm(s[te],s,i,e,n),this.previousInputValues.set(e,n);let o=Pr(this._tNode.index,s);am(o,1)}}get injector(){return new gi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function TO(t,e){let n=t[te],r=nn;return t[r]=e,Gl(n,r,2,"#host",null)}function AO(t,e,n,r,i,s,o){let a=i[te];SO(r,t,e,o);let u=null;e!==null&&(u=Jg(e,i[Ns]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=ql(i,ZD(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&Qp(a,t,r.length-1),Wl(i,p),i[t.index]=p}function SO(t,e,n,r){for(let i of t)e.mergedAttrs=ya(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(eg(e,e.mergedAttrs,!0),n!==null&&HD(r,n,e))}function RO(t,e,n,r,i,s){let o=Et(),a=i[te],u=qt(o,i);e0(a,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,m=wi(i,a,p,o);Ei(m,i)}t0(a,i,o),u&&Ei(u,i);let l=wi(i,a,o.directiveStart+o.componentOffset,o);if(t[ct]=i[ct]=l,s!==null)for(let h of s)h(l,e);return QD(a,o,i),l}function MO(t,e,n,r){if(r)Rp(t,n,["ng-version","18.2.3"]);else{let{attrs:i,classes:s}=xN(e.selectors[0]);i&&Rp(t,n,i),s&&s.length>0&&$D(t,n,s.join(" "))}}function NO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function xO(){let t=Et();$g(ve()[te],t)}var kr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=PO;let t=e;return t})();function PO(){let t=Et();return v0(t,ve())}var OO=kr,y0=class extends OO{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return zs(this._hostTNode,this._hostLView)}get injector(){return new gi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Hg(this._hostTNode,this._hostLView);if(hD(e)){let n=yl(e,this._hostLView),r=ml(e),i=n[te].data[r+8];return new gi(i,n)}else return new gi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=ib(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ut}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=ba(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Ea(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!KN(e),a;if(o)a=n;else{let C=n||{};a=C.index,r=C.injector,i=C.projectableNodes,s=C.environmentInjector||C.ngModuleRef}let u=o?e:new Ls(Rr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let M=(o?l:this.parentInjector).get(wt,null);M&&(s=M)}let h=Rr(u.componentType??{}),p=ba(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,s);return this.insertImpl(y.hostView,a,Ea(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(tx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[lt],l=new y0(u,u[rn],u[lt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Ql(o,i,s,r),e.attachToViewContainerRef(),Cb(_p(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=ib(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=wa(this._lContainer,n);r&&(dl(_p(this._lContainer),n),Hl(r[te],r))}detach(e){let n=this._adjustIndex(e,-1),r=wa(this._lContainer,n);return r&&dl(_p(this._lContainer),n)!=null?new bi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function ib(t){return t[pl]}function _p(t){return t[pl]||(t[pl]=[])}function v0(t,e){let n,r=e[t.index];return qn(r)?n=r:(n=n0(r,e,null,t),e[t.index]=n,Wl(e,n)),FO(n,e,t,r),new y0(n,t,e)}function kO(t,e){let n=t[Ue],r=n.createComment(""),i=qt(e,t),s=UD(n,i);return El(n,s,r,wP(n,i),!1),r}var FO=jO,LO=()=>!1;function VO(t,e,n){return LO(t,e,n)}function jO(t,e,n,r){if(t[yi])return;let i;n.type&8?i=yn(r):i=kO(e,n),t[yi]=i}var ng=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},rg=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)lm(e,n).matches!==null&&this.queries[n].setDirty()}},ig=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=WO(e):this.predicate=e}},sg=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},og=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,UO(n,s)),this.matchTNodeWithReadOption(e,n,ol(n,e,s,!1,!1))}else r===Di?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,ol(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===sn||i===kr||i===Di&&n.type&4)this.addMatch(n.index,-2);else{let s=ol(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function UO(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function BO(t,e){return t.type&11?zs(t,e):t.type&4?cm(t,e):null}function $O(t,e,n,r){return n===-1?BO(e,t):n===-2?HO(t,e,r):wi(t,t[te],n,e)}function HO(t,e,n){if(n===sn)return zs(e,t);if(n===Di)return cm(e,t);if(n===kr)return v0(e,t)}function _0(t,e,n,r){let i=e[Un].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)a.push(null);else{let h=s[l];a.push($O(e,h,o[u+1],n.metadata.read))}}i.matches=a}return i.matches}function ag(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=_0(t,e,i,n);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(o[a/2]);else{let l=s[a+1],h=e[-u];for(let p=ut;p<h.length;p++){let m=h[p];m[mi]===m[lt]&&ag(m[te],m,l,r)}if(h[xs]!==null){let p=h[xs];for(let m=0;m<p.length;m++){let y=p[m];ag(y[te],y,l,r)}}}}}return r}function zO(t,e){return t[Un].queries[e].queryList}function qO(t,e,n){let r=new qp((n&4)===4);return FP(t,e,r,r.destroy),(e[Un]??=new rg).queries.push(new ng(r))-1}function GO(t,e,n){let r=et();return r.firstCreatePass&&(KO(r,new ig(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),qO(r,ve(),e)}function WO(t){return t.split(",").map(e=>e.trim())}function KO(t,e,n){t.queries===null&&(t.queries=new sg),t.queries.track(new og(e,n))}function lm(t,e){return t.queries.getByIndex(e)}function QO(t,e){let n=t[te],r=lm(n,e);return r.crossesNgTemplate?ag(n,t,e,[]):_0(n,t,r,e)}var sb=new Set;function Wn(t){sb.has(t)||(sb.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function YO(t){return typeof t=="function"&&t[Fn]!==void 0}function Ma(t,e){Wn("NgSignals");let n=rE(t),r=n[Fn];return e?.equal&&(r.equal=e.equal),n.set=i=>zf(r,i),n.update=i=>iE(r,i),n.asReadonly=JO.bind(n),n}function JO(){let t=this[Fn];if(t.readonlyFn===void 0){let e=()=>this();e[Fn]=t,t.readonlyFn=e}return t.readonlyFn}function I0(t){return YO(t)&&typeof t.set=="function"}function ZO(t){return Object.getPrototypeOf(t.prototype).constructor}function Kn(t){let e=ZO(t.type),n=!0,r=[t];for(;e;){let i;if(Mr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=el(t.inputs),o.inputTransforms=el(t.inputTransforms),o.declaredInputs=el(t.declaredInputs),o.outputs=el(t.outputs);let a=i.hostBindings;a&&rk(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&tk(t,u),l&&nk(t,l),XO(t,i),JM(t.outputs,i.outputs),Mr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Kn&&(n=!1)}}e=Object.getPrototypeOf(e)}ek(r)}function XO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function ek(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ya(i.hostAttrs,n=ya(n,i.hostAttrs))}}function el(t){return t===Ss?{}:t===Ut?[]:t}function tk(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function nk(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function rk(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function dm(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Nr=class{},Da=class{};var cg=class extends Nr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Cl(this);let s=Ob(e);this._bootstrapComponents=kD(s.bootstrap),this._r3Injector=wD(e,n,[{provide:Nr,useValue:this},{provide:ks,useValue:this.componentFactoryResolver},...r],It(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ug=class extends Da{constructor(e){super(),this.moduleType=e}create(e){return new cg(this.moduleType,e,[])}};var Tl=class extends Nr{constructor(e){super(),this.componentFactoryResolver=new Cl(this),this.instance=null;let n=new va([...e.providers,{provide:Nr,useValue:this},{provide:ks,useValue:this.componentFactoryResolver}],e.parent||Pg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Yl(t,e,n=null){return new Tl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function w0(t){return sk(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function ik(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function sk(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function ok(t,e,n){return t[e]=n}function ak(t,e){return t[e]}function Mi(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function ck(t){return(t.flags&32)===32}function uk(t,e,n,r,i,s,o,a,u){let l=e.consts,h=Gl(e,t,4,o||null,a||null);XD(e,n,h,Ps(l,u)),$g(e,h);let p=h.tView=rm(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function lg(t,e,n,r,i,s,o,a,u,l){let h=n+nn,p=e.firstCreatePass?uk(h,e,t,r,i,s,o,a,u):e.data[h];Sa(p,!1);let m=lk(e,t,p,n);Ug()&&tm(e,t,m,p),Ei(m,t);let y=n0(m,t,m,p);return t[h]=y,Wl(t,y),VO(y,p,t),Og(p)&&YD(e,t,p),u!=null&&JD(t,p,l),p}function Fr(t,e,n,r,i,s,o,a){let u=ve(),l=et(),h=Ps(l.consts,s);return lg(u,l,t,e,n,r,i,h,o,a),Fr}var lk=dk;function dk(t,e,n,r){return Bg(!0),e[Ue].createComment("")}var Ds=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ds||{}),E0=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=j({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),pi=class pi{constructor(){this.ngZone=x(we),this.scheduler=x(Os),this.errorHandler=x(Bn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of pi.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};pi.PHASES=[Ds.EarlyRead,Ds.Write,Ds.MixedReadWrite,Ds.Read],pi.\u0275prov=j({token:pi,providedIn:"root",factory:()=>new pi});var dg=pi,hg=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function hm(t,e){!e?.injector&&WN(hm);let n=e?.injector??x(Ze);return uP(n)?(Wn("NgAfterNextRender"),fk(t,n,e,!0)):pk}function hk(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function fk(t,e,n,r){let i=e.get(E0);i.impl??=e.get(dg);let s=n?.phase??Ds.MixedReadWrite,o=new hg(i.impl,hk(t,s),r,e.get(qg));return i.impl.register(o),o}var pk={destroy(){}};function Na(t,e,n,r){let i=ve(),s=$s();if(Mi(i,s,e)){let o=et(),a=Bl();JP(a,i,t,e,n,r)}return Na}function b0(t,e,n,r){return Mi(t,$s(),n)?e+Ol(n)+r:Gn}function tl(t,e){return t<<17|e<<2}function Ci(t){return t>>17&32767}function gk(t){return(t&2)==2}function mk(t,e){return t&131071|e<<17}function fg(t){return t|2}function Vs(t){return(t&131068)>>2}function Ip(t,e){return t&-131069|e<<2}function yk(t){return(t&1)===1}function pg(t){return t|1}function vk(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ci(o),u=Vs(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Aa(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=Ci(t[a+1]);t[r+1]=tl(m,a),m!==0&&(t[m+1]=Ip(t[m+1],r)),t[a+1]=mk(t[a+1],r)}else t[r+1]=tl(a,0),a!==0&&(t[a+1]=Ip(t[a+1],r)),a=r;else t[r+1]=tl(u,0),a===0?a=r:t[u+1]=Ip(t[u+1],r),u=r;l&&(t[r+1]=fg(t[r+1])),ob(t,h,r,!0),ob(t,h,r,!1),_k(e,h,t,r,s),o=tl(a,u),s?e.classBindings=o:e.styleBindings=o}function _k(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Aa(s,e)>=0&&(n[r+1]=pg(n[r+1]))}function ob(t,e,n,r){let i=t[n+1],s=e===null,o=r?Ci(i):Vs(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];Ik(u,e)&&(a=!0,t[o+1]=r?pg(l):fg(l)),o=r?Ci(l):Vs(l)}a&&(t[n+1]=r?fg(i):pg(i))}function Ik(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Aa(t,e)>=0:!1}function At(t,e,n){let r=ve(),i=$s();if(Mi(r,i,e)){let s=et(),o=Bl();im(s,o,r,t,e,r[Ue],n,!1)}return At}function ab(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";sm(t,n,s[o],o,r)}function Jl(t,e){return wk(t,e,null,!0),Jl}function wk(t,e,n,r){let i=ve(),s=et(),o=px(2);if(s.firstUpdatePass&&bk(s,t,o,r),e!==Gn&&Mi(i,o,e)){let a=s.data[Ai()];Sk(s,a,i,i[Ue],t,i[o+1]=Rk(e,n),r,o)}}function Ek(t,e){return e>=t.expandoStartIndex}function bk(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Ai()],o=Ek(t,n);Mk(s,r)&&e===null&&!o&&(e=!1),e=Dk(i,s,e,r),vk(i,s,e,n,o,r)}}function Dk(t,e,n,r){let i=vx(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=wp(null,t,e,n,r),n=Ca(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=wp(i,t,e,n,r),s===null){let u=Ck(t,e,r);u!==void 0&&Array.isArray(u)&&(u=wp(null,t,e,u[1],r),u=Ca(u,e.attrs,r),Tk(t,e,r,u))}else s=Ak(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function Ck(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Vs(r)!==0)return t[Ci(r)]}function Tk(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ci(i)]=r}function Ak(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Ca(r,o,n)}return Ca(r,e.attrs,n)}function wp(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Ca(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ca(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),_N(t,o,n?!0:e[++s]))}return t===void 0?null:t}function Sk(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=yk(l)?cb(u,e,n,i,Vs(l),o):void 0;if(!Al(h)){Al(s)||gk(l)&&(s=cb(u,null,n,i,a,o));let p=Qb(Ai(),n);SP(r,o,p,i,s)}}function cb(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Gn&&(m=p?Ut:void 0);let y=p?dp(m,r):h===r?m:void 0;if(l&&!Al(y)&&(y=dp(u,r)),Al(y)&&(a=y,o))return a;let C=t[i+1];i=o?Ci(C):Vs(C)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=dp(u,r))}return a}function Al(t){return t!==void 0}function Rk(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=It(Ra(t)))),t}function Mk(t,e){return(t.flags&(e?8:16))!==0}var gg=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function Ep(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function Nk(t,e,n){let r,i,s=0,o=t.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;s<=o&&s<=u;){let l=t.at(s),h=e[s],p=Ep(s,l,s,h,n);if(p!==0){p<0&&t.updateValue(s,h),s++;continue}let m=t.at(o),y=e[u],C=Ep(o,m,u,y,n);if(C!==0){C<0&&t.updateValue(o,y),o--,u--;continue}let M=n(s,l),R=n(o,m),N=n(s,h);if(Object.is(N,R)){let L=n(u,y);Object.is(L,M)?(t.swap(s,o),t.updateValue(o,y),u--,o--):t.move(o,s),t.updateValue(s,h),s++;continue}if(r??=new Sl,i??=lb(t,s,o,n),mg(t,r,s,N))t.updateValue(s,h),s++,o++;else if(i.has(N))r.set(M,t.detach(s)),o--;else{let L=t.create(s,e[s]);t.attach(s,L),s++,o++}}for(;s<=u;)ub(t,r,n,s,e[s]),s++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&s<=o;){let h=t.at(s),p=l.value,m=Ep(s,h,s,p,n);if(m!==0)m<0&&t.updateValue(s,p),s++,l=u.next();else{r??=new Sl,i??=lb(t,s,o,n);let y=n(s,p);if(mg(t,r,s,y))t.updateValue(s,p),s++,o++,l=u.next();else if(!i.has(y))t.attach(s,t.create(s,p)),s++,o++,l=u.next();else{let C=n(s,h);r.set(C,t.detach(s)),o--}}}for(;!l.done;)ub(t,r,n,t.length,l.value),l=u.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(u=>{t.destroy(u)})}function mg(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function ub(t,e,n,r,i){if(mg(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function lb(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var Sl=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function E9(t,e){Wn("NgControlFlow");let n=ve(),r=$s(),i=n[r]!==Gn?n[r]:-1,s=i!==-1?Rl(n,nn+i):void 0,o=0;if(Mi(n,r,t)){let a=de(null);try{if(s!==void 0&&c0(s,o),t!==-1){let u=nn+t,l=Rl(n,u),h=Ig(n[te],u),p=ba(l,h.tView.ssrId),m=Kl(n,h,e,{dehydratedView:p});Ql(l,m,o,Ea(h,p))}}finally{de(a)}}else if(s!==void 0){let a=a0(s,o);a!==void 0&&(a[ct]=e)}}var yg=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-ut}};var vg=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function D0(t,e,n,r,i,s,o,a,u,l,h,p,m){Wn("NgControlFlow");let y=ve(),C=et(),M=u!==void 0,R=ve(),N=a?o.bind(R[tn][ct]):o,L=new vg(M,N);R[nn+t]=L,lg(y,C,t+1,e,n,r,i,Ps(C.consts,s)),M&&lg(y,C,t+2,u,l,h,p,Ps(C.consts,m))}var _g=class extends gg{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ut}at(e){return this.getLView(e)[ct].$implicit}attach(e,n){let r=n[_a];this.needsIndexUpdate||=e!==this.length,Ql(this.lContainer,n,e,Ea(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,xk(this.lContainer,e)}create(e,n){let r=ba(this.lContainer,this.templateTNode.tView.ssrId),i=Kl(this.hostLView,this.templateTNode,new yg(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Hl(e[te],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[ct].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ct].$index=e}getLView(e){return Pk(this.lContainer,e)}};function C0(t){let e=de(null),n=Ai();try{let r=ve(),i=r[te],s=r[n],o=n+1,a=Rl(r,o);if(s.liveCollection===void 0){let l=Ig(i,o);s.liveCollection=new _g(a,r,l)}else s.liveCollection.reset();let u=s.liveCollection;if(Nk(u,t,s.trackByFn),u.updateIndexes(),s.hasEmptyBlock){let l=$s(),h=u.length===0;if(Mi(r,l,h)){let p=n+2,m=Rl(r,p);if(h){let y=Ig(i,p),C=ba(m,y.tView.ssrId),M=Kl(r,y,void 0,{dehydratedView:C});Ql(m,M,0,Ea(y,C))}else c0(m,0)}}}finally{de(e)}}function Rl(t,e){return t[e]}function xk(t,e){return wa(t,e)}function Pk(t,e){return a0(t,e)}function Ig(t,e){return kg(t,e)}function Ok(t,e,n,r,i,s){let o=e.consts,a=Ps(o,i),u=Gl(e,t,2,r,a);return XD(e,n,u,Ps(o,s)),u.attrs!==null&&eg(u,u.attrs,!1),u.mergedAttrs!==null&&eg(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function z(t,e,n,r){let i=ve(),s=et(),o=nn+t,a=i[Ue],u=s.firstCreatePass?Ok(o,s,i,e,n,r):s.data[o],l=kk(s,i,u,a,e,t);i[o]=l;let h=Og(u);return Sa(u,!0),HD(a,l,u),!ck(u)&&Ug()&&tm(s,i,l,u),ix()===0&&Ei(l,i),sx(),h&&(YD(s,i,u),QD(s,u,i)),r!==null&&JD(i,u),z}function W(){let t=Et();nD()?dx():(t=t.parent,Sa(t,!1));let e=t;cx(e)&&ux(),ox();let n=et();return n.firstCreatePass&&($g(n,t),zb(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Cx(e)&&ab(n,e,ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Tx(e)&&ab(n,e,ve(),e.stylesWithoutHost,!1),W}function ht(t,e,n,r){return z(t,e,n,r),W(),ht}var kk=(t,e,n,r,i,s)=>(Bg(!0),FD(r,i,wx()));function Zl(){return ve()}var Ml="en-US";var Fk=Ml;function Lk(t){typeof t=="string"&&(Fk=t.toLowerCase().replace(/_/g,"-"))}var Vk=(t,e,n)=>{};function ne(t,e,n,r){let i=ve(),s=et(),o=Et();return T0(s,i,i[Ue],o,t,e,r),ne}function jk(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[fl],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function T0(t,e,n,r,i,s,o){let a=Og(r),l=t.firstCreatePass&&s0(t),h=e[ct],p=i0(e),m=!0;if(r.type&3||o){let M=qt(r,e),R=o?o(M):M,N=p.length,L=o?H=>o(yn(H[r.index])):r.index,$=null;if(!o&&a&&($=jk(t,e,i,r.index)),$!==null){let H=$.__ngLastListenerFn__||$;H.__ngNextListenerFn__=s,$.__ngLastListenerFn__=s,m=!1}else{s=hb(r,e,h,s),Vk(M,i,s);let H=n.listen(R,i,s);p.push(s,H),l&&l.push(i,L,N,N+1)}}else s=hb(r,e,h,s);let y=r.outputs,C;if(m&&y!==null&&(C=y[i])){let M=C.length;if(M)for(let R=0;R<M;R+=2){let N=C[R],L=C[R+1],De=e[N][L].subscribe(s),K=p.length;p.push(s,De),l&&l.push(i,r.index,K,-(K+1))}}}function db(t,e,n,r){let i=de(null);try{return fn(6,e,n),n(r)!==!1}catch(s){return o0(t,s),!1}finally{fn(7,e,n),de(i)}}function hb(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?Pr(t.index,e):e;am(o,5);let a=db(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=db(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function on(t=1){return Ix(t)}function Lr(t,e,n){return A0(t,"",e,"",n),Lr}function A0(t,e,n,r,i){let s=ve(),o=b0(s,e,n,r);if(o!==Gn){let a=et(),u=Bl();im(a,u,s,t,o,s[Ue],i,!1)}return A0}function b9(t,e,n){GO(t,e,n)}function Uk(t){let e=ve(),n=et(),r=iD();Lg(r+1);let i=lm(n,r);if(t.dirty&&ex(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=QO(e,r);t.reset(s,Wx),t.notifyOnChanges()}return!0}return!1}function Bk(){return zO(ve(),iD())}function re(t,e=""){let n=ve(),r=et(),i=t+nn,s=r.firstCreatePass?Gl(r,i,1,e,null):r.data[i],o=$k(r,n,s,e,t);n[i]=o,Ug()&&tm(r,n,o,s),Sa(s,!1)}var $k=(t,e,n,r,i)=>(Bg(!0),dP(e[Ue],r));function Ni(t){return an("",t,""),Ni}function an(t,e,n){let r=ve(),i=b0(r,t,e,n);return i!==Gn&&tO(r,Ai(),i),an}function Hk(t,e,n){I0(e)&&(e=e());let r=ve(),i=$s();if(Mi(r,i,e)){let s=et(),o=Bl();im(s,o,r,t,e,r[Ue],n,!1)}return Hk}function D9(t,e){let n=I0(t);return n&&t.set(e),n}function zk(t,e){let n=ve(),r=et(),i=Et();return T0(r,n,n[Ue],i,t,e),zk}function qk(t,e,n){let r=et();if(r.firstCreatePass){let i=Mr(t);wg(n,r.data,r.blueprint,i,!0),wg(e,r.data,r.blueprint,i,!1)}}function wg(t,e,n,r,i){if(t=_t(t),Array.isArray(t))for(let s=0;s<t.length;s++)wg(t[s],e,n,r,i);else{let s=et(),o=ve(),a=Et(),u=Ms(t)?t:_t(t.provide),l=Ub(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Ms(t)||!t.multi){let y=new Ii(l,i,Q),C=Dp(u,e,i?h:h+m,p);C===-1?(jp(vl(a,o),s,u),bp(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),o.push(y)):(n[C]=y,o[C]=y)}else{let y=Dp(u,e,h+m,p),C=Dp(u,e,h,h+m),M=y>=0&&n[y],R=C>=0&&n[C];if(i&&!R||!i&&!M){jp(vl(a,o),s,u);let N=Kk(i?Wk:Gk,n.length,i,r,l);!i&&R&&(n[C].providerFactory=N),bp(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(N),o.push(N)}else{let N=S0(n[i?C:y],l,!i&&r);bp(s,t,y>-1?y:C,N)}!i&&r&&R&&n[C].componentProviders++}}}function bp(t,e,n,r){let i=Ms(e),s=UN(e);if(i||s){let u=(s?_t(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function S0(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Dp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Gk(t,e,n,r){return Eg(this.multi,[])}function Wk(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=wi(n,n[te],this.providerFactory.index,r);s=a.slice(0,o),Eg(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Eg(i,s);return s}function Eg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Kk(t,e,n,r,i){let s=new Ii(t,n,Q);return s.multi=[],s.index=e,s.componentProviders=0,S0(s,i,r&&!n),s}function xa(t,e=[]){return n=>{n.providersResolver=(r,i)=>qk(r,i?i(t):t,e)}}var Qk=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Lb(!1,r.type),s=i.length>0?Yl([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=j({token:e,providedIn:"environment",factory:()=>new e(G(wt))});let t=e;return t})();function R0(t){Wn("NgStandalone"),t.getStandaloneInjector=e=>e.get(Qk).getOrCreateStandaloneInjector(t)}function M0(t,e,n){let r=hx()+t,i=ve();return i[r]===Gn?ok(i,r,n?e.call(n):e()):ak(i,r)}var Hn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},N0=new Hn("18.2.3");var Xl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var x0=new V("");function xi(t){return!!t&&typeof t.then=="function"}function P0(t){return!!t&&typeof t.subscribe=="function"}var ed=new V(""),O0=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=x(ed,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(xi(o))r.push(o);else if(P0(o)){let a=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Pa=new V("");function Yk(){nE(()=>{throw new B(600,!1)})}function Jk(t){return t.isBoundToModule}var Zk=10;function Xk(t,e,n){try{let r=n();return xi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Vr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=x(qx),this.afterRenderManager=x(E0),this.zonelessEnabled=x(um),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ge,this.afterTick=new Ge,this.componentTypes=[],this.components=[],this.isStable=x(Or).hasPendingTasks.pipe(oe(r=>!r)),this._injector=x(wt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Dl;if(!this._injector.get(O0).done){let y=!s&&Pb(r),C=!1;throw new B(405,C)}let a;s?a=r:a=this._injector.get(ks).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=Jk(a)?void 0:this._injector.get(Nr),l=i||a.selector,h=a.create(Ze.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(x0,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),al(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new B(101,!1);let r=de(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,de(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(Fs,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<Zk;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:o}of this._views)e1(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>jl(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;al(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Pa,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>al(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new B(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function al(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function e1(t,e,n,r){if(!n&&!jl(t))return;d0(t,e,n&&!r?0:1)}var bg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},td=(()=>{let e=class e{compileModuleSync(r){return new ug(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=Ob(r),o=kD(s.declarations).reduce((a,u)=>{let l=Rr(u);return l&&a.push(new Ls(l)),a},[]);return new bg(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var t1=(()=>{let e=class e{constructor(){this.zone=x(we),this.changeDetectionScheduler=x(Os),this.applicationRef=x(Vr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),n1=new V("",{factory:()=>!1});function k0({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new we(fe(F({},F0()),{scheduleInRootZone:n})),[{provide:we,useFactory:t},{provide:Rs,multi:!0,useFactory:()=>{let r=x(t1,{optional:!0});return()=>r.initialize()}},{provide:Rs,multi:!0,useFactory:()=>{let r=x(r1);return()=>{r.initialize()}}},e===!0?{provide:g0,useValue:!0}:[],{provide:m0,useValue:n??ED}]}function C9(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=k0({ngZoneFactory:()=>{let i=F0(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Wn("NgZone_CoalesceEvent"),new we(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Ht([{provide:n1,useValue:!0},{provide:um,useValue:!1},r])}function F0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var r1=(()=>{let e=class e{constructor(){this.subscription=new Pe,this.initialized=!1,this.zone=x(we),this.pendingTasks=x(Or)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var i1=(()=>{let e=class e{constructor(){this.appRef=x(Vr),this.taskService=x(Or),this.ngZone=x(we),this.zonelessEnabled=x(um),this.disableScheduling=x(g0,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Pe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Il):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(m0,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof zp||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?KE:bD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Il+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,KE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function s1(){return typeof $localize<"u"&&$localize.locale||Ml}var fm=new V("",{providedIn:"root",factory:()=>x(fm,ue.Optional|ue.SkipSelf)||s1()});var L0=new V("");function nl(t){return!!t.platformInjector}function o1(t){let e=nl(t)?t.r3Injector:t.moduleRef.injector,n=e.get(we);return n.run(()=>{nl(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Bn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),nl(t)){let s=()=>e.destroy(),o=t.platformInjector.get(L0);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{al(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return Xk(r,n,()=>{let s=e.get(O0);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(fm,Ml);if(Lk(o||Ml),nl(t)){let a=e.get(Vr);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return a1(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function a1(t,e){let n=t.injector.get(Vr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new B(-403,!1);e.push(t)}var cl=null;function c1(t=[],e){return Ze.create({name:e,providers:[{provide:Fl,useValue:"platform"},{provide:L0,useValue:new Set([()=>cl=null])},...t]})}function u1(t=[]){if(cl)return cl;let e=c1(t);return cl=e,Yk(),l1(e),e}function l1(t){t.get(Qg,null)?.forEach(n=>n())}var Pi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=d1;let t=e;return t})();function d1(t){return h1(Et(),ve(),(t&16)===16)}function h1(t,e,n){if(Vl(t)&&!n){let r=Pr(t.index,e);return new bi(r,r)}else if(t.type&175){let r=e[tn];return new bi(r,e)}return null}var Dg=class{constructor(){}supports(e){return w0(e)}create(e){return new Cg(e)}},f1=(t,e)=>e,Cg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||f1}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<fb(r,i,s)?n:r,a=fb(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<s.length?s[m]:s[m]=0,C=y+m;h<=C&&C<l&&(s[m]=y+1)}let p=o.previousIndex;s[p]=h-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!w0(e))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,ik(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Tg(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Nl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Nl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Tg=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Ag=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Nl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Ag,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function fb(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function pb(){return new pm([new Dg])}var pm=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||pb()),deps:[[e,new Rg,new dt]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new B(901,!1)}};e.\u0275prov=j({token:e,providedIn:"root",factory:pb});let t=e;return t})();function V0(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=u1(r),s=[k0({}),{provide:Os,useExisting:i1},...n||[]],o=new Tl({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return o1({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var j0=new V("");function jr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Oa(t,e){Wn("NgSignals");let n=Xw(t);return e?.equal&&(n[Fn].equal=e.equal),n}function Qn(t){let e=de(null);try{return t()}finally{de(e)}}function U0(t){let e=Rr(t);if(!e)return null;let n=new Ls(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var q0=null;function Jn(){return q0}function G0(t){q0??=t}var nd=class{};var tt=new V(""),Im=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>x(g1),providedIn:"platform"});let t=e;return t})(),W0=new V(""),g1=(()=>{let e=class e extends Im{constructor(){super(),this._doc=x(tt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Jn().getBaseHref(this._doc)}onPopState(r){let i=Jn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Jn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function wm(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function B0(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Yn(t){return t&&t[0]!=="?"?"?"+t:t}var Zn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>x(Em),providedIn:"root"});let t=e;return t})(),K0=new V(""),Em=(()=>{let e=class e extends Zn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??x(tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return wm(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Yn(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Yn(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Yn(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(G(Im),G(K0,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Q0=(()=>{let e=class e extends Zn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=wm(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Yn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Yn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(G(Im),G(K0,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),Gs=(()=>{let e=class e{constructor(r){this._subject=new Fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=v1(B0($0(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Yn(i))}normalize(r){return e.stripTrailingSlash(y1(this._basePath,$0(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Yn(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Yn(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Yn,e.joinWithSlash=wm,e.stripTrailingSlash=B0,e.\u0275fac=function(i){return new(i||e)(G(Zn))},e.\u0275prov=j({token:e,factory:()=>m1(),providedIn:"root"});let t=e;return t})();function m1(){return new Gs(G(Zn))}function y1(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function $0(t){return t.replace(/\/index.html$/,"")}function v1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function rd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var mm=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},id=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new mm(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let u=i.get(o);i.move(u,a),H0(u,s)}});for(let s=0,o=i.length;s<o;s++){let u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);H0(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Q(kr),Q(Di),Q(pm))},e.\u0275dir=Xe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function H0(t,e){t.context.$implicit=e.item}var sd=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new ym,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){z0("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){z0("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Q(kr),Q(Di))},e.\u0275dir=Xe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),ym=class{constructor(){this.$implicit=null,this.ngIf=null}};function z0(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${It(e)}'.`)}var bm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=xt({type:e}),e.\u0275inj=Nt({});let t=e;return t})(),Dm="browser",_1="server";function I1(t){return t===Dm}function od(t){return t===_1}var Y0=(()=>{let e=class e{};e.\u0275prov=j({token:e,providedIn:"root",factory:()=>I1(x(Gt))?new vm(x(tt),window):new _m});let t=e;return t})(),vm=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=w1(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function w1(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var _m=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},qs=class{};var La=class{},cd=class{},Xn=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Tm=class{encodeKey(e){return J0(e)}encodeValue(e){return J0(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function E1(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}var b1=/%(\d[a-f0-9])/gi,D1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function J0(t){return encodeURIComponent(t).replace(b1,(e,n)=>D1[n]??e)}function ad(t){return`${t}`}var Br=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Tm,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=E1(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(ad):[ad(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(ad(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(ad(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Am=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function C1(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Z0(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function X0(t){return typeof Blob<"u"&&t instanceof Blob}function eC(t){return typeof FormData<"u"&&t instanceof FormData}function T1(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Fa=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(C1(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Xn,this.context??=new Am,!this.params)this.params=new Br,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Z0(this.body)||X0(this.body)||eC(this.body)||T1(this.body)?this.body:this.body instanceof Br?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||eC(this.body)?null:X0(this.body)?this.body.type||null:Z0(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Br?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new t(n,r,o,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:s})}},$r=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}($r||{}),Va=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Xn,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},ud=class t extends Va{constructor(e={}){super(e),this.type=$r.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ja=class t extends Va{constructor(e={}){super(e),this.type=$r.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ur=class extends Va{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},iC=200,A1=204;function Cm(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Ua=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Fa)o=r;else{let l;s.headers instanceof Xn?l=s.headers:l=new Xn(s.headers);let h;s.params&&(s.params instanceof Br?h=s.params:h=new Br({fromObject:s.params})),o=new Fa(r,i,s.body!==void 0?s.body:null,{headers:l,context:s.context,params:h,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=J(o).pipe(Vn(l=>this.handler.handle(l)));if(r instanceof Fa||s.observe==="events")return a;let u=a.pipe(Ct(l=>l instanceof ja));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe(oe(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return u.pipe(oe(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return u.pipe(oe(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return u.pipe(oe(l=>l.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Br().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,Cm(s,i))}post(r,i,s={}){return this.request("POST",r,Cm(s,i))}put(r,i,s={}){return this.request("PUT",r,Cm(s,i))}};e.\u0275fac=function(i){return new(i||e)(G(La))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),S1=/^\)\]\}',?\n/,R1="X-Request-URL";function tC(t){if(t.url)return t.url;let e=R1.toLocaleLowerCase();return t.headers.get(e)}var M1=(()=>{let e=class e{constructor(){this.fetchImpl=x(Sm,{optional:!0})?.fetch??((...r)=>globalThis.fetch(...r)),this.ngZone=x(we)}handle(r){return new he(i=>{let s=new AbortController;return this.doRequest(r,s.signal,i).then(Rm,o=>i.error(new Ur({error:o}))),()=>s.abort()})}doRequest(r,i,s){return _(this,null,function*(){let o=this.createRequestInit(r),a;try{let C=this.ngZone.runOutsideAngular(()=>this.fetchImpl(r.urlWithParams,F({signal:i},o)));N1(C),s.next({type:$r.Sent}),a=yield C}catch(C){s.error(new Ur({error:C,status:C.status??0,statusText:C.statusText,url:r.urlWithParams,headers:C.headers}));return}let u=new Xn(a.headers),l=a.statusText,h=tC(a)??r.urlWithParams,p=a.status,m=null;if(r.reportProgress&&s.next(new ud({headers:u,status:p,statusText:l,url:h})),a.body){let C=a.headers.get("content-length"),M=[],R=a.body.getReader(),N=0,L,$,H=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>_(this,null,function*(){for(;;){let{done:K,value:E}=yield R.read();if(K)break;if(M.push(E),N+=E.length,r.reportProgress){$=r.responseType==="text"?($??"")+(L??=new TextDecoder).decode(E,{stream:!0}):void 0;let v=()=>s.next({type:$r.DownloadProgress,total:C?+C:void 0,loaded:N,partialText:$});H?H.run(v):v()}}}));let De=this.concatChunks(M,N);try{let K=a.headers.get("Content-Type")??"";m=this.parseBody(r,De,K)}catch(K){s.error(new Ur({error:K,headers:new Xn(a.headers),status:a.status,statusText:a.statusText,url:tC(a)??r.urlWithParams}));return}}p===0&&(p=m?iC:0),p>=200&&p<300?(s.next(new ja({body:m,headers:u,status:p,statusText:l,url:h})),s.complete()):s.error(new Ur({error:m,headers:u,status:p,statusText:l,url:h}))})}parseBody(r,i,s){switch(r.responseType){case"json":let o=new TextDecoder().decode(i).replace(S1,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:s});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},s=r.withCredentials?"include":void 0;if(r.headers.forEach((o,a)=>i[o]=a.join(",")),r.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!r.headers.has("Content-Type")){let o=r.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:s}}concatChunks(r,i){let s=new Uint8Array(i),o=0;for(let a of r)s.set(a,o),o+=a.length;return s}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),Sm=class{};function Rm(){}function N1(t){t.then(Rm,Rm)}function x1(t,e){return e(t)}function P1(t,e,n){return(r,i)=>zt(n,()=>e(r,s=>t(s,i)))}var sC=new V(""),O1=new V(""),k1=new V("",{providedIn:"root",factory:()=>!0});var nC=(()=>{let e=class e extends La{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=x(Or),this.contributeToStability=x(k1)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(sC),...this.injector.get(O1,[])]));this.chain=i.reduceRight((s,o)=>P1(s,o,this.injector),x1)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(hi(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(G(cd),G(wt))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})();var F1=/^\)\]\}',?\n/;function L1(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var rC=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new B(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Me(i.\u0275loadImpl()):J(null)).pipe(Tt(()=>new he(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((R,N)=>a.setRequestHeader(R,N.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let R=r.detectContentTypeHeader();R!==null&&a.setRequestHeader("Content-Type",R)}if(r.responseType){let R=r.responseType.toLowerCase();a.responseType=R!=="json"?R:"text"}let u=r.serializeBody(),l=null,h=()=>{if(l!==null)return l;let R=a.statusText||"OK",N=new Xn(a.getAllResponseHeaders()),L=L1(a)||r.url;return l=new ud({headers:N,status:a.status,statusText:R,url:L}),l},p=()=>{let{headers:R,status:N,statusText:L,url:$}=h(),H=null;N!==A1&&(H=typeof a.response>"u"?a.responseText:a.response),N===0&&(N=H?iC:0);let De=N>=200&&N<300;if(r.responseType==="json"&&typeof H=="string"){let K=H;H=H.replace(F1,"");try{H=H!==""?JSON.parse(H):null}catch(E){H=K,De&&(De=!1,H={error:E,text:H})}}De?(o.next(new ja({body:H,headers:R,status:N,statusText:L,url:$||void 0})),o.complete()):o.error(new Ur({error:H,headers:R,status:N,statusText:L,url:$||void 0}))},m=R=>{let{url:N}=h(),L=new Ur({error:R,status:a.status||0,statusText:a.statusText||"Unknown Error",url:N||void 0});o.error(L)},y=!1,C=R=>{y||(o.next(h()),y=!0);let N={type:$r.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(N.total=R.total),r.responseType==="text"&&a.responseText&&(N.partialText=a.responseText),o.next(N)},M=R=>{let N={type:$r.UploadProgress,loaded:R.loaded};R.lengthComputable&&(N.total=R.total),o.next(N)};return a.addEventListener("load",p),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),r.reportProgress&&(a.addEventListener("progress",C),u!==null&&a.upload&&a.upload.addEventListener("progress",M)),a.send(u),o.next({type:$r.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",p),a.removeEventListener("timeout",m),r.reportProgress&&(a.removeEventListener("progress",C),u!==null&&a.upload&&a.upload.removeEventListener("progress",M)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(G(qs))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),oC=new V(""),V1="XSRF-TOKEN",j1=new V("",{providedIn:"root",factory:()=>V1}),U1="X-XSRF-TOKEN",B1=new V("",{providedIn:"root",factory:()=>U1}),ld=class{},$1=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=rd(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(G(tt),G(Gt),G(j1))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})();function H1(t,e){let n=t.url.toLowerCase();if(!x(oC)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=x(ld).getToken(),i=x(B1);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function lW(...t){let e=[Ua,rC,nC,{provide:La,useExisting:nC},{provide:cd,useFactory:()=>x(M1,{optional:!0})??x(rC)},{provide:sC,useValue:H1,multi:!0},{provide:oC,useValue:!0},{provide:ld,useClass:$1}];for(let n of t)e.push(...n.\u0275providers);return Ht(e)}var xm=class extends nd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Pm=class t extends xm{static makeCurrent(){G0(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=z1();return n==null?null:q1(n)}resetBaseElement(){Ba=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return rd(document.cookie,e)}},Ba=null;function z1(){return Ba=Ba||document.querySelector("base"),Ba?Ba.getAttribute("href"):null}function q1(t){return new URL(t,document.baseURI).pathname}var G1=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),dd=new V(""),lC=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new B(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(G(dd),G(we))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),$a=class{constructor(e){this._doc=e}},Mm="ng-app-id",dC=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=od(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Mm}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Mm),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Mm,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(G(tt),G(Kg),G(Yg,8),G(Gt))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),Nm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},km=/%COMP%/g,hC="%COMP%",W1=`_nghost-${hC}`,K1=`_ngcontent-${hC}`,Q1=!0,Y1=new V("",{providedIn:"root",factory:()=>Q1});function J1(t){return K1.replace(km,t)}function Z1(t){return W1.replace(km,t)}function fC(t,e){return e.map(n=>n.replace(km,t))}var aC=(()=>{let e=class e{constructor(r,i,s,o,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=od(u),this.defaultRenderer=new Ha(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===gn.ShadowDom&&(i=fe(F({},i),{encapsulation:gn.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof hd?s.applyToHost(r):s instanceof za&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case gn.Emulated:o=new hd(l,h,i,this.appId,p,a,u,m);break;case gn.ShadowDom:return new Om(l,h,r,i,a,u,this.nonce,m);default:o=new za(l,h,i,p,a,u,m);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(G(lC),G(dC),G(Kg),G(Y1),G(tt),G(Gt),G(we),G(Yg))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),Ha=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Nm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(cC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(cC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Nm[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Nm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&($n.DashCase|$n.Important)?e.style.setProperty(n,r,i&$n.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&$n.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Jn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function cC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Om=class extends Ha{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=fC(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},za=class extends Ha{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?fC(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},hd=class extends za{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=J1(l),this.hostAttr=Z1(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},X1=(()=>{let e=class e extends $a{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(G(tt))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),eF=(()=>{let e=class e extends $a{constructor(r){super(r),this.delegate=x(j0,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(G(tt))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),uC=["alt","control","meta","shift"],tF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nF={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},rF=(()=>{let e=class e extends $a{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Jn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),uC.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=tF[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),uC.forEach(a=>{if(a!==s){let u=nF[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(G(tt))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})();function FW(t,e){return V0(F({rootComponent:t},iF(e)))}function iF(t){return{appProviders:[...uF,...t?.providers??[]],platformProviders:cF}}function sF(){Pm.makeCurrent()}function oF(){return new Bn}function aF(){return MD(document),document}var cF=[{provide:Gt,useValue:Dm},{provide:Qg,useValue:sF,multi:!0},{provide:tt,useFactory:aF,deps:[]}];var uF=[{provide:Fl,useValue:"root"},{provide:Bn,useFactory:oF,deps:[]},{provide:dd,useClass:X1,multi:!0,deps:[tt,we,Gt]},{provide:dd,useClass:rF,multi:!0,deps:[tt]},{provide:dd,useClass:eF,multi:!0},aC,dC,lC,{provide:Fs,useExisting:aC},{provide:qs,useClass:G1,deps:[]},[]];var pC=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(G(tt))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ce="primary",sc=Symbol("RouteTitle"),Um=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Zs(t){return new Um(t)}function dF(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function hF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!vn(t[n],e[n]))return!1;return!0}function vn(t,e){let n=t?Bm(t):void 0,r=e?Bm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!CC(t[i],e[i]))return!1;return!0}function Bm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function CC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function TC(t){return t.length>0?t[t.length-1]:null}function qr(t){return ip(t)?t:xi(t)?Me(Promise.resolve(t)):J(t)}var fF={exact:SC,subset:RC},AC={exact:pF,subset:gF,ignored:()=>!0};function gC(t,e,n){return fF[n.paths](t.root,e.root,n.matrixParams)&&AC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function pF(t,e){return vn(t,e)}function SC(t,e,n){if(!ki(t.segments,e.segments)||!gd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!SC(t.children[r],e.children[r],n))return!1;return!0}function gF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>CC(t[n],e[n]))}function RC(t,e,n){return MC(t,e,e.segments,n)}function MC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ki(i,n)||e.hasChildren()||!gd(i,n,r))}else if(t.segments.length===n.length){if(!ki(t.segments,n)||!gd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!RC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ki(t.segments,i)||!gd(t.segments,i,r)||!t.children[ce]?!1:MC(t.children[ce],e,s,r)}}function gd(t,e,n){return e.every((r,i)=>AC[n](t[i].parameters,r.parameters))}var tr=class{constructor(e=new be([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Zs(this.queryParams),this._queryParamMap}toString(){return vF.serialize(this)}},be=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return md(this)}},Oi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Zs(this.parameters),this._parameterMap}toString(){return xC(this)}};function mF(t,e){return ki(t,e)&&t.every((n,r)=>vn(n.parameters,e[r].parameters))}function ki(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function yF(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ce&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ce&&(n=n.concat(e(i,r)))}),n}var oc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>new Xs,providedIn:"root"});let t=e;return t})(),Xs=class{parse(e){let n=new Hm(e);return new tr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${qa(e.root,!0)}`,r=wF(e.queryParams),i=typeof e.fragment=="string"?`#${_F(e.fragment)}`:"";return`${n}${r}${i}`}},vF=new Xs;function md(t){return t.segments.map(e=>xC(e)).join("/")}function qa(t,e){if(!t.hasChildren())return md(t);if(e){let n=t.children[ce]?qa(t.children[ce],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ce&&r.push(`${i}:${qa(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=yF(t,(r,i)=>i===ce?[qa(t.children[ce],!1)]:[`${i}:${qa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ce]!=null?`${md(t)}/${n[0]}`:`${md(t)}/(${n.join("//")})`}}function NC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fd(t){return NC(t).replace(/%3B/gi,";")}function _F(t){return encodeURI(t)}function $m(t){return NC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yd(t){return decodeURIComponent(t)}function mC(t){return yd(t.replace(/\+/g,"%20"))}function xC(t){return`${$m(t.path)}${IF(t.parameters)}`}function IF(t){return Object.entries(t).map(([e,n])=>`;${$m(e)}=${$m(n)}`).join("")}function wF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${fd(n)}=${fd(i)}`).join("&"):`${fd(n)}=${fd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var EF=/^[^\/()?;#]+/;function Fm(t){let e=t.match(EF);return e?e[0]:""}var bF=/^[^\/()?;=#]+/;function DF(t){let e=t.match(bF);return e?e[0]:""}var CF=/^[^=?&#]+/;function TF(t){let e=t.match(CF);return e?e[0]:""}var AF=/^[^&#]+/;function SF(t){let e=t.match(AF);return e?e[0]:""}var Hm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ce]=new be(e,n)),r}parseSegment(){let e=Fm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new Oi(yd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=DF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Fm(this.remaining);i&&(r=i,this.capture(r))}e[yd(n)]=yd(r)}parseQueryParam(e){let n=TF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=SF(this.remaining);o&&(r=o,this.capture(r))}let i=mC(n),s=mC(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Fm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ce);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ce]:new be([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function PC(t){return t.segments.length>0?new be([],{[ce]:t}):t}function OC(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=OC(i);if(r===ce&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new be(t.segments,e);return RF(n)}function RF(t){if(t.numberOfChildren===1&&t.children[ce]){let e=t.children[ce];return new be(t.segments.concat(e.segments),e.children)}return t}function Fi(t){return t instanceof tr}function MF(t,e,n=null,r=null){let i=kC(t);return FC(i,e,n,r)}function kC(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new be(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=PC(r);return e??i}function FC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Lm(i,i,i,n,r);let s=NF(e);if(s.toRoot())return Lm(i,i,new be([],{}),n,r);let o=xF(s,i,t),a=o.processChildren?Ka(o.segmentGroup,o.index,s.commands):VC(o.segmentGroup,o.index,s.commands);return Lm(i,o.segmentGroup,a,n,r)}function vd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ja(t){return typeof t=="object"&&t!=null&&t.outlets}function Lm(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;t===e?o=n:o=LC(t,e,n);let a=PC(OC(o));return new tr(a,s,i)}function LC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=LC(s,e,n)}),new be(t.segments,r)}var _d=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&vd(r[0]))throw new B(4003,!1);let i=r.find(Ja);if(i&&i!==TC(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function NF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new _d(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new _d(n,e,r)}var Qs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function xF(t,e,n){if(t.isAbsolute)return new Qs(e,!0,0);if(!n)return new Qs(e,!1,NaN);if(n.parent===null)return new Qs(n,!0,0);let r=vd(t.commands[0])?0:1,i=n.segments.length-1+r;return PF(n,i,t.numberOfDoubleDots)}function PF(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new Qs(r,!1,i-s)}function OF(t){return Ja(t[0])?t[0].outlets:{[ce]:t}}function VC(t,e,n){if(t??=new be([],{}),t.segments.length===0&&t.hasChildren())return Ka(t,e,n);let r=kF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new be(t.segments.slice(0,r.pathIndex),{});return s.children[ce]=new be(t.segments.slice(r.pathIndex),t.children),Ka(s,0,i)}else return r.match&&i.length===0?new be(t.segments,{}):r.match&&!t.hasChildren()?zm(t,e,n):r.match?Ka(t,0,i):zm(t,e,n)}function Ka(t,e,n){if(n.length===0)return new be(t.segments,{});{let r=OF(n),i={};if(Object.keys(r).some(s=>s!==ce)&&t.children[ce]&&t.numberOfChildren===1&&t.children[ce].segments.length===0){let s=Ka(t.children[ce],e,n);return new be(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=VC(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new be(t.segments,i)}}function kF(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Ja(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!vC(u,l,o))return s;r+=2}else{if(!vC(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function zm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Ja(s)){let u=FF(s.outlets);return new be(r,u)}if(i===0&&vd(n[0])){let u=t.segments[e];r.push(new Oi(u.path,yC(n[0]))),i++;continue}let o=Ja(s)?s.outlets[ce]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&vd(a)?(r.push(new Oi(o,yC(a))),i+=2):(r.push(new Oi(o,{})),i++)}return new be(r,{})}function FF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=zm(new be([],{}),0,r))}),e}function yC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function vC(t,e,n){return t==n.path&&vn(e,n.parameters)}var Qa="imperative",We=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(We||{}),Wt=class{constructor(e,n){this.id=e,this.url=n}},eo=class extends Wt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=We.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},_n=class extends Wt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=We.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ot=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ot||{}),Id=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Id||{}),er=class extends Wt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=We.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Hr=class extends Wt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=We.NavigationSkipped}},Za=class extends Wt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=We.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},wd=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qm=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gm=class extends Wt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=We.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Wm=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Km=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qm=class{constructor(e){this.route=e,this.type=We.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ym=class{constructor(e){this.route=e,this.type=We.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Jm=class{constructor(e){this.snapshot=e,this.type=We.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zm=class{constructor(e){this.snapshot=e,this.type=We.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xm=class{constructor(e){this.snapshot=e,this.type=We.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ey=class{constructor(e){this.snapshot=e,this.type=We.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ed=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=We.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Xa=class{},to=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function LF(t,e){return t.providers&&!t._injector&&(t._injector=Yl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function cn(t){return t.outlet||ce}function VF(t,e){let n=t.filter(r=>cn(r)===e);return n.push(...t.filter(r=>cn(r)!==e)),n}function ac(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var ty=class{get injector(){return ac(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new cc(this.rootInjector),this.attachRef=null}},cc=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new ty(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(G(wt))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=ny(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=ny(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=ry(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ry(e,this._root).map(n=>n.value)}};function ny(t,e){if(t===e.value)return e;for(let n of e.children){let r=ny(t,n);if(r)return r}return null}function ry(t,e){if(t===e.value)return[e];for(let n of e.children){let r=ry(t,n);if(r.length)return r.unshift(e),r}return[]}var Pt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ks(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Dd=class extends bd{constructor(e,n){super(e),this.snapshot=n,hy(this,e)}toString(){return this.snapshot.toString()}};function jC(t){let e=jF(t),n=new Je([new Oi("",{})]),r=new Je({}),i=new Je({}),s=new Je({}),o=new Je(""),a=new zr(n,r,s,o,i,ce,t,e.root);return a.snapshot=e.root,new Dd(new Pt(a,[]),e)}function jF(t){let e={},n={},r={},i="",s=new Ys([],e,r,i,n,ce,t,null,{});return new Td("",new Pt(s,[]))}var zr=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(oe(l=>l[sc]))??J(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(oe(e=>Zs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(oe(e=>Zs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Cd(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&BC(i)&&(r.resolve[sc]=i.title),r}var Ys=class{get title(){return this.data?.[sc]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Zs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Zs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Td=class extends bd{constructor(e,n){super(n),this.url=e,hy(this,n)}toString(){return UC(this._root)}};function hy(t,e){e.value._routerState=t,e.children.forEach(n=>hy(t,n))}function UC(t){let e=t.children.length>0?` { ${t.children.map(UC).join(", ")} } `:"";return`${t.value}${e}`}function Vm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,vn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),vn(e.params,n.params)||t.paramsSubject.next(n.params),hF(e.url,n.url)||t.urlSubject.next(n.url),vn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function iy(t,e){let n=vn(t.params,e.params)&&mF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||iy(t.parent,e.parent))}function BC(t){return typeof t.title=="string"||t.title===null}var UF=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new Fe,this.deactivateEvents=new Fe,this.attachEvents=new Fe,this.detachEvents=new Fe,this.parentContexts=x(cc),this.location=x(kr),this.changeDetector=x(Pi),this.inputBinder=x(Md,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new sy(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Xe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[xr]});let t=e;return t})(),sy=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===zr?this.route:e===cc?this.childContexts:this.parent.get(e,n)}},Md=new V(""),_C=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=fa([i.queryParams,i.params,i.data]).pipe(Tt(([o,a,u],l)=>(u=F(F(F({},o),a),u),l===0?J(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=U0(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,o[u])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})();function BF(t,e,n){let r=ec(t,e._root,n?n._root:void 0);return new Dd(r,e)}function ec(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=$F(t,e,n);return new Pt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ec(t,a)),o}}let r=HF(e.value),i=e.children.map(s=>ec(t,s));return new Pt(r,i)}}function $F(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ec(t,r,i);return ec(t,r)})}function HF(t){return new zr(new Je(t.url),new Je(t.params),new Je(t.queryParams),new Je(t.fragment),new Je(t.data),t.outlet,t.component,t)}var tc=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},$C="ngNavigationCancelingError";function Ad(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Fi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=HC(!1,Ot.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function HC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[$C]=!0,n.cancellationCode=e,n}function zF(t){return zC(t)&&Fi(t.url)}function zC(t){return!!t&&t[$C]}var qF=(t,e,n,r)=>oe(i=>(new oy(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),oy=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Vm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ks(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ks(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ks(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ks(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new ey(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Zm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Vm(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Vm(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Sd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Js=class{constructor(e,n){this.component=e,this.route=n}};function GF(t,e,n){let r=t._root,i=e?e._root:null;return Ga(r,i,n,[r.value])}function WF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ro(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!vb(t)?t:e.get(t):r}function Ga(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ks(e);return t.children.forEach(o=>{KF(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ya(a,n.getContext(o),i)),i}function KF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=QF(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Sd(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ga(t,e,a?a.children:null,r,i):Ga(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Js(a.outlet.component,o))}else o&&Ya(e,a,i),i.canActivateChecks.push(new Sd(r)),s.component?Ga(t,null,a?a.children:null,r,i):Ga(t,null,n,r,i);return i}function QF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ki(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ki(t.url,e.url)||!vn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!iy(t,e)||!vn(t.queryParams,e.queryParams);case"paramsChange":default:return!iy(t,e)}}function Ya(t,e,n){let r=Ks(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Ya(o,e.children.getContext(s),n):Ya(o,null,n):Ya(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Js(e.outlet.component,i)):n.canDeactivateChecks.push(new Js(null,i)):n.canDeactivateChecks.push(new Js(null,i))}function uc(t){return typeof t=="function"}function YF(t){return typeof t=="boolean"}function JF(t){return t&&uc(t.canLoad)}function ZF(t){return t&&uc(t.canActivate)}function XF(t){return t&&uc(t.canActivateChild)}function eL(t){return t&&uc(t.canDeactivate)}function tL(t){return t&&uc(t.canMatch)}function qC(t){return t instanceof Ln||t?.name==="EmptyError"}var pd=Symbol("INITIAL_VALUE");function no(){return Tt(t=>fa(t.map(e=>e.pipe(jn(1),up(pd)))).pipe(oe(e=>{for(let n of e)if(n!==!0){if(n===pd)return pd;if(n===!1||nL(n))return n}return!0}),Ct(e=>e!==pd),jn(1)))}function nL(t){return Fi(t)||t instanceof tc}function rL(t,e){return Ve(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?J(fe(F({},n),{guardsResult:!0})):iL(o,r,i,t).pipe(Ve(a=>a&&YF(a)?sL(r,s,t,e):J(a)),oe(a=>fe(F({},n),{guardsResult:a})))})}function iL(t,e,n,r){return Me(t).pipe(Ve(i=>lL(i.component,i.route,n,e,r)),hn(i=>i!==!0,!0))}function sL(t,e,n,r){return Me(e).pipe(Vn(i=>_s(aL(i.route.parent,r),oL(i.route,r),uL(t,i.path,n),cL(t,i.route,n))),hn(i=>i!==!0,!0))}function oL(t,e){return t!==null&&e&&e(new Xm(t)),J(!0)}function aL(t,e){return t!==null&&e&&e(new Jm(t)),J(!0)}function cL(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return J(!0);let i=r.map(s=>Yu(()=>{let o=ac(e)??n,a=ro(s,o),u=ZF(a)?a.canActivate(e,t):zt(o,()=>a(e,t));return qr(u).pipe(hn())}));return J(i).pipe(no())}function uL(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>WF(o)).filter(o=>o!==null).map(o=>Yu(()=>{let a=o.guards.map(u=>{let l=ac(o.node)??n,h=ro(u,l),p=XF(h)?h.canActivateChild(r,t):zt(l,()=>h(r,t));return qr(p).pipe(hn())});return J(a).pipe(no())}));return J(s).pipe(no())}function lL(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return J(!0);let o=s.map(a=>{let u=ac(e)??i,l=ro(a,u),h=eL(l)?l.canDeactivate(t,e,n,r):zt(u,()=>l(t,e,n,r));return qr(h).pipe(hn())});return J(o).pipe(no())}function dL(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return J(!0);let s=i.map(o=>{let a=ro(o,t),u=JF(a)?a.canLoad(e,n):zt(t,()=>a(e,n));return qr(u)});return J(s).pipe(no(),GC(r))}function GC(t){return Yf(je(e=>{if(typeof e!="boolean")throw Ad(t,e)}),oe(e=>e===!0))}function hL(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return J(!0);let s=i.map(o=>{let a=ro(o,t),u=tL(a)?a.canMatch(e,n):zt(t,()=>a(e,n));return qr(u)});return J(s).pipe(no(),GC(r))}var nc=class{constructor(e){this.segmentGroup=e||null}},rc=class extends Error{constructor(e){super(),this.urlTree=e}};function Ws(t){return ys(new nc(t))}function fL(t){return ys(new B(4e3,!1))}function pL(t){return ys(HC(!1,Ot.GuardRejected))}var ay=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return J(r);if(i.numberOfChildren>1||!i.children[ce])return fL(`${e.redirectTo}`);i=i.children[ce]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:C,title:M}=i,R=zt(s,()=>a({params:y,data:C,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:M}));if(R instanceof tr)throw new rc(R);n=R}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new rc(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new tr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new be(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},cy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gL(t,e,n,r,i){let s=WC(t,e,n);return s.matched?(r=LF(e,r),hL(r,e,n,i).pipe(oe(o=>o===!0?s:F({},cy)))):J(s)}function WC(t,e,n){if(e.path==="**")return mL(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},cy):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||dF)(n,t,e);if(!i)return F({},cy);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?F(F({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function mL(t){return{matched:!0,parameters:t.length>0?TC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function IC(t,e,n,r){return n.length>0&&_L(t,n,r)?{segmentGroup:new be(e,vL(r,new be(n,t.children))),slicedSegments:[]}:n.length===0&&IL(t,n,r)?{segmentGroup:new be(t.segments,yL(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new be(t.segments,t.children),slicedSegments:n}}function yL(t,e,n,r){let i={};for(let s of n)if(Nd(t,e,s)&&!r[cn(s)]){let o=new be([],{});i[cn(s)]=o}return F(F({},r),i)}function vL(t,e){let n={};n[ce]=e;for(let r of t)if(r.path===""&&cn(r)!==ce){let i=new be([],{});n[cn(r)]=i}return n}function _L(t,e,n){return n.some(r=>Nd(t,e,r)&&cn(r)!==ce)}function IL(t,e,n){return n.some(r=>Nd(t,e,r))}function Nd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function wL(t,e,n){return e.length===0&&!t.children[n]}var uy=class{};function EL(t,e,n,r,i,s,o="emptyOnly"){return new ly(t,e,n,r,i,o,s).recognize()}var bL=31,ly=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new ay(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=IC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(oe(({children:n,rootSnapshot:r})=>{let i=new Pt(r,n),s=new Td("",i),o=MF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Ys([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ce,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ce,n).pipe(oe(r=>({children:r,rootSnapshot:n})),br(r=>{if(r instanceof rc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof nc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(oe(o=>o instanceof Pt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Me(s).pipe(Vn(o=>{let a=r.children[o],u=VF(n,o);return this.processSegmentGroup(e,u,a,o,i)}),cp((o,a)=>(o.push(...a),o)),Dr(null),ap(),Ve(o=>{if(o===null)return Ws(r);let a=KC(o);return DL(a),J(a)}))}processSegment(e,n,r,i,s,o,a){return Me(n).pipe(Vn(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(br(l=>{if(l instanceof nc)return J(null);throw l}))),hn(u=>!!u),br(u=>{if(qC(u))return wL(r,i,s)?J(new uy):Ws(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return cn(r)!==o&&(o===ce||!Nd(i,s,r))?Ws(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):Ws(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=WC(n,i,s);if(!u)return Ws(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>bL&&(this.allowRedirects=!1));let y=new Ys(s,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,wC(i),cn(i),i.component??i._loadedComponent??null,i,EC(i)),C=Cd(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(C.params),y.data=Object.freeze(C.data);let M=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(Ve(R=>this.processSegment(e,r,n,R.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=gL(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Tt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Tt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,C=new Ys(m,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,wC(r),cn(r),r.component??r._loadedComponent??null,r,EC(r)),M=Cd(C,o,this.paramsInheritanceStrategy);C.params=Object.freeze(M.params),C.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:N}=IC(n,m,y,l);if(N.length===0&&R.hasChildren())return this.processChildren(h,l,R,C).pipe(oe($=>new Pt(C,$)));if(l.length===0&&N.length===0)return J(new Pt(C,[]));let L=cn(r)===s;return this.processSegment(h,l,R,N,L?ce:s,!0,C).pipe(oe($=>new Pt(C,$ instanceof Pt?[$]:[])))}))):Ws(n)))}getChildConfig(e,n,r){return n.children?J({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?J({routes:n._loadedRoutes,injector:n._loadedInjector}):dL(e,n,r,this.urlSerializer).pipe(Ve(i=>i?this.configLoader.loadChildren(e,n).pipe(je(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):pL(n))):J({routes:[],injector:e})}};function DL(t){t.sort((e,n)=>e.value.outlet===ce?-1:n.value.outlet===ce?1:e.value.outlet.localeCompare(n.value.outlet))}function CL(t){let e=t.value.routeConfig;return e&&e.path===""}function KC(t){let e=[],n=new Set;for(let r of t){if(!CL(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=KC(r.children);e.push(new Pt(r.value,i))}return e.filter(r=>!n.has(r))}function wC(t){return t.data||{}}function EC(t){return t.resolve||{}}function TL(t,e,n,r,i,s){return Ve(o=>EL(t,e,n,r,o.extractedUrl,i,s).pipe(oe(({state:a,tree:u})=>fe(F({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function AL(t,e){return Ve(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return J(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of QC(u))o.add(l);let a=0;return Me(o).pipe(Vn(u=>s.has(u)?SL(u,r,t,e):(u.data=Cd(u,u.parent,t).resolve,J(void 0))),je(()=>a++),Is(1),Ve(u=>a===o.size?J(n):Mt))})}function QC(t){let e=t.children.map(n=>QC(n)).flat();return[t,...e]}function SL(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!BC(i)&&(s[sc]=i.title),RL(s,t,e,r).pipe(oe(o=>(t._resolvedData=o,t.data=Cd(t,t.parent,n).resolve,null)))}function RL(t,e,n,r){let i=Bm(t);if(i.length===0)return J({});let s={};return Me(i).pipe(Ve(o=>ML(t[o],e,n,r).pipe(hn(),je(a=>{if(a instanceof tc)throw Ad(new Xs,a);s[o]=a}))),Is(1),op(s),br(o=>qC(o)?Mt:ys(o)))}function ML(t,e,n,r){let i=ac(e)??r,s=ro(t,i),o=s.resolve?s.resolve(e,n):zt(i,()=>s(e,n));return qr(o)}function jm(t){return Tt(e=>{let n=t(e);return n?Me(n).pipe(oe(()=>e)):J(e)})}var YC=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===ce);return i}getResolvedTitleForRoute(r){return r.data[sc]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>x(NL),providedIn:"root"});let t=e;return t})(),NL=(()=>{let e=class e extends YC{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(G(pC))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lc=new V("",{providedIn:"root",factory:()=>({})}),xL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=$t({type:e,selectors:[["ng-component"]],standalone:!0,features:[R0],decls:1,vars:0,template:function(i,s){i&1&&ht(0,"router-outlet")},dependencies:[UF],encapsulation:2});let t=e;return t})();function fy(t){let e=t.children&&t.children.map(fy),n=e?fe(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ce&&(n.component=xL),n}var ic=new V(""),py=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=x(td)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return J(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=qr(r.loadComponent()).pipe(oe(JC),je(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),hi(()=>{this.componentLoaders.delete(r)})),s=new fs(i,()=>new Ge).pipe(hs());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return J({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=PL(i,this.compiler,r,this.onLoadEndListener).pipe(hi(()=>{this.childrenLoaders.delete(i)})),a=new fs(o,()=>new Ge).pipe(hs());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function PL(t,e,n,r){return qr(t.loadChildren()).pipe(oe(JC),Ve(i=>i instanceof Da||Array.isArray(i)?J(i):Me(e.compileModuleAsync(i))),oe(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(ic,[],{optional:!0,self:!0}).flat()),{routes:o.map(fy),injector:s}}))}function OL(t){return t&&typeof t=="object"&&"default"in t}function JC(t){return OL(t)?t.default:t}var gy=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>x(kL),providedIn:"root"});let t=e;return t})(),kL=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ZC=new V(""),XC=new V("");function FL(t,e,n){let r=t.get(XC),i=t.get(tt);return t.get(we).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),LL(t))),{onViewTransitionCreated:u}=r;return u&&zt(t,()=>u({transition:a,from:e,to:n})),o})}function LL(t){return new Promise(e=>{hm({read:()=>setTimeout(e)},{injector:t})})}var VL=new V(""),my=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ge,this.transitionAbortSubject=new Ge,this.configLoader=x(py),this.environmentInjector=x(wt),this.urlSerializer=x(oc),this.rootContexts=x(cc),this.location=x(Gs),this.inputBindingEnabled=x(Md,{optional:!0})!==null,this.titleStrategy=x(YC),this.options=x(lc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=x(gy),this.createViewTransition=x(ZC,{optional:!0}),this.navigationErrorHandler=x(VL,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>J(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Qm(s)),i=s=>this.events.next(new Ym(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(fe(F(F({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Je({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Qa,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ct(o=>o.id!==0),oe(o=>fe(F({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Tt(o=>{let a=!1,u=!1;return J(o).pipe(Tt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ot.SupersededByNewNavigation),Mt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?fe(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new Hr(l.id,this.urlSerializer.serialize(l.rawUrl),m,Id.IgnoredSameUrlNavigation)),l.resolve(!1),Mt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return J(l).pipe(Tt(m=>{let y=this.transitions?.getValue();return this.events.next(new eo(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?Mt:Promise.resolve(m)}),TL(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),je(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=fe(F({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let y=new wd(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:y,source:C,restoredState:M,extras:R}=l,N=new eo(m,this.urlSerializer.serialize(y),C,M);this.events.next(N);let L=jC(this.rootComponentType).snapshot;return this.currentTransition=o=fe(F({},l),{targetSnapshot:L,urlAfterRedirects:y,extras:fe(F({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,J(o)}else{let m="";return this.events.next(new Hr(l.id,this.urlSerializer.serialize(l.extractedUrl),m,Id.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Mt}}),je(l=>{let h=new qm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),oe(l=>(this.currentTransition=o=fe(F({},l),{guards:GF(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),rL(this.environmentInjector,l=>this.events.next(l)),je(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Ad(this.urlSerializer,l.guardsResult);let h=new Gm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Ct(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Ot.GuardRejected),!1)),jm(l=>{if(l.guards.canActivateChecks.length)return J(l).pipe(je(h=>{let p=new Wm(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Tt(h=>{let p=!1;return J(h).pipe(AL(this.paramsInheritanceStrategy,this.environmentInjector),je({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",Ot.NoDataFromResolver)}}))}),je(h=>{let p=new Km(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),jm(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(je(y=>{p.component=y}),oe(()=>{})));for(let y of p.children)m.push(...h(y));return m};return fa(h(l.targetSnapshot.root)).pipe(Dr(null),jn(1))}),jm(()=>this.afterPreactivation()),Tt(()=>{let{currentSnapshot:l,targetSnapshot:h}=o,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?Me(p).pipe(oe(()=>o)):J(o)}),oe(l=>{let h=BF(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=fe(F({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,o}),je(()=>{this.events.next(new Xa)}),qF(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),jn(1),je({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _n(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),lp(this.transitionAbortSubject.pipe(je(l=>{throw l}))),hi(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",Ot.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),br(l=>{if(u=!0,zC(l))this.events.next(new er(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),zF(l)?this.events.next(new to(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let h=new Za(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let p=zt(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof tc){let{message:m,cancellationCode:y}=Ad(this.urlSerializer,p);this.events.next(new er(o.id,this.urlSerializer.serialize(o.extractedUrl),m,y)),this.events.next(new to(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let m=r.errorHandler(l);o.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return Mt}))}))}cancelNavigationTransition(r,i,s){let o=new er(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jL(t){return t!==Qa}var UL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>x(BL),providedIn:"root"});let t=e;return t})(),dy=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},BL=(()=>{let e=class e extends dy{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Hs(e)))(s||e)}})(),e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),eT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>x($L),providedIn:"root"});let t=e;return t})(),$L=(()=>{let e=class e extends eT{constructor(){super(...arguments),this.location=x(Gs),this.urlSerializer=x(oc),this.options=x(lc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=x(gy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new tr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=jC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof eo)this.stateMemento=this.createStateMemento();else if(r instanceof Hr)this.rawUrlTree=i.initialUrl;else if(r instanceof wd){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof Xa?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof er&&(r.code===Ot.GuardRejected||r.code===Ot.NoDataFromResolver)?this.restoreHistory(i):r instanceof Za?this.restoreHistory(i,!0):r instanceof _n&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof tr?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=F(F({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=F(F({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Hs(e)))(s||e)}})(),e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wa=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Wa||{});function tT(t,e){t.events.pipe(Ct(n=>n instanceof _n||n instanceof er||n instanceof Za||n instanceof Hr),oe(n=>n instanceof _n||n instanceof Hr?Wa.COMPLETE:(n instanceof er?n.code===Ot.Redirect||n.code===Ot.SupersededByNewNavigation:!1)?Wa.REDIRECTING:Wa.FAILED),Ct(n=>n!==Wa.REDIRECTING),jn(1)).subscribe(()=>{e()})}function HL(t){throw t}var zL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},nt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=x(Xl),this.stateManager=x(eT),this.options=x(lc,{optional:!0})||{},this.pendingTasks=x(Or),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=x(my),this.urlSerializer=x(oc),this.location=x(Gs),this.urlHandlingStrategy=x(gy),this._events=new Ge,this.errorHandler=this.options.errorHandler||HL,this.navigated=!1,this.routeReuseStrategy=x(UL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=x(ic,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!x(Md,{optional:!0}),this.eventsSubscription=new Pe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof er&&i.code!==Ot.Redirect&&i.code!==Ot.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof _n)this.navigated=!0;else if(i instanceof to){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l=F({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||jL(s.source)},a);this.scheduleNavigation(u,Qa,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}WL(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Qa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=F({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(fy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":p=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let y=s?s.snapshot:this.routerState.snapshot.root;m=kC(y)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return FC(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Fi(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Qa,null,i)}navigate(r,i={skipLocationChange:!1}){return GL(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=F({},zL):i===!1?s=F({},qL):s=i,Fi(r))return gC(this.currentUrlTree,r,s);let o=this.parseUrl(r);return gC(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,y)=>{u=m,l=y});let p=this.pendingTasks.add();return tT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function GL(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new B(4008,!1)}function WL(t){return!(t instanceof Xa)&&!(t instanceof to)}var nT=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.onChanges=new Ge,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof _n&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Fi(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:PD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:Fi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(Q(nt),Q(zr),zg("tabindex"),Q(Ri),Q(sn),Q(Zn))},e.\u0275dir=Xe({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&ne("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Na("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",jr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",jr],replaceUrl:[2,"replaceUrl","replaceUrl",jr],routerLink:"routerLink"},standalone:!0,features:[dm,xr]});let t=e;return t})();var Rd=class{};var KL=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ct(r=>r instanceof _n),Vn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Yl(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return Me(s).pipe(vs())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=J(null);let o=s.pipe(Ve(a=>a===null?J(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Me([o,a]).pipe(vs())}else return o})}};e.\u0275fac=function(i){return new(i||e)(G(nt),G(td),G(wt),G(Rd),G(py))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rT=new V(""),QL=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof eo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof _n?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Hr&&r.code===Id.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ed&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ed(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){qD()},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})();function t6(t,...e){return Ht([{provide:ic,multi:!0,useValue:t},[],{provide:zr,useFactory:iT,deps:[nt]},{provide:Pa,multi:!0,useFactory:sT},e.map(n=>n.\u0275providers)])}function iT(t){return t.routerState.root}function dc(t,e){return{\u0275kind:t,\u0275providers:e}}function sT(){let t=x(Ze);return e=>{let n=t.get(Vr);if(e!==n.components[0])return;let r=t.get(nt),i=t.get(oT);t.get(yy)===1&&r.initialNavigation(),t.get(aT,null,ue.Optional)?.setUpPreloading(),t.get(rT,null,ue.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var oT=new V("",{factory:()=>new Ge}),yy=new V("",{providedIn:"root",factory:()=>1});function YL(){return dc(2,[{provide:yy,useValue:0},{provide:ed,multi:!0,deps:[Ze],useFactory:e=>{let n=e.get(W0,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(nt),s=e.get(oT);tT(i,()=>{r(!0)}),e.get(my).afterPreactivation=()=>(r(!0),s.closed?J(void 0):s),i.initialNavigation()}))}}])}function JL(){return dc(3,[{provide:ed,multi:!0,useFactory:()=>{let e=x(nt);return()=>{e.setUpLocationChangeListener()}}},{provide:yy,useValue:2}])}var aT=new V("");function ZL(t){return dc(0,[{provide:aT,useExisting:KL},{provide:Rd,useExisting:t}])}function XL(){return dc(8,[_C,{provide:Md,useExisting:_C}])}function eV(t){let e=[{provide:ZC,useValue:FL},{provide:XC,useValue:F({skipNextTransition:!!t?.skipInitialTransition},t)}];return dc(9,e)}var bC=new V("ROUTER_FORROOT_GUARD"),tV=[Gs,{provide:oc,useClass:Xs},nt,cc,{provide:zr,useFactory:iT,deps:[nt]},py,[]],vy=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[tV,[],{provide:ic,multi:!0,useValue:r},{provide:bC,useFactory:sV,deps:[[nt,new dt,new Rg]]},{provide:lc,useValue:i||{}},i?.useHash?rV():iV(),nV(),i?.preloadingStrategy?ZL(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?oV(i):[],i?.bindToComponentInputs?XL().\u0275providers:[],i?.enableViewTransitions?eV().\u0275providers:[],aV()]}}static forChild(r){return{ngModule:e,providers:[{provide:ic,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(G(bC,8))},e.\u0275mod=xt({type:e}),e.\u0275inj=Nt({});let t=e;return t})();function nV(){return{provide:rT,useFactory:()=>{let t=x(Y0),e=x(we),n=x(lc),r=x(my),i=x(oc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new QL(i,r,t,e,n)}}}function rV(){return{provide:Zn,useClass:Q0}}function iV(){return{provide:Zn,useClass:Em}}function sV(t){return"guarded"}function oV(t){return[t.initialNavigation==="disabled"?JL().\u0275providers:[],t.initialNavigation==="enabledBlocking"?YL().\u0275providers:[]]}var DC=new V("");function aV(){return[{provide:DC,useFactory:sT},{provide:Pa,multi:!0,useExisting:DC}]}var uT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},cV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},lT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,o||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new Iy;let m=s<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Iy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},uV=function(t){let e=uT(t);return lT.encodeByteArray(e,!0)},fc=function(t){return uV(t).replace(/\./g,"")},Ey=function(t){try{return lT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function lV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var dV=()=>lV().__FIREBASE_DEFAULTS__,hV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ey(t[1]);return e&&JSON.parse(e)},Pd=()=>{try{return dV()||hV()||fV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},by=t=>{var e,n;return(n=(e=Pd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},dT=t=>{let e=by(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Dy=()=>{var t;return(t=Pd())===null||t===void 0?void 0:t.config},Cy=t=>{var e;return(e=Pd())===null||e===void 0?void 0:e[`_${t}`]};var xd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function hT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[fc(JSON.stringify(n)),fc(JSON.stringify(o)),""].join(".")}function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function pV(){var t;let e=(t=Pd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mT(){let t=Ke();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yT(){return!pV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ty(){try{return typeof indexedDB=="object"}catch{return!1}}function vT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var gV="FirebaseError",kt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nr.prototype.create)}},nr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?mV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new kt(i,a,r)}};function mV(t,e){return t.replace(yV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var yV=/\{\$([^}]+)}/g;function _T(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Li(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(cT(s)&&cT(o)){if(!Li(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function cT(t){return t!==null&&typeof t=="object"}function pc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function io(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function so(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function IT(t,e){let n=new wy(t,e);return n.subscribe.bind(n)}var wy=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=_y),i.error===void 0&&(i.error=_y),i.complete===void 0&&(i.complete=_y);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function vV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _y(){}var r6=4*60*60*1e3;function ft(t){return t&&t._delegate?t._delegate:t}var Kt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Vi="[DEFAULT]";var Ay=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new xd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IV(e))try{this.getOrInitializeService({instanceIdentifier:Vi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Vi){return this.instances.has(e)}getOptions(e=Vi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_V(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vi){return this.component?this.component.multipleInstances?e:Vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function _V(t){return t===Vi?void 0:t}function IV(t){return t.instantiationMode==="EAGER"}var Od=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Ay(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var wV=[],ge=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ge||{}),EV={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},bV=ge.INFO,DV={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},CV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=DV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Gr=class{constructor(e){this.name=e,this._logLevel=bV,this._logHandler=CV,this._userLogHandler=null,wV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}};var TV=(t,e)=>e.some(n=>t instanceof n),wT,ET;function AV(){return wT||(wT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SV(){return ET||(ET=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var bT=new WeakMap,Ry=new WeakMap,DT=new WeakMap,Sy=new WeakMap,Ny=new WeakMap;function RV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(In(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&bT.set(n,t)}).catch(()=>{}),Ny.set(e,t),e}function MV(t){if(Ry.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ry.set(t,e)}var My={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ry.get(t);if(e==="objectStoreNames")return t.objectStoreNames||DT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return In(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CT(t){My=t(My)}function NV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(kd(this),e,...n);return DT.set(r,e.sort?e.sort():[e]),In(r)}:SV().includes(t)?function(...e){return t.apply(kd(this),e),In(bT.get(this))}:function(...e){return In(t.apply(kd(this),e))}}function xV(t){return typeof t=="function"?NV(t):(t instanceof IDBTransaction&&MV(t),TV(t,AV())?new Proxy(t,My):t)}function In(t){if(t instanceof IDBRequest)return RV(t);if(Sy.has(t))return Sy.get(t);let e=xV(t);return e!==t&&(Sy.set(t,e),Ny.set(e,t)),e}var kd=t=>Ny.get(t);function AT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=In(o);return r&&o.addEventListener("upgradeneeded",u=>{r(In(o.result),u.oldVersion,u.newVersion,In(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var PV=["get","getKey","getAll","getAllKeys","count"],OV=["put","add","delete","clear"],xy=new Map;function TT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xy.get(e))return xy.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=OV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||PV.includes(n)))return;let s=function(o,...a){return _(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return xy.set(e,s),s}CT(t=>fe(F({},t),{get:(e,n,r)=>TT(e,n)||t.get(e,n,r),has:(e,n)=>!!TT(e,n)||t.has(e,n)}));var Oy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function kV(t){let e=t.getComponent();return e?.type==="VERSION"}var ky="@firebase/app",ST="0.10.10";var rr=new Gr("@firebase/app"),FV="@firebase/app-compat",LV="@firebase/analytics-compat",VV="@firebase/analytics",jV="@firebase/app-check-compat",UV="@firebase/app-check",BV="@firebase/auth",$V="@firebase/auth-compat",HV="@firebase/database",zV="@firebase/database-compat",qV="@firebase/functions",GV="@firebase/functions-compat",WV="@firebase/installations",KV="@firebase/installations-compat",QV="@firebase/messaging",YV="@firebase/messaging-compat",JV="@firebase/performance",ZV="@firebase/performance-compat",XV="@firebase/remote-config",ej="@firebase/remote-config-compat",tj="@firebase/storage",nj="@firebase/storage-compat",rj="@firebase/firestore",ij="@firebase/vertexai-preview",sj="@firebase/firestore-compat",oj="firebase",aj="10.13.1";var Fy="[DEFAULT]",cj={[ky]:"fire-core",[FV]:"fire-core-compat",[VV]:"fire-analytics",[LV]:"fire-analytics-compat",[UV]:"fire-app-check",[jV]:"fire-app-check-compat",[BV]:"fire-auth",[$V]:"fire-auth-compat",[HV]:"fire-rtdb",[zV]:"fire-rtdb-compat",[qV]:"fire-fn",[GV]:"fire-fn-compat",[WV]:"fire-iid",[KV]:"fire-iid-compat",[QV]:"fire-fcm",[YV]:"fire-fcm-compat",[JV]:"fire-perf",[ZV]:"fire-perf-compat",[XV]:"fire-rc",[ej]:"fire-rc-compat",[tj]:"fire-gcs",[nj]:"fire-gcs-compat",[rj]:"fire-fst",[sj]:"fire-fst-compat",[ij]:"fire-vertex","fire-js":"fire-js",[oj]:"fire-js-all"};var gc=new Map,uj=new Map,Ly=new Map;function RT(t,e){try{t.container.addComponent(e)}catch(n){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Kr(t){let e=t.name;if(Ly.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;Ly.set(e,t);for(let n of gc.values())RT(n,t);for(let n of uj.values())RT(n,t);return!0}function yc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function un(t){return t.settings!==void 0}var lj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new nr("app","Firebase",lj);var Vy=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}};var Qr=aj;function By(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Fy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Wr.create("bad-app-name",{appName:String(i)});if(n||(n=Dy()),!n)throw Wr.create("no-options");let s=gc.get(i);if(s){if(Li(n,s.options)&&Li(r,s.config))return s;throw Wr.create("duplicate-app",{appName:i})}let o=new Od(i);for(let u of Ly.values())o.addComponent(u);let a=new Vy(n,r,o);return gc.set(i,a),a}function oo(t=Fy){let e=gc.get(t);if(!e&&t===Fy&&Dy())return By();if(!e)throw Wr.create("no-app",{appName:t});return e}function Fd(){return Array.from(gc.values())}function ze(t,e,n){var r;let i=(r=cj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(a.join(" "));return}Kr(new Kt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var dj="firebase-heartbeat-database",hj=1,mc="firebase-heartbeat-store",Py=null;function PT(){return Py||(Py=AT(dj,hj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wr.create("idb-open",{originalErrorMessage:t.message})})),Py}function fj(t){return _(this,null,function*(){try{let n=(yield PT()).transaction(mc),r=yield n.objectStore(mc).get(OT(t));return yield n.done,r}catch(e){if(e instanceof kt)rr.warn(e.message);else{let n=Wr.create("idb-get",{originalErrorMessage:e?.message});rr.warn(n.message)}}})}function MT(t,e){return _(this,null,function*(){try{let r=(yield PT()).transaction(mc,"readwrite");yield r.objectStore(mc).put(e,OT(t)),yield r.done}catch(n){if(n instanceof kt)rr.warn(n.message);else{let r=Wr.create("idb-set",{originalErrorMessage:n?.message});rr.warn(r.message)}}})}function OT(t){return`${t.name}!${t.options.appId}`}var pj=1024,gj=30*24*60*60*1e3,jy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Uy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=NT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=gj}),this._storage.overwrite(this._heartbeatsCache))}catch(r){rr.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=NT(),{heartbeatsToSend:r,unsentEntries:i}=mj(this._heartbeatsCache.heartbeats),s=fc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return rr.warn(n),""}})}};function NT(){return new Date().toISOString().substring(0,10)}function mj(t,e=pj){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),xT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Uy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return Ty()?vT().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield fj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return MT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return MT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function xT(t){return fc(JSON.stringify({version:2,heartbeats:t})).length}function yj(t){Kr(new Kt("platform-logger",e=>new Oy(e),"PRIVATE")),Kr(new Kt("heartbeat",e=>new jy(e),"PRIVATE")),ze(ky,ST,t),ze(ky,ST,"esm2017"),ze("fire-js","")}yj("");var vj="firebase",_j="10.13.1";ze(vj,_j,"app");var Ui=new Hn("ANGULARFIRE2_VERSION");function Vd(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var vc=(t,e)=>{let n=e?[e]:Fd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},co=class{constructor(){return vc(Ij)}},Ij="app-check";function ao(){}var Ld=class{zone;delegate;constructor(e,n=np){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},$y=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ao,{},ao,ao)),n.pipe(je({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},uo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Ld(Zone.current)),this.insideAngular=n.run(()=>new Ld(Zone.current,tp)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(G(we))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function wj(t){return jd().ngZone.runOutsideAngular(()=>t())}function ji(t){return jd().ngZone.run(()=>t())}function Ej(t){return bj(jd())(t)}function bj(t){return function(n){return n=n.lift(new $y(t.ngZone)),n.pipe(Er(t.outsideAngular),wr(t.insideAngular))}}var Dj=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ji(()=>t.apply(void 0,r))},Qt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=ji(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ao,{},ao,ao))),r[s]=Dj(r[s],n));let i=wj(()=>t.apply(this,r));if(!e)if(i instanceof he){let s=jd();return i.pipe(Er(s.outsideAngular),wr(s.insideAngular))}else return ji(()=>i);return i instanceof he?i.pipe(Ej):i instanceof Promise?ji(()=>new Promise((s,o)=>i.then(a=>ji(()=>s(a)),a=>ji(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ji(()=>i)};var ir=class{constructor(e){return e}},Bi=class{constructor(){return Fd()}};function Cj(t){return t&&t.length===1?t[0]:new ir(oo())}var Hy=new V("angularfire2._apps"),Tj={provide:ir,useFactory:Cj,deps:[[new dt,Hy]]},Aj={provide:Bi,deps:[[new dt,Hy]]};function Sj(t){return(e,n)=>{let r=n.get(Gt);ze("angularfire",Ui.full,"core"),ze("angularfire",Ui.full,"app"),ze("angular",N0.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new ir(i)}}function H6(t,...e){return Ht([Tj,Aj,{provide:Hy,useFactory:Sj(t),multi:!0,deps:[we,Ze,uo,...e]}])}var z6=Qt(By,!0);function JT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var ZT=JT,XT=new nr("auth","Firebase",JT());var qd=new Gr("@firebase/auth");function Rj(t,...e){qd.logLevel<=ge.WARN&&qd.warn(`Auth (${Qr}): ${t}`,...e)}function Bd(t,...e){qd.logLevel<=ge.ERROR&&qd.error(`Auth (${Qr}): ${t}`,...e)}function En(t,...e){throw hv(t,...e)}function $i(t,...e){return hv(t,...e)}function eA(t,e,n){let r=Object.assign(Object.assign({},ZT()),{[e]:n});return new nr("auth","Firebase",r).create(e,{appName:t.name})}function ar(t){return eA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hv(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return XT.create(t,...e)}function Z(t,e,...n){if(!t)throw hv(e,...n)}function sr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Bd(e),new Error(e)}function Jr(t,e){t||sr(e)}function Wy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Mj(){return kT()==="http:"||kT()==="https:"}function kT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Nj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Mj()||pT()||"connection"in navigator)?navigator.onLine:!0}function xj(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Hi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jr(n>e,"Short delay should be less than long delay!"),this.isMobile=fT()||gT()}get(){return Nj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function fv(t,e){Jr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Gd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Pj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Oj=new Hi(3e4,6e4);function Zr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function cr(s,o,a,u){return _(this,arguments,function*(t,e,n,r,i={}){return tA(t,i,()=>_(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=pc(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),Gd.fetch()(nA(t,t.config.apiHost,n,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))}))})}function tA(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Pj),e);try{let i=new Ky(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Ud(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ud(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Ud(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Ud(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw eA(t,h,l);En(t,h)}}catch(i){if(i instanceof kt)throw i;En(t,"network-request-failed",{message:String(i)})}})}function Cc(s,o,a,u){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield cr(t,e,n,r,i);return"mfaPendingCredential"in l&&En(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function nA(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?fv(t.config,i):`${t.config.apiScheme}://${i}`}function kj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Ky=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($i(this.auth,"network-request-failed")),Oj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ud(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=$i(t,e,r);return i.customData._tokenResponse=n,i}function FT(t){return t!==void 0&&t.enterprise!==void 0}var Qy=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return kj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function Fj(t,e){return _(this,null,function*(){return cr(t,"GET","/v2/recaptchaConfig",Zr(t,e))})}function Lj(t,e){return _(this,null,function*(){return cr(t,"POST","/v1/accounts:delete",e)})}function rA(t,e){return _(this,null,function*(){return cr(t,"POST","/v1/accounts:lookup",e)})}function _c(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function pv(t,e=!1){return _(this,null,function*(){let n=ft(t),r=yield n.getIdToken(e),i=gv(r);Z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:_c(zy(i.auth_time)),issuedAtTime:_c(zy(i.iat)),expirationTime:_c(zy(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function zy(t){return Number(t)*1e3}function gv(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bd("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ey(n);return i?JSON.parse(i):(Bd("Failed to decode base64 JWT payload"),null)}catch(i){return Bd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function LT(t){let e=gv(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function lo(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof kt&&Vj(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function Vj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Yy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var wc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_c(this.lastLoginAt),this.creationTime=_c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Wd(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield lo(t,rA(n,{idToken:r}));Z(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?iA(s.providerUserInfo):[],a=jj(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new wc(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function mv(t){return _(this,null,function*(){let e=ft(t);yield Wd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function jj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function iA(t){return t.map(e=>{var{providerId:n}=e,r=rp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Uj(t,e){return _(this,null,function*(){let n=yield tA(t,{},()=>_(this,null,function*(){let r=pc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=nA(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Gd.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Bj(t,e){return _(this,null,function*(){return cr(t,"POST","/v2/accounts:revokeToken",Zr(t,e))})}var Ic=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Z(e.length!==0,"internal-error");let n=LT(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield Uj(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(Z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Z(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Z(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return sr("not implemented")}};function Yr(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ho=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=rp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new wc(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield lo(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return pv(this,e)}reload(){return mv(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Wd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(un(this.auth.app))return Promise.reject(ar(this.auth));let e=yield this.getIdToken();return yield lo(this,Lj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=n.photoURL)!==null&&o!==void 0?o:void 0,M=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,N=(l=n.createdAt)!==null&&l!==void 0?l:void 0,L=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:$,emailVerified:H,isAnonymous:De,providerData:K,stsTokenManager:E}=n;Z($&&E,e,"internal-error");let v=Ic.fromJSON(this.name,E);Z(typeof $=="string",e,"internal-error"),Yr(p,e.name),Yr(m,e.name),Z(typeof H=="boolean",e,"internal-error"),Z(typeof De=="boolean",e,"internal-error"),Yr(y,e.name),Yr(C,e.name),Yr(M,e.name),Yr(R,e.name),Yr(N,e.name),Yr(L,e.name);let I=new t({uid:$,auth:e,email:m,emailVerified:H,displayName:p,isAnonymous:De,photoURL:C,phoneNumber:y,tenantId:M,stsTokenManager:v,createdAt:N,lastLoginAt:L});return K&&Array.isArray(K)&&(I.providerData=K.map(b=>Object.assign({},b))),R&&(I._redirectEventId=R),I}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new Ic;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Wd(s),s})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];Z(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?iA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Ic;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new wc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var VT=new Map;function or(t){Jr(t instanceof Function,"Expected a class definition");let e=VT.get(t);return e?(Jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,VT.set(t,e),e)}var $j=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Jy=$j;function $d(t,e,n){return`firebase:${t}:${e}:${n}`}var Kd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=$d(this.userKey,i.apiKey,s),this.fullPersistenceKey=$d("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ho._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(or(Jy),e,r);let i=(yield Promise.all(n.map(l=>_(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||or(Jy),o=$d(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=ho._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>_(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function jT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lA(e))return"Blackberry";if(dA(e))return"Webos";if(oA(e))return"Safari";if((e.includes("chrome/")||aA(e))&&!e.includes("edge/"))return"Chrome";if(uA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function sA(t=Ke()){return/firefox\//i.test(t)}function oA(t=Ke()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aA(t=Ke()){return/crios\//i.test(t)}function cA(t=Ke()){return/iemobile/i.test(t)}function uA(t=Ke()){return/android/i.test(t)}function lA(t=Ke()){return/blackberry/i.test(t)}function dA(t=Ke()){return/webos/i.test(t)}function yv(t=Ke()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Hj(t=Ke()){var e;return yv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zj(){return mT()&&document.documentMode===10}function hA(t=Ke()){return yv(t)||uA(t)||dA(t)||lA(t)||/windows phone/i.test(t)||cA(t)}function fA(t,e=[]){let n;switch(t){case"Browser":n=jT(Ke());break;case"Worker":n=`${jT(Ke())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qr}/${r}`}var Zy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function qj(n){return _(this,arguments,function*(t,e={}){return cr(t,"GET","/v2/passwordPolicy",Zr(t,e))})}var Gj=6,Xy=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Gj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var ev=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qd(this),this.idTokenSubscription=new Qd(this),this.beforeStateQueue=new Zy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=or(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Kd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield rA(this,{idToken:e}),r=yield ho._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(un(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Wd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=xj()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(un(this.app))return Promise.reject(ar(this));let n=e?ft(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return un(this.app)?Promise.reject(ar(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return un(this.app)?Promise.reject(ar(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(or(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield qj(this),n=new Xy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Bj(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&or(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=yield Kd.create(this,[or(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Rj(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function qi(t){return ft(t)}var Qd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=IT(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var nh={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Wj(t){nh=t}function pA(t){return nh.loadJS(t)}function Kj(){return nh.recaptchaEnterpriseScript}function Qj(){return nh.gapiScript}function gA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Yj="recaptcha-enterprise",Jj="NO_RECAPTCHA",tv=class{constructor(e){this.type=Yj,this.auth=qi(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(s){return _(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>_(this,null,function*(){Fj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Qy(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;FT(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(Jj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&FT(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Kj();u.length!==0&&(u+=a),pA(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function UT(t,e,n,r=!1){return _(this,null,function*(){let i=new tv(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function nv(t,e,n,r){return _(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield UT(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>_(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield UT(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function vv(t,e){let n=yc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Li(s,e??{}))return i;En(i,"already-initialized")}return n.initialize({options:e})}function Zj(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(or);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function _v(t,e,n){let r=qi(t);Z(r._canInitEmulator,r,"emulator-config-failed"),Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=mA(e),{host:o,port:a}=Xj(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||eU()}function mA(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Xj(t){let e=mA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:BT(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:BT(o)}}}function BT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function eU(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ec=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,n){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}};function tU(t,e){return _(this,null,function*(){return cr(t,"POST","/v1/accounts:signUp",e)})}function nU(t,e){return _(this,null,function*(){return Cc(t,"POST","/v1/accounts:signInWithPassword",Zr(t,e))})}function rU(t,e){return _(this,null,function*(){return Cc(t,"POST","/v1/accounts:signInWithEmailLink",Zr(t,e))})}function iU(t,e){return _(this,null,function*(){return Cc(t,"POST","/v1/accounts:signInWithEmailLink",Zr(t,e))})}var bc=class t extends Ec{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nv(e,n,"signInWithPassword",nU);case"emailLink":return rU(e,{email:this._email,oobCode:this._password});default:En(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nv(e,r,"signUpPassword",tU);case"emailLink":return iU(e,{idToken:n,email:this._email,oobCode:this._password});default:En(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function qy(t,e){return _(this,null,function*(){return Cc(t,"POST","/v1/accounts:signInWithIdp",Zr(t,e))})}function sU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oU(t){let e=io(so(t)).link,n=e?io(so(e)).deep_link_id:null,r=io(so(t)).deep_link_id;return(r?io(so(r)).link:null)||r||n||e||t}var Yd=class t{constructor(e){var n,r,i,s,o,a;let u=io(so(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=sU((i=u.mode)!==null&&i!==void 0?i:null);Z(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=oU(e);try{return new t(n)}catch{return null}}};var yA=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return bc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Yd.parseLink(r);return Z(i,"argument-error"),bc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Jd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var rv=class extends Jd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function aU(t,e){return _(this,null,function*(){return Cc(t,"POST","/v1/accounts:signUp",Zr(t,e))})}var fo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let s=yield ho._fromIdTokenResponse(e,r,i),o=$T(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=$T(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function $T(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var iv=class t extends kt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function vA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?iv._fromErrorAndOperation(t,s,e,r):s})}function cU(t,e,n=!1){return _(this,null,function*(){let r=yield lo(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return fo._forOperation(t,"link",r)})}function uU(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(un(r.app))return Promise.reject(ar(r));let i="reauthenticate";try{let s=yield lo(t,vA(r,i,e,t),n);Z(s.idToken,r,"internal-error");let o=gv(s.idToken);Z(o,r,"internal-error");let{sub:a}=o;return Z(t.uid===a,r,"user-mismatch"),fo._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&En(r,"user-mismatch"),s}})}function _A(t,e,n=!1){return _(this,null,function*(){if(un(t.app))return Promise.reject(ar(t));let r="signIn",i=yield vA(t,r,e),s=yield fo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Iv(t,e){return _(this,null,function*(){return _A(qi(t),e)})}function IA(t){return _(this,null,function*(){let e=qi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function wv(t,e,n){return _(this,null,function*(){if(un(t.app))return Promise.reject(ar(t));let r=qi(t),o=yield nv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aU).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&IA(t),u}),a=yield fo._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function Ev(t,e,n){return un(t.app)?Promise.reject(ar(t)):Iv(ft(t),yA.credential(e,n)).catch(r=>_(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&IA(t),r}))}function lU(t,e){return _(this,null,function*(){return cr(t,"POST","/v1/accounts:update",e)})}function bv(r,i){return _(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let s=ft(t),a={idToken:yield s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=yield lo(s,lU(s.auth,a));s.displayName=u.displayName||null,s.photoURL=u.photoUrl||null;let l=s.providerData.find(({providerId:h})=>h==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),yield s._updateTokensIfNecessary(u)})}function Dv(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function Cv(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}var Zd="__sak";var Xd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zd,"1"),this.storage.removeItem(Zd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var dU=1e3,hU=10,fU=(()=>{class t extends Xd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);zj()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,hU):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},dU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield _r(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield _r(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield _r(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),wA=fU;var pU=(()=>{class t extends Xd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Tv=pU;function gU(t){return Promise.all(t.map(e=>_(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var mU=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,o)})),l=yield gU(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function EA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var sv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=EA("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function wn(){return window}function yU(t){wn().location.href=t}function bA(){return typeof wn().WorkerGlobalScope<"u"&&typeof wn().importScripts=="function"}function vU(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function _U(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function IU(){return bA()?self:null}var DA="firebaseLocalStorageDb",wU=1,eh="firebaseLocalStorage",CA="fbase_key",zi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function rh(t,e){return t.transaction([eh],e?"readwrite":"readonly").objectStore(eh)}function EU(){let t=indexedDB.deleteDatabase(DA);return new zi(t).toPromise()}function ov(){let t=indexedDB.open(DA,wU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(eh,{keyPath:CA})}catch(i){n(i)}}),t.addEventListener("success",()=>_(this,null,function*(){let r=t.result;r.objectStoreNames.contains(eh)?e(r):(r.close(),yield EU(),e(yield ov()))}))})}function HT(t,e,n){return _(this,null,function*(){let r=rh(t,!0).put({[CA]:e,value:n});return new zi(r).toPromise()})}function bU(t,e){return _(this,null,function*(){let n=rh(t,!1).get(e),r=yield new zi(n).toPromise();return r===void 0?null:r.value})}function zT(t,e){let n=rh(t,!0).delete(e);return new zi(n).toPromise()}var DU=800,CU=3,TU=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield ov(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>CU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return bA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=mU._getInstance(IU()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield vU(),!this.activeServiceWorker)return;this.sender=new sv(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||_U()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield ov();return yield HT(n,Zd,"1"),yield zT(n,Zd),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>HT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>bU(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>zT(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(s=>{let o=rh(s,!1).getAll();return new zi(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),DU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),TA=TU;var Z6=gA("rcb"),X6=new Hi(3e4,6e4);function AU(t,e){return e?or(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Dc=class extends Ec{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qy(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qy(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qy(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function SU(t){return _A(t.auth,new Dc(t),t.bypassAuthState)}function RU(t){let{auth:e,user:n}=t;return Z(n,e,"internal-error"),uU(n,new Dc(t),t.bypassAuthState)}function MU(t){return _(this,null,function*(){let{auth:e,user:n}=t;return Z(n,e,"internal-error"),cU(n,new Dc(t),t.bypassAuthState)})}var av=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SU;case"linkViaPopup":case"linkViaRedirect":return MU;case"reauthViaPopup":case"reauthViaRedirect":return RU;default:En(this.auth,"internal-error")}}resolve(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var e8=new Hi(2e3,1e4);var NU="pendingRedirect",Hd=new Map,cv=class t extends av{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Hd.get(this.auth._key());if(!e){try{let r=(yield xU(this.resolver,this.auth))?yield _r(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Hd.set(this.auth._key(),e)}return this.bypassAuthState||Hd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return _r(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,_r(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function xU(t,e){return _(this,null,function*(){let n=kU(e),r=OU(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function PU(t,e){Hd.set(t._key(),e)}function OU(t){return or(t._redirectPersistence)}function kU(t){return $d(NU,t.config.apiKey,t.name)}function FU(t,e,n=!1){return _(this,null,function*(){if(un(t.app))return Promise.reject(ar(t));let r=qi(t),i=AU(r,e),o=yield new cv(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var LU=10*60*1e3,uv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError($i(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LU&&this.cachedEventUids.clear(),this.cachedEventUids.has(qT(e))}saveEventToCache(e){this.cachedEventUids.add(qT(e)),this.lastProcessedEventTime=Date.now()}};function qT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function VU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AA(t);default:return!1}}function jU(n){return _(this,arguments,function*(t,e={}){return cr(t,"GET","/v1/projects",e)})}var UU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BU=/^https?/;function $U(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield jU(t);for(let n of e)try{if(HU(n))return}catch{}En(t,"unauthorized-domain")})}function HU(t){let e=Wy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!BU.test(n))return!1;if(UU.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var zU=new Hi(3e4,6e4);function GT(){let t=wn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qU(t){return new Promise((e,n)=>{var r,i,s;function o(){GT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GT(),n($i(t,"network-request-failed"))},timeout:zU.get()})}if(!((i=(r=wn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=wn().gapi)===null||s===void 0)&&s.load)o();else{let a=gA("iframefcb");return wn()[a]=()=>{gapi.load?o():n($i(t,"network-request-failed"))},pA(`${Qj()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw zd=null,e})}var zd=null;function GU(t){return zd=zd||qU(t),zd}var WU=new Hi(5e3,15e3),KU="__/auth/iframe",QU="emulator/auth/iframe",YU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZU(t){let e=t.config;Z(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?fv(e,QU):`https://${t.config.authDomain}/${KU}`,r={apiKey:e.apiKey,appName:t.name,v:Qr},i=JU.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${pc(r).slice(1)}`}function XU(t){return _(this,null,function*(){let e=yield GU(t),n=wn().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:ZU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YU,dontclear:!0},r=>new Promise((i,s)=>_(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=$i(t,"network-request-failed"),a=wn().setTimeout(()=>{s(o)},WU.get());function u(){wn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var e2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t2=500,n2=600,r2="_blank",i2="http://localhost",th=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function s2(t,e,n,r=t2,i=n2){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},e2),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ke().toLowerCase();n&&(a=aA(l)?r2:n),sA(l)&&(e=e||i2,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,C])=>`${m}${y}=${C},`,"");if(Hj(l)&&a!=="_self")return o2(e||"",a),new th(null);let p=window.open(e||"",a,h);Z(p,t,"popup-blocked");try{p.focus()}catch{}return new th(p)}function o2(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var a2="__/auth/handler",c2="emulator/auth/handler",u2=encodeURIComponent("fac");function WT(t,e,n,r,i,s){return _(this,null,function*(){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qr,eventId:i};if(e instanceof Jd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",_T(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof rv){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${u2}=${encodeURIComponent(u)}`:"";return`${l2(t)}?${pc(a).slice(1)}${l}`})}function l2({config:t}){return t.emulator?fv(t,c2):`https://${t.authDomain}/${a2}`}var Gy="webStorageSupport",lv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tv,this._completeRedirectFn=FU,this._overrideRedirectResult=PU}_openPopup(e,n,r,i){return _(this,null,function*(){var s;Jr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield WT(e,n,r,Wy(),i);return s2(e,o,EA())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let s=yield WT(e,n,r,Wy(),i);return yU(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Jr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield XU(e),r=new uv(e);return n.register("authEvent",i=>(Z(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gy,{type:Gy},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Gy];o!==void 0&&n(!!o),En(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$U(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hA()||oA()||yv()}},SA=lv;var KT="@firebase/auth",QT="1.7.8";var dv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function d2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function h2(t){Kr(new Kt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fA(t)},l=new ev(r,i,s,u);return Zj(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Kr(new Kt("auth-internal",e=>{let n=qi(e.getProvider("auth").getImmediate());return(r=>new dv(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ze(KT,QT,d2(t)),ze(KT,QT,"esm2017")}var f2=5*60,p2=Cy("authIdTokenMaxAge")||f2,YT=null,g2=t=>e=>_(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>p2)return;let i=n?.token;YT!==i&&(YT=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Av(t=oo()){let e=yc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=vv(t,{popupRedirectResolver:SA,persistence:[TA,wA,Tv]}),r=Cy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=g2(s.toString());Cv(n,o,()=>o(n.currentUser)),Dv(n,a=>o(a))}}let i=by("auth");return i&&_v(n,`http://${i}`),n}function m2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Wj({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=$i("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",m2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});h2("Browser");var RA="auth",Ft=class{constructor(e){return e}},Tc=class{constructor(){return vc(RA)}};var Sv=new V("angularfire2.auth-instances");function oB(t,e){let n=Vd(RA,t,e);return n&&new Ft(n)}function aB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ft(r)}}var cB={provide:Tc,deps:[[new dt,Sv]]},uB={provide:Ft,useFactory:oB,deps:[[new dt,Sv],ir]};function L8(t,...e){return ze("angularfire",Ui.full,"auth"),Ht([uB,cB,{provide:Sv,useFactory:aB(t),multi:!0,deps:[we,Ze,uo,Bi,[new dt,co],...e]}])}var V8=Qt(wv,!0);var j8=Qt(Av,!0);var U8=Qt(Ev,!0);var B8=Qt(bv,!0);var MA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},NA={};var Xr,Rv;(function(){var t;function e(E,v){function I(){}I.prototype=v.prototype,E.D=v.prototype,E.prototype=new I,E.prototype.constructor=E,E.C=function(b,D,A){for(var w=Array(arguments.length-2),Pn=2;Pn<arguments.length;Pn++)w[Pn-2]=arguments[Pn];return v.prototype[D].apply(b,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,I){I||(I=0);var b=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)b[D]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(D=0;16>D;++D)b[D]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=E.g[0],I=E.g[1],D=E.g[2];var A=E.g[3],w=v+(A^I&(D^A))+b[0]+3614090360&4294967295;v=I+(w<<7&4294967295|w>>>25),w=A+(D^v&(I^D))+b[1]+3905402710&4294967295,A=v+(w<<12&4294967295|w>>>20),w=D+(I^A&(v^I))+b[2]+606105819&4294967295,D=A+(w<<17&4294967295|w>>>15),w=I+(v^D&(A^v))+b[3]+3250441966&4294967295,I=D+(w<<22&4294967295|w>>>10),w=v+(A^I&(D^A))+b[4]+4118548399&4294967295,v=I+(w<<7&4294967295|w>>>25),w=A+(D^v&(I^D))+b[5]+1200080426&4294967295,A=v+(w<<12&4294967295|w>>>20),w=D+(I^A&(v^I))+b[6]+2821735955&4294967295,D=A+(w<<17&4294967295|w>>>15),w=I+(v^D&(A^v))+b[7]+4249261313&4294967295,I=D+(w<<22&4294967295|w>>>10),w=v+(A^I&(D^A))+b[8]+1770035416&4294967295,v=I+(w<<7&4294967295|w>>>25),w=A+(D^v&(I^D))+b[9]+2336552879&4294967295,A=v+(w<<12&4294967295|w>>>20),w=D+(I^A&(v^I))+b[10]+4294925233&4294967295,D=A+(w<<17&4294967295|w>>>15),w=I+(v^D&(A^v))+b[11]+2304563134&4294967295,I=D+(w<<22&4294967295|w>>>10),w=v+(A^I&(D^A))+b[12]+1804603682&4294967295,v=I+(w<<7&4294967295|w>>>25),w=A+(D^v&(I^D))+b[13]+4254626195&4294967295,A=v+(w<<12&4294967295|w>>>20),w=D+(I^A&(v^I))+b[14]+2792965006&4294967295,D=A+(w<<17&4294967295|w>>>15),w=I+(v^D&(A^v))+b[15]+1236535329&4294967295,I=D+(w<<22&4294967295|w>>>10),w=v+(D^A&(I^D))+b[1]+4129170786&4294967295,v=I+(w<<5&4294967295|w>>>27),w=A+(I^D&(v^I))+b[6]+3225465664&4294967295,A=v+(w<<9&4294967295|w>>>23),w=D+(v^I&(A^v))+b[11]+643717713&4294967295,D=A+(w<<14&4294967295|w>>>18),w=I+(A^v&(D^A))+b[0]+3921069994&4294967295,I=D+(w<<20&4294967295|w>>>12),w=v+(D^A&(I^D))+b[5]+3593408605&4294967295,v=I+(w<<5&4294967295|w>>>27),w=A+(I^D&(v^I))+b[10]+38016083&4294967295,A=v+(w<<9&4294967295|w>>>23),w=D+(v^I&(A^v))+b[15]+3634488961&4294967295,D=A+(w<<14&4294967295|w>>>18),w=I+(A^v&(D^A))+b[4]+3889429448&4294967295,I=D+(w<<20&4294967295|w>>>12),w=v+(D^A&(I^D))+b[9]+568446438&4294967295,v=I+(w<<5&4294967295|w>>>27),w=A+(I^D&(v^I))+b[14]+3275163606&4294967295,A=v+(w<<9&4294967295|w>>>23),w=D+(v^I&(A^v))+b[3]+4107603335&4294967295,D=A+(w<<14&4294967295|w>>>18),w=I+(A^v&(D^A))+b[8]+1163531501&4294967295,I=D+(w<<20&4294967295|w>>>12),w=v+(D^A&(I^D))+b[13]+2850285829&4294967295,v=I+(w<<5&4294967295|w>>>27),w=A+(I^D&(v^I))+b[2]+4243563512&4294967295,A=v+(w<<9&4294967295|w>>>23),w=D+(v^I&(A^v))+b[7]+1735328473&4294967295,D=A+(w<<14&4294967295|w>>>18),w=I+(A^v&(D^A))+b[12]+2368359562&4294967295,I=D+(w<<20&4294967295|w>>>12),w=v+(I^D^A)+b[5]+4294588738&4294967295,v=I+(w<<4&4294967295|w>>>28),w=A+(v^I^D)+b[8]+2272392833&4294967295,A=v+(w<<11&4294967295|w>>>21),w=D+(A^v^I)+b[11]+1839030562&4294967295,D=A+(w<<16&4294967295|w>>>16),w=I+(D^A^v)+b[14]+4259657740&4294967295,I=D+(w<<23&4294967295|w>>>9),w=v+(I^D^A)+b[1]+2763975236&4294967295,v=I+(w<<4&4294967295|w>>>28),w=A+(v^I^D)+b[4]+1272893353&4294967295,A=v+(w<<11&4294967295|w>>>21),w=D+(A^v^I)+b[7]+4139469664&4294967295,D=A+(w<<16&4294967295|w>>>16),w=I+(D^A^v)+b[10]+3200236656&4294967295,I=D+(w<<23&4294967295|w>>>9),w=v+(I^D^A)+b[13]+681279174&4294967295,v=I+(w<<4&4294967295|w>>>28),w=A+(v^I^D)+b[0]+3936430074&4294967295,A=v+(w<<11&4294967295|w>>>21),w=D+(A^v^I)+b[3]+3572445317&4294967295,D=A+(w<<16&4294967295|w>>>16),w=I+(D^A^v)+b[6]+76029189&4294967295,I=D+(w<<23&4294967295|w>>>9),w=v+(I^D^A)+b[9]+3654602809&4294967295,v=I+(w<<4&4294967295|w>>>28),w=A+(v^I^D)+b[12]+3873151461&4294967295,A=v+(w<<11&4294967295|w>>>21),w=D+(A^v^I)+b[15]+530742520&4294967295,D=A+(w<<16&4294967295|w>>>16),w=I+(D^A^v)+b[2]+3299628645&4294967295,I=D+(w<<23&4294967295|w>>>9),w=v+(D^(I|~A))+b[0]+4096336452&4294967295,v=I+(w<<6&4294967295|w>>>26),w=A+(I^(v|~D))+b[7]+1126891415&4294967295,A=v+(w<<10&4294967295|w>>>22),w=D+(v^(A|~I))+b[14]+2878612391&4294967295,D=A+(w<<15&4294967295|w>>>17),w=I+(A^(D|~v))+b[5]+4237533241&4294967295,I=D+(w<<21&4294967295|w>>>11),w=v+(D^(I|~A))+b[12]+1700485571&4294967295,v=I+(w<<6&4294967295|w>>>26),w=A+(I^(v|~D))+b[3]+2399980690&4294967295,A=v+(w<<10&4294967295|w>>>22),w=D+(v^(A|~I))+b[10]+4293915773&4294967295,D=A+(w<<15&4294967295|w>>>17),w=I+(A^(D|~v))+b[1]+2240044497&4294967295,I=D+(w<<21&4294967295|w>>>11),w=v+(D^(I|~A))+b[8]+1873313359&4294967295,v=I+(w<<6&4294967295|w>>>26),w=A+(I^(v|~D))+b[15]+4264355552&4294967295,A=v+(w<<10&4294967295|w>>>22),w=D+(v^(A|~I))+b[6]+2734768916&4294967295,D=A+(w<<15&4294967295|w>>>17),w=I+(A^(D|~v))+b[13]+1309151649&4294967295,I=D+(w<<21&4294967295|w>>>11),w=v+(D^(I|~A))+b[4]+4149444226&4294967295,v=I+(w<<6&4294967295|w>>>26),w=A+(I^(v|~D))+b[11]+3174756917&4294967295,A=v+(w<<10&4294967295|w>>>22),w=D+(v^(A|~I))+b[2]+718787259&4294967295,D=A+(w<<15&4294967295|w>>>17),w=I+(A^(D|~v))+b[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+A&4294967295}r.prototype.u=function(E,v){v===void 0&&(v=E.length);for(var I=v-this.blockSize,b=this.B,D=this.h,A=0;A<v;){if(D==0)for(;A<=I;)i(this,E,A),A+=this.blockSize;if(typeof E=="string"){for(;A<v;)if(b[D++]=E.charCodeAt(A++),D==this.blockSize){i(this,b),D=0;break}}else for(;A<v;)if(b[D++]=E[A++],D==this.blockSize){i(this,b),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;var I=8*this.o;for(v=E.length-8;v<E.length;++v)E[v]=I&255,I/=256;for(this.u(E),E=Array(16),v=I=0;4>v;++v)for(var b=0;32>b;b+=8)E[I++]=this.g[v]>>>b&255;return E};function s(E,v){var I=a;return Object.prototype.hasOwnProperty.call(I,E)?I[E]:I[E]=v(E)}function o(E,v){this.h=v;for(var I=[],b=!0,D=E.length-1;0<=D;D--){var A=E[D]|0;b&&A==v||(I[D]=A,b=!1)}this.g=I}var a={};function u(E){return-128<=E&&128>E?s(E,function(v){return new o([v|0],0>v?-1:0)}):new o([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return R(l(-E));for(var v=[],I=1,b=0;E>=I;b++)v[b]=E/I|0,I*=4294967296;return new o(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return R(h(E.substring(1),v));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),b=p,D=0;D<E.length;D+=8){var A=Math.min(8,E.length-D),w=parseInt(E.substring(D,D+A),v);8>A?(A=l(Math.pow(v,A)),b=b.j(A).add(l(w))):(b=b.j(I),b=b.add(l(w)))}return b}var p=u(0),m=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(M(this))return-R(this).m();for(var E=0,v=1,I=0;I<this.g.length;I++){var b=this.i(I);E+=(0<=b?b:4294967296+b)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C(this))return"0";if(M(this))return"-"+R(this).toString(E);for(var v=l(Math.pow(E,6)),I=this,b="";;){var D=H(I,v).g;I=N(I,D.j(v));var A=((0<I.g.length?I.g[0]:I.h)>>>0).toString(E);if(I=D,C(I))return A+b;for(;6>A.length;)A="0"+A;b=A+b}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function C(E){if(E.h!=0)return!1;for(var v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function M(E){return E.h==-1}t.l=function(E){return E=N(this,E),M(E)?-1:C(E)?0:1};function R(E){for(var v=E.g.length,I=[],b=0;b<v;b++)I[b]=~E.g[b];return new o(I,~E.h).add(m)}t.abs=function(){return M(this)?R(this):this},t.add=function(E){for(var v=Math.max(this.g.length,E.g.length),I=[],b=0,D=0;D<=v;D++){var A=b+(this.i(D)&65535)+(E.i(D)&65535),w=(A>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);b=w>>>16,A&=65535,w&=65535,I[D]=w<<16|A}return new o(I,I[I.length-1]&-2147483648?-1:0)};function N(E,v){return E.add(R(v))}t.j=function(E){if(C(this)||C(E))return p;if(M(this))return M(E)?R(this).j(R(E)):R(R(this).j(E));if(M(E))return R(this.j(R(E)));if(0>this.l(y)&&0>E.l(y))return l(this.m()*E.m());for(var v=this.g.length+E.g.length,I=[],b=0;b<2*v;b++)I[b]=0;for(b=0;b<this.g.length;b++)for(var D=0;D<E.g.length;D++){var A=this.i(b)>>>16,w=this.i(b)&65535,Pn=E.i(D)>>>16,zo=E.i(D)&65535;I[2*b+2*D]+=w*zo,L(I,2*b+2*D),I[2*b+2*D+1]+=A*zo,L(I,2*b+2*D+1),I[2*b+2*D+1]+=w*Pn,L(I,2*b+2*D+1),I[2*b+2*D+2]+=A*Pn,L(I,2*b+2*D+2)}for(b=0;b<v;b++)I[b]=I[2*b+1]<<16|I[2*b];for(b=v;b<2*v;b++)I[b]=0;return new o(I,0)};function L(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function $(E,v){this.g=E,this.h=v}function H(E,v){if(C(v))throw Error("division by zero");if(C(E))return new $(p,p);if(M(E))return v=H(R(E),v),new $(R(v.g),R(v.h));if(M(v))return v=H(E,R(v)),new $(R(v.g),v.h);if(30<E.g.length){if(M(E)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var I=m,b=v;0>=b.l(E);)I=De(I),b=De(b);var D=K(I,1),A=K(b,1);for(b=K(b,2),I=K(I,2);!C(b);){var w=A.add(b);0>=w.l(E)&&(D=D.add(I),A=w),b=K(b,1),I=K(I,1)}return v=N(E,D.j(v)),new $(D,v)}for(D=p;0<=E.l(v);){for(I=Math.max(1,Math.floor(E.m()/v.m())),b=Math.ceil(Math.log(I)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),A=l(I),w=A.j(v);M(w)||0<w.l(E);)I-=b,A=l(I),w=A.j(v);C(A)&&(A=m),D=D.add(A),E=N(E,w)}return new $(D,E)}t.A=function(E){return H(this,E).h},t.and=function(E){for(var v=Math.max(this.g.length,E.g.length),I=[],b=0;b<v;b++)I[b]=this.i(b)&E.i(b);return new o(I,this.h&E.h)},t.or=function(E){for(var v=Math.max(this.g.length,E.g.length),I=[],b=0;b<v;b++)I[b]=this.i(b)|E.i(b);return new o(I,this.h|E.h)},t.xor=function(E){for(var v=Math.max(this.g.length,E.g.length),I=[],b=0;b<v;b++)I[b]=this.i(b)^E.i(b);return new o(I,this.h^E.h)};function De(E){for(var v=E.g.length+1,I=[],b=0;b<v;b++)I[b]=E.i(b)<<1|E.i(b-1)>>>31;return new o(I,E.h)}function K(E,v){var I=v>>5;v%=32;for(var b=E.g.length-I,D=[],A=0;A<b;A++)D[A]=0<v?E.i(A+I)>>>v|E.i(A+I+1)<<32-v:E.i(A+I);return new o(D,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Rv=NA.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,Xr=NA.Integer=o}).apply(typeof MA<"u"?MA:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ur={};var Mv,Nv,po,xv,Ac,oh,Pv,Ov,kv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var T=c[g];if(!(T in f))break e;f=f[T]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,g=!1,T={next:function(){if(!g&&f<c.length){var S=f++;return{value:d(S,c[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),c.apply(d,T)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,T,S){for(var k=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)k[Ce-2]=arguments[Ce];return d.prototype[T].apply(g,k)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let T=c.length||0,S=g.length||0;c.length=T+S;for(let k=0;k<S;k++)c[T+k]=g[k]}else c.push(g)}}class N{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function L(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function H(c){return H[" "](c),c}H[" "]=function(){};var De=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function K(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,d){let f,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(f in g)c[f]=g[f];for(let S=0;S<I.length;S++)f=I[S],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function A(c){a.setTimeout(()=>{throw c},0)}function w(){var c=ff;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Pn{constructor(){this.h=this.g=null}add(d,f){let g=zo.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var zo=new N(()=>new HR,c=>c.reset());class HR{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let qo,Go=!1,ff=new Pn,zI=()=>{let c=a.Promise.resolve(void 0);qo=()=>{c.then(zR)}};var zR=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){A(f)}var d=zo;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Go=!1};function gr(){this.s=this.s,this.C=this.C}gr.prototype.s=!1,gr.prototype.ma=function(){this.s||(this.s=!0,this.N())},gr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var qR=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Wo(c,d){if(it.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(De){e:{try{H(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:GR[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Wo.aa.h.call(this)}}C(Wo,it);var GR={2:"touch",3:"pen",4:"mouse"};Wo.prototype.h=function(){Wo.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ko="closure_listenable_"+(1e6*Math.random()|0),WR=0;function KR(c,d,f,g,T){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=T,this.key=++WR,this.da=this.fa=!1}function ru(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function iu(c){this.src=c,this.g={},this.h=0}iu.prototype.add=function(c,d,f,g,T){var S=c.toString();c=this.g[S],c||(c=this.g[S]=[],this.h++);var k=gf(c,d,g,T);return-1<k?(d=c[k],f||(d.fa=!1)):(d=new KR(d,this.src,S,!!g,T),d.fa=f,c.push(d)),d};function pf(c,d){var f=d.type;if(f in c.g){var g=c.g[f],T=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=T)&&Array.prototype.splice.call(g,T,1),S&&(ru(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function gf(c,d,f,g){for(var T=0;T<c.length;++T){var S=c[T];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==g)return T}return-1}var mf="closure_lm_"+(1e6*Math.random()|0),yf={};function qI(c,d,f,g,T){if(g&&g.once)return WI(c,d,f,g,T);if(Array.isArray(d)){for(var S=0;S<d.length;S++)qI(c,d[S],f,g,T);return null}return f=wf(f),c&&c[Ko]?c.K(d,f,l(g)?!!g.capture:!!g,T):GI(c,d,f,!1,g,T)}function GI(c,d,f,g,T,S){if(!d)throw Error("Invalid event type");var k=l(T)?!!T.capture:!!T,Ce=_f(c);if(Ce||(c[mf]=Ce=new iu(c)),f=Ce.add(d,f,g,k,S),f.proxy)return f;if(g=QR(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)qR||(T=k),T===void 0&&(T=!1),c.addEventListener(d.toString(),g,T);else if(c.attachEvent)c.attachEvent(QI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function QR(){function c(f){return d.call(c.src,c.listener,f)}let d=YR;return c}function WI(c,d,f,g,T){if(Array.isArray(d)){for(var S=0;S<d.length;S++)WI(c,d[S],f,g,T);return null}return f=wf(f),c&&c[Ko]?c.L(d,f,l(g)?!!g.capture:!!g,T):GI(c,d,f,!0,g,T)}function KI(c,d,f,g,T){if(Array.isArray(d))for(var S=0;S<d.length;S++)KI(c,d[S],f,g,T);else g=l(g)?!!g.capture:!!g,f=wf(f),c&&c[Ko]?(c=c.i,d=String(d).toString(),d in c.g&&(S=c.g[d],f=gf(S,f,g,T),-1<f&&(ru(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete c.g[d],c.h--)))):c&&(c=_f(c))&&(d=c.g[d.toString()],c=-1,d&&(c=gf(d,f,g,T)),(f=-1<c?d[c]:null)&&vf(f))}function vf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Ko])pf(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(QI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=_f(d))?(pf(f,c),f.h==0&&(f.src=null,d[mf]=null)):ru(c)}}}function QI(c){return c in yf?yf[c]:yf[c]="on"+c}function YR(c,d){if(c.da)c=!0;else{d=new Wo(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&vf(c),c=f.call(g,d)}return c}function _f(c){return c=c[mf],c instanceof iu?c:null}var If="__closure_events_fn_"+(1e9*Math.random()>>>0);function wf(c){return typeof c=="function"?c:(c[If]||(c[If]=function(d){return c.handleEvent(d)}),c[If])}function st(){gr.call(this),this.i=new iu(this),this.M=this,this.F=null}C(st,gr),st.prototype[Ko]=!0,st.prototype.removeEventListener=function(c,d,f,g){KI(this,c,d,f,g)};function yt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new it(d,c);else if(d instanceof it)d.target=d.target||c;else{var T=d;d=new it(g,c),b(d,T)}if(T=!0,f)for(var S=f.length-1;0<=S;S--){var k=d.g=f[S];T=su(k,g,!0,d)&&T}if(k=d.g=c,T=su(k,g,!0,d)&&T,T=su(k,g,!1,d)&&T,f)for(S=0;S<f.length;S++)k=d.g=f[S],T=su(k,g,!1,d)&&T}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)ru(f[g]);delete c.g[d],c.h--}}this.F=null},st.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},st.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function su(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,S=0;S<d.length;++S){var k=d[S];if(k&&!k.da&&k.capture==f){var Ce=k.listener,Ye=k.ha||k.src;k.fa&&pf(c.i,k),T=Ce.call(Ye,g)!==!1&&T}}return T&&!g.defaultPrevented}function YI(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function JI(c){c.g=YI(()=>{c.g=null,c.i&&(c.i=!1,JI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class JR extends gr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:JI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qo(c){gr.call(this),this.h=c,this.g={}}C(Qo,gr);var ZI=[];function XI(c){K(c.g,function(d,f){this.g.hasOwnProperty(f)&&vf(d)},c),c.g={}}Qo.prototype.N=function(){Qo.aa.N.call(this),XI(this)},Qo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ef=a.JSON.stringify,ZR=a.JSON.parse,XR=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function bf(){}bf.prototype.h=null;function ew(c){return c.h||(c.h=c.i())}function tw(){}var Yo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Df(){it.call(this,"d")}C(Df,it);function Cf(){it.call(this,"c")}C(Cf,it);var ii={},nw=null;function ou(){return nw=nw||new st}ii.La="serverreachability";function rw(c){it.call(this,ii.La,c)}C(rw,it);function Jo(c){let d=ou();yt(d,new rw(d))}ii.STAT_EVENT="statevent";function iw(c,d){it.call(this,ii.STAT_EVENT,c),this.stat=d}C(iw,it);function vt(c){let d=ou();yt(d,new iw(d,c))}ii.Ma="timingevent";function sw(c,d){it.call(this,ii.Ma,c),this.size=d}C(sw,it);function Zo(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Xo(){this.g=!0}Xo.prototype.xa=function(){this.g=!1};function eM(c,d,f,g,T,S){c.info(function(){if(c.g)if(S)for(var k="",Ce=S.split("&"),Ye=0;Ye<Ce.length;Ye++){var Ie=Ce[Ye].split("=");if(1<Ie.length){var ot=Ie[0];Ie=Ie[1];var at=ot.split("_");k=2<=at.length&&at[1]=="type"?k+(ot+"="+Ie+"&"):k+(ot+"=redacted&")}}else k=null;else k=S;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+d+`
`+f+`
`+k})}function tM(c,d,f,g,T,S,k){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+d+`
`+f+`
`+S+" "+k})}function rs(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+rM(c,f)+(g?" "+g:"")})}function nM(c,d){c.info(function(){return"TIMEOUT: "+d})}Xo.prototype.info=function(){};function rM(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var S=T[0];if(S!="noop"&&S!="stop"&&S!="close")for(var k=1;k<T.length;k++)T[k]=""}}}}return Ef(f)}catch{return d}}var au={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ow={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tf;function cu(){}C(cu,bf),cu.prototype.g=function(){return new XMLHttpRequest},cu.prototype.i=function(){return{}},Tf=new cu;function mr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Qo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new aw}function aw(){this.i=null,this.g="",this.h=!1}var cw={},Af={};function Sf(c,d,f){c.L=1,c.v=hu(On(d)),c.m=f,c.P=!0,uw(c,null)}function uw(c,d){c.F=Date.now(),uu(c),c.A=On(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),bw(f.i,"t",g),c.C=0,f=c.j.J,c.h=new aw,c.g=Bw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new JR(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var T="readystatechange";Array.isArray(T)||(T&&(ZI[0]=T.toString()),T=ZI);for(var S=0;S<T.length;S++){var k=qI(f,T[S],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Jo(),eM(c.i,c.u,c.A,c.l,c.R,c.m)}mr.prototype.ca=function(c){c=c.target;let d=this.M;d&&kn(c)==3?d.j():this.Y(c)},mr.prototype.Y=function(c){try{if(c==this.g)e:{let at=kn(this.g);var d=this.g.Ba();let os=this.g.Z();if(!(3>at)&&(at!=3||this.g&&(this.h.h||this.g.oa()||Mw(this.g)))){this.J||at!=4||d==7||(d==8||0>=os?Jo(3):Jo(2)),Rf(this);var f=this.g.Z();this.X=f;t:if(lw(this)){var g=Mw(this.g);c="";var T=g.length,S=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){si(this),ea(this);var k="";break t}this.h.i=new a.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(S&&d==T-1)});g.length=0,this.h.g+=c,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=f==200,tM(this.i,this.u,this.A,this.l,this.R,at,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ce,Ye=this.g;if((Ce=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Ce)){var Ie=Ce;break t}}Ie=null}if(f=Ie)rs(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mf(this,f);else{this.o=!1,this.s=3,vt(12),si(this),ea(this);break e}}if(this.P){f=!0;let Jt;for(;!this.J&&this.C<k.length;)if(Jt=iM(this,k),Jt==Af){at==4&&(this.s=4,vt(14),f=!1),rs(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==cw){this.s=4,vt(15),rs(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else rs(this.i,this.l,Jt,null),Mf(this,Jt);if(lw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),at!=4||k.length!=0||this.h.h||(this.s=1,vt(16),f=!1),this.o=this.o&&f,!f)rs(this.i,this.l,k,"[Invalid Chunked Response]"),si(this),ea(this);else if(0<k.length&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.ba&&!ot.M&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Ff(ot),ot.M=!0,vt(11))}}else rs(this.i,this.l,k,null),Mf(this,k);at==4&&si(this),this.o&&!this.J&&(at==4?Lw(this.j,this):(this.o=!1,uu(this)))}else wM(this.g),f==400&&0<k.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),si(this),ea(this)}}}catch{}finally{}};function lw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function iM(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Af:(f=Number(d.substring(f,g)),isNaN(f)?cw:(g+=1,g+f>d.length?Af:(d=d.slice(g,g+f),c.C=g+f,d)))}mr.prototype.cancel=function(){this.J=!0,si(this)};function uu(c){c.S=Date.now()+c.I,dw(c,c.I)}function dw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Zo(m(c.ba,c),d)}function Rf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}mr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(nM(this.i,this.A),this.L!=2&&(Jo(),vt(17)),si(this),this.s=2,ea(this)):dw(this,this.S-c)};function ea(c){c.j.G==0||c.J||Lw(c.j,c)}function si(c){Rf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,XI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Mf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Nf(f.h,c))){if(!c.K&&Nf(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)yu(f),gu(f);else break e;kf(f),vt(18)}}else f.za=T[1],0<f.za-f.T&&37500>T[2]&&f.F&&f.v==0&&!f.C&&(f.C=Zo(m(f.Za,f),6e3));if(1>=pw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ai(f,11)}else if((c.K||f.g==c)&&yu(f),!L(d))for(T=f.Da.g.parse(d),d=0;d<T.length;d++){let Ie=T[d];if(f.T=Ie[0],Ie=Ie[1],f.G==2)if(Ie[0]=="c"){f.K=Ie[1],f.ia=Ie[2];let ot=Ie[3];ot!=null&&(f.la=ot,f.j.info("VER="+f.la));let at=Ie[4];at!=null&&(f.Aa=at,f.j.info("SVER="+f.Aa));let os=Ie[5];os!=null&&typeof os=="number"&&0<os&&(g=1.5*os,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Jt=c.g;if(Jt){let _u=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_u){var S=g.h;S.g||_u.indexOf("spdy")==-1&&_u.indexOf("quic")==-1&&_u.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(xf(S,S.h),S.h=null))}if(g.D){let Lf=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Lf&&(g.ya=Lf,Re(g.I,g.D,Lf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var k=c;if(g.qa=Uw(g,g.J?g.ia:null,g.W),k.K){gw(g.h,k);var Ce=k,Ye=g.L;Ye&&(Ce.I=Ye),Ce.B&&(Rf(Ce),uu(Ce)),g.g=k}else kw(g);0<f.i.length&&mu(f)}else Ie[0]!="stop"&&Ie[0]!="close"||ai(f,7);else f.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?ai(f,7):Of(f):Ie[0]!="noop"&&f.l&&f.l.ta(Ie),f.v=0)}}Jo(4)}catch{}}var sM=class{constructor(c,d){this.g=c,this.map=d}};function hw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pw(c){return c.h?1:c.g?c.g.size:0}function Nf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function xf(c,d){c.g?c.g.add(d):c.h=d}function gw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}hw.prototype.cancel=function(){if(this.i=mw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function mw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function oM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function aM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function yw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=aM(c),g=oM(c),T=g.length,S=0;S<T;S++)d.call(void 0,g[S],f&&f[S],c)}var vw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),T=null;if(0<=g){var S=c[f].substring(0,g);T=c[f].substring(g+1)}else S=c[f];d(S,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function oi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof oi){this.h=c.h,lu(this,c.j),this.o=c.o,this.g=c.g,du(this,c.s),this.l=c.l;var d=c.i,f=new ra;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),_w(this,f),this.m=c.m}else c&&(d=String(c).match(vw))?(this.h=!1,lu(this,d[1]||"",!0),this.o=ta(d[2]||""),this.g=ta(d[3]||"",!0),du(this,d[4]),this.l=ta(d[5]||"",!0),_w(this,d[6]||"",!0),this.m=ta(d[7]||"")):(this.h=!1,this.i=new ra(null,this.h))}oi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(na(d,Iw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(na(d,Iw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(na(f,f.charAt(0)=="/"?dM:lM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",na(f,fM)),c.join("")};function On(c){return new oi(c)}function lu(c,d,f){c.j=f?ta(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function du(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function _w(c,d,f){d instanceof ra?(c.i=d,pM(c.i,c.h)):(f||(d=na(d,hM)),c.i=new ra(d,c.h))}function Re(c,d,f){c.i.set(d,f)}function hu(c){return Re(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ta(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function na(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,uM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function uM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Iw=/[#\/\?@]/g,lM=/[#\?:]/g,dM=/[#\?]/g,hM=/[#\?@]/g,fM=/#/g;function ra(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function yr(c){c.g||(c.g=new Map,c.h=0,c.i&&cM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=ra.prototype,t.add=function(c,d){yr(this),this.i=null,c=is(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function ww(c,d){yr(c),d=is(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Ew(c,d){return yr(c),d=is(c,d),c.g.has(d)}t.forEach=function(c,d){yr(this),this.g.forEach(function(f,g){f.forEach(function(T){c.call(d,T,g,this)},this)},this)},t.na=function(){yr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let T=c[g];for(let S=0;S<T.length;S++)f.push(d[g])}return f},t.V=function(c){yr(this);let d=[];if(typeof c=="string")Ew(this,c)&&(d=d.concat(this.g.get(is(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return yr(this),this.i=null,c=is(this,c),Ew(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function bw(c,d,f){ww(c,d),0<f.length&&(c.i=null,c.g.set(is(c,d),M(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let S=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var T=S;k[g]!==""&&(T+="="+encodeURIComponent(String(k[g]))),c.push(T)}}return this.i=c.join("&")};function is(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function pM(c,d){d&&!c.j&&(yr(c),c.i=null,c.g.forEach(function(f,g){var T=g.toLowerCase();g!=T&&(ww(this,g),bw(this,T,f))},c)),c.j=d}function gM(c,d){let f=new Xo;if(a.Image){let g=new Image;g.onload=y(vr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(vr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(vr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(vr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function mM(c,d){let f=new Xo,g=new AbortController,T=setTimeout(()=>{g.abort(),vr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(S=>{clearTimeout(T),S.ok?vr(f,"TestPingServer: ok",!0,d):vr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),vr(f,"TestPingServer: error",!1,d)})}function vr(c,d,f,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(f)}catch{}}function yM(){this.g=new XR}function vM(c,d,f){let g=f||"";try{yw(c,function(T,S){let k=T;l(T)&&(k=Ef(T)),d.push(g+S+"="+encodeURIComponent(k))})}catch(T){throw d.push(g+"type="+encodeURIComponent("_badmap")),T}}function ia(c){this.l=c.Ub||null,this.j=c.eb||!1}C(ia,bf),ia.prototype.g=function(){return new fu(this.l,this.j)},ia.prototype.i=function(c){return function(){return c}}({});function fu(c,d){st.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(fu,st),t=fu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,oa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sa(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,oa(this)),this.g&&(this.readyState=3,oa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Dw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?sa(this):oa(this),this.readyState==3&&Dw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,sa(this))},t.Qa=function(c){this.g&&(this.response=c,sa(this))},t.ga=function(){this.g&&sa(this)};function sa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,oa(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function oa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(fu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cw(c){let d="";return K(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Pf(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=Cw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Re(c,d,f))}function xe(c){st.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(xe,st);var _M=/^https?$/i,IM=["POST","PUT"];t=xe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tf.g(),this.v=this.o?ew(this.o):ew(Tf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(S){Tw(this,S);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)f.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())f.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),T=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(IM,d,void 0))||g||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,k]of f)this.g.setRequestHeader(S,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Rw(this),this.u=!0,this.g.send(c),this.u=!1}catch(S){Tw(this,S)}};function Tw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Aw(c),pu(c)}function Aw(c){c.A||(c.A=!0,yt(c,"complete"),yt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,yt(this,"complete"),yt(this,"abort"),pu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pu(this,!0)),xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Sw(this):this.bb())},t.bb=function(){Sw(this)};function Sw(c){if(c.h&&typeof o<"u"&&(!c.v[1]||kn(c)!=4||c.Z()!=2)){if(c.u&&kn(c)==4)YI(c.Ea,0,c);else if(yt(c,"readystatechange"),kn(c)==4){c.h=!1;try{let k=c.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=k===0){var T=String(c.D).match(vw)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),g=!_M.test(T?T.toLowerCase():"")}f=g}if(f)yt(c,"complete"),yt(c,"success");else{c.m=6;try{var S=2<kn(c)?c.g.statusText:""}catch{S=""}c.l=S+" ["+c.Z()+"]",Aw(c)}}finally{pu(c)}}}}function pu(c,d){if(c.g){Rw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||yt(c,"ready");try{f.onreadystatechange=g}catch{}}}function Rw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function kn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),ZR(d)}};function Mw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function wM(c){let d={};c=(c.g&&2<=kn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(L(c[g]))continue;var f=D(c[g]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[T]||[];d[T]=S,S.push(f)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function aa(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Nw(c){this.Aa=0,this.i=[],this.j=new Xo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=aa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=aa("baseRetryDelayMs",5e3,c),this.cb=aa("retryDelaySeedMs",1e4,c),this.Wa=aa("forwardChannelMaxRetries",2,c),this.wa=aa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new hw(c&&c.concurrentRequestLimit),this.Da=new yM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Nw.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){vt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Uw(this,null,this.W),mu(this)};function Of(c){if(xw(c),c.G==3){var d=c.U++,f=On(c.I);if(Re(f,"SID",c.K),Re(f,"RID",d),Re(f,"TYPE","terminate"),ca(c,f),d=new mr(c,c.j,d),d.L=2,d.v=hu(On(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Bw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),uu(d)}jw(c)}function gu(c){c.g&&(Ff(c),c.g.cancel(),c.g=null)}function xw(c){gu(c),c.u&&(a.clearTimeout(c.u),c.u=null),yu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function mu(c){if(!fw(c.h)&&!c.s){c.s=!0;var d=c.Ga;qo||zI(),Go||(qo(),Go=!0),ff.add(d,c),c.B=0}}function EM(c,d){return pw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Zo(m(c.Ga,c,d),Vw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let T=new mr(this,this.j,c),S=this.o;if(this.S&&(S?(S=v(S),b(S,this.S)):S=this.S),this.m!==null||this.O||(T.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Ow(this,T,d),f=On(this.I),Re(f,"RID",c),Re(f,"CVER",22),this.D&&Re(f,"X-HTTP-Session-Id",this.D),ca(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(Cw(S)))+"&"+d:this.m&&Pf(f,this.m,S)),xf(this.h,T),this.Ua&&Re(f,"TYPE","init"),this.P?(Re(f,"$req",d),Re(f,"SID","null"),T.T=!0,Sf(T,f,null)):Sf(T,f,d),this.G=2}}else this.G==3&&(c?Pw(this,c):this.i.length==0||fw(this.h)||Pw(this))};function Pw(c,d){var f;d?f=d.l:f=c.U++;let g=On(c.I);Re(g,"SID",c.K),Re(g,"RID",f),Re(g,"AID",c.T),ca(c,g),c.m&&c.o&&Pf(g,c.m,c.o),f=new mr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Ow(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),xf(c.h,f),Sf(f,g,d)}function ca(c,d){c.H&&K(c.H,function(f,g){Re(d,g,f)}),c.l&&yw({},function(f,g){Re(d,g,f)})}function Ow(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var T=c.i;let S=-1;for(;;){let k=["count="+f];S==-1?0<f?(S=T[0].g,k.push("ofs="+S)):S=0:k.push("ofs="+S);let Ce=!0;for(let Ye=0;Ye<f;Ye++){let Ie=T[Ye].g,ot=T[Ye].map;if(Ie-=S,0>Ie)S=Math.max(0,T[Ye].g-100),Ce=!1;else try{vM(ot,k,"req"+Ie+"_")}catch{g&&g(ot)}}if(Ce){g=k.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function kw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;qo||zI(),Go||(qo(),Go=!0),ff.add(d,c),c.v=0}}function kf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Zo(m(c.Fa,c),Vw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Fw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Zo(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),gu(this),Fw(this))};function Ff(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Fw(c){c.g=new mr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=On(c.qa);Re(d,"RID","rpc"),Re(d,"SID",c.K),Re(d,"AID",c.T),Re(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Re(d,"TO",c.ja),Re(d,"TYPE","xmlhttp"),ca(c,d),c.m&&c.o&&Pf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=hu(On(d)),f.m=null,f.P=!0,uw(f,c)}t.Za=function(){this.C!=null&&(this.C=null,gu(this),kf(this),vt(19))};function yu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Lw(c,d){var f=null;if(c.g==d){yu(c),Ff(c),c.g=null;var g=2}else if(Nf(c.h,d))f=d.D,gw(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var T=c.B;g=ou(),yt(g,new sw(g,f)),mu(c)}else kw(c);else if(T=d.s,T==3||T==0&&0<d.X||!(g==1&&EM(c,d)||g==2&&kf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),T){case 1:ai(c,5);break;case 4:ai(c,10);break;case 3:ai(c,6);break;default:ai(c,2)}}}function Vw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function ai(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let T=!g;g=new oi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||lu(g,"https"),hu(g),T?gM(g.toString(),f):mM(g.toString(),f)}else vt(2);c.G=0,c.l&&c.l.sa(d),jw(c),xw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function jw(c){if(c.G=0,c.ka=[],c.l){let d=mw(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function Uw(c,d,f){var g=f instanceof oi?On(f):new oi(f);if(g.g!="")d&&(g.g=d+"."+g.g),du(g,g.s);else{var T=a.location;g=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var S=new oi(null);g&&lu(S,g),d&&(S.g=d),T&&du(S,T),f&&(S.l=f),g=S}return f=c.D,d=c.ya,f&&d&&Re(g,f,d),Re(g,"VER",c.la),ca(c,g),g}function Bw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new xe(new ia({eb:f})):new xe(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $w(){}t=$w.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function vu(){}vu.prototype.g=function(c,d){return new St(c,d)};function St(c,d){st.call(this),this.g=new Nw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!L(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!L(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ss(this)}C(St,st),St.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},St.prototype.close=function(){Of(this.g)},St.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Ef(c),c=f);d.i.push(new sM(d.Ya++,c)),d.G==3&&mu(d)},St.prototype.N=function(){this.g.l=null,delete this.j,Of(this.g),delete this.g,St.aa.N.call(this)};function Hw(c){Df.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(Hw,Df);function zw(){Cf.call(this),this.status=1}C(zw,Cf);function ss(c){this.g=c}C(ss,$w),ss.prototype.ua=function(){yt(this.g,"a")},ss.prototype.ta=function(c){yt(this.g,new Hw(c))},ss.prototype.sa=function(c){yt(this.g,new zw)},ss.prototype.ra=function(){yt(this.g,"b")},vu.prototype.createWebChannel=vu.prototype.g,St.prototype.send=St.prototype.o,St.prototype.open=St.prototype.m,St.prototype.close=St.prototype.close,kv=ur.createWebChannelTransport=function(){return new vu},Ov=ur.getStatEventTarget=function(){return ou()},Pv=ur.Event=ii,oh=ur.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},au.NO_ERROR=0,au.TIMEOUT=8,au.HTTP_ERROR=6,Ac=ur.ErrorCode=au,ow.COMPLETE="complete",xv=ur.EventType=ow,tw.EventType=Yo,Yo.OPEN="a",Yo.CLOSE="b",Yo.ERROR="c",Yo.MESSAGE="d",st.prototype.listen=st.prototype.K,po=ur.WebChannel=tw,Nv=ur.FetchXmlHttpFactory=ia,xe.prototype.listenOnce=xe.prototype.L,xe.prototype.getLastError=xe.prototype.Ka,xe.prototype.getLastErrorCode=xe.prototype.Ba,xe.prototype.getStatus=xe.prototype.Z,xe.prototype.getResponseJson=xe.prototype.Oa,xe.prototype.getResponseText=xe.prototype.oa,xe.prototype.send=xe.prototype.ea,xe.prototype.setWithCredentials=xe.prototype.Ha,Mv=ur.XhrIo=xe}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});var xA="@firebase/firestore";var Qe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");var ko="10.13.1";var Yi=new Gr("@firebase/firestore");function Sc(){return Yi.logLevel}function U(t,...e){if(Yi.logLevel<=ge.DEBUG){let n=e.map(vI);Yi.debug(`Firestore (${ko}): ${t}`,...n)}}function dr(t,...e){if(Yi.logLevel<=ge.ERROR){let n=e.map(vI);Yi.error(`Firestore (${ko}): ${t}`,...n)}}function wo(t,...e){if(Yi.logLevel<=ge.WARN){let n=e.map(vI);Yi.warn(`Firestore (${ko}): ${t}`,...n)}}function vI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function X(t="Unexpected state"){let e=`FIRESTORE (${ko}) INTERNAL ASSERTION FAILED: `+t;throw dr(e),new Error(e)}function Ae(t,e){t||X()}function ie(t,e){return t}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},q=class extends kt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var lr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var dh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Uv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qe.UNAUTHENTICATED))}shutdown(){}},Bv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},$v=class{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new lr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new lr)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new dh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new Qe(e)}},Hv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},zv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Hv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},qv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Gv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,U("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string"),this.R=n.token,new qv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function lB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var hh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=lB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Ee(t,e){return t<e?-1:t>e?1:0}function Eo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var rt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ae=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new rt(0,0))}static max(){return new t(new rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var fh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(),r===void 0?r=e.length-n:r>e.length-n&&X(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Oe=class t extends fh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new q(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},dB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Lt=class t extends fh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return dB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new q(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new q(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new q(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Y=class t{constructor(e){this.path=e}static fromPath(e){return new t(Oe.fromString(e))}static fromName(e){return new t(Oe.fromString(e).popFirst(5))}static empty(){return new t(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Oe(e.slice()))}};var Wv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Wv.UNKNOWN_ID=-1;function hB(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new Ji(i,Y.empty(),e)}function fB(t){return new Ji(t.readTime,t.key,-1)}var Ji=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ae.min(),Y.empty(),-1)}static max(){return new t(ae.max(),Y.empty(),-1)}};function pB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}var gB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Kv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Gc(t){return _(this,null,function*(){if(t.code!==P.FAILED_PRECONDITION||t.message!==gB)throw t;U("LocalStore","Unexpectedly lost primary lease")})}var O=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function mB(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wc(t){return t.name==="IndexedDbTransactionError"}var lS=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function $h(t){return t==null}function kc(t){return t===0&&1/t==-1/0}function yB(t){return typeof t=="number"&&Number.isInteger(t)&&!kc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var vB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],eK=[...vB,"documentOverlays"],_B=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],IB=_B,wB=[...IB,"indexConfiguration","indexState","indexEntries"];var tK=[...wB,"globals"];function PA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fo(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ke=class t{constructor(e,n){this.comparator=e,this.root=n||Cn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Cn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vo(this.root,e,this.comparator,!1)}getReverseIterator(){return new vo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vo(this.root,e,this.comparator,!0)}},vo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Cn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();let e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}};Cn.EMPTY=null,Cn.RED=!0,Cn.BLACK=!1;Cn.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var gt=class t{constructor(e){this.comparator=e,this.data=new ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ph(this.data.getIterator())}getIteratorFrom(e){return new ph(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},ph=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Dn=class t{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new t([])}unionWith(e){let n=new gt(Lt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var gh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var mt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new gh("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};mt.EMPTY_BYTE_STRING=new mt("");var EB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(t){if(Ae(!!t),typeof t=="string"){let e=0,n=EB.exec(t);if(Ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(t.seconds),nanos:Ne(t.nanos)}}function Ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ti(t){return typeof t=="string"?mt.fromBase64String(t):mt.fromUint8Array(t)}function _I(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function II(t){let e=t.mapValue.fields.__previous_value__;return _I(e)?II(e):e}function Fc(t){let e=hr(t.mapValue.fields.__local_write_time__.timestampValue);return new rt(e.seconds,e.nanos)}var Qv=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},mh=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var ah={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_I(t)?4:fS(t)?9007199254740991:hS(t)?10:11:X()}function Sn(t,e){if(t===e)return!0;let n=Zi(t);if(n!==Zi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fc(t).isEqual(Fc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=hr(i.timestampValue),a=hr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ti(i.bytesValue).isEqual(ti(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ne(i.geoPointValue.latitude)===Ne(s.geoPointValue.latitude)&&Ne(i.geoPointValue.longitude)===Ne(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ne(i.integerValue)===Ne(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ne(i.doubleValue),a=Ne(s.doubleValue);return o===a?kc(o)===kc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Eo(t.arrayValue.values||[],e.arrayValue.values||[],Sn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(PA(o)!==PA(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Sn(o[u],a[u])))return!1;return!0}(t,e);default:return X()}}function Lc(t,e){return(t.values||[]).find(n=>Sn(n,e))!==void 0}function bo(t,e){if(t===e)return 0;let n=Zi(t),r=Zi(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Ne(s.integerValue||s.doubleValue),u=Ne(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return OA(t.timestampValue,e.timestampValue);case 4:return OA(Fc(t),Fc(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(s,o){let a=ti(s),u=ti(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Ee(a[l],u[l]);if(h!==0)return h}return Ee(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Ee(Ne(s.latitude),Ne(o.latitude));return a!==0?a:Ee(Ne(s.longitude),Ne(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return kA(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,h;let p=s.fields||{},m=o.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,C=(u=m.value)===null||u===void 0?void 0:u.arrayValue,M=Ee(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:kA(y,C)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===ah.mapValue&&o===ah.mapValue)return 0;if(s===ah.mapValue)return 1;if(o===ah.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Ee(u[p],h[p]);if(m!==0)return m;let y=bo(a[u[p]],l[h[p]]);if(y!==0)return y}return Ee(u.length,h.length)}(t.mapValue,e.mapValue);default:throw X()}}function OA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);let n=hr(t),r=hr(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function kA(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=bo(n[i],r[i]);if(s)return s}return Ee(n.length,r.length)}function Do(t){return Yv(t)}function Yv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=hr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ti(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Yv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Yv(n.fields[o])}`;return i+"}"}(t.mapValue):X()}function Jv(t){return!!t&&"integerValue"in t}function wI(t){return!!t&&"arrayValue"in t}function FA(t){return!!t&&"nullValue"in t}function LA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function uh(t){return!!t&&"mapValue"in t}function hS(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Mc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Fo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Mc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var ln=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mc(n)}setAll(e){let n=Lt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Mc(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];uh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Fo(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Mc(this.value))}};function pS(t){let e=[];return Fo(t.fields,(n,r)=>{let i=new Lt([n]);if(uh(r)){let s=pS(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Dn(e)}var dn=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ae.min(),ae.min(),ae.min(),ln.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ae.min(),ae.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ae.min(),ae.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Co=class{constructor(e,n){this.position=e,this.inclusive=n}};function VA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=bo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function jA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Sn(t.position[n],e.position[n]))return!1;return!0}var To=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function bB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var yh=class{},qe=class t extends yh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Xv(e,n,r):n==="array-contains"?new n_(e,r):n==="in"?new r_(e,r):n==="not-in"?new i_(e,r):n==="array-contains-any"?new s_(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new e_(e,r):new t_(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(bo(n,this.value)):n!==null&&Zi(this.value)===Zi(n)&&this.matchesComparison(bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Rn=class t extends yh{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return gS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function gS(t){return t.op==="and"}function mS(t){return DB(t)&&gS(t)}function DB(t){for(let e of t.filters)if(e instanceof Rn)return!1;return!0}function Zv(t){if(t instanceof qe)return t.field.canonicalString()+t.op.toString()+Do(t.value);if(mS(t))return t.filters.map(e=>Zv(e)).join(",");{let e=t.filters.map(n=>Zv(n)).join(",");return`${t.op}(${e})`}}function yS(t,e){return t instanceof qe?function(r,i){return i instanceof qe&&r.op===i.op&&r.field.isEqual(i.field)&&Sn(r.value,i.value)}(t,e):t instanceof Rn?function(r,i){return i instanceof Rn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&yS(o,i.filters[a]),!0):!1}(t,e):void X()}function vS(t){return t instanceof qe?function(n){return`${n.field.canonicalString()} ${n.op} ${Do(n.value)}`}(t):t instanceof Rn?function(n){return n.op.toString()+" {"+n.getFilters().map(vS).join(" ,")+"}"}(t):"Filter"}var Xv=class extends qe{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){let n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}},e_=class extends qe{constructor(e,n){super(e,"in",n),this.keys=_S("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},t_=class extends qe{constructor(e,n){super(e,"not-in",n),this.keys=_S("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function _S(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}var n_=class extends qe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return wI(n)&&Lc(n.arrayValue,this.value)}},r_=class extends qe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Lc(this.value.arrayValue,n)}},i_=class extends qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Lc(this.value.arrayValue,n)}},s_=class extends qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!wI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Lc(this.value.arrayValue,r))}};var o_=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function UA(t,e=null,n=[],r=[],i=null,s=null,o=null){return new o_(t,e,n,r,i,s,o)}function EI(t){let e=ie(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Zv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),$h(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Do(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Do(r)).join(",")),e.ue=n}return e.ue}function bI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jA(t.startAt,e.startAt)&&jA(t.endAt,e.endAt)}function a_(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ao=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function CB(t,e,n,r,i,s,o,a){return new Ao(t,e,n,r,i,s,o,a)}function DI(t){return new Ao(t)}function BA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function TB(t){return t.collectionGroup!==null}function Nc(t){let e=ie(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new gt(Lt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new To(s,r))}),n.has(Lt.keyField().canonicalString())||e.ce.push(new To(Lt.keyField(),r))}return e.ce}function Tn(t){let e=ie(t);return e.le||(e.le=AB(e,Nc(t))),e.le}function AB(t,e){if(t.limitType==="F")return UA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new To(i.field,s)});let n=t.endAt?new Co(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Co(t.startAt.position,t.startAt.inclusive):null;return UA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function c_(t,e,n){return new Ao(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hh(t,e){return bI(Tn(t),Tn(e))&&t.limitType===e.limitType}function IS(t){return`${EI(Tn(t))}|lt:${t.limitType}`}function go(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>vS(i)).join(", ")}]`),$h(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Do(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Do(i)).join(",")),`Target(${r})`}(Tn(t))}; limitType=${t.limitType})`}function zh(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Y.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Nc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=VA(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,Nc(r),i)||r.endAt&&!function(o,a,u){let l=VA(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,Nc(r),i))}(t,e)}function SB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wS(t){return(e,n)=>{let r=!1;for(let i of Nc(t)){let s=RB(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function RB(t,e,n){let r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?bo(u,l):X()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}var ni=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fo(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return dS(this.inner)}size(){return this.innerSize}};var MB=new ke(Y.comparator);function fr(){return MB}var ES=new ke(Y.comparator);function Rc(...t){let e=ES;for(let n of t)e=e.insert(n.key,n);return e}function bS(t){let e=ES;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gi(){return xc()}function DS(){return xc()}function xc(){return new ni(t=>t.toString(),(t,e)=>t.isEqual(e))}var NB=new ke(Y.comparator),xB=new gt(Y.comparator);function me(...t){let e=xB;for(let n of t)e=e.add(n);return e}var PB=new gt(Ee);function OB(){return PB}function CI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kc(e)?"-0":e}}function CS(t){return{integerValue:""+t}}function kB(t,e){return yB(e)?CS(e):CI(t,e)}var So=class{constructor(){this._=void 0}};function FB(t,e,n){return t instanceof Ro?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&_I(s)&&(s=II(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Xi?AS(t,e):t instanceof es?SS(t,e):function(i,s){let o=TS(i,s),a=$A(o)+$A(i.Pe);return Jv(o)&&Jv(i.Pe)?CS(a):CI(i.serializer,a)}(t,e)}function LB(t,e,n){return t instanceof Xi?AS(t,e):t instanceof es?SS(t,e):n}function TS(t,e){return t instanceof Mo?function(r){return Jv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Ro=class extends So{},Xi=class extends So{constructor(e){super(),this.elements=e}};function AS(t,e){let n=RS(e);for(let r of t.elements)n.some(i=>Sn(i,r))||n.push(r);return{arrayValue:{values:n}}}var es=class extends So{constructor(e){super(),this.elements=e}};function SS(t,e){let n=RS(e);for(let r of t.elements)n=n.filter(i=>!Sn(i,r));return{arrayValue:{values:n}}}var Mo=class extends So{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function $A(t){return Ne(t.integerValue||t.doubleValue)}function RS(t){return wI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function VB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Xi&&i instanceof Xi||r instanceof es&&i instanceof es?Eo(r.elements,i.elements,Sn):r instanceof Mo&&i instanceof Mo?Sn(r.Pe,i.Pe):r instanceof Ro&&i instanceof Ro}(t.transform,e.transform)}var u_=class{constructor(e,n){this.version=e,this.transformResults=n}},Qi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function lh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var No=class{};function MS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vh(t.key,Qi.none()):new ts(t.key,t.data,Qi.none());{let n=t.data,r=ln.empty(),i=new gt(Lt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new pr(t.key,r,new Dn(i.toArray()),Qi.none())}}function jB(t,e,n){t instanceof ts?function(i,s,o){let a=i.value.clone(),u=zA(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof pr?function(i,s,o){if(!lh(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=zA(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(NS(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Pc(t,e,n,r){return t instanceof ts?function(s,o,a,u){if(!lh(s.precondition,o))return a;let l=s.value.clone(),h=qA(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof pr?function(s,o,a,u){if(!lh(s.precondition,o))return a;let l=qA(s.fieldTransforms,u,o),h=o.data;return h.setAll(NS(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return lh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function UB(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=TS(r.transform,i||null);s!=null&&(n===null&&(n=ln.empty()),n.set(r.field,s))}return n||null}function HA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Eo(r,i,(s,o)=>VB(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ts=class extends No{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},pr=class extends No{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function NS(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function zA(t,e,n){let r=new Map;Ae(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,LB(o,a,n[i]))}return r}function qA(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,FB(s,o,e))}return r}var vh=class extends No{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},l_=class extends No{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var d_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&jB(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Pc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Pc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=DS();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=MS(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,(n,r)=>HA(n,r))&&Eo(this.baseMutations,e.baseMutations,(n,r)=>HA(n,r))}},h_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ae(e.mutations.length===r.length);let i=function(){return NB}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var f_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var p_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Be,_e;function BB(t){switch(t){default:return X();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function xS(t){if(t===void 0)return dr("GRPC error has no .code"),P.UNKNOWN;switch(t){case Be.OK:return P.OK;case Be.CANCELLED:return P.CANCELLED;case Be.UNKNOWN:return P.UNKNOWN;case Be.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Be.INTERNAL:return P.INTERNAL;case Be.UNAVAILABLE:return P.UNAVAILABLE;case Be.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Be.NOT_FOUND:return P.NOT_FOUND;case Be.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Be.ABORTED:return P.ABORTED;case Be.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Be.DATA_LOSS:return P.DATA_LOSS;default:return X()}}(_e=Be||(Be={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";var GA=null;function $B(){return new TextEncoder}var HB=new Xr([4294967295,4294967295],0);function WA(t){let e=$B().encode(t),n=new Rv;return n.update(e),new Uint8Array(n.digest())}function KA(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Xr([n,r],0),new Xr([i,s],0)]}var g_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wi(`Invalid padding: ${n}`);if(r<0)throw new Wi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Wi(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Xr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Xr.fromNumber(r)));return i.compare(HB)===1&&(i=new Xr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=WA(e),[r,i]=KA(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=WA(e),[r,i]=KA(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Wi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var _h=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Vc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ae.min(),i,new ke(Ee),fr(),me())}},Vc=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,me(),me(),me())}};var _o=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Ih=class{constructor(e,n){this.targetId=e,this.me=n}},wh=class{constructor(e,n,r=mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Eh=class{constructor(){this.fe=0,this.ge=YA(),this.pe=mt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=me(),n=me(),r=me();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:X()}}),new Vc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=YA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ae(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},m_=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=fr(),this.qe=QA(),this.Qe=new ke(Ee)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:X()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(a_(s))if(r===0){let o=new Y(s.path);this.Ue(n,o,dn.newNoDocument(o,ae.min()))}else Ae(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}GA?.et(function(h,p,m,y,C){var M,R,N,L,$,H;let De={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},K=p.unchangedNames;return K&&(De.bloomFilter={applied:C===0,hashCount:(M=K?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(L=(N=(R=K?.bits)===null||R===void 0?void 0:R.bitmap)===null||N===void 0?void 0:N.length)!==null&&L!==void 0?L:0,padding:(H=($=K?.bits)===null||$===void 0?void 0:$.padding)!==null&&H!==void 0?H:0,mightContain:E=>{var v;return(v=y?.mightContain(E))!==null&&v!==void 0&&v}}),De}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=ti(r).toUint8Array()}catch(u){if(u instanceof gh)return wo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new g_(o,i,s)}catch(u){return wo(u instanceof Wi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&a_(a.target)){let u=new Y(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,dn.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=me();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new _h(e,n,this.Qe,this.ke,r);return this.ke=fr(),this.qe=QA(),this.Qe=new ke(Ee),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Eh,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new gt(Ee),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||U("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Eh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function QA(){return new ke(Y.comparator)}function YA(){return new ke(Y.comparator)}var zB={asc:"ASCENDING",desc:"DESCENDING"},qB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GB={and:"AND",or:"OR"},y_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function v_(t,e){return t.useProto3Json||$h(e)?e:{value:e}}function bh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function WB(t,e){return bh(t,e.toTimestamp())}function An(t){return Ae(!!t),ae.fromTimestamp(function(n){let r=hr(n);return new rt(r.seconds,r.nanos)}(t))}function TI(t,e){return __(t,e).canonicalString()}function __(t,e){let n=function(i){return new Oe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function OS(t){let e=Oe.fromString(t);return Ae(jS(e)),e}function I_(t,e){return TI(t.databaseId,e.path)}function Fv(t,e){let n=OS(e);if(n.get(1)!==t.databaseId.projectId)throw new q(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(FS(n))}function kS(t,e){return TI(t.databaseId,e)}function KB(t){let e=OS(t);return e.length===4?Oe.emptyPath():FS(e)}function w_(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FS(t){return Ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function JA(t,e,n){return{name:I_(t,e),fields:n.value.mapValue.fields}}function QB(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(Ae(h===void 0||typeof h=="string"),mt.fromBase64String(h||"")):(Ae(h===void 0||h instanceof Buffer||h instanceof Uint8Array),mt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?P.UNKNOWN:xS(l.code);return new q(h,l.message||"")}(o);n=new wh(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Fv(t,r.document.name),s=An(r.document.updateTime),o=r.document.createTime?An(r.document.createTime):ae.min(),a=new ln({mapValue:{fields:r.document.fields}}),u=dn.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new _o(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Fv(t,r.document),s=r.readTime?An(r.readTime):ae.min(),o=dn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new _o([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Fv(t,r.document),s=r.removedTargetIds||[];n=new _o([],s,i,null)}else{if(!("filter"in e))return X();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new p_(i,s),a=r.targetId;n=new Ih(a,o)}}return n}function YB(t,e){let n;if(e instanceof ts)n={update:JA(t,e.key,e.value)};else if(e instanceof vh)n={delete:I_(t,e.key)};else if(e instanceof pr)n={update:JA(t,e.key,e.data),updateMask:s$(e.fieldMask)};else{if(!(e instanceof l_))return X();n={verify:I_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Ro)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof es)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Mo)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw X()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:WB(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:X()}(t,e.precondition)),n}function JB(t,e){return t&&t.length>0?(Ae(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?An(i.updateTime):An(s);return o.isEqual(ae.min())&&(o=An(s)),new u_(o,i.transformResults||[])}(n,e))):[]}function ZB(t,e){return{documents:[kS(t,e.path)]}}function XB(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kS(t,i);let s=function(l){if(l.length!==0)return VS(Rn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:mo(m.field),direction:n$(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=v_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function e$(t){let e=KB(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ae(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let m=LS(p);return m instanceof Rn&&mS(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(C){return new To(yo(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,$h(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new Co(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new Co(y,m)}(n.endAt)),CB(e,i,o,s,a,"F",u,l)}function t$(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function LS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=yo(n.unaryFilter.field);return qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=yo(n.unaryFilter.field);return qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=yo(n.unaryFilter.field);return qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=yo(n.unaryFilter.field);return qe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(t):t.fieldFilter!==void 0?function(n){return qe.create(yo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rn.create(n.compositeFilter.filters.map(r=>LS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X()}}(n.compositeFilter.op))}(t):X()}function n$(t){return zB[t]}function r$(t){return qB[t]}function i$(t){return GB[t]}function mo(t){return{fieldPath:t.canonicalString()}}function yo(t){return Lt.fromServerFormat(t.fieldPath)}function VS(t){return t instanceof qe?function(n){if(n.op==="=="){if(LA(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NAN"}};if(FA(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LA(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NAN"}};if(FA(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(n.field),op:r$(n.op),value:n.value}}}(t):t instanceof Rn?function(n){let r=n.getFilters().map(i=>VS(i));return r.length===1?r[0]:{compositeFilter:{op:i$(n.op),filters:r}}}(t):X()}function s$(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var jc=class t{constructor(e,n,r,i,s=ae.min(),o=ae.min(),a=mt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var E_=class{constructor(e){this.ct=e}};function o$(t){let e=e$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?c_(e,e.limit,"L"):e}var Dh=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ne(e.integerValue));else if("doubleValue"in e){let r=Ne(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),kc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=hr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(ti(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?fS(e)?this.dt(n,Number.MAX_SAFE_INTEGER):hS(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):X()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ne(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),Y.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Dh.vt=new Dh;var b_=class{constructor(){this.un=new D_}addToCollectionParentIndex(e,n){return this.un.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(Ji.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}},D_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gt(Oe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gt(Oe.comparator)).toArray()}};var rK=new Uint8Array(0);var bn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(41943040,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);var Uc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var C_=class{constructor(){this.changes=new ni(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var T_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var A_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Pc(r.mutation,i,Dn.empty(),rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){let i=Gi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Rc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Gi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=fr(),o=xc(),a=function(){return xc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof pr)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),Pc(h.mutation,l,h.mutation.getFieldMask(),rt.now())):o.set(l.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new T_(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=xc(),i=new ke((o,a)=>o-a),s=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Dn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||me()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=DS();h.forEach(m=>{if(!s.has(m)){let y=MS(n.get(m),r.get(m));y!==null&&p.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return O.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TB(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):O.resolve(Gi()),a=-1,u=s;return o.next(l=>O.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,me())).next(h=>({batchId:a,changes:bS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let i=Rc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Rc();return this.indexManager.getCollectionParents(e,s).next(a=>O.forEach(a,u=>{let l=function(p,m){return new Ao(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,dn.newInvalidDocument(h)))});let a=Rc();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&Pc(h.mutation,l,Dn.empty(),rt.now()),zh(n,l)&&(a=a.insert(u,l))}),a})}};var S_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return O.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:An(i.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:o$(i.bundledQuery),readTime:An(i.readTime)}}(n)),O.resolve()}};var R_=class{constructor(){this.overlays=new ke(Y.comparator),this.Ir=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Gi();return O.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),O.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){let i=Gi(),s=n.length+1,o=new Y(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ke((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=Gi(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Gi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return O.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new f_(n,r));let s=this.Ir.get(n);s===void 0&&(s=me(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var M_=class{constructor(){this.sessionToken=mt.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}};var Bc=class{constructor(){this.Tr=new gt($e.Er),this.dr=new gt($e.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new $e(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new $e(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new Y(new Oe([])),r=new $e(n,e),i=new $e(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new Y(new Oe([])),r=new $e(n,e),i=new $e(n,e+1),s=me();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new $e(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},$e=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Y.comparator(e.key,n.key)||Ee(e.wr,n.wr)}static Ar(e,n){return Ee(e.wr,n.wr)||Y.comparator(e.key,n.key)}};var N_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new gt($e.Er)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new d_(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new $e(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(o)}lookupMutationBatch(e,n){return O.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return O.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new $e(n,0),i=new $e(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),O.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gt(Ee);return n.forEach(i=>{let s=new $e(i,0),o=new $e(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),O.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;Y.isDocumentKey(s)||(s=s.child(""));let o=new $e(new Y(s),0),a=new gt(Ee);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),O.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return O.forEach(n.mutations,i=>{let s=new $e(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new $e(n,0),i=this.br.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var x_=class{constructor(e){this.Mr=e,this.docs=function(){return new ke(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let r=fr();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():dn.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=fr(),o=n.path,a=new Y(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||pB(fB(h),r)<=0||(i.has(h.key)||zh(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return O.resolve(s)}getAllFromCollectionGroup(e,n,r,i){X()}Or(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new P_(this)}getSize(e){return O.resolve(this.size)}},P_=class extends C_{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var O_=class{constructor(e){this.persistence=e,this.Nr=new ni(n=>EI(n),bI),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Bc,this.targetCount=0,this.kr=Uc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),O.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Uc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Kn(n),O.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(s).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),O.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),O.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Br.containsKey(n))}};var k_=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new lS(0),this.Kr=!1,this.Kr=!0,this.$r=new M_,this.referenceDelegate=e(this),this.Ur=new O_(this),this.indexManager=new b_,this.remoteDocumentCache=function(i){return new x_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new E_(n),this.Gr=new S_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new R_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new N_(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);let i=new F_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return O.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},F_=class extends Kv{constructor(e){super(),this.currentSequenceNumber=e}},L_=class t{constructor(e){this.persistence=e,this.Jr=new Bc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw X()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),O.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Xr,r=>{let i=Y.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ae.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return O.or([()=>O.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var V_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=me(),i=me();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var j_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var U_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return yT()?8:mB(Ke())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new j_;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Sc()<=ge.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",go(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),O.resolve()):(Sc()<=ge.DEBUG&&U("QueryEngine","Query:",go(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Sc()<=ge.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",go(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tn(n))):O.resolve())}Yi(e,n){if(BA(n))return O.resolve(null);let r=Tn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=c_(n,null,"F"),r=Tn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=me(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,c_(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return BA(n)||i.isEqual(ae.min())?O.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?O.resolve(null):(Sc()<=ge.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),go(n)),this.rs(e,o,n,hB(i,-1)).next(a=>a))})}ts(e,n){let r=new gt(wS(e));return n.forEach((i,s)=>{zh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Sc()<=ge.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",go(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ji.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var B_=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ke(Ee),this._s=new ni(s=>EI(s),bI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new A_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function a$(t,e,n,r){return new B_(t,e,n,r)}function US(t,e){return _(this,null,function*(){let n=ie(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=me();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function c$(t,e){let n=ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=O.resolve();return m.forEach(C=>{y=y.next(()=>h.getEntry(u,C)).next(M=>{let R=l.docVersions.get(C);Ae(R!==null),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=me();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function BS(t){let e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function u$(t,e){let n=ie(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(mt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(M,R,N){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(m,y,h)&&a.push(n.Ur.updateTargetData(s,y))});let u=fr(),l=me();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(l$(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ae.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return O.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function l$(t,e,n){let r=me(),i=me();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=fr();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ae.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function d$(t,e){let n=ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function h$(t,e){let n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,O.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new jc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function $_(t,e,n){return _(this,null,function*(){let r=ie(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Wc(o))throw o;U("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function ZA(t,e,n){let r=ie(t),i=ae.min(),s=me();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=ie(u),m=p._s.get(h);return m!==void 0?O.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,o,Tn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ae.min(),n?s:me())).next(a=>(f$(r,SB(e),a),{documents:a,Ts:s})))}function f$(t,e,n){let r=t.us.get(e)||ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var Ch=class{constructor(){this.activeTargetIds=OB()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var H_=class{constructor(){this.so=new Ch,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ch,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var z_=class{_o(e){}shutdown(){}};var Th=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ch=null;function Lv(){return ch===null?ch=function(){return 268435456+Math.round(2147483648*Math.random())}():ch++,"0x"+ch.toString(16)}var p$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var q_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var pt="WebChannelConnection",G_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=Lv(),u=this.xo(n,r.toUriEncodedString());U("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(h=>(U("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw wo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ko}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=p$[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=Lv();return new Promise((o,a)=>{let u=new Mv;u.setWithCredentials(!0),u.listenOnce(xv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ac.NO_ERROR:let h=u.getResponseJson();U(pt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Ac.TIMEOUT:U(pt,`RPC '${e}' ${s} timed out`),a(new q(P.DEADLINE_EXCEEDED,"Request time out"));break;case Ac.HTTP_ERROR:let p=u.getStatus();if(U(pt,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let C=function(R){let N=R.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(N)>=0?N:P.UNKNOWN}(y.status);a(new q(C,y.message))}else a(new q(P.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new q(P.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{U(pt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);U(pt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Lv(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=kv(),a=Ov(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Nv({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");U(pt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),m=!1,y=!1,C=new q_({Io:R=>{y?U(pt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(U(pt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),U(pt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),M=(R,N,L)=>{R.listen(N,$=>{try{L($)}catch(H){setTimeout(()=>{throw H},0)}})};return M(p,po.EventType.OPEN,()=>{y||(U(pt,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),M(p,po.EventType.CLOSE,()=>{y||(y=!0,U(pt,`RPC '${e}' stream ${i} transport closed`),C.So())}),M(p,po.EventType.ERROR,R=>{y||(y=!0,wo(pt,`RPC '${e}' stream ${i} transport errored:`,R),C.So(new q(P.UNAVAILABLE,"The operation could not be completed")))}),M(p,po.EventType.MESSAGE,R=>{var N;if(!y){let L=R.data[0];Ae(!!L);let $=L,H=$.error||((N=$[0])===null||N===void 0?void 0:N.error);if(H){U(pt,`RPC '${e}' stream ${i} received error:`,H);let De=H.status,K=function(I){let b=Be[I];if(b!==void 0)return xS(b)}(De),E=H.message;K===void 0&&(K=P.INTERNAL,E="Unknown error status: "+De+" with message "+H.message),y=!0,C.So(new q(K,E)),p.close()}else U(pt,`RPC '${e}' stream ${i} received:`,L),C.bo(L)}}),M(a,Pv.STAT_EVENT,R=>{R.stat===oh.PROXY?U(pt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===oh.NOPROXY&&U(pt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}};function Vv(){return typeof document<"u"?document:null}function qh(t){return new y_(t,!0)}var Ah=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Sh=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ah(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return _(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return _(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return _(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new q(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>_(this,null,function*(){this.state=0,this.start()}))}I_(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},W_=class extends Sh{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=QB(this.serializer,e),r=function(s){if(!("targetChange"in s))return ae.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?An(o.readTime):ae.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=w_(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=a_(u)?{documents:ZB(s,u)}:{query:XB(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=PS(s,o.resumeToken);let l=v_(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ae.min())>0){a.readTime=bh(s,o.snapshotVersion.toTimestamp());let l=v_(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=t$(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=w_(this.serializer),n.removeTarget=e,this.a_(n)}},K_=class extends Sh{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=JB(e.writeResults,e.commitTime),r=An(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=w_(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>YB(this.serializer,r))};this.a_(n)}};var Q_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new q(P.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,__(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(P.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,__(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(P.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Y_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(dr(n),this.D_=!1):U("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var J_=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>_(this,null,function*(){ns(this)&&(U("RemoteStore","Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=ie(u);l.L_.add(4),yield Kc(l),l.q_.set("Unknown"),l.L_.delete(4),yield Gh(l)})}(this))}))}),this.q_=new Y_(r,i)}};function Gh(t){return _(this,null,function*(){if(ns(t))for(let e of t.B_)yield e(!0)})}function Kc(t){return _(this,null,function*(){for(let e of t.B_)yield e(!1)})}function $S(t,e){let n=ie(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),MI(n)?RI(n):Lo(n).r_()&&SI(n,e))}function AI(t,e){let n=ie(t),r=Lo(n);n.N_.delete(e),r.r_()&&HS(n,e),n.N_.size===0&&(r.r_()?r.o_():ns(n)&&n.q_.set("Unknown"))}function SI(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lo(t).A_(e)}function HS(t,e){t.Q_.xe(e),Lo(t).R_(e)}function RI(t){t.Q_=new m_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Lo(t).start(),t.q_.v_()}function MI(t){return ns(t)&&!Lo(t).n_()&&t.N_.size>0}function ns(t){return ie(t).L_.size===0}function zS(t){t.Q_=void 0}function g$(t){return _(this,null,function*(){t.q_.set("Online")})}function m$(t){return _(this,null,function*(){t.N_.forEach((e,n)=>{SI(t,e)})})}function y$(t,e){return _(this,null,function*(){zS(t),MI(t)?(t.q_.M_(e),RI(t)):t.q_.set("Unknown")})}function v$(t,e,n){return _(this,null,function*(){if(t.q_.set("Online"),e instanceof wh&&e.state===2&&e.cause)try{yield function(i,s){return _(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Rh(t,r)}else if(e instanceof _o?t.Q_.Ke(e):e instanceof Ih?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ae.min()))try{let r=yield BS(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(mt.EMPTY_BYTE_STRING,h.snapshotVersion)),HS(s,u);let p=new jc(h.target,u,l,h.sequenceNumber);SI(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){U("RemoteStore","Failed to raise snapshot:",r),yield Rh(t,r)}})}function Rh(t,e,n){return _(this,null,function*(){if(!Wc(e))throw e;t.L_.add(1),yield Kc(t),t.q_.set("Offline"),n||(n=()=>BS(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(this,null,function*(){U("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Gh(t)}))})}function qS(t,e){return e().catch(n=>Rh(t,n,e))}function Wh(t){return _(this,null,function*(){let e=ie(t),n=ri(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;_$(e);)try{let i=yield d$(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,I$(e,i)}catch(i){yield Rh(e,i)}GS(e)&&WS(e)})}function _$(t){return ns(t)&&t.O_.length<10}function I$(t,e){t.O_.push(e);let n=ri(t);n.r_()&&n.V_&&n.m_(e.mutations)}function GS(t){return ns(t)&&!ri(t).n_()&&t.O_.length>0}function WS(t){ri(t).start()}function w$(t){return _(this,null,function*(){ri(t).p_()})}function E$(t){return _(this,null,function*(){let e=ri(t);for(let n of t.O_)e.m_(n.mutations)})}function b$(t,e,n){return _(this,null,function*(){let r=t.O_.shift(),i=h_.from(r,e,n);yield qS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Wh(t)})}function D$(t,e){return _(this,null,function*(){e&&ri(t).V_&&(yield function(r,i){return _(this,null,function*(){if(function(o){return BB(o)&&o!==P.ABORTED}(i.code)){let s=r.O_.shift();ri(r).s_(),yield qS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Wh(r)}})}(t,e)),GS(t)&&WS(t)})}function XA(t,e){return _(this,null,function*(){let n=ie(t);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");let r=ns(n);n.L_.add(3),yield Kc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Gh(n)})}function C$(t,e){return _(this,null,function*(){let n=ie(t);e?(n.L_.delete(2),yield Gh(n)):e||(n.L_.add(2),yield Kc(n),n.q_.set("Unknown"))})}function Lo(t){return t.K_||(t.K_=function(n,r,i){let s=ie(n);return s.w_(),new W_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:g$.bind(null,t),Ro:m$.bind(null,t),mo:y$.bind(null,t),d_:v$.bind(null,t)}),t.B_.push(e=>_(this,null,function*(){e?(t.K_.s_(),MI(t)?RI(t):t.q_.set("Unknown")):(yield t.K_.stop(),zS(t))}))),t.K_}function ri(t){return t.U_||(t.U_=function(n,r,i){let s=ie(n);return s.w_(),new K_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:w$.bind(null,t),mo:D$.bind(null,t),f_:E$.bind(null,t),g_:b$.bind(null,t)}),t.B_.push(e=>_(this,null,function*(){e?(t.U_.s_(),yield Wh(t)):(yield t.U_.stop(),t.O_.length>0&&(U("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Z_=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function NI(t,e){if(dr("AsyncQueue",`${e}: ${t}`),Wc(t))return new q(P.UNAVAILABLE,`${e}: ${t}`);throw t}var Mh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=Rc(),this.sortedSet=new ke(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Nh=class{constructor(){this.W_=new ke(Y.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):X():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},xo=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Mh.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var X_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},eI=class{constructor(){this.queries=eS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ie(n),s=i.queries;i.queries=eS(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new q(P.ABORTED,"Firestore shutting down"))}};function eS(){return new ni(t=>IS(t),Hh)}function T$(t,e){return _(this,null,function*(){let n=ie(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new X_,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=NI(o,`Initialization of query '${go(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&xI(n)})}function A$(t,e){return _(this,null,function*(){let n=ie(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function S$(t,e){let n=ie(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&xI(n)}function R$(t,e,n){let r=ie(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function xI(t){t.Y_.forEach(e=>{e.next()})}var tI,tS;(tS=tI||(tI={})).ea="default",tS.Cache="cache";var nI=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new xo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==tI.Cache}};var xh=class{constructor(e){this.key=e}},Ph=class{constructor(e){this.key=e}},rI=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=me(),this.mutatedKeys=me(),this.Aa=wS(e),this.Ra=new Mh(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Nh,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=zh(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?C!==M&&(r.track({type:3,doc:y}),R=!0):this.ga(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(o=o.add(y),s=M?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(y,C){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return M(y)-M(C)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new xo(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Nh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=me(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Ph(r))}),this.da.forEach(r=>{e.has(r)||n.push(new xh(r))}),n}ba(e){this.Ta=e.Ts,this.da=me();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return xo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},iI=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},sI=class{constructor(e){this.key=e,this.va=!1}},oI=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ni(a=>IS(a),Hh),this.Ma=new Map,this.xa=new Set,this.Oa=new ke(Y.comparator),this.Na=new Map,this.La=new Bc,this.Ba={},this.ka=new Map,this.qa=Uc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function M$(t,e,n=!0){return _(this,null,function*(){let r=XS(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield KS(r,e,n,!0),i})}function N$(t,e){return _(this,null,function*(){let n=XS(t);yield KS(n,e,!0,!1)})}function KS(t,e,n,r){return _(this,null,function*(){let i=yield h$(t.localStore,Tn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield x$(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&$S(t.remoteStore,i),a})}function x$(t,e,n,r,i){return _(this,null,function*(){t.Ka=(p,m,y)=>function(M,R,N,L){return _(this,null,function*(){let $=R.view.ma(N);$.ns&&($=yield ZA(M.localStore,R.query,!1).then(({documents:E})=>R.view.ma(E,$)));let H=L&&L.targetChanges.get(R.targetId),De=L&&L.targetMismatches.get(R.targetId)!=null,K=R.view.applyChanges($,M.isPrimaryClient,H,De);return rS(M,R.targetId,K.wa),K.snapshot})}(t,p,m,y);let s=yield ZA(t.localStore,e,!0),o=new rI(e,s.Ts),a=o.ma(s.documents),u=Vc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);rS(t,n,l.wa);let h=new iI(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function P$(t,e,n){return _(this,null,function*(){let r=ie(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Hh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield $_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&AI(r.remoteStore,i.targetId),aI(r,i.targetId)}).catch(Gc))):(aI(r,i.targetId),yield $_(r.localStore,i.targetId,!0))})}function O$(t,e){return _(this,null,function*(){let n=ie(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),AI(n.remoteStore,r.targetId))})}function k$(t,e,n){return _(this,null,function*(){let r=$$(t);try{let i=yield function(o,a){let u=ie(o),l=rt.now(),h=a.reduce((y,C)=>y.add(C.key),me()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=fr(),M=me();return u.cs.getEntries(y,h).next(R=>{C=R,C.forEach((N,L)=>{L.isValidDocument()||(M=M.add(N))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(R=>{p=R;let N=[];for(let L of a){let $=UB(L,p.get(L.key).overlayedDocument);$!=null&&N.push(new pr(L.key,$,pS($.value.mapValue),Qi.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,N,a)}).next(R=>{m=R;let N=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,R.batchId,N)})}).then(()=>({batchId:m.batchId,changes:bS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new ke(Ee)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Qc(r,i.changes),yield Wh(r.remoteStore)}catch(i){let s=NI(i,"Failed to persist write");n.reject(s)}})}function QS(t,e){return _(this,null,function*(){let n=ie(t);try{let r=yield u$(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ae(o.va):i.removedDocuments.size>0&&(Ae(o.va),o.va=!1))}),yield Qc(n,r,e)}catch(r){yield Gc(r)}})}function nS(t,e,n){let r=ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=ie(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&xI(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function F$(t,e,n){return _(this,null,function*(){let r=ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new ke(Y.comparator);o=o.insert(s,dn.newNoDocument(s,ae.min()));let a=me().add(s),u=new _h(ae.min(),new Map,new ke(Ee),o,a);yield QS(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),PI(r)}else yield $_(r.localStore,e,!1).then(()=>aI(r,e,n)).catch(Gc)})}function L$(t,e){return _(this,null,function*(){let n=ie(t),r=e.batch.batchId;try{let i=yield c$(n.localStore,e);JS(n,r,null),YS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Qc(n,i)}catch(i){yield Gc(i)}})}function V$(t,e,n){return _(this,null,function*(){let r=ie(t);try{let i=yield function(o,a){let u=ie(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ae(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);JS(r,e,n),YS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Qc(r,i)}catch(i){yield Gc(i)}})}function YS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function JS(t,e,n){let r=ie(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function aI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||ZS(t,r)})}function ZS(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(AI(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),PI(t))}function rS(t,e,n){for(let r of n)r instanceof xh?(t.La.addReference(r.key,e),j$(t,r)):r instanceof Ph?(U("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||ZS(t,r.key)):X()}function j$(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(U("SyncEngine","New document in limbo: "+n),t.xa.add(r),PI(t))}function PI(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new Y(Oe.fromString(e)),r=t.qa.next();t.Na.set(r,new sI(n)),t.Oa=t.Oa.insert(n,r),$S(t.remoteStore,new jc(Tn(DI(n.path)),r,"TargetPurposeLimboResolution",lS.oe))}}function Qc(t,e,n){return _(this,null,function*(){let r=ie(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=V_.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return _(this,null,function*(){let h=ie(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(l,m=>O.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>O.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Wc(p))throw p;U("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),C=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(C);h.os=h.os.insert(m,M)}}})}(r.localStore,s))})}function U$(t,e){return _(this,null,function*(){let n=ie(t);if(!n.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());let r=yield US(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new q(P.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Qc(n,r.hs)}})}function B$(t,e){let n=ie(t),r=n.Na.get(e);if(r&&r.va)return me().add(r.key);{let i=me(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function XS(t){let e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F$.bind(null,e),e.Ca.d_=S$.bind(null,e.eventManager),e.Ca.$a=R$.bind(null,e.eventManager),e}function $$(t){let e=ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V$.bind(null,e),e}var Oh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return _(this,null,function*(){this.serializer=qh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return a$(this.persistence,new U_,e.initialUser,this.serializer)}createPersistence(e){return new k_(L_.Zr,this.serializer)}createSharedClientState(e){return new H_}terminate(){return _(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var cI=class{initialize(e,n){return _(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=U$.bind(null,this.syncEngine),yield C$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new eI}()}createDatastore(e){let n=qh(e.databaseInfo.databaseId),r=function(s){return new G_(s)}(e.databaseInfo);return function(s,o,a,u){return new Q_(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new J_(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>nS(this.syncEngine,n,0),function(){return Th.D()?new Th:new z_}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,h){let p=new oI(i,s,o,a,u,l);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return _(this,null,function*(){var e,n;yield function(i){return _(this,null,function*(){let s=ie(i);U("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Kc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var uI=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var lI=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qe.UNAUTHENTICATED,this.clientId=hh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>_(this,null,function*(){U("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(U("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new q(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=NI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function jv(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(this,null,function*(){r.isEqual(i)||(yield US(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function iS(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield z$(t);U("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>XA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>XA(e.remoteStore,i)),t._onlineComponents=e})}function H$(t){return t.name==="FirebaseError"?t.code===P.FAILED_PRECONDITION||t.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function z$(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{yield jv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!H$(n))throw n;wo("Error using user provided cache. Falling back to memory cache: "+n),yield jv(t,new Oh)}}else U("FirestoreClient","Using default OfflineComponentProvider"),yield jv(t,new Oh);return t._offlineComponents})}function eR(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),yield iS(t,t._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),yield iS(t,new cI))),t._onlineComponents})}function q$(t){return eR(t).then(e=>e.syncEngine)}function sS(t){return _(this,null,function*(){let e=yield eR(t),n=e.eventManager;return n.onListen=M$.bind(null,e.syncEngine),n.onUnlisten=P$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=N$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=O$.bind(null,e.syncEngine),n})}function tR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var oS=new Map;function nR(t,e,n){if(!n)throw new q(P.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function G$(t,e,n,r){if(e===!0&&r===!0)throw new q(P.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function aS(t){if(!Y.isDocumentKey(t))throw new q(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cS(t){if(Y.isDocumentKey(t))throw new q(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function OI(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X()}function Oc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=OI(t);throw new q(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var kh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new q(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new q(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new q(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Po=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new q(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new q(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Uv;switch(r.type){case"firstParty":return new zv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=oS.get(n);r&&(U("ComponentProvider","Removing Datastore"),oS.delete(n),r.terminate())}(this),Promise.resolve()}};function rR(t,e,n,r={}){var i;let s=(t=Oc(t,Po))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Qe.MOCK_USER;else{a=hT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new q(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Qe(l)}t._authCredentials=new Bv(new dh(a,u))}}var Fh=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Yt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},ei=class t extends Fh{constructor(e,n,r){super(e,n,DI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new Y(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function iR(t,e,...n){if(t=ft(t),nR("collection","path",e),t instanceof Po){let r=Oe.fromString(e,...n);return cS(r),new ei(t,null,r)}{if(!(t instanceof Yt||t instanceof ei))throw new q(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Oe.fromString(e,...n));return cS(r),new ei(t.firestore,null,r)}}function sR(t,e,...n){if(t=ft(t),arguments.length===1&&(e=hh.newId()),nR("doc","path",e),t instanceof Po){let r=Oe.fromString(e,...n);return aS(r),new Yt(t,null,new Y(r))}{if(!(t instanceof Yt||t instanceof ei))throw new q(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Oe.fromString(e,...n));return aS(r),new Yt(t.firestore,t instanceof ei?t.converter:null,new Y(r))}}var dI=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Ah(this,"async_queue_retry"),this.Eu=()=>{let n=Vv();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=Vv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=Vv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new lr;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return _(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Wc(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw dr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=Z_.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&X()}verifyOperationInProgress(){}mu(){return _(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function uS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var Oo=class extends Po{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new dI}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||cR(this),this._firestoreClient.terminate()}};function oR(t,e){let n=typeof t=="object"?t:oo(),r=typeof t=="string"?t:e||"(default)",i=yc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=dT("firestore");s&&rR(i,...s)}return i}function aR(t){return t._firestoreClient||cR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function cR(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,h){return new Qv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,tR(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new lI(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var $c=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(mt.fromBase64String(e))}catch(n){throw new q(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Hc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Lh=class{constructor(e){this._methodName=e}};var zc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}};var qc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var W$=/^__.*__$/,hI=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ts(e,this.data,n,this.fieldTransforms)}};function uR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}var fI=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Vh(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(uR(this.wu)&&W$.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},pI=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qh(e)}Nu(e,n,r,i=!1){return new fI({wu:e,methodName:n,Ou:r,path:Lt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function K$(t){let e=t._freezeSettings(),n=qh(t._databaseId);return new pI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Q$(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);fR("Data must be an object, but it was:",o,r);let a=dR(r,o),u,l;if(s.merge)u=new Dn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=Y$(e,p,n);if(!o.contains(m))throw new q(P.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Z$(h,m)||h.push(m)}u=new Dn(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new hI(new ln(a),u,l)}function lR(t,e){if(hR(t=ft(t)))return fR("Unsupported field value:",e,t),dR(t,e);if(t instanceof Lh)return function(r,i){if(!uR(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=lR(a,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=rt.fromDate(r);return{timestampValue:bh(i.serializer,s)}}if(r instanceof rt){let s=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bh(i.serializer,s)}}if(r instanceof zc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $c)return{bytesValue:PS(i.serializer,r._byteString)};if(r instanceof Yt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:TI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof qc)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return CI(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${OI(r)}`)}(t,e)}function dR(t,e){let n={};return dS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fo(t,(r,i)=>{let s=lR(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function hR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof zc||t instanceof $c||t instanceof Yt||t instanceof Lh||t instanceof qc)}function fR(t,e,n){if(!hR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=OI(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function Y$(t,e,n){if((e=ft(e))instanceof Hc)return e._internalPath;if(typeof e=="string")return pR(t,e);throw Vh("Field path arguments must be of type string or ",t,!1,void 0,n)}var J$=new RegExp("[~\\*/\\[\\]]");function pR(t,e,n){if(e.search(J$)>=0)throw Vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hc(...e.split("."))._internalPath}catch{throw Vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new q(P.INVALID_ARGUMENT,a+t+u)}function Z$(t,e){return t.some(n=>n.isEqual(e))}var jh=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new gI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(gR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},gI=class extends jh{data(){return super.data()}};function gR(t,e){return typeof e=="string"?pR(t,e):e instanceof Hc?e._internalPath:e._delegate._internalPath}function X$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var mI=class{convertValue(e,n="none"){switch(Zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Fo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ne(o.doubleValue));return new qc(s)}convertGeoPoint(e){return new zc(Ne(e.latitude),Ne(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=II(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fc(e));default:return null}}convertTimestamp(e){let n=hr(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Oe.fromString(e);Ae(jS(r));let i=new mh(r.get(1),r.get(3)),s=new Y(r.popFirst(5));return i.isEqual(n)||dr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function eH(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ki=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Uh=class extends jh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Io(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(gR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Io=class extends Uh{data(e={}){return super.data(e)}},yI=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ki(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Io(this._firestore,this._userDataWriter,r.key,r,new Ki(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new Io(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ki(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new Io(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ki(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:tH(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function tH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}var Bh=class extends mI{constructor(e){super(),this.firestore=e}convertBytes(e){return new $c(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}};function mR(t,e){let n=Oc(t.firestore,Oo),r=sR(t),i=eH(t.converter,e);return nH(n,[Q$(K$(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Qi.exists(!1))]).then(()=>r)}function yR(t,...e){var n,r,i;t=ft(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||uS(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(uS(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Yt)l=Oc(t.firestore,Oo),h=DI(t._key.path),u={next:p=>{e[o]&&e[o](rH(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=Oc(t,Fh);l=Oc(p.firestore,Oo),h=p._query;let m=new Bh(l);u={next:y=>{e[o]&&e[o](new yI(l,m,p,y))},error:e[o+1],complete:e[o+2]},X$(t._query)}return function(m,y,C,M){let R=new uI(M),N=new nI(y,R,C);return m.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return T$(yield sS(m),N)})),()=>{R.za(),m.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return A$(yield sS(m),N)}))}}(aR(l),h,a,u)}function nH(t,e){return function(r,i){let s=new lr;return r.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return k$(yield q$(r),i,s)})),s.promise}(aR(t),e)}function rH(t,e,n){let r=n.docs.get(e._key),i=new Bh(t);return new Uh(t,i,e._key,r,new Ki(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ko=i})(Qr),Kr(new Kt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Oo(new $v(r.getProvider("auth-internal")),new Gv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new q(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mh(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ze(xA,"4.7.1",e),ze(xA,"4.7.1","esm2017")})();var Vt=class{constructor(e){return e}},vR="firestore",kI=class{constructor(){return vc(vR)}};var FI=new V("angularfire2.firestore-instances");function iH(t,e){let n=Vd(vR,t,e);return n&&new Vt(n)}function sH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Vt(r)}}var oH={provide:kI,deps:[[new dt,FI]]},aH={provide:Vt,useFactory:iH,deps:[[new dt,FI],ir]};function C7(t,...e){return ze("angularfire",Ui.full,"fst"),Ht([aH,oH,{provide:FI,useFactory:sH(t),multi:!0,deps:[we,Ze,uo,Bi,[new dt,Tc],[new dt,co],...e]}])}var Mn=Qt(mR,!0);var Nn=Qt(iR,!0);var T7=Qt(oR,!0);var A7=Qt(yR,!0);var LI=Iu(wu());var cH=()=>["../../home"],xn=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=$t({type:t,selectors:[["app-juego"]],decls:3,vars:2,consts:[["id","button"],["id","close",3,"routerLink"]],template:function(n,r){n&1&&(z(0,"div",0)(1,"button",1),re(2,"X"),W()()),n&2&&(Se(),At("routerLink",M0(1,cH)))},dependencies:[nT],styles:["#button[_ngcontent-%COMP%]{width:100vw;display:flex;justify-content:end}button[_ngcontent-%COMP%]{width:50px;height:50px;margin:30px 10px 10px;box-shadow:0 0 15px #00000080;background-color:#cb1212cc;border-radius:10px;text-align:center;color:#fff;font-size:30px}#close[_ngcontent-%COMP%]:hover{background-color:#c64242cc}"]})};function uH(t,e){t&1&&ht(0,"img",33)}var Jh=class t{constructor(e,n,r){this.router=e;this.firestore=n;this.auth=r}palabras=["GATO","PERRO","CASA","FLOR","ARBOL","LUNA","SOL","MAR","CIELO","NUBE","RIO","FUEGO","AGUA","TIERRA","AIRE","ESTRELLA","LIBRO","MUSICA","CINE","COMIDA","BEBIDA","JUEGO","DEPORTE","COCHE","AVION","BARCO","TREN","BICICLETA","CIUDAD","PAIS","MUNDO","IDIOMA","PALABRA","LETRA","SONIDO","COLOR","LINEA","CIRCULO","CUADRADO","FAMILIA","AMIGO","AMOR","PAZ","GUERRA","TRABAJO","ESCUELA","OFICINA","PARQUE","CALLE","CARRETERA","PUENTE","MUSEO","TEATRO","HOSPITAL","IGLESIA","TEMPLO","TIENDA","RESTAURANTE","CAFETERIA","ZAPATO","CAMISETA","PANTALON","SOMBRERO","RELOJ","BOLSA","LLAVE","TELEFONO","ORDENADOR","MESA","SILLA","CAMA","SOFA","VENTANA","PUERTA","LIBRETA","LAPIZ","BOLIGRAFO","CEPILLO","ESPEJO","PEINE","JABON","TOALLA","LAVAVAJILLAS","NEVERA","LAVADORA","COCINA","HORNO","MICROONDAS","TELEVISOR","RADIO","CAMARA","REPRODUCTOR","MOTOR","BATERIA","CARGADOR","CUADERNO","GRIFO","CORTE","PLATO"];palabraSeleccionada="";palabraOculta="";vidasCount=5;puntos=0;teclado=document.getElementsByClassName("letter");ahorcadoImagen="";ngOnInit(){this.InitGame(),LI.default.fire({title:"Ahorcado",html:`<div style="text-align: left;">
      -Tenes 5 intentos para adivinar la palabra secreta<br><br>
      -Cada letra que se agregue vale un punto y cada letra incorrecta resta una vida<br><br>
      -Al acertar una palabra esta se reemplaza por otra y el jugador vuelve a tener todas las vidas<br><br>
      -El juegos se termina cuando te quedas sin vidas
      </div>`,background:"#000",color:"#fff",confirmButtonColor:"#ff5722",confirmButtonText:"Entendido",allowOutsideClick:!1,allowEscapeKey:!1})}InitGame(){this.palabraOculta="",this.MostrarImagen(),this.palabraSeleccionada=this.palabras[Math.floor(Math.random()*this.palabras.length)],console.log(this.palabraSeleccionada);for(let e=0;e<this.palabraSeleccionada.length;e++)this.palabraOculta+="_";console.log(this.teclado);for(let e=0;e<this.teclado.length;e++){let n=this.teclado[e].id,r=document.getElementById(n);r!=null&&(r.style.display="block")}}MostrarImagen(){switch(this.vidasCount){case 4:this.ahorcadoImagen="https://firebasestorage.googleapis.com/v0/b/tp-labo4-fae81.appspot.com/o/Ahorcado-4.png?alt=media&token=247646c2-b794-4c65-8037-928242470213";break;case 3:this.ahorcadoImagen="https://firebasestorage.googleapis.com/v0/b/tp-labo4-fae81.appspot.com/o/Ahorcado-3.png?alt=media&token=16f8fc5c-f6b9-4380-8dea-d0734ab173fd";break;case 2:this.ahorcadoImagen="https://firebasestorage.googleapis.com/v0/b/tp-labo4-fae81.appspot.com/o/Ahorcado-2.png?alt=media&token=5da5fcae-b20d-4410-b85b-33e3cb739745";break;case 1:this.ahorcadoImagen="https://firebasestorage.googleapis.com/v0/b/tp-labo4-fae81.appspot.com/o/Ahorcado-1.png?alt=media&token=d88bd817-1f48-4a7c-b3e3-72ff711da40b";break;case 0:this.ahorcadoImagen="https://firebasestorage.googleapis.com/v0/b/tp-labo4-fae81.appspot.com/o/Ahorcado-0.png?alt=media&token=8b1c6b4a-2ed6-4696-8ebc-5c62e81a9241";break;default:this.ahorcadoImagen="https://firebasestorage.googleapis.com/v0/b/tp-labo4-fae81.appspot.com/o/Ahorcado-5.png?alt=media&token=4c7b47f6-1797-4bbb-b020-1c3290d59407";break}}BuscarLetra(e){let n=[],r=!1;for(let i=0;i<this.palabraSeleccionada.length;i++)if(e.toUpperCase()==this.palabraSeleccionada[i].toUpperCase()){let s=this.palabraOculta.split("");s[i]=e.toUpperCase(),this.palabraOculta=s.join(""),n.push(e.toUpperCase()),r=!0,this.puntos++}if(r||(console.log("Esa letra no existe"),this.vidasCount--,this.MostrarImagen()),this.hideButton(e),this.ActualizarPalabra())if(this.vidasCount==0){this.palabraOculta=this.palabraSeleccionada,this.MostrarImagen();for(let i=0;i<this.teclado.length;i++){let s=this.teclado[i].id,o=document.getElementById(s);o!=null&&o.style.display=="block"&&(o.style.display="none")}setTimeout(()=>{let i=Nn(this.firestore,"ahorcado");Mn(i,{puntaje:this.puntos,user:this.auth.currentUser?.displayName,fecha:new Date}),LI.default.fire({title:`Perdiste
Puntuacion Final: ${this.puntos}`,background:"#000",color:"#fff",confirmButtonColor:"#ff5722",confirmButtonText:"Reiniciar Juego",cancelButtonText:"Salir",allowOutsideClick:!1,allowEscapeKey:!1,cancelButtonColor:"#d33",showCancelButton:!0}).then(s=>{s.isConfirmed?(this.vidasCount=5,this.puntos=0,this.InitGame()):this.router.navigate(["../../home"])})},3e3)}else{this.palabraOculta=this.palabraSeleccionada;for(let i=0;i<this.teclado.length;i++){let s=this.teclado[i].id,o=document.getElementById(s);o!=null&&o.style.display=="block"&&(o.style.display="none")}setTimeout(()=>{this.palabraOculta="",this.vidasCount=5,this.InitGame()},1e3)}}hideButton(e){let n=document.getElementById(e);n&&(n.style.display="none")}get vidas(){return Array(this.vidasCount).fill(0).map((e,n)=>n)}ActualizarPalabra(){let e=!1;return(this.vidasCount==0||this.palabraOculta.indexOf("_")==-1)&&(e=!0,this.palabraOculta=""),e}static \u0275fac=function(n){return new(n||t)(Q(nt),Q(Vt),Q(Ft))};static \u0275cmp=$t({type:t,selectors:[["app-ahorcado"]],decls:62,vars:4,consts:[["id","info"],["id","puntaje"],["id","imagen-ahorcado",3,"src"],["id","barra-vidas"],["src","https://firebasestorage.googleapis.com/v0/b/tp-labo4-fae81.appspot.com/o/corazon.png?alt=media&token=821aefc2-08ca-4af0-8947-67d7ff5d6c8e","alt","vida","id","vida",4,"ngFor","ngForOf"],["id","palabra"],[1,"alphabet-buttons","container-fluid"],["id","A",1,"letter",3,"click"],["id","B",1,"letter",3,"click"],["id","C",1,"letter",3,"click"],["id","D",1,"letter",3,"click"],["id","E",1,"letter",3,"click"],["id","F",1,"letter",3,"click"],["id","G",1,"letter",3,"click"],["id","H",1,"letter",3,"click"],["id","I",1,"letter",3,"click"],["id","J",1,"letter",3,"click"],["id","K",1,"letter",3,"click"],["id","L",1,"letter",3,"click"],["id","M",1,"letter",3,"click"],["id","N",1,"letter",3,"click"],["id","O",1,"letter",3,"click"],["id","P",1,"letter",3,"click"],["id","Q",1,"letter",3,"click"],["id","R",1,"letter",3,"click"],["id","S",1,"letter",3,"click"],["id","T",1,"letter",3,"click"],["id","U",1,"letter",3,"click"],["id","V",1,"letter",3,"click"],["id","W",1,"letter",3,"click"],["id","X",1,"letter",3,"click"],["id","Y",1,"letter",3,"click"],["id","Z",1,"letter",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/tp-labo4-fae81.appspot.com/o/corazon.png?alt=media&token=821aefc2-08ca-4af0-8947-67d7ff5d6c8e","alt","vida","id","vida"]],template:function(n,r){n&1&&(ht(0,"app-juego"),z(1,"div",0)(2,"p",1),re(3),W(),ht(4,"img",2),z(5,"div",3),Fr(6,uH,1,0,"img",4),W()(),z(7,"p",5),re(8),W(),z(9,"div",6)(10,"button",7),ne("click",function(){return r.BuscarLetra("A")}),re(11,"A"),W(),z(12,"button",8),ne("click",function(){return r.BuscarLetra("B")}),re(13,"B"),W(),z(14,"button",9),ne("click",function(){return r.BuscarLetra("C")}),re(15,"C"),W(),z(16,"button",10),ne("click",function(){return r.BuscarLetra("D")}),re(17,"D"),W(),z(18,"button",11),ne("click",function(){return r.BuscarLetra("E")}),re(19,"E"),W(),z(20,"button",12),ne("click",function(){return r.BuscarLetra("F")}),re(21,"F"),W(),z(22,"button",13),ne("click",function(){return r.BuscarLetra("G")}),re(23,"G"),W(),z(24,"button",14),ne("click",function(){return r.BuscarLetra("H")}),re(25,"H"),W(),z(26,"button",15),ne("click",function(){return r.BuscarLetra("I")}),re(27,"I"),W(),z(28,"button",16),ne("click",function(){return r.BuscarLetra("J")}),re(29,"J"),W(),z(30,"button",17),ne("click",function(){return r.BuscarLetra("K")}),re(31,"K"),W(),z(32,"button",18),ne("click",function(){return r.BuscarLetra("L")}),re(33,"L"),W(),z(34,"button",19),ne("click",function(){return r.BuscarLetra("M")}),re(35,"M"),W(),z(36,"button",20),ne("click",function(){return r.BuscarLetra("N")}),re(37,"N"),W(),z(38,"button",21),ne("click",function(){return r.BuscarLetra("O")}),re(39,"O"),W(),z(40,"button",22),ne("click",function(){return r.BuscarLetra("P")}),re(41,"P"),W(),z(42,"button",23),ne("click",function(){return r.BuscarLetra("Q")}),re(43,"Q"),W(),z(44,"button",24),ne("click",function(){return r.BuscarLetra("R")}),re(45,"R"),W(),z(46,"button",25),ne("click",function(){return r.BuscarLetra("S")}),re(47,"S"),W(),z(48,"button",26),ne("click",function(){return r.BuscarLetra("T")}),re(49,"T"),W(),z(50,"button",27),ne("click",function(){return r.BuscarLetra("U")}),re(51,"U"),W(),z(52,"button",28),ne("click",function(){return r.BuscarLetra("V")}),re(53,"V"),W(),z(54,"button",29),ne("click",function(){return r.BuscarLetra("W")}),re(55,"W"),W(),z(56,"button",30),ne("click",function(){return r.BuscarLetra("X")}),re(57,"X"),W(),z(58,"button",31),ne("click",function(){return r.BuscarLetra("Y")}),re(59,"Y"),W(),z(60,"button",32),ne("click",function(){return r.BuscarLetra("Z")}),re(61,"Z"),W()()),n&2&&(Se(3),an("Puntaje: ",r.puntos,""),Se(),Lr("src",r.ahorcadoImagen,Si),Se(2),At("ngForOf",r.vidas),Se(2),Ni(r.palabraOculta))},dependencies:[id,xn],styles:["p[_ngcontent-%COMP%]{color:#fff}#puntaje[_ngcontent-%COMP%]{font-size:50px;margin:10px}#info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:30vh}#imagen-ahorcado[_ngcontent-%COMP%]{width:350px;justify-self:end}.alphabet-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;width:90vw}.letter[_ngcontent-%COMP%]{width:100px;height:100px;margin:30px 10px 10px;box-shadow:0 0 15px #00000080;background-color:#000c;padding:20px;border-radius:10px;text-align:center;color:#fff;font-size:30px}.letter[_ngcontent-%COMP%]:hover{background-color:#5b5b5bcc}#palabra[_ngcontent-%COMP%]{width:100%;text-align:center;font-size:100px;letter-spacing:10px}#vida[_ngcontent-%COMP%]{width:50px;height:50px}#barra-vidas[_ngcontent-%COMP%]{width:15%;display:flex;justify-content:end;padding:20px}"]})};var Vo=Iu(wu());var Zh=class t{http=x(Ua);constructor(){}getCartas(){return this.http.get("https://www.deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1")}mostrarCarta(e){return this.http.get(`https://deckofcardsapi.com/api/deck/${e}/draw/?count=1`)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})};function dH(t,e){if(t&1&&(z(0,"div",3)(1,"p",4),re(2),W(),z(3,"p",5),re(4),W()()),t&2){let n=on();Se(2),an("Puntaje: ",n.puntaje,""),Se(2),an("Cartas: ",n.cartasEnBaraja,"")}}function hH(t,e){if(t&1&&(z(0,"div",6),ht(1,"img",7),W()),t&2){let n=on();Se(),Lr("src",n.cartaEnMesaImagen,Si)}}function fH(t,e){if(t&1){let n=Zl();z(0,"div",8)(1,"button",9),ne("click",function(){Us(n);let i=on();return Bs(i.Apostar("menor"))}),re(2,"Menor"),W(),z(3,"button",9),ne("click",function(){Us(n);let i=on();return Bs(i.Apostar("igual"))}),re(4,"Igual"),W(),z(5,"button",9),ne("click",function(){Us(n);let i=on();return Bs(i.Apostar("mayor"))}),re(6,"Mayor"),W()()}}var Xh=class t{constructor(e,n,r,i){this.cartasService=e;this.firestore=n;this.auth=r;this.router=i}baraja;idBaraja;cartaEnMesa;cartaEnMesaImagen;subscription;dataCargada=!1;cartaRecogida;cartasDescartadas=[];puntaje=0;cartasEnBaraja=0;ngOnDestroy(){this.subscription.unsubscribe()}ngOnInit(){this.cartasEnBaraja=51,this.puntaje=0,Vo.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#000",color:"#fff",didOpen:()=>{Vo.default.showLoading()}}),this.subscription=this.cartasService.getCartas().subscribe(e=>{this.baraja=e,this.idBaraja=this.baraja.deck_id,this.obtenerCarta(),Vo.default.close(),this.dataCargada=!0,Vo.default.fire({title:"Mayor o Menor",html:`<div style="text-align: left;">
          -Al jugador se le muestra una carta de un mazo de 52 cartas y debe adivinar si la proxima carta es mayor, menor o igual a la siguiente<br><br>
          -Por cada acierto suma un punto<br><br>
          -El juego finaliza cuando el mazo se queda sin cartas<br><br>
          </div>`,background:"#000",color:"#fff",confirmButtonColor:"#ff5722",confirmButtonText:"Entendido",allowOutsideClick:!1,allowEscapeKey:!1})})}obtenerCarta(){this.subscription=this.cartasService.mostrarCarta(this.idBaraja).subscribe(e=>_(this,null,function*(){this.cartaRecogida=e,this.cartaEnMesa=this.cartaRecogida.cards[0],this.cartaEnMesaImagen=this.cartaEnMesa.image,this.asignarValores()}))}asignarValores(){switch(this.cartaEnMesa.value){case"ACE":this.cartaEnMesa.value=1;break;case"KING":this.cartaEnMesa.value=13;break;case"QUEEN":this.cartaEnMesa.value=12;break;case"JACK":this.cartaEnMesa.value=11;break;default:this.cartaEnMesa.value=parseInt(this.cartaEnMesa.value);break}}Apostar(e){this.cartasDescartadas.push(this.cartaEnMesa),console.log(this.cartasDescartadas[this.cartasDescartadas.length-1]),this.cartasService.mostrarCarta(this.idBaraja).subscribe(n=>{switch(this.cartaRecogida=n,this.cartaEnMesa=this.cartaRecogida.cards[0],this.cartaEnMesaImagen=this.cartaEnMesa.image,this.asignarValores(),e){case"mayor":this.cartaEnMesa.value>this.cartasDescartadas[this.cartasDescartadas.length-1].value&&(console.log("Es Mayor"),this.puntaje+=1);break;case"menor":this.cartaEnMesa.value<this.cartasDescartadas[this.cartasDescartadas.length-1].value&&(console.log("Es Menor"),this.puntaje+=1);break;case"igual":this.cartasDescartadas[this.cartasDescartadas.length-1].value==this.cartaEnMesa.value&&(console.log("Es Igual"),this.puntaje+=1);break}if(console.log(this.puntaje),this.cartasDescartadas.length==51){let r=Nn(this.firestore,"mayor-o-menor");Mn(r,{puntaje:this.puntaje,user:this.auth.currentUser?.displayName,fecha:new Date}),Vo.default.fire({title:"Juego Terminado",background:"#000",color:"#fff",confirmButtonColor:"#ff5722",confirmButtonText:"Reiniciar Juego",cancelButtonText:"Salir",allowOutsideClick:!1,allowEscapeKey:!1,cancelButtonColor:"#d33",showCancelButton:!0}).then(i=>{i.isConfirmed?this.ngOnInit():this.router.navigate(["../../home"])})}else this.cartasEnBaraja-=1})}static \u0275fac=function(n){return new(n||t)(Q(Zh),Q(Vt),Q(Ft),Q(nt))};static \u0275cmp=$t({type:t,selectors:[["app-mayor-o-menor"]],decls:4,vars:3,consts:[["id","info",4,"ngIf"],["id","mesa","class","container_fluid",4,"ngIf"],["id","opciones","class","container_fluid",4,"ngIf"],["id","info"],["id","puntaje"],["id","cartas"],["id","mesa",1,"container_fluid"],[3,"src"],["id","opciones",1,"container_fluid"],[1,"opcion",3,"click"]],template:function(n,r){n&1&&(ht(0,"app-juego"),Fr(1,dH,5,2,"div",0)(2,hH,2,1,"div",1)(3,fH,7,0,"div",2)),n&2&&(Se(),At("ngIf",r.dataCargada),Se(),At("ngIf",r.dataCargada),Se(),At("ngIf",r.dataCargada))},dependencies:[sd,xn],styles:["p[_ngcontent-%COMP%]{color:#fff;font-size:50px;margin:10px}#info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;box-shadow:0 0 15px #00000080;background-color:#030b36cc;margin:0% 2vw;margin-bottom:5%;padding:20px;border-radius:10px}#mesa[_ngcontent-%COMP%], #opciones[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:10px}.opcion[_ngcontent-%COMP%]{width:200px;height:100px;margin:30px 10px 10px;box-shadow:0 0 15px #00000080;background-color:#000c;padding:20px;border-radius:10px;text-align:center;color:#fff;font-size:30px}.opcion[_ngcontent-%COMP%]:hover{background-color:#5b5b5bcc}"]})};var jo=Iu(wu());var ef=class t{http=x(Ua);constructor(){}getPaises(){return this.http.get("https://restcountries.com/v3.1/all")}static \u0275fac=function(n){return new(n||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})};var gH=(t,e)=>e.id;function mH(t,e){t&1&&ht(0,"img",7)}function yH(t,e){if(t&1&&(z(0,"div",3)(1,"p",4),re(2),W(),z(3,"div",5),Fr(4,mH,1,0,"img",6),W()()),t&2){let n=on();Se(2),an("Puntaje: ",n.puntaje,""),Se(2),At("ngForOf",n.vidas)}}function vH(t,e){if(t&1&&(z(0,"div",8),ht(1,"img",9),z(2,"p",10),re(3,"\xBFDe quien es esta bandera?"),W()()),t&2){let n=on();Se(),Lr("src",n.paisSeleccionado.bandera,Si)}}function _H(t,e){if(t&1){let n=Zl();z(0,"button",13),ne("click",function(){let i=Us(n).$implicit,s=on(2);return Bs(s.elegirOpcion(i.id))}),re(1),W()}if(t&2){let n=e.$implicit;Lr("id",n.id),Se(),Ni(n.nombre)}}function IH(t,e){if(t&1&&(z(0,"div",11),D0(1,_H,2,2,"button",12,gH),W()),t&2){let n=on();Se(),C0(n.opciones)}}var tf=class t{constructor(e,n,r,i){this.clubesService=e;this.firestore=n;this.auth=r;this.router=i}subscription;paises;listaPaises=[];opciones=[];paisSeleccionado;dataCargada=!1;puntaje=0;vidasCount=3;elementosOpciones=document.getElementsByClassName("opciones");ngOnInit(){jo.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#000",color:"#fff",didOpen:()=>{jo.default.showLoading()}}),this.subscription=this.clubesService.getPaises().subscribe(e=>{this.paises=e;let n=1;this.paises.forEach(r=>{this.listaPaises.push({id:n,nombre:r.translations.spa.common,bandera:r.flags.png}),n++}),console.log(this.listaPaises),this.elegirPais(),this.cargarOpciones(),this.dataCargada=!0,jo.default.close(),jo.default.fire({title:"Preguntas",html:`<div style="text-align: left;">
          -Al jugador se le muestra una bandera y tiene 3 opciones para elegir<br><br>
          -Por cada acierto suma un punto y por cada respuesta incorrecta pierde una vida<br><br>
          -El juego finaliza cuando el jugador pierde sus 3 vidas<br><br>
          </div>`,background:"#000",color:"#fff",confirmButtonColor:"#ff5722",confirmButtonText:"Entendido",allowOutsideClick:!1,allowEscapeKey:!1})})}elegirPais(){let e=Math.floor(Math.random()*this.listaPaises.length);this.paisSeleccionado=this.listaPaises[e],console.log(this.paisSeleccionado)}cargarOpciones(){for(this.opciones.push(this.paisSeleccionado);this.opciones.length<3;){let e=Math.floor(Math.random()*this.listaPaises.length),n=this.listaPaises[e];this.opciones.includes(n)||this.opciones.push(n)}this.opciones=this.opciones.sort(function(){return Math.random()-.5}),console.log(this.opciones)}elegirOpcion(e){let n=document.getElementById(this.paisSeleccionado.id);for(let r=0;r<this.elementosOpciones.length;r++){let i=this.elementosOpciones[r].id,s=document.getElementById(i);s!=null&&s instanceof HTMLButtonElement&&(s.disabled=!0,s.style.backgroundColor="rgba(91, 91, 91, 0.8)")}if(e==this.paisSeleccionado.id&&n!=null)n.style.backgroundColor="rgba(1, 137, 12, 0.8)",this.puntaje++;else if(n!=null){let r=document.getElementById(e);r!=null&&(n.style.backgroundColor="rgba(1, 137, 12, 0.8)",r.style.backgroundColor="rgba(153, 6, 6, 0.8)"),this.vidasCount--}setTimeout(()=>{for(let r=0;r<this.elementosOpciones.length;r++){let i=this.elementosOpciones[r].id,s=document.getElementById(i);s!=null&&s instanceof HTMLButtonElement&&(s.disabled=!1)}if(e==this.paisSeleccionado.id&&n!=null)n.style.backgroundColor="rgba(0, 0, 0, 0.8)";else if(n!=null){let r=document.getElementById(e);r!=null&&(n.style.backgroundColor="rgba(0, 0, 0, 0.8)",r.style.backgroundColor="rgba(0, 0, 0, 0.8)")}if(this.vidasCount==0){let r=Nn(this.firestore,"preguntas");Mn(r,{puntaje:this.puntaje,user:this.auth.currentUser?.displayName,fecha:new Date}),jo.default.fire({title:`Perdiste
Puntuacion Final: ${this.puntaje}`,background:"#000",color:"#fff",confirmButtonColor:"#ff5722",confirmButtonText:"Reiniciar Juego",cancelButtonText:"Salir",allowOutsideClick:!1,allowEscapeKey:!1,cancelButtonColor:"#d33",showCancelButton:!0}).then(i=>{i.isConfirmed?(this.vidasCount=3,this.puntaje=0,this.opciones=[],this.elegirPais(),this.cargarOpciones()):this.router.navigate(["../../home"])})}else this.opciones=[],this.elegirPais(),this.cargarOpciones()},2500)}get vidas(){return Array(this.vidasCount).fill(0).map((e,n)=>n)}static \u0275fac=function(n){return new(n||t)(Q(ef),Q(Vt),Q(Ft),Q(nt))};static \u0275cmp=$t({type:t,selectors:[["app-preguntas"]],decls:4,vars:3,consts:[["id","info",4,"ngIf"],["id","pais-seleccionado","class","container_fluid",4,"ngIf"],["id","opciones","class","container_fluid",4,"ngIf"],["id","info"],["id","puntaje"],["id","barra-vidas"],["src","https://firebasestorage.googleapis.com/v0/b/tp-labo4-fae81.appspot.com/o/corazon.png?alt=media&token=821aefc2-08ca-4af0-8947-67d7ff5d6c8e","alt","vida","id","vida",4,"ngFor","ngForOf"],["src","https://firebasestorage.googleapis.com/v0/b/tp-labo4-fae81.appspot.com/o/corazon.png?alt=media&token=821aefc2-08ca-4af0-8947-67d7ff5d6c8e","alt","vida","id","vida"],["id","pais-seleccionado",1,"container_fluid"],["id","bandera",3,"src"],["id","pregunta"],["id","opciones",1,"container_fluid"],[1,"opciones",3,"id"],[1,"opciones",3,"click","id"]],template:function(n,r){n&1&&(ht(0,"app-juego"),Fr(1,yH,5,2,"div",0)(2,vH,4,1,"div",1)(3,IH,3,0,"div",2)),n&2&&(Se(),At("ngIf",r.dataCargada),Se(),At("ngIf",r.dataCargada),Se(),At("ngIf",r.dataCargada))},dependencies:[id,sd,xn],styles:["p[_ngcontent-%COMP%]{color:#fff;font-size:50px;margin:5px 5px 5px 10px}#info[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap}#puntaje[_ngcontent-%COMP%]{width:80%}#pais-seleccionado[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:5px;flex-wrap:wrap;margin-bottom:40px;max-height:200px}#bandera[_ngcontent-%COMP%]{max-width:200px}#pregunta[_ngcontent-%COMP%]{width:100%;font-size:40px;text-align:center}#opciones[_ngcontent-%COMP%]{width:100vw;display:flex;flex-wrap:wrap;justify-content:center;padding:0% 20%}.opciones[_ngcontent-%COMP%]{width:100%;box-shadow:0 0 15px #00000080;background-color:#000c;padding:20px;border-radius:10px;text-align:center;margin-top:30px;color:#fff;font-size:30px}.opciones[_ngcontent-%COMP%]:hover{background-color:#5b5b5bcc}#vida[_ngcontent-%COMP%]{width:50px;height:50px}#barra-vidas[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:end;padding:20px}"]})};var Yc=Iu(wu());var nf=class t{constructor(e,n,r){this.firestore=e;this.auth=n;this.router=r}secuenciaComputadora=[];secuenciaJugador=[];puntaje=0;timeoutId;mensaje="";ngOnDestroy(){console.log("Se cerro el juego"),this.secuenciaComputadora=[],clearTimeout(this.timeoutId),this.timeoutId=null}ngOnInit(){Yc.default.fire({title:"Simon dice",html:`<div style="text-align: left;">
      -Se mostrara una secuencia que el jugador debera repetir<br><br>
      -Cada secuencia correcta suma un punto<br><br>
      -El jugador tiene 3 segundos para sumar un color a la secuencia<br><br>
      -El juego termina si el jugador ingresa una secuencia incompleta o incorrecta<br><br>
      </div>`,background:"#000",color:"#fff",confirmButtonColor:"#ff5722",confirmButtonText:"Entendido",allowOutsideClick:!1,allowEscapeKey:!1}).then(e=>{e.isConfirmed&&this.jugar()})}jugar(){let e=document.querySelectorAll(".simon");this.secuenciaJugador=[],this.mensaje="",this.agregarBotonASecuenciaComputadora(),this.mostrarSecuenciaComputadora().then(()=>{e.forEach(n=>{n instanceof HTMLButtonElement&&(n.disabled=!1)}),this.timeoutId=setTimeout(()=>{console.log("SE ACABO EL TIEMPO"),this.mensaje="SE ACABO EL TIEMPO",e.forEach(r=>{r instanceof HTMLButtonElement&&(r.disabled=!0)});let n=Nn(this.firestore,"simon-dice");Mn(n,{puntaje:this.puntaje,user:this.auth.currentUser?.displayName,fecha:new Date}),Yc.default.fire({title:`Perdiste
Puntaje final: ${this.puntaje}`,background:"#000",color:"#fff",confirmButtonColor:"#ff5722",cancelButtonText:"Salir",allowOutsideClick:!1,allowEscapeKey:!1,cancelButtonColor:"#d33",showCancelButton:!0}).then(r=>{r.isConfirmed?(this.secuenciaComputadora=[],this.secuenciaJugador=[],this.puntaje=0,this.jugar()):this.router.navigate(["../../home"])})},3e3)})}agregarBotonASecuenciaJugador(e){this.secuenciaJugador.push(e),clearTimeout(this.timeoutId),this.validarSecuencia()}agregarBotonASecuenciaComputadora(){let e=Math.ceil(Math.random()*4);this.secuenciaComputadora.push(e),console.log(`Secuencia computadora:${this.secuenciaComputadora}`)}mostrarSecuenciaComputadora(){return _(this,null,function*(){yield new Promise(e=>{setTimeout(()=>{for(let n=0;n<this.secuenciaComputadora.length;n++){let r=document.getElementsByClassName(`button-${this.secuenciaComputadora[n]}`)[0];r!=null&&r instanceof HTMLElement&&setTimeout(()=>{switch(this.secuenciaComputadora[n]){case 1:r.classList.add("active-yellow"),r.classList.remove("deactive-yellow"),setTimeout(()=>{r.classList.remove("active-yellow"),r.classList.add("deactive-yellow")},1e3);break;case 2:r.classList.add("active-red"),r.classList.remove("deactive-red"),setTimeout(()=>{r.classList.remove("active-red"),r.classList.add("deactive-red")},1e3);break;case 3:r.classList.add("active-blue"),r.classList.remove("deactive-blue"),setTimeout(()=>{r.classList.remove("active-blue"),r.classList.add("deactive-blue")},1e3);break;default:r.classList.add("active-green"),r.classList.remove("deactive-green"),setTimeout(()=>{r.classList.remove("active-green"),r.classList.add("deactive-green")},1e3);break}n==this.secuenciaComputadora.length-1&&setTimeout(()=>{e()},1e3)},n*2e3)}},2e3)})})}validarSecuencia(){return _(this,null,function*(){yield new Promise(e=>{let n=document.querySelectorAll(".simon");for(let r=0;r<n.length;r++){let i=n[r];i.disabled=!1}if(this.secuenciaComputadora.length==this.secuenciaJugador.length)if(JSON.stringify(this.secuenciaComputadora)==JSON.stringify(this.secuenciaJugador)){for(let r=0;r<n.length;r++){let i=n[r];i.disabled=!0}console.log("SECUENCIA CORRECTA"),this.mensaje="SECUENCIA CORRECTA",this.puntaje++,setTimeout(()=>{this.jugar()},2e3)}else{console.log("SECUENCIA INCORRECTA"),console.log("JUEGO TERMINADO"),this.mensaje="SECUENCIA INCORRECTA";for(let i=0;i<n.length;i++){let s=n[i];s.disabled=!0}let r=Nn(this.firestore,"simon-dice");Mn(r,{puntaje:this.puntaje,user:this.auth.currentUser?.displayName,fecha:new Date}),Yc.default.fire({title:`Perdiste
Puntaje final: ${this.puntaje}`,background:"#000",color:"#fff",confirmButtonColor:"#ff5722",confirmButtonText:"Reiniciar Juego",cancelButtonText:"Salir",allowOutsideClick:!1,allowEscapeKey:!1,cancelButtonColor:"#d33",showCancelButton:!0}).then(i=>{i.isConfirmed?(this.secuenciaComputadora=[],this.secuenciaJugador=[],this.puntaje=0,this.jugar()):this.router.navigate(["../../home"])})}else this.timeoutId=setTimeout(()=>{console.log("SE ACABO EL TIEMPO"),this.mensaje="SE ACABO EL TIEMPO",console.log("JUEGO TERMINADO"),n.forEach(i=>{i instanceof HTMLButtonElement&&(i.disabled=!0)});let r=Nn(this.firestore,"simon-dice");Mn(r,{puntaje:this.puntaje,user:this.auth.currentUser?.displayName,fecha:new Date}),Yc.default.fire({title:`Perdiste
Puntaje final: ${this.puntaje}`,background:"#000",color:"#fff",confirmButtonColor:"#ff5722",confirmButtonText:"Reiniciar Juego",cancelButtonText:"Salir",allowOutsideClick:!1,allowEscapeKey:!1,cancelButtonColor:"#d33",showCancelButton:!0}).then(i=>{i.isConfirmed?(this.secuenciaComputadora=[],this.secuenciaJugador=[],this.puntaje=0,this.jugar()):this.router.navigate(["../../home"])})},3e3)})})}static \u0275fac=function(n){return new(n||t)(Q(Vt),Q(Ft),Q(nt))};static \u0275cmp=$t({type:t,selectors:[["app-simon-dice"]],decls:16,vars:2,consts:[["id","info"],["id","tablero",1,"container-fluid"],[1,"button-up-down"],["id","1","disabled","",1,"simon","button-1","deactive-yellow",3,"click"],[1,"button-left"],["id","2","disabled","",1,"simon","button-2","deactive-red",3,"click"],[1,"button-right"],["id","3","disabled","",1,"simon","button-3","deactive-blue",3,"click"],["id","4","disabled","",1,"simon","button-4","deactive-green",3,"click"],["id","div-message",1,"container-fluid"],["id","message"]],template:function(n,r){n&1&&(ht(0,"app-juego"),z(1,"div",0)(2,"p"),re(3),W()(),z(4,"div",1)(5,"div",2)(6,"button",3),ne("click",function(){return r.agregarBotonASecuenciaJugador(1)}),W()(),z(7,"div",4)(8,"button",5),ne("click",function(){return r.agregarBotonASecuenciaJugador(2)}),W()(),z(9,"div",6)(10,"button",7),ne("click",function(){return r.agregarBotonASecuenciaJugador(3)}),W()(),z(11,"div",2)(12,"button",8),ne("click",function(){return r.agregarBotonASecuenciaJugador(4)}),W()()(),z(13,"div",9)(14,"h1",10),re(15),W()()),n&2&&(Se(3),an("Puntaje: ",r.puntaje,""),Se(12),Ni(r.mensaje))},dependencies:[xn],styles:["p[_ngcontent-%COMP%]{color:#fff;font-size:50px;margin:5px 5px 5px 10px}#tablero[_ngcontent-%COMP%]{display:flex;width:600px;height:500px;justify-content:center;flex-wrap:wrap;align-items:center;background-color:#2f2f2f;border-radius:50%;box-shadow:0 0 15px #00000080;background-color:#000c}.simon[_ngcontent-%COMP%]{width:100px;height:100px}.button-up-down[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.button-left[_ngcontent-%COMP%]{width:50%;height:200px;display:flex;align-items:center;justify-content:center;padding-right:10%}.button-right[_ngcontent-%COMP%]{width:50%;height:200px;display:flex;align-items:center;justify-content:center;padding-left:10%}.button-1[_ngcontent-%COMP%]{width:200px;background-color:#646400;border-top-left-radius:50%;border-top-right-radius:50%;border-end-start-radius:10%;border-end-end-radius:10%}.active-yellow[_ngcontent-%COMP%]{background-color:#ff0}.deactive-yellow[_ngcontent-%COMP%]:hover{background-color:#969600}.button-2[_ngcontent-%COMP%]{height:100%;background-color:#600000;border-start-start-radius:50%;border-end-start-radius:50%;border-top-right-radius:20%;border-bottom-right-radius:20%}.active-red[_ngcontent-%COMP%]{background-color:red}.deactive-red[_ngcontent-%COMP%]:hover{background-color:#a00000}.button-3[_ngcontent-%COMP%]{height:100%;background-color:#00005f;border-start-end-radius:50%;border-end-end-radius:50%;border-top-left-radius:20%;border-bottom-left-radius:20%}.active-blue[_ngcontent-%COMP%]{background-color:#00f}.deactive-blue[_ngcontent-%COMP%]:hover{background-color:#0000a0}.button-4[_ngcontent-%COMP%]{width:200px;background-color:#004e00;border-bottom-left-radius:50%;border-bottom-right-radius:50%;border-start-start-radius:10%;border-start-end-radius:10%}.active-green[_ngcontent-%COMP%]{background-color:#00ba00}.deactive-green[_ngcontent-%COMP%]:hover{background-color:#00a000}#message[_ngcontent-%COMP%]{text-align:center;color:#fff;width:100%}#div-message[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;align-content:center;box-shadow:0 0 15px #00000080;background-color:#030b36cc;margin-bottom:5%;padding:20px;border-radius:10px;width:600px;height:100px}@media (max-width: 630px){#tablero[_ngcontent-%COMP%]{width:400px;height:300px}#button-1[_ngcontent-%COMP%], #button-4[_ngcontent-%COMP%]{width:100px}.button-right[_ngcontent-%COMP%], .button-left[_ngcontent-%COMP%]{height:100px}}"]})};var wH=[{path:"ahorcado",component:Jh},{path:"mayor-o-menor",component:Xh},{path:"preguntas",component:tf},{path:"simon-dice",component:nf}],rf=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=xt({type:t});static \u0275inj=Nt({imports:[vy.forChild(wH),vy]})};var AR=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(Q(Ri),Q(sn))},e.\u0275dir=Xe({type:e});let t=e;return t})(),EH=(()=>{let e=class e extends AR{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Hs(e)))(s||e)}})(),e.\u0275dir=Xe({type:e,features:[Kn]});let t=e;return t})(),SR=new V("");var bH={provide:SR,useExisting:Ti(()=>RR),multi:!0};function DH(){let t=Jn()?Jn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var CH=new V(""),RR=(()=>{let e=class e extends AR{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!DH())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(Q(Ri),Q(sn),Q(CH,8))},e.\u0275dir=Xe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&ne("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[xa([bH]),Kn]});let t=e;return t})();function TH(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var jI=new V(""),MR=new V("");function AH(t){return TH(t.value)?{required:!0}:null}function _R(t){return null}function NR(t){return t!=null}function xR(t){return xi(t)?Me(t):t}function PR(t){let e={};return t.forEach(n=>{e=n!=null?F(F({},e),n):e}),Object.keys(e).length===0?null:e}function OR(t,e){return e.map(n=>n(t))}function SH(t){return!t.validate}function kR(t){return t.map(e=>SH(e)?e:n=>e.validate(n))}function RH(t){if(!t)return null;let e=t.filter(NR);return e.length==0?null:function(n){return PR(OR(n,e))}}function UI(t){return t!=null?RH(kR(t)):null}function MH(t){if(!t)return null;let e=t.filter(NR);return e.length==0?null:function(n){let r=OR(n,e).map(xR);return sp(r).pipe(oe(PR))}}function BI(t){return t!=null?MH(kR(t)):null}function IR(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function NH(t){return t._rawValidators}function xH(t){return t._rawAsyncValidators}function VI(t){return t?Array.isArray(t)?t:[t]:[]}function of(t,e){return Array.isArray(t)?t.includes(e):t===e}function wR(t,e){let n=VI(e);return VI(t).forEach(i=>{of(n,i)||n.push(i)}),n}function ER(t,e){return VI(e).filter(n=>!of(t,n))}var af=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=UI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=BI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},$o=class extends af{get formDirective(){return null}get path(){return null}},nu=class extends af{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},cf=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},PH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},yQ=fe(F({},PH),{"[class.ng-submitted]":"isSubmitted"}),vQ=(()=>{let e=class e extends cf{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Q(nu,2))},e.\u0275dir=Xe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Jl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Kn]});let t=e;return t})(),_Q=(()=>{let e=class e extends cf{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Q($o,10))},e.\u0275dir=Xe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Jl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Kn]});let t=e;return t})();var Jc="VALID",sf="INVALID",Uo="PENDING",Zc="DISABLED",Ho=class{},uf=class extends Ho{constructor(e,n){super(),this.value=e,this.source=n}},eu=class extends Ho{constructor(e,n){super(),this.pristine=e,this.source=n}},tu=class extends Ho{constructor(e,n){super(),this.touched=e,this.source=n}},Bo=class extends Ho{constructor(e,n){super(),this.status=e,this.source=n}};function FR(t){return(hf(t)?t.validators:t)||null}function OH(t){return Array.isArray(t)?UI(t):t||null}function LR(t,e){return(hf(e)?e.asyncValidators:t)||null}function kH(t){return Array.isArray(t)?BI(t):t||null}function hf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function FH(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new B(1e3,"");if(!r[n])throw new B(1001,"")}function LH(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new B(1002,"")})}var lf=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Oa(()=>this.statusReactive()),this.statusReactive=Ma(void 0),this._pristine=Oa(()=>this.pristineReactive()),this.pristineReactive=Ma(!0),this._touched=Oa(()=>this.touchedReactive()),this.touchedReactive=Ma(!1),this._events=new Ge,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Qn(this.statusReactive)}set status(e){Qn(()=>this.statusReactive.set(e))}get valid(){return this.status===Jc}get invalid(){return this.status===sf}get pending(){return this.status==Uo}get disabled(){return this.status===Zc}get enabled(){return this.status!==Zc}get pristine(){return Qn(this.pristineReactive)}set pristine(e){Qn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Qn(this.touchedReactive)}set touched(e){Qn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(wR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(wR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ER(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ER(e,this._rawAsyncValidators))}hasValidator(e){return of(this._rawValidators,e)}hasAsyncValidator(e){return of(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(fe(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new tu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new tu(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(fe(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new eu(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new eu(!0,r))}markAsPending(e={}){this.status=Uo;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Bo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(fe(F({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Zc,this.errors=null,this._forEachChild(i=>{i.disable(fe(F({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new uf(this.value,r)),this._events.next(new Bo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(fe(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Jc,this._forEachChild(r=>{r.enable(fe(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(fe(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jc||this.status===Uo)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new uf(this.value,n)),this._events.next(new Bo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(fe(F({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zc:Jc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Uo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=xR(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Bo(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?Zc:this.errors?sf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Uo)?Uo:this._anyControlsHaveStatus(sf)?sf:Jc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new eu(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new tu(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){hf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=OH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=kH(this._rawAsyncValidators)}},df=class extends lf{constructor(e,n,r){super(FR(n),LR(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){LH(this,!0,e),Object.keys(e).forEach(r=>{FH(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var $I=new V("CallSetDisabledState",{providedIn:"root",factory:()=>HI}),HI="always";function VH(t,e){return[...e.path,t]}function VR(t,e,n=HI){jR(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),UH(t,e),$H(t,e),BH(t,e),jH(t,e)}function bR(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function jH(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function jR(t,e){let n=NH(t);e.validator!==null?t.setValidators(IR(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=xH(t);e.asyncValidator!==null?t.setAsyncValidators(IR(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();bR(e._rawValidators,i),bR(e._rawAsyncValidators,i)}function UH(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&UR(t,e)})}function BH(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&UR(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function UR(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function $H(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function HH(t,e){t==null,jR(t,e)}function zH(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function qH(t){return Object.getPrototypeOf(t.constructor)===EH}function GH(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function WH(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===RR?n=s:qH(s)?r=s:i=s}),i||r||n||null}var KH={provide:$o,useExisting:Ti(()=>QH)},Xc=Promise.resolve(),QH=(()=>{let e=class e extends $o{get submitted(){return Qn(this.submittedReactive)}constructor(r,i,s){super(),this.callSetDisabledState=s,this._submitted=Oa(()=>this.submittedReactive()),this.submittedReactive=Ma(!1),this._directives=new Set,this.ngSubmit=new Fe,this.form=new df({},UI(r),BI(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Xc.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),VR(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Xc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Xc.then(()=>{let i=this._findContainer(r.path),s=new df({});HH(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Xc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Xc.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),GH(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(Q(jI,10),Q(MR,10),Q($I,8))},e.\u0275dir=Xe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&ne("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[xa([KH]),Kn]});let t=e;return t})();function DR(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function CR(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var YH=class extends lf{constructor(e=null,n,r){super(FR(n),LR(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(CR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){DR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){DR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){CR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var JH={provide:nu,useExisting:Ti(()=>ZH)},TR=Promise.resolve(),ZH=(()=>{let e=class e extends nu{constructor(r,i,s,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new YH,this._registered=!1,this.name="",this.update=new Fe,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=WH(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),zH(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){VR(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){TR.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&jr(i);TR.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?VH(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(Q($o,9),Q(jI,10),Q(MR,10),Q(SR,10),Q(Pi,8),Q($I,8))},e.\u0275dir=Xe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[xa([JH]),Kn,xr]});let t=e;return t})(),wQ=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Xe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var XH=(()=>{let e=class e{constructor(){this._validator=_R}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):_R,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Xe({type:e,features:[xr]});let t=e;return t})();var ez={provide:jI,useExisting:Ti(()=>tz),multi:!0};var tz=(()=>{let e=class e extends XH{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=jr,this.createValidator=r=>AH}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Hs(e)))(s||e)}})(),e.\u0275dir=Xe({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&Na("required",s._enabled?"":null)},inputs:{required:"required"},features:[xa([ez]),Kn]});let t=e;return t})();var nz=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=xt({type:e}),e.\u0275inj=Nt({});let t=e;return t})();var BR=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:$I,useValue:r.callSetDisabledState??HI}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=xt({type:e}),e.\u0275inj=Nt({imports:[nz]});let t=e;return t})();var $R=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=xt({type:t});static \u0275inj=Nt({imports:[bm,rf,BR]})};export{j as a,Nt as b,V as c,G as d,x as e,$t as f,xt as g,Us as h,Bs as i,Hs as j,Se as k,Q as l,Kn as m,Fr as n,At as o,E9 as p,D0 as q,C0 as r,z as s,W as t,ht as u,Zl as v,ne as w,on as x,b9 as y,Uk as z,Bk as A,re as B,Ni as C,an as D,Hk as E,D9 as F,zk as G,R0 as H,C9 as I,id as J,bm as K,lW as L,FW as M,UF as N,nt as O,t6 as P,H6 as Q,z6 as R,Ft as S,L8 as T,V8 as U,j8 as V,U8 as W,B8 as X,mR as Y,Vt as Z,C7 as _,Mn as $,Nn as aa,T7 as ba,A7 as ca,RR as da,vQ as ea,_Q as fa,QH as ga,ZH as ha,wQ as ia,tz as ja,BR as ka,$R as la};

import{a as F,b as fe,c as Ow,d as pr,e as I,f as kw}from"./chunk-M3GSIO6A.js";function Fw(t,e){return Object.is(t,e)}var $e=null,cu=!1,uu=1,Sn=Symbol("SIGNAL");function le(t){let e=$e;return $e=t,e}function Lw(){return $e}var ea={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Tf(t){if(cu)throw new Error("");if($e===null)return;$e.consumerOnSignalRead(t);let e=$e.nextProducerIndex++;if(fu($e),e<$e.producerNode.length&&$e.producerNode[e]!==t&&Xo($e)){let n=$e.producerNode[e];hu(n,$e.producerIndexOfThis[e])}$e.producerNode[e]!==t&&($e.producerNode[e]=t,$e.producerIndexOfThis[e]=Xo($e)?Bw(t,$e,e):0),$e.producerLastReadVersion[e]=t.version}function yM(){uu++}function Vw(t){if(!(Xo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===uu)){if(!t.producerMustRecompute(t)&&!Af(t)){t.dirty=!1,t.lastCleanEpoch=uu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=uu}}function jw(t){if(t.liveConsumerNode===void 0)return;let e=cu;cu=!0;try{for(let n of t.liveConsumerNode)n.dirty||vM(n)}finally{cu=e}}function Uw(){return $e?.consumerAllowSignalWrites!==!1}function vM(t){t.dirty=!0,jw(t),t.consumerMarkedDirty?.(t)}function du(t){return t&&(t.nextProducerIndex=0),le(t)}function Cf(t,e){if(le(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Xo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)hu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Af(t){fu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Vw(n),r!==n.version))return!0}return!1}function Sf(t){if(fu(t),Xo(t))for(let e=0;e<t.producerNode.length;e++)hu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Bw(t,e,n){if($w(t),t.liveConsumerNode.length===0&&Hw(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Bw(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function hu(t,e){if($w(t),t.liveConsumerNode.length===1&&Hw(t))for(let r=0;r<t.producerNode.length;r++)hu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];fu(i),i.producerIndexOfThis[r]=e}}function Xo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function fu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function $w(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Hw(t){return t.producerNode!==void 0}function zw(t){let e=Object.create(_M);e.computation=t;let n=()=>{if(Vw(e),Tf(e),e.value===lu)throw e.error;return e.value};return n[Sn]=e,n}var Df=Symbol("UNSET"),bf=Symbol("COMPUTING"),lu=Symbol("ERRORED"),_M=fe(F({},ea),{value:Df,dirty:!0,error:null,equal:Fw,producerMustRecompute(t){return t.value===Df||t.value===bf},producerRecomputeValue(t){if(t.value===bf)throw new Error("Detected cycle in computations.");let e=t.value;t.value=bf;let n=du(t),r;try{r=t.computation()}catch(i){r=lu,t.error=i}finally{Cf(t,n)}if(e!==Df&&e!==lu&&r!==lu&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function IM(){throw new Error}var qw=IM;function Gw(){qw()}function Ww(t){qw=t}var wM=null;function Kw(t){let e=Object.create(Yw);e.value=t;let n=()=>(Tf(e),e.value);return n[Sn]=e,n}function Rf(t,e){Uw()||Gw(),t.equal(t.value,e)||(t.value=e,EM(t))}function Qw(t,e){Uw()||Gw(),Rf(t,e(t.value))}var Yw=fe(F({},ea),{equal:Fw,value:void 0});function EM(t){t.version++,yM(),jw(t),wM?.()}function ne(t){return typeof t=="function"}function es(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var pu=es(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ni(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var xe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ne(r))try{r()}catch(s){e=s instanceof pu?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Jw(s)}catch(o){e=e??[],o instanceof pu?e=[...e,...o.errors]:e.push(o)}}if(e)throw new pu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Jw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ni(n,e)}remove(e){let{_finalizers:n}=this;n&&ni(n,e),e instanceof t&&e._removeParent(this)}};xe.EMPTY=(()=>{let t=new xe;return t.closed=!0,t})();var Mf=xe.EMPTY;function gu(t){return t instanceof xe||t&&"closed"in t&&ne(t.remove)&&ne(t.add)&&ne(t.unsubscribe)}function Jw(t){ne(t)?t():t.unsubscribe()}var Kt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ts={setTimeout(t,e,...n){let{delegate:r}=ts;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ts;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function mu(t){ts.setTimeout(()=>{let{onUnhandledError:e}=Kt;if(e)e(t);else throw t})}function ta(){}var Zw=Nf("C",void 0,void 0);function Xw(t){return Nf("E",void 0,t)}function eE(t){return Nf("N",t,void 0)}function Nf(t,e,n){return{kind:t,value:e,error:n}}var ri=null;function ns(t){if(Kt.useDeprecatedSynchronousErrorHandling){let e=!ri;if(e&&(ri={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ri;if(ri=null,n)throw r}}else t()}function tE(t){Kt.useDeprecatedSynchronousErrorHandling&&ri&&(ri.errorThrown=!0,ri.error=t)}var ii=class extends xe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,gu(e)&&e.add(this)):this.destination=TM}static create(e,n,r){return new rs(e,n,r)}next(e){this.isStopped?Pf(eE(e),this):this._next(e)}error(e){this.isStopped?Pf(Xw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Pf(Zw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},DM=Function.prototype.bind;function xf(t,e){return DM.call(t,e)}var Of=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){yu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){yu(r)}else yu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){yu(n)}}},rs=class extends ii{constructor(e,n,r){super();let i;if(ne(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Kt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&xf(e.next,s),error:e.error&&xf(e.error,s),complete:e.complete&&xf(e.complete,s)}):i=e}this.destination=new Of(i)}};function yu(t){Kt.useDeprecatedSynchronousErrorHandling?tE(t):mu(t)}function bM(t){throw t}function Pf(t,e){let{onStoppedNotification:n}=Kt;n&&ts.setTimeout(()=>n(t,e))}var TM={closed:!0,next:ta,error:bM,complete:ta};var is=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Tt(t){return t}function kf(...t){return Ff(t)}function Ff(t){return t.length===0?Tt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var de=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=AM(n)?n:new rs(n,r,i);return ns(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=nE(r),new r((i,s)=>{let o=new rs({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[is](){return this}pipe(...n){return Ff(n)(this)}toPromise(n){return n=nE(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function nE(t){var e;return(e=t??Kt.Promise)!==null&&e!==void 0?e:Promise}function CM(t){return t&&ne(t.next)&&ne(t.error)&&ne(t.complete)}function AM(t){return t&&t instanceof ii||CM(t)&&gu(t)}function Lf(t){return ne(t?.lift)}function ye(t){return e=>{if(Lf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pe(t,e,n,r,i){return new Vf(t,e,n,r,i)}var Vf=class extends ii{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ss(){return ye((t,e)=>{let n=null;t._refCount++;let r=pe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var os=class extends de{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Lf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xe;let n=this.getSubject();e.add(this.source.subscribe(pe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xe.EMPTY)}return e}refCount(){return ss()(this)}};var rE=es(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var qe=(()=>{class t extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new vu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new rE}next(n){ns(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ns(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ns(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Mf:(this.currentObservers=null,s.push(n),new xe(()=>{this.currentObservers=null,ni(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new de;return n.source=this,n}}return t.create=(e,n)=>new vu(e,n),t})(),vu=class extends qe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Mf}};var Ye=class extends qe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var jf={now(){return(jf.delegate||Date).now()},delegate:void 0};var _u=class extends xe{constructor(e,n){super()}schedule(e,n=0){return this}};var na={setInterval(t,e,...n){let{delegate:r}=na;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=na;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var as=class extends _u{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return na.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&na.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ni(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var cs=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};cs.now=jf.now;var us=class extends cs{constructor(e,n=cs.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Uf=new us(as);var Iu=class extends as{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var wu=class extends us{};var Bf=new wu(Iu);var Ct=new de(t=>t.complete());function iE(t){return t&&ne(t.schedule)}function sE(t){return t[t.length-1]}function Eu(t){return ne(sE(t))?t.pop():void 0}function gr(t){return iE(sE(t))?t.pop():void 0}function $f(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function aE(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function oE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function si(t){return this instanceof si?(this.v=t,this):new si(t)}function cE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(T){return Promise.resolve(T).then(y,p)}}function a(y,T){r[y]&&(i[y]=function(M){return new Promise(function(R,N){s.push([y,M,R,N])>1||u(y,M)})},T&&(i[y]=T(i[y])))}function u(y,T){try{l(r[y](T))}catch(M){m(s[0][3],M)}}function l(y){y.value instanceof si?Promise.resolve(y.value.v).then(h,p):m(s[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,T){y(T),s.shift(),s.length&&u(s[0][0],s[0][1])}}function uE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof oE=="function"?oE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var Du=t=>t&&typeof t.length=="number"&&typeof t!="function";function bu(t){return ne(t?.then)}function Tu(t){return ne(t[is])}function Cu(t){return Symbol.asyncIterator&&ne(t?.[Symbol.asyncIterator])}function Au(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function SM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Su=SM();function Ru(t){return ne(t?.[Su])}function Mu(t){return cE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield si(n.read());if(i)return yield si(void 0);yield yield si(r)}}finally{n.releaseLock()}})}function Nu(t){return ne(t?.getReader)}function Fe(t){if(t instanceof de)return t;if(t!=null){if(Tu(t))return RM(t);if(Du(t))return MM(t);if(bu(t))return NM(t);if(Cu(t))return lE(t);if(Ru(t))return xM(t);if(Nu(t))return PM(t)}throw Au(t)}function RM(t){return new de(e=>{let n=t[is]();if(ne(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function MM(t){return new de(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function NM(t){return new de(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,mu)})}function xM(t){return new de(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function lE(t){return new de(e=>{OM(t,e).catch(n=>e.error(n))})}function PM(t){return lE(Mu(t))}function OM(t,e){var n,r,i,s;return aE(this,void 0,void 0,function*(){try{for(n=uE(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function It(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function mr(t,e=0){return ye((n,r)=>{n.subscribe(pe(r,i=>It(r,t,()=>r.next(i),e),()=>It(r,t,()=>r.complete(),e),i=>It(r,t,()=>r.error(i),e)))})}function yr(t,e=0){return ye((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function dE(t,e){return Fe(t).pipe(yr(e),mr(e))}function hE(t,e){return Fe(t).pipe(yr(e),mr(e))}function fE(t,e){return new de(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function pE(t,e){return new de(n=>{let r;return It(n,e,()=>{r=t[Su](),It(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>ne(r?.return)&&r.return()})}function xu(t,e){if(!t)throw new Error("Iterable cannot be null");return new de(n=>{It(n,e,()=>{let r=t[Symbol.asyncIterator]();It(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function gE(t,e){return xu(Mu(t),e)}function mE(t,e){if(t!=null){if(Tu(t))return dE(t,e);if(Du(t))return fE(t,e);if(bu(t))return hE(t,e);if(Cu(t))return xu(t,e);if(Ru(t))return pE(t,e);if(Nu(t))return gE(t,e)}throw Au(t)}function Re(t,e){return e?mE(t,e):Fe(t)}function K(...t){let e=gr(t);return Re(t,e)}function ls(t,e){let n=ne(t)?t:()=>t,r=i=>i.error(n());return new de(e?i=>e.schedule(r,0,i):r)}function Hf(t){return!!t&&(t instanceof de||ne(t.lift)&&ne(t.subscribe))}var Rn=es(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function re(t,e){return ye((n,r)=>{let i=0;n.subscribe(pe(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:kM}=Array;function FM(t,e){return kM(e)?t(...e):t(e)}function Pu(t){return re(e=>FM(t,e))}var{isArray:LM}=Array,{getPrototypeOf:VM,prototype:jM,keys:UM}=Object;function Ou(t){if(t.length===1){let e=t[0];if(LM(e))return{args:e,keys:null};if(BM(e)){let n=UM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function BM(t){return t&&typeof t=="object"&&VM(t)===jM}function ku(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ra(...t){let e=gr(t),n=Eu(t),{args:r,keys:i}=Ou(t);if(r.length===0)return Re([],e);let s=new de($M(r,e,i?o=>ku(i,o):Tt));return n?s.pipe(Pu(n)):s}function $M(t,e,n=Tt){return r=>{yE(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)yE(e,()=>{let l=Re(t[u],e),h=!1;l.subscribe(pe(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function yE(t,e,n){t?It(n,t,e):e()}function vE(t,e,n,r,i,s,o,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?T(M):u.push(M),T=M=>{s&&e.next(M),l++;let R=!1;Fe(n(M,h++)).subscribe(pe(e,N=>{i?.(N),s?y(N):e.next(N)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let N=u.shift();o?It(e,o,()=>T(N)):T(N)}m()}catch(N){e.error(N)}}))};return t.subscribe(pe(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Le(t,e,n=1/0){return ne(e)?Le((r,i)=>re((s,o)=>e(r,s,i,o))(Fe(t(r,i))),n):(typeof e=="number"&&(n=e),ye((r,i)=>vE(r,i,t,n)))}function ds(t=1/0){return Le(Tt,t)}function _E(){return ds(1)}function hs(...t){return _E()(Re(t,gr(t)))}function Fu(t){return new de(e=>{Fe(t()).subscribe(e)})}function zf(...t){let e=Eu(t),{args:n,keys:r}=Ou(t),i=new de(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;Fe(n[h]).subscribe(pe(s,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?ku(r,a):a),s.complete())}))}});return e?i.pipe(Pu(e)):i}function wt(t,e){return ye((n,r)=>{let i=0;n.subscribe(pe(r,s=>t.call(e,s,i++)&&r.next(s)))})}function vr(t){return ye((e,n)=>{let r=null,i=!1,s;r=e.subscribe(pe(n,void 0,void 0,o=>{s=Fe(t(o,vr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function IE(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(pe(o,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Mn(t,e){return ne(e)?Le(t,e,1):Le(t,1)}function _r(t){return ye((e,n)=>{let r=!1;e.subscribe(pe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Nn(t){return t<=0?()=>Ct:ye((e,n)=>{let r=0;e.subscribe(pe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function qf(t){return re(()=>t)}function Lu(t=HM){return ye((e,n)=>{let r=!1;e.subscribe(pe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function HM(){return new Rn}function oi(t){return ye((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function on(t,e){let n=arguments.length>=2;return r=>r.pipe(t?wt((i,s)=>t(i,s,r)):Tt,Nn(1),n?_r(e):Lu(()=>new Rn))}function fs(t){return t<=0?()=>Ct:ye((e,n)=>{let r=[];e.subscribe(pe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Gf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?wt((i,s)=>t(i,s,r)):Tt,fs(1),n?_r(e):Lu(()=>new Rn))}function Wf(t,e){return ye(IE(t,e,arguments.length>=2,!0))}function Kf(...t){let e=gr(t);return ye((n,r)=>{(e?hs(t,n,e):hs(t,n)).subscribe(r)})}function Et(t,e){return ye((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(pe(r,u=>{i?.unsubscribe();let l=0,h=s++;Fe(t(u,h)).subscribe(i=pe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Qf(t){return ye((e,n)=>{Fe(t).subscribe(pe(n,()=>n.complete(),ta)),!n.closed&&e.subscribe(n)})}function Ve(t,e,n){let r=ne(t)||e||n?{next:t,error:e,complete:n}:t;return r?ye((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(pe(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Tt}var oD="https://g.co/ng/security#xss",B=class extends Error{constructor(e,n){super(vl(e,n)),this.code=e}};function vl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ma(t){return{toString:t}.toString()}var Vu="__parameters__";function zM(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function aD(t,e,n){return ma(()=>{let r=zM(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(Vu)?u[Vu]:Object.defineProperty(u,Vu,{value:[]})[Vu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var lp=globalThis;function Ce(t){for(let e in t)if(t[e]===Ce)return e;throw Error("Could not find renamed property on target object.")}function qM(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function yt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(yt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function wE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var GM=Ce({__forward_ref__:Ce});function Ii(t){return t.__forward_ref__=Ii,t.toString=function(){return yt(this())},t}function mt(t){return cD(t)?t():t}function cD(t){return typeof t=="function"&&t.hasOwnProperty(GM)&&t.__forward_ref__===Ii}function U(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function At(t){return{providers:t.providers||[],imports:t.imports||[]}}function _l(t){return EE(t,lD)||EE(t,dD)}function uD(t){return _l(t)!==null}function EE(t,e){return t.hasOwnProperty(e)?t[e]:null}function WM(t){let e=t&&(t[lD]||t[dD]);return e||null}function DE(t){return t&&(t.hasOwnProperty(bE)||t.hasOwnProperty(KM))?t[bE]:null}var lD=Ce({\u0275prov:Ce}),bE=Ce({\u0275inj:Ce}),dD=Ce({ngInjectableDef:Ce}),KM=Ce({ngInjectorDef:Ce}),V=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=U({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function hD(t){return t&&!!t.\u0275providers}var QM=Ce({\u0275cmp:Ce}),YM=Ce({\u0275dir:Ce}),JM=Ce({\u0275pipe:Ce}),ZM=Ce({\u0275mod:Ce}),Qu=Ce({\u0275fac:Ce}),sa=Ce({__NG_ELEMENT_ID__:Ce}),TE=Ce({__NG_ENV_ID__:Ce});function Il(t){return typeof t=="string"?t:t==null?"":String(t)}function XM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Il(t)}function eN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new B(-200,t)}function fg(t,e){throw new B(-201,!1)}var ae=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ae||{}),dp;function fD(){return dp}function Ot(t){let e=dp;return dp=t,e}function pD(t,e,n){let r=_l(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ae.Optional)return null;if(e!==void 0)return e;fg(t,"Injector")}var tN={},oa=tN,hp="__NG_DI_FLAG__",Yu="ngTempTokenPath",nN="ngTokenPath",rN=/\n/gm,iN="\u0275",CE="__source",vs;function sN(){return vs}function Ir(t){let e=vs;return vs=t,e}function oN(t,e=ae.Default){if(vs===void 0)throw new B(-203,!1);return vs===null?pD(t,void 0,e):vs.get(t,e&ae.Optional?null:void 0,e)}function q(t,e=ae.Default){return(fD()||oN)(mt(t),e)}function P(t,e=ae.Default){return q(t,wl(e))}function wl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function fp(t){let e=[];for(let n=0;n<t.length;n++){let r=mt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,s=ae.Default;for(let o=0;o<r.length;o++){let a=r[o],u=aN(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(q(i,s))}else e.push(q(r))}return e}function gD(t,e){return t[hp]=e,t.prototype[hp]=e,t}function aN(t){return t[hp]}function cN(t,e,n,r){let i=t[Yu];throw e[CE]&&i.unshift(e[CE]),t.message=uN(`
`+t.message,i,n,r),t[nN]=i,t[Yu]=null,t}function uN(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==iN?t.slice(2):t;let i=yt(e);if(Array.isArray(e))i=e.map(yt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):yt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(rN,`
  `)}`}var ut=gD(aD("Optional"),8);var pg=gD(aD("SkipSelf"),4);function Is(t,e){let n=t.hasOwnProperty(Qu);return n?t[Qu]:null}function lN(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function dN(t){return t.flat(Number.POSITIVE_INFINITY)}function gg(t,e){t.forEach(n=>Array.isArray(n)?gg(n,e):e(n))}function mD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ju(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function hN(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function fN(t,e,n){let r=ya(t,e);return r>=0?t[r|1]=n:(r=~r,hN(t,r,e,n)),r}function Yf(t,e){let n=ya(t,e);if(n>=0)return t[n|1]}function ya(t,e){return pN(t,e,1)}function pN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var ws={},kt=[],Es=new V(""),yD=new V("",-1),vD=new V(""),Zu=class{get(e,n=oa){if(n===oa){let r=new Error(`NullInjectorError: No provider for ${yt(e)}!`);throw r.name="NullInjectorError",r}return n}},_D=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(_D||{}),un=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(un||{}),Dr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Dr||{});function gN(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function pp(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];mN(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function ID(t){return t===3||t===4||t===6}function mN(t){return t.charCodeAt(0)===64}function aa(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?AE(t,n,i,null,e[++r]):AE(t,n,i,null,null))}}return t}function AE(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var wD="ng-template";function yN(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&gN(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(mg(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function mg(t){return t.type===4&&t.value!==wD}function vN(t,e,n){let r=t.type===4&&!n?wD:t.value;return e===r}function _N(t,e,n){let r=4,i=t.attrs,s=i!==null?EN(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Qt(r)&&!Qt(u))return!1;if(o&&Qt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!vN(t,u,n)||u===""&&e.length===1){if(Qt(r))return!1;o=!0}}else if(r&8){if(i===null||!yN(t,i,u,n)){if(Qt(r))return!1;o=!0}}else{let l=e[++a],h=IN(u,i,mg(t),n);if(h===-1){if(Qt(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Qt(r))return!1;o=!0}}}}return Qt(r)||o}function Qt(t){return(t&1)===0}function IN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return DN(e,t)}function wN(t,e,n=!1){for(let r=0;r<e.length;r++)if(_N(t,e[r],n))return!0;return!1}function EN(t){for(let e=0;e<t.length;e++){let n=t[e];if(ID(n))return e}return t.length}function DN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function SE(t,e){return t?":not("+e.trim()+")":e}function bN(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Qt(o)&&(e+=SE(s,i),i=""),r=o,s=s||!Qt(r);n++}return i!==""&&(e+=SE(s,i)),e}function TN(t){return t.map(bN).join(",")}function CN(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Qt(i))break;i=s}r++}return{attrs:e,classes:n}}function Lt(t){return ma(()=>{let e=CD(t),n=fe(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===_D.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||un.Emulated,styles:t.styles||kt,_:null,schemas:t.schemas||null,tView:null,id:""});AD(n);let r=t.dependencies;return n.directiveDefs=ME(r,!1),n.pipeDefs=ME(r,!0),n.id=RN(n),n})}function AN(t){return br(t)||ED(t)}function SN(t){return t!==null}function St(t){return ma(()=>({type:t.type,bootstrap:t.bootstrap||kt,declarations:t.declarations||kt,imports:t.imports||kt,exports:t.exports||kt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function RE(t,e){if(t==null)return ws;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Dr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Dr.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Ze(t){return ma(()=>{let e=CD(t);return AD(e),e})}function br(t){return t[QM]||null}function ED(t){return t[YM]||null}function DD(t){return t[JM]||null}function bD(t){let e=br(t)||ED(t)||DD(t);return e!==null?e.standalone:!1}function TD(t,e){let n=t[ZM]||null;if(!n&&e===!0)throw new Error(`Type ${yt(t)} does not have '\u0275mod' property.`);return n}function CD(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ws,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||kt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:RE(t.inputs,e),outputs:RE(t.outputs),debugInfo:null}}function AD(t){t.features?.forEach(e=>e(t))}function ME(t,e){if(!t)return null;let n=e?DD:AN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(SN)}function RN(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Vt(t){return{\u0275providers:t}}function MN(...t){return{\u0275providers:SD(!0,t),\u0275fromNgModule:!0}}function SD(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return gg(e,o=>{let a=o;gp(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&RD(i,s),n}function RD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];yg(i,s=>{e(s,r)})}}function gp(t,e,n,r){if(t=mt(t),!t)return!1;let i=null,s=DE(t),o=!s&&br(t);if(!s&&!o){let u=t.ngModule;if(s=DE(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)gp(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{gg(s.imports,h=>{gp(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&RD(l,e)}if(!a){let l=Is(i)||(()=>new i);e({provide:i,useFactory:l,deps:kt},i),e({provide:vD,useValue:i,multi:!0},i),e({provide:Es,useValue:()=>q(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;yg(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function yg(t,e){for(let n of t)hD(n)&&(n=n.\u0275providers),Array.isArray(n)?yg(n,e):e(n)}var NN=Ce({provide:String,useValue:Ce});function MD(t){return t!==null&&typeof t=="object"&&NN in t}function xN(t){return!!(t&&t.useExisting)}function PN(t){return!!(t&&t.useFactory)}function Ds(t){return typeof t=="function"}function ON(t){return!!t.useClass}var El=new V(""),Hu={},kN={},Jf;function vg(){return Jf===void 0&&(Jf=new Zu),Jf}var vt=class{},ca=class extends vt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yp(e,o=>this.processProvider(o)),this.records.set(yD,ps(void 0,this)),i.has("environment")&&this.records.set(vt,ps(void 0,this));let s=this.records.get(El);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(vD,kt,ae.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=le(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),le(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Ir(this),r=Ot(void 0),i;try{return e()}finally{Ir(n),Ot(r)}}get(e,n=oa,r=ae.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(TE))return e[TE](this);r=wl(r);let i,s=Ir(this),o=Ot(void 0);try{if(!(r&ae.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=UN(e)&&_l(e);l&&this.injectableDefInScope(l)?u=ps(mp(e),Hu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ae.Self?vg():this.parent;return n=r&ae.Optional&&n===oa?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Yu]=a[Yu]||[]).unshift(yt(e)),s)throw a;return cN(a,e,"R3InjectorError",this.source)}else throw a}finally{Ot(o),Ir(s)}}resolveInjectorInitializers(){let e=le(null),n=Ir(this),r=Ot(void 0),i;try{let s=this.get(Es,kt,ae.Self);for(let o of s)o()}finally{Ir(n),Ot(r),le(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(yt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B(205,!1)}processProvider(e){e=mt(e);let n=Ds(e)?e:mt(e&&e.provide),r=LN(e);if(!Ds(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ps(void 0,Hu,!0),i.factory=()=>fp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=le(null);try{return n.value===Hu&&(n.value=kN,n.value=n.factory()),typeof n.value=="object"&&n.value&&jN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{le(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=mt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function mp(t){let e=_l(t),n=e!==null?e.factory:Is(t);if(n!==null)return n;if(t instanceof V)throw new B(204,!1);if(t instanceof Function)return FN(t);throw new B(204,!1)}function FN(t){if(t.length>0)throw new B(204,!1);let n=WM(t);return n!==null?()=>n.factory(t):()=>new t}function LN(t){if(MD(t))return ps(void 0,t.useValue);{let e=ND(t);return ps(e,Hu)}}function ND(t,e,n){let r;if(Ds(t)){let i=mt(t);return Is(i)||mp(i)}else if(MD(t))r=()=>mt(t.useValue);else if(PN(t))r=()=>t.useFactory(...fp(t.deps||[]));else if(xN(t))r=()=>q(mt(t.useExisting));else{let i=mt(t&&(t.useClass||t.provide));if(VN(t))r=()=>new i(...fp(t.deps));else return Is(i)||mp(i)}return r}function ps(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function VN(t){return!!t.deps}function jN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function UN(t){return typeof t=="function"||typeof t=="object"&&t instanceof V}function yp(t,e){for(let n of t)Array.isArray(n)?yp(n,e):n&&hD(n)?yp(n.\u0275providers,e):e(n)}function jt(t,e){t instanceof ca&&t.assertNotDestroyed();let n,r=Ir(t),i=Ot(void 0);try{return e()}finally{Ir(r),Ot(i)}}function xD(){return fD()!==void 0||sN()!=null}function BN(t){if(!xD())throw new B(-203,!1)}function $N(t){return typeof t=="function"}var Fn=0,ee=1,J=2,ct=3,Yt=4,Xt=5,ua=6,Xu=7,ot=8,bs=9,ln=10,je=11,la=12,NE=13,xs=14,Jt=15,li=16,gs=17,xn=18,Dl=19,PD=20,wr=21,Zf=22,Ft=23,Zt=25,OD=1;var di=7,el=8,Ts=9,at=10,tl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(tl||{});function Er(t){return Array.isArray(t)&&typeof t[OD]=="object"}function Ln(t){return Array.isArray(t)&&t[OD]===!0}function kD(t){return(t.flags&4)!==0}function bl(t){return t.componentOffset>-1}function _g(t){return(t.flags&1)===1}function Tr(t){return!!t.template}function vp(t){return(t[J]&512)!==0}var _p=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function FD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Ar(){return LD}function LD(t){return t.type.prototype.ngOnChanges&&(t.setInput=zN),HN}Ar.ngInherit=!0;function HN(){let t=jD(this),e=t?.current;if(e){let n=t.previous;if(n===ws)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function zN(t,e,n,r,i){let s=this.declaredInputs[r],o=jD(t)||qN(t,{previous:ws,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new _p(l&&l.currentValue,n,u===ws),FD(t,e,i,n)}var VD="__ngSimpleChanges__";function jD(t){return t[VD]||null}function qN(t,e){return t[VD]=e}var xE=null;var an=function(t,e,n){xE?.(t,e,n)},GN="svg",WN="math";function dn(t){for(;Array.isArray(t);)t=t[Fn];return t}function UD(t,e){return dn(e[t])}function Ut(t,e){return dn(e[t.index])}function Ig(t,e){return t.data[e]}function Sr(t,e){let n=e[t];return Er(n)?n:n[Fn]}function KN(t){return(t[J]&4)===4}function wg(t){return(t[J]&128)===128}function QN(t){return Ln(t[ct])}function Cs(t,e){return e==null?null:t[e]}function BD(t){t[gs]=0}function $D(t){t[J]&1024||(t[J]|=1024,wg(t)&&Cl(t))}function YN(t,e){for(;t>0;)e=e[xs],t--;return e}function Tl(t){return!!(t[J]&9216||t[Ft]?.dirty)}function Ip(t){t[ln].changeDetectionScheduler?.notify(8),t[J]&64&&(t[J]|=1024),Tl(t)&&Cl(t)}function Cl(t){t[ln].changeDetectionScheduler?.notify(0);let e=hi(t);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!wg(e)));)e=hi(e)}function HD(t,e){if((t[J]&256)===256)throw new B(911,!1);t[wr]===null&&(t[wr]=[]),t[wr].push(e)}function JN(t,e){if(t[wr]===null)return;let n=t[wr].indexOf(e);n!==-1&&t[wr].splice(n,1)}function hi(t){let e=t[ct];return Ln(e)?e[ct]:e}var ue={lFrame:ZD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var zD=!1;function ZN(){return ue.lFrame.elementDepthCount}function XN(){ue.lFrame.elementDepthCount++}function ex(){ue.lFrame.elementDepthCount--}function qD(){return ue.bindingsEnabled}function tx(){return ue.skipHydrationRootTNode!==null}function nx(t){return ue.skipHydrationRootTNode===t}function rx(){ue.skipHydrationRootTNode=null}function ve(){return ue.lFrame.lView}function Xe(){return ue.lFrame.tView}function Al(t){return ue.lFrame.contextLView=t,t[ot]}function Sl(t){return ue.lFrame.contextLView=null,t}function _t(){let t=GD();for(;t!==null&&t.type===64;)t=t.parent;return t}function GD(){return ue.lFrame.currentTNode}function ix(){let t=ue.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function va(t,e){let n=ue.lFrame;n.currentTNode=t,n.isParent=e}function WD(){return ue.lFrame.isParent}function sx(){ue.lFrame.isParent=!1}function KD(){return zD}function PE(t){zD=t}function ox(){let t=ue.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ax(t){return ue.lFrame.bindingIndex=t}function Ps(){return ue.lFrame.bindingIndex++}function cx(t){let e=ue.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ux(){return ue.lFrame.inI18n}function lx(t,e){let n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,wp(e)}function dx(){return ue.lFrame.currentDirectiveIndex}function wp(t){ue.lFrame.currentDirectiveIndex=t}function hx(t){let e=ue.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function QD(){return ue.lFrame.currentQueryIndex}function Eg(t){ue.lFrame.currentQueryIndex=t}function fx(t){let e=t[ee];return e.type===2?e.declTNode:e.type===1?t[Xt]:null}function YD(t,e,n){if(n&ae.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ae.Host);)if(i=fx(s),i===null||(s=s[xs],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ue.lFrame=JD();return r.currentTNode=e,r.lView=t,!0}function Dg(t){let e=JD(),n=t[ee];ue.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function JD(){let t=ue.lFrame,e=t===null?null:t.child;return e===null?ZD(t):e}function ZD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function XD(){let t=ue.lFrame;return ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var eb=XD;function bg(){let t=XD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function px(t){return(ue.lFrame.contextLView=YN(t,ue.lFrame.contextLView))[ot]}function wi(){return ue.lFrame.selectedIndex}function fi(t){ue.lFrame.selectedIndex=t}function Rl(){let t=ue.lFrame;return Ig(t.tView,t.selectedIndex)}function gx(){return ue.lFrame.currentNamespace}var tb=!0;function Tg(){return tb}function Cg(t){tb=t}function mx(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=LD(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Ag(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function zu(t,e,n){nb(t,e,3,n)}function qu(t,e,n,r){(t[J]&3)===n&&nb(t,e,n,r)}function Xf(t,e){let n=t[J];(n&3)===e&&(n&=16383,n+=1,t[J]=n)}function nb(t,e,n,r){let i=r!==void 0?t[gs]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[gs]+=65536),(a<s||s==-1)&&(yx(t,n,e,u),t[gs]=(t[gs]&4294901760)+u+2),u++}function OE(t,e){an(4,t,e);let n=le(null);try{e.call(t)}finally{le(n),an(5,t,e)}}function yx(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[J]>>14<t[gs]>>16&&(t[J]&3)===e&&(t[J]+=16384,OE(a,s)):OE(a,s)}var _s=-1,pi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function vx(t){return t instanceof pi}function _x(t){return(t.flags&8)!==0}function Ix(t){return(t.flags&16)!==0}var ep={},Ep=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=wl(r);let i=this.injector.get(e,ep,r);return i!==ep||n===ep?i:this.parentInjector.get(e,n,r)}};function rb(t){return t!==_s}function nl(t){return t&32767}function wx(t){return t>>16}function rl(t,e){let n=wx(t),r=e;for(;n>0;)r=r[xs],n--;return r}var Dp=!0;function kE(t){let e=Dp;return Dp=t,e}var Ex=256,ib=Ex-1,sb=5,Dx=0,cn={};function bx(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(sa)&&(r=n[sa]),r==null&&(r=n[sa]=Dx++);let i=r&ib,s=1<<i;e.data[t+(i>>sb)]|=s}function il(t,e){let n=ob(t,e);if(n!==-1)return n;let r=e[ee];r.firstCreatePass&&(t.injectorIndex=e.length,tp(r.data,t),tp(e,null),tp(r.blueprint,null));let i=Sg(t,e),s=t.injectorIndex;if(rb(i)){let o=nl(i),a=rl(i,e),u=a[ee].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function tp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ob(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Sg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=db(i),r===null)return _s;if(n++,i=i[xs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return _s}function bp(t,e,n){bx(t,e,n)}function Tx(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(ID(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function ab(t,e,n){if(n&ae.Optional||t!==void 0)return t;fg(e,"NodeInjector")}function cb(t,e,n,r){if(n&ae.Optional&&r===void 0&&(r=null),!(n&(ae.Self|ae.Host))){let i=t[bs],s=Ot(void 0);try{return i?i.get(e,r,n&ae.Optional):pD(e,r,n&ae.Optional)}finally{Ot(s)}}return ab(r,e,n)}function ub(t,e,n,r=ae.Default,i){if(t!==null){if(e[J]&2048&&!(r&ae.Self)){let o=Rx(t,e,n,r,cn);if(o!==cn)return o}let s=lb(t,e,n,r,cn);if(s!==cn)return s}return cb(e,n,r,i)}function lb(t,e,n,r,i){let s=Ax(n);if(typeof s=="function"){if(!YD(e,t,r))return r&ae.Host?ab(i,n,r):cb(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ae.Optional))fg(n);else return o}finally{eb()}}else if(typeof s=="number"){let o=null,a=ob(t,e),u=_s,l=r&ae.Host?e[Jt][Xt]:null;for((a===-1||r&ae.SkipSelf)&&(u=a===-1?Sg(t,e):e[a+8],u===_s||!LE(r,!1)?a=-1:(o=e[ee],a=nl(u),e=rl(u,e)));a!==-1;){let h=e[ee];if(FE(s,a,h.data)){let p=Cx(a,e,n,o,r,l);if(p!==cn)return p}u=e[a+8],u!==_s&&LE(r,e[ee].data[a+8]===l)&&FE(s,a,e)?(o=h,a=nl(u),e=rl(u,e)):a=-1}}return i}function Cx(t,e,n,r,i,s){let o=e[ee],a=o.data[t+8],u=r==null?bl(a)&&Dp:r!=o&&(a.type&3)!==0,l=i&ae.Host&&s===a,h=Gu(a,o,n,u,l);return h!==null?gi(e,o,h,a):cn}function Gu(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let T=o[y];if(y<u&&n===T||y>=u&&T.type===n)return y}if(i){let y=o[u];if(y&&Tr(y)&&y.type===n)return u}return null}function gi(t,e,n,r){let i=t[n],s=e.data;if(vx(i)){let o=i;o.resolving&&eN(XM(s[n]));let a=kE(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Ot(o.injectImpl):null,h=YD(t,r,ae.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&mx(n,s[n],e)}finally{l!==null&&Ot(l),kE(a),o.resolving=!1,eb()}}return i}function Ax(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(sa)?t[sa]:void 0;return typeof e=="number"?e>=0?e&ib:Sx:e}function FE(t,e,n){let r=1<<t;return!!(n[e+(t>>sb)]&r)}function LE(t,e){return!(t&ae.Self)&&!(t&ae.Host&&e)}var ui=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return ub(this._tNode,this._lView,e,wl(r),n)}};function Sx(){return new ui(_t(),ve())}function Os(t){return ma(()=>{let e=t.prototype.constructor,n=e[Qu]||Tp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Qu]||Tp(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Tp(t){return cD(t)?()=>{let e=Tp(mt(t));return e&&e()}:Is(t)}function Rx(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[J]&2048&&!(o[J]&512);){let a=lb(s,o,n,r|ae.Self,cn);if(a!==cn)return a;let u=s.parent;if(!u){let l=o[PD];if(l){let h=l.get(n,cn,r);if(h!==cn)return h}u=db(o),o=o[xs]}s=u}return i}function db(t){let e=t[ee],n=e.type;return n===2?e.declTNode:n===1?t[Xt]:null}function Rg(t){return Tx(_t(),t)}function VE(t,e=null,n=null,r){let i=hb(t,e,n,r);return i.resolveInjectorInitializers(),i}function hb(t,e=null,n=null,r,i=new Set){let s=[n||kt,MN(t)];return r=r||(typeof t=="object"?void 0:yt(t)),new ca(s,e||vg(),r||null,i)}var ai=class ai{static create(e,n){if(Array.isArray(e))return VE({name:""},n,e,"");{let r=e.name??"";return VE({name:r},e.parent,e.providers,r)}}};ai.THROW_IF_NOT_FOUND=oa,ai.NULL=new Zu,ai.\u0275prov=U({token:ai,providedIn:"any",factory:()=>q(yD)}),ai.__NG_ELEMENT_ID__=-1;var Je=ai;var Mx=new V("");Mx.__NG_ELEMENT_ID__=t=>{let e=_t();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(t&ae.Optional)return null;throw new B(204,!1)};var Nx="ngOriginalError";function np(t){return t[Nx]}var fb=!0,Mg=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=xx,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Cp=class extends Mg{constructor(e){super(),this._lView=e}onDestroy(e){return HD(this._lView,e),()=>JN(this._lView,e)}};function xx(){return new Cp(ve())}var Rr=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ye(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=U({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Ap=class extends qe{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,xD()&&(this.destroyRef=P(Mg,{optional:!0})??void 0,this.pendingTasks=P(Rr,{optional:!0})??void 0)}emit(e){let n=le(null);try{super.next(e)}finally{le(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof xe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},ke=Ap;function sl(...t){}function pb(t){let e,n;function r(){t=sl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function jE(t){return queueMicrotask(()=>t()),()=>{t=sl}}var Ng="isAngularZone",ol=Ng+"_ID",Px=0,we=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ke(!1),this.onMicrotaskEmpty=new ke(!1),this.onStable=new ke(!1),this.onError=new ke(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=fb}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,Fx(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ng)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new B(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Ox,sl,sl);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Ox={};function xg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function kx(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){pb(()=>{t.callbackScheduled=!1,Sp(t),t.isCheckStableRunning=!0,xg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Sp(t)}function Fx(t){let e=()=>{kx(t)},n=Px++;t._inner=t._inner.fork({name:"angular",properties:{[Ng]:!0,[ol]:n,[ol+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(Lx(u))return r.invokeTask(s,o,a,u);try{return UE(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),BE(t)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return UE(t),r.invoke(s,o,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Vx(u)&&e(),BE(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Sp(t),xg(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Sp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function UE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function BE(t){t._nesting--,xg(t)}var Rp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ke,this.onMicrotaskEmpty=new ke,this.onStable=new ke,this.onError=new ke}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Lx(t){return gb(t,"__ignore_ng_zone__")}function Vx(t){return gb(t,"__scheduler_tick__")}function gb(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Pn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&np(e);for(;n&&np(n);)n=np(n);return n||null}},jx=new V("",{providedIn:"root",factory:()=>{let t=P(we),e=P(Pn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function Ux(){return ks(_t(),ve())}function ks(t,e){return new en(Ut(t,e))}var en=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=Ux;let t=e;return t})();function Bx(t){return t instanceof en?t.nativeElement:t}function $x(){return this._results[Symbol.iterator]()}var Mp=class t{get changes(){return this._changes??=new ke}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=$x)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=dN(e);(this._changesDetected=!lN(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function mb(t){return(t.flags&128)===128}var yb=new Map,Hx=0;function zx(){return Hx++}function qx(t){yb.set(t[Dl],t)}function Np(t){yb.delete(t[Dl])}var $E="__ngContext__";function mi(t,e){Er(e)?(t[$E]=e[Dl],qx(e)):t[$E]=e}function vb(t){return Ib(t[la])}function _b(t){return Ib(t[Yt])}function Ib(t){for(;t!==null&&!Ln(t);)t=t[Yt];return t}var xp;function wb(t){xp=t}function Gx(){if(xp!==void 0)return xp;if(typeof document<"u")return document;throw new B(210,!1)}var Pg=new V("",{providedIn:"root",factory:()=>Wx}),Wx="ng",Og=new V(""),Bt=new V("",{providedIn:"platform",factory:()=>"unknown"});var kg=new V("",{providedIn:"root",factory:()=>Gx().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Kx="h",Qx="b";var Yx=()=>null;function Fg(t,e,n=!1){return Yx(t,e,n)}var Eb=!1,Jx=new V("",{providedIn:"root",factory:()=>Eb});var ju;function Zx(){if(ju===void 0&&(ju=null,lp.trustedTypes))try{ju=lp.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ju}function HE(t){return Zx()?.createScriptURL(t)||t}var al=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${oD})`}};function _a(t){return t instanceof al?t.changingThisBreaksApplicationSecurity:t}function Lg(t,e){let n=Xx(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${oD})`)}return n===e}function Xx(t){return t instanceof al&&t.getTypeName()||null}var eP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Db(t){return t=String(t),t.match(eP)?t:"unsafe:"+t}var Ml=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ml||{});function Vg(t){let e=Tb();return e?e.sanitize(Ml.URL,t)||"":Lg(t,"URL")?_a(t):Db(Il(t))}function tP(t){let e=Tb();if(e)return HE(e.sanitize(Ml.RESOURCE_URL,t)||"");if(Lg(t,"ResourceURL"))return HE(_a(t));throw new B(904,!1)}function nP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?tP:Vg}function bb(t,e,n){return nP(e,n)(t)}function Tb(){let t=ve();return t&&t[ln].sanitizer}function Cb(t){return t instanceof Function?t():t}function rP(t){return(t??P(Je)).get(Bt)==="browser"}var On=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(On||{}),iP;function jg(t,e){return iP(t,e)}function ms(t,e,n,r,i){if(r!=null){let s,o=!1;Ln(r)?s=r:Er(r)&&(o=!0,r=r[Fn]);let a=dn(r);t===0&&n!==null?i==null?Mb(e,n,a):cl(e,n,a,i||null,!0):t===1&&n!==null?cl(e,n,a,i||null,!0):t===2?_P(e,a,o):t===3&&e.destroyNode(a),s!=null&&wP(e,t,s,n,i)}}function sP(t,e){return t.createText(e)}function oP(t,e,n){t.setValue(e,n)}function Ab(t,e,n){return t.createElement(e,n)}function aP(t,e){Sb(t,e),e[Fn]=null,e[Xt]=null}function cP(t,e,n,r,i,s){r[Fn]=i,r[Xt]=e,xl(t,r,n,1,i,s)}function Sb(t,e){e[ln].changeDetectionScheduler?.notify(9),xl(t,e,e[je],2,null,null)}function uP(t){let e=t[la];if(!e)return rp(t[ee],t);for(;e;){let n=null;if(Er(e))n=e[la];else{let r=e[at];r&&(n=r)}if(!n){for(;e&&!e[Yt]&&e!==t;)Er(e)&&rp(e[ee],e),e=e[ct];e===null&&(e=t),Er(e)&&rp(e[ee],e),n=e&&e[Yt]}e=n}}function lP(t,e,n,r){let i=at+r,s=n.length;r>0&&(n[i-1][Yt]=e),r<s-at?(e[Yt]=n[i],mD(n,at+r,e)):(n.push(e),e[Yt]=null),e[ct]=n;let o=e[li];o!==null&&n!==o&&Rb(o,e);let a=e[xn];a!==null&&a.insertView(t),Ip(e),e[J]|=128}function Rb(t,e){let n=t[Ts],r=e[ct];if(Er(r))t[J]|=tl.HasTransplantedViews;else{let i=r[ct][Jt];e[Jt]!==i&&(t[J]|=tl.HasTransplantedViews)}n===null?t[Ts]=[e]:n.push(e)}function Ug(t,e){let n=t[Ts],r=n.indexOf(e);n.splice(r,1)}function da(t,e){if(t.length<=at)return;let n=at+e,r=t[n];if(r){let i=r[li];i!==null&&i!==t&&Ug(i,r),e>0&&(t[n-1][Yt]=r[Yt]);let s=Ju(t,at+e);aP(r[ee],r);let o=s[xn];o!==null&&o.detachView(s[ee]),r[ct]=null,r[Yt]=null,r[J]&=-129}return r}function Nl(t,e){if(!(e[J]&256)){let n=e[je];n.destroyNode&&xl(t,e,n,3,null,null),uP(e)}}function rp(t,e){if(e[J]&256)return;let n=le(null);try{e[J]&=-129,e[J]|=256,e[Ft]&&Sf(e[Ft]),hP(t,e),dP(t,e),e[ee].type===1&&e[je].destroy();let r=e[li];if(r!==null&&Ln(e[ct])){r!==e[ct]&&Ug(r,e);let i=e[xn];i!==null&&i.detachView(t)}Np(e)}finally{le(n)}}function dP(t,e){let n=t.cleanup,r=e[Xu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Xu]=null);let i=e[wr];if(i!==null){e[wr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function hP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof pi)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];an(4,a,u);try{u.call(a)}finally{an(5,a,u)}}else{an(4,i,s);try{s.call(i)}finally{an(5,i,s)}}}}}function fP(t,e,n){return pP(t,e.parent,n)}function pP(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Fn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===un.None||s===un.Emulated)return null}return Ut(r,n)}}function cl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Mb(t,e,n){t.appendChild(e,n)}function zE(t,e,n,r,i){r!==null?cl(t,e,n,r,i):Mb(t,e,n)}function Nb(t,e){return t.parentNode(e)}function gP(t,e){return t.nextSibling(e)}function mP(t,e,n){return vP(t,e,n)}function yP(t,e,n){return t.type&40?Ut(t,n):null}var vP=yP,qE;function Bg(t,e,n,r){let i=fP(t,r,e),s=e[je],o=r.parent||e[Xt],a=mP(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)zE(s,i,n[u],a,!1);else zE(s,i,n,a,!1);qE!==void 0&&qE(s,r,e,n,i)}function ia(t,e){if(e!==null){let n=e.type;if(n&3)return Ut(e,t);if(n&4)return Pp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ia(t,r);{let i=t[e.index];return Ln(i)?Pp(-1,i):dn(i)}}else{if(n&128)return ia(t,e.next);if(n&32)return jg(e,t)()||dn(t[e.index]);{let r=xb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=hi(t[Jt]);return ia(i,r)}else return ia(t,e.next)}}}return null}function xb(t,e){if(e!==null){let r=t[Jt][Xt],i=e.projection;return r.projection[i]}return null}function Pp(t,e){let n=at+t+1;if(n<e.length){let r=e[n],i=r[ee].firstChild;if(i!==null)return ia(r,i)}return e[di]}function _P(t,e,n){t.removeChild(null,e,n)}function $g(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&mi(dn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)$g(t,e,n.child,r,i,s,!1),ms(e,t,i,a,s);else if(u&32){let l=jg(n,r),h;for(;h=l();)ms(e,t,i,h,s);ms(e,t,i,a,s)}else u&16?IP(t,e,r,n,i,s):ms(e,t,i,a,s);n=o?n.projectionNext:n.next}}function xl(t,e,n,r,i,s){$g(n,r,t.firstChild,e,i,s,!1)}function IP(t,e,n,r,i,s){let o=n[Jt],u=o[Xt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];ms(e,t,i,h,s)}else{let l=u,h=o[ct];mb(r)&&(l.flags|=128),$g(t,e,l,h,i,s,!0)}}function wP(t,e,n,r,i){let s=n[di],o=dn(n);s!==o&&ms(e,t,r,s,i);for(let a=at;a<n.length;a++){let u=n[a];xl(u[ee],u,t,e,r,s)}}function EP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:On.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=On.Important),t.setStyle(n,r,i,s))}}function DP(t,e,n){t.setAttribute(e,"style",n)}function Pb(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Ob(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&pp(t,e,r),i!==null&&Pb(t,e,i),s!==null&&DP(t,e,s)}var Vn={};function $t(t=1){kb(Xe(),ve(),wi()+t,!1)}function kb(t,e,n,r){if(!r)if((e[J]&3)===3){let s=t.preOrderCheckHooks;s!==null&&zu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&qu(e,s,0,n)}fi(n)}function ce(t,e=ae.Default){let n=ve();if(n===null)return q(t,e);let r=_t();return ub(r,n,mt(t),e)}function Fb(){let t="invalid";throw new Error(t)}function Lb(t,e,n,r,i,s){let o=le(null);try{let a=null;i&Dr.SignalBased&&(a=e[r][Sn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Dr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):FD(e,a,r,s)}finally{le(o)}}function bP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)fi(~i);else{let s=i,o=n[++r],a=n[++r];lx(o,s);let u=e[s];a(2,u)}}}finally{fi(-1)}}function Pl(t,e,n,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[Fn]=i,p[J]=r|4|128|8|64,(l!==null||t&&t[J]&2048)&&(p[J]|=2048),BD(p),p[ct]=p[xs]=t,p[ot]=n,p[ln]=o||t&&t[ln],p[je]=a||t&&t[je],p[bs]=u||t&&t[bs]||null,p[Xt]=s,p[Dl]=zx(),p[ua]=h,p[PD]=l,p[Jt]=e.type==2?t[Jt]:p,p}function Ol(t,e,n,r,i){let s=t.data[e];if(s===null)s=TP(t,e,n,r,i),ux()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=ix();s.injectorIndex=o===null?-1:o.injectorIndex}return va(s,!0),s}function TP(t,e,n,r,i){let s=GD(),o=WD(),a=o?s:s&&s.parent,u=t.data[e]=NP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function Vb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function jb(t,e,n,r,i){let s=wi(),o=r&2;try{fi(-1),o&&e.length>Zt&&kb(t,e,Zt,!1),an(o?2:0,i),n(r,i)}finally{fi(s),an(o?3:1,i)}}function Ub(t,e,n){if(kD(e)){let r=le(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{le(r)}}}function Bb(t,e,n){qD()&&(LP(t,e,n,Ut(n,e)),(n.flags&64)===64&&Gb(t,e,n))}function $b(t,e,n=Ut){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function Hb(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Hg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Hg(t,e,n,r,i,s,o,a,u,l,h){let p=Zt+r,m=p+i,y=CP(p,m),T=typeof l=="function"?l():l;return y[ee]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:T,incompleteFirstPass:!1,ssrId:h}}function CP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Vn);return n}function AP(t,e,n,r){let s=r.get(Jx,Eb)||n===un.ShadowDom,o=t.selectRootElement(e,s);return SP(o),o}function SP(t){RP(t)}var RP=()=>null;function MP(t,e,n,r){let i=Qb(e);i.push(n),t.firstCreatePass&&Yb(t).push(r,i.length-1)}function NP(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return tx()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function GE(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=Dr.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?WE(r,n,l,a,u):WE(r,n,l,a)}return r}function WE(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function xP(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],m=n?n.get(p):null,y=m?m.inputs:null,T=m?m.outputs:null;u=GE(0,p.inputs,h,u,y),l=GE(1,p.outputs,h,l,T);let M=u!==null&&o!==null&&!mg(e)?KP(u,h,o):null;a.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function PP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function zg(t,e,n,r,i,s,o,a){let u=Ut(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(qg(t,n,h,r,i),bl(e)&&OP(n,e.index)):e.type&3?(r=PP(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function OP(t,e){let n=Sr(e,t);n[J]&16||(n[J]|=64)}function zb(t,e,n,r){if(qD()){let i=r===null?null:{"":-1},s=jP(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&qb(t,e,n,o,i,a),i&&UP(n,r,i)}n.mergedAttrs=aa(n.mergedAttrs,n.attrs)}function qb(t,e,n,r,i,s){for(let l=0;l<r.length;l++)bp(il(n,e),t,r[l].type);$P(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=Vb(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=aa(n.mergedAttrs,h.hostAttrs),HP(t,n,e,u,h),BP(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}xP(t,n,s)}function kP(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;FP(o)!=a&&o.push(a),o.push(n,r,s)}}function FP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function LP(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;bl(n)&&zP(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||il(n,e),mi(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=gi(e,t,a,n);if(mi(l,e),o!==null&&WP(e,a-i,l,u,n,o),Tr(u)){let h=Sr(n.index,e);h[ot]=gi(e,t,a,n)}}}function Gb(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=dx();try{fi(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];wp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&VP(u,l)}}finally{fi(-1),wp(o)}}function VP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function jP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(wN(e,o.selectors,!1))if(r||(r=[]),Tr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;Op(t,e,u)}else r.unshift(o),Op(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Op(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function UP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new B(-301,!1);r.push(e[i],s)}}}function BP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Tr(e)&&(n[""]=t)}}function $P(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function HP(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Is(i.type,!0)),o=new pi(s,Tr(i),ce);t.blueprint[r]=o,n[r]=o,kP(t,e,r,Vb(t,n,i.hostVars,Vn),i)}function zP(t,e,n){let r=Ut(e,t),i=Hb(n),s=t[ln].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=kl(t,Pl(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function qP(t,e,n,r,i,s){let o=Ut(t,e);GP(e[je],o,s,t.value,n,r,i)}function GP(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Il(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function WP(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];Lb(r,n,u,l,h,p)}}function KP(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function Wb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Kb(t,e){let n=t.contentQueries;if(n!==null){let r=le(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Eg(s),a.contentQueries(2,e[o],o)}}}finally{le(r)}}}function kl(t,e){return t[la]?t[NE][Yt]=e:t[la]=e,t[NE]=e,e}function kp(t,e,n){Eg(0);let r=le(null);try{e(t,n)}finally{le(r)}}function Qb(t){return t[Xu]??=[]}function Yb(t){return t.cleanup??=[]}function Jb(t,e){let n=t[bs],r=n?n.get(Pn,null):null;r&&r.handleError(e)}function qg(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],h=t.data[o];Lb(h,l,r,a,u,i)}}function QP(t,e,n){let r=UD(e,t);oP(t[je],r,n)}function YP(t,e){let n=Sr(e,t),r=n[ee];JP(r,n);let i=n[Fn];i!==null&&n[ua]===null&&(n[ua]=Fg(i,n[bs])),Gg(r,n,n[ot])}function JP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Gg(t,e,n){Dg(e);try{let r=t.viewQuery;r!==null&&kp(1,r,n);let i=t.template;i!==null&&jb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[xn]?.finishViewCreation(t),t.staticContentQueries&&Kb(t,e),t.staticViewQueries&&kp(2,t.viewQuery,n);let s=t.components;s!==null&&ZP(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[J]&=-5,bg()}}function ZP(t,e){for(let n=0;n<e.length;n++)YP(t,e[n])}function Fl(t,e,n,r){let i=le(null);try{let s=e.tView,a=t[J]&4096?4096:16,u=Pl(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[li]=l;let h=t[xn];return h!==null&&(u[xn]=h.createEmbeddedView(s)),Gg(s,u,n),u}finally{le(i)}}function Zb(t,e){let n=at+e;if(n<t.length)return t[n]}function ha(t,e){return!e||e.firstChild===null||mb(t)}function Ll(t,e,n,r=!0){let i=e[ee];if(lP(i,e,t,n),r){let o=Pp(n,t),a=e[je],u=Nb(a,t[di]);u!==null&&cP(i,t[Xt],a,e,u,o)}let s=e[ua];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Xb(t,e){let n=da(t,e);return n!==void 0&&Nl(n[ee],n),n}function ul(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(dn(s)),Ln(s)&&XP(s,r);let o=n.type;if(o&8)ul(t,e,n.child,r);else if(o&32){let a=jg(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=xb(e,n);if(Array.isArray(a))r.push(...a);else{let u=hi(e[Jt]);ul(u[ee],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function XP(t,e){for(let n=at;n<t.length;n++){let r=t[n],i=r[ee].firstChild;i!==null&&ul(r[ee],r,i,e)}t[di]!==t[Fn]&&e.push(t[di])}var eT=[];function eO(t){return t[Ft]??tO(t)}function tO(t){let e=eT.pop()??Object.create(rO);return e.lView=t,e}function nO(t){t.lView[Ft]!==t&&(t.lView=null,eT.push(t))}var rO=fe(F({},ea),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Cl(t.lView)},consumerOnSignalRead(){this.lView[Ft]=this}});function iO(t){let e=t[Ft]??Object.create(sO);return e.lView=t,e}var sO=fe(F({},ea),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=hi(t.lView);for(;e&&!tT(e[ee]);)e=hi(e);e&&$D(e)},consumerOnSignalRead(){this.lView[Ft]=this}});function tT(t){return t.type!==2}var oO=100;function nT(t,e=!0,n=0){let r=t[ln],i=r.rendererFactory,s=!1;s||i.begin?.();try{aO(t,n)}catch(o){throw e&&Jb(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function aO(t,e){let n=KD();try{PE(!0),Fp(t,e);let r=0;for(;Tl(t);){if(r===oO)throw new B(103,!1);r++,Fp(t,1)}}finally{PE(n)}}function cO(t,e,n,r){let i=e[J];if((i&256)===256)return;let s=!1,o=!1;!s&&e[ln].inlineEffectRunner?.flush(),Dg(e);let a=!0,u=null,l=null;s||(tT(t)?(l=eO(e),u=du(l)):Lw()===null?(a=!1,l=iO(e),u=du(l)):e[Ft]&&(Sf(e[Ft]),e[Ft]=null));try{BD(e),ax(t.bindingStartIndex),n!==null&&jb(t,e,n,2,r);let h=(i&3)===3;if(!s)if(h){let y=t.preOrderCheckHooks;y!==null&&zu(e,y,null)}else{let y=t.preOrderHooks;y!==null&&qu(e,y,0,null),Xf(e,0)}if(o||uO(e),rT(e,0),t.contentQueries!==null&&Kb(t,e),!s)if(h){let y=t.contentCheckHooks;y!==null&&zu(e,y)}else{let y=t.contentHooks;y!==null&&qu(e,y,1),Xf(e,1)}bP(t,e);let p=t.components;p!==null&&sT(e,p,0);let m=t.viewQuery;if(m!==null&&kp(2,m,r),!s)if(h){let y=t.viewCheckHooks;y!==null&&zu(e,y)}else{let y=t.viewHooks;y!==null&&qu(e,y,2),Xf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Zf]){for(let y of e[Zf])y();e[Zf]=null}s||(e[J]&=-73)}catch(h){throw s||Cl(e),h}finally{l!==null&&(Cf(l,u),a&&nO(l)),bg()}}function rT(t,e){for(let n=vb(t);n!==null;n=_b(n))for(let r=at;r<n.length;r++){let i=n[r];iT(i,e)}}function uO(t){for(let e=vb(t);e!==null;e=_b(e)){if(!(e[J]&tl.HasTransplantedViews))continue;let n=e[Ts];for(let r=0;r<n.length;r++){let i=n[r];$D(i)}}}function lO(t,e,n){let r=Sr(e,t);iT(r,n)}function iT(t,e){wg(t)&&Fp(t,e)}function Fp(t,e){let r=t[ee],i=t[J],s=t[Ft],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Af(s)),o||=!1,s&&(s.dirty=!1),t[J]&=-9217,o)cO(r,t,r.template,t[ot]);else if(i&8192){rT(t,1);let a=r.components;a!==null&&sT(t,a,1)}}function sT(t,e,n){for(let r=0;r<e.length;r++)lO(t,e[r],n)}function Wg(t,e){let n=KD()?64:1088;for(t[ln].changeDetectionScheduler?.notify(e);t;){t[J]|=n;let r=hi(t);if(vp(t)&&!r)return t;t=r}return null}var yi=class{get rootNodes(){let e=this._lView,n=e[ee];return ul(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ot]}set context(e){this._lView[ot]=e}get destroyed(){return(this._lView[J]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ct];if(Ln(e)){let n=e[el],r=n?n.indexOf(this):-1;r>-1&&(da(e,r),Ju(n,r))}this._attachedToViewContainer=!1}Nl(this._lView[ee],this._lView)}onDestroy(e){HD(this._lView,e)}markForCheck(){Wg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[J]&=-129}reattach(){Ip(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,nT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=vp(this._lView),n=this._lView[li];n!==null&&!e&&Ug(n,this._lView),Sb(this._lView[ee],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let n=vp(this._lView),r=this._lView[li];r!==null&&!n&&Rb(r,this._lView),Ip(this._lView)}},vi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=fO;let t=e;return t})(),dO=vi,hO=class extends dO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Fl(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new yi(i)}};function fO(){return Kg(_t(),ve())}function Kg(t,e){return t.type&4?new hO(e,t,ks(t,e)):null}var a9=new RegExp(`^(\\d+)*(${Qx}|${Kx})*(.*)`);var pO=()=>null;function fa(t,e){return pO(t,e)}var As=class{},Qg=new V("",{providedIn:"root",factory:()=>!1});var oT=new V(""),aT=new V(""),Lp=class{},ll=class{};function gO(t){let e=Error(`No component factory found for ${yt(t)}.`);return e[mO]=t,e}var mO="ngComponent";var Vp=class{resolveComponentFactory(e){throw gO(e)}},rm=class rm{};rm.NULL=new Vp;var Ss=rm,Rs=class{},Ei=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>yO();let t=e;return t})();function yO(){let t=ve(),e=_t(),n=Sr(e.index,t);return(Er(n)?n:t)[je]}var vO=(()=>{let e=class e{};e.\u0275prov=U({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function jp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=wE(i,a);else if(s==2){let u=a,l=e[++o];r=wE(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var dl=class extends Ss{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=br(e);return new Ms(n,this.ngModule)}};function KE(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:Dr.None;e?n.push({propName:o,templateName:r,isSignal:(a&Dr.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function _O(t){let e=t.toLowerCase();return e==="svg"?GN:e==="math"?WN:null}var Ms=class extends ll{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=KE(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return KE(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=TN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=le(null);try{i=i||this.ngModule;let o=i instanceof vt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Ep(e,o):e,u=a.get(Rs,null);if(u===null)throw new B(407,!1);let l=a.get(vO,null),h=a.get(As,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",T=r?AP(m,r,this.componentDef.encapsulation,a):Ab(m,y,_O(y)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let R=null;T!==null&&(R=Fg(T,a,!0));let N=Hg(0,null,null,1,0,null,null,null,null,null,null),L=Pl(null,N,null,M,null,null,p,m,a,null,R);Dg(L);let $,H,be=null;try{let G=this.componentDef,E,v=null;G.findHostDirectiveDefs?(E=[],v=new Map,G.findHostDirectiveDefs(G,E,v),E.push(G)):E=[G];let _=IO(L,T);be=wO(_,T,G,E,L,p,m),H=Ig(N,Zt),T&&bO(m,G,T,r),n!==void 0&&TO(H,this.ngContentSelectors,n),$=DO(be,G,E,v,L,[CO]),Gg(N,L,null)}catch(G){throw be!==null&&Np(be),Np(L),G}finally{bg()}return new Up(this.componentType,$,ks(H,L),L,H)}finally{le(s)}}},Up=class extends Lp{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new yi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;qg(s[ee],s,i,e,n),this.previousInputValues.set(e,n);let o=Sr(this._tNode.index,s);Wg(o,1)}}get injector(){return new ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function IO(t,e){let n=t[ee],r=Zt;return t[r]=e,Ol(n,r,2,"#host",null)}function wO(t,e,n,r,i,s,o){let a=i[ee];EO(r,t,e,o);let u=null;e!==null&&(u=Fg(e,i[bs]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Pl(i,Hb(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&Op(a,t,r.length-1),kl(i,p),i[t.index]=p}function EO(t,e,n,r){for(let i of t)e.mergedAttrs=aa(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(jp(e,e.mergedAttrs,!0),n!==null&&Ob(r,n,e))}function DO(t,e,n,r,i,s){let o=_t(),a=i[ee],u=Ut(o,i);qb(a,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,m=gi(i,a,p,o);mi(m,i)}Gb(a,i,o),u&&mi(u,i);let l=gi(i,a,o.directiveStart+o.componentOffset,o);if(t[ot]=i[ot]=l,s!==null)for(let h of s)h(l,e);return Ub(a,o,i),l}function bO(t,e,n,r){if(r)pp(t,n,["ng-version","18.2.3"]);else{let{attrs:i,classes:s}=CN(e.selectors[0]);i&&pp(t,n,i),s&&s.length>0&&Pb(t,n,s.join(" "))}}function TO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function CO(){let t=_t();Ag(ve()[ee],t)}var Mr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=AO;let t=e;return t})();function AO(){let t=_t();return uT(t,ve())}var SO=Mr,cT=class extends SO{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ks(this._hostTNode,this._hostLView)}get injector(){return new ui(this._hostTNode,this._hostLView)}get parentInjector(){let e=Sg(this._hostTNode,this._hostLView);if(rb(e)){let n=rl(e,this._hostLView),r=nl(e),i=n[ee].data[r+8];return new ui(i,n)}else return new ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=QE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-at}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=fa(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,ha(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!$N(e),a;if(o)a=n;else{let T=n||{};a=T.index,r=T.injector,i=T.projectableNodes,s=T.environmentInjector||T.ngModuleRef}let u=o?e:new Ms(br(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let M=(o?l:this.parentInjector).get(vt,null);M&&(s=M)}let h=br(u.componentType??{}),p=fa(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,s);return this.insertImpl(y.hostView,a,ha(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(QN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[ct],l=new cT(u,u[Xt],u[ct]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Ll(o,i,s,r),e.attachToViewContainerRef(),mD(ip(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=QE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=da(this._lContainer,n);r&&(Ju(ip(this._lContainer),n),Nl(r[ee],r))}detach(e){let n=this._adjustIndex(e,-1),r=da(this._lContainer,n);return r&&Ju(ip(this._lContainer),n)!=null?new yi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function QE(t){return t[el]}function ip(t){return t[el]||(t[el]=[])}function uT(t,e){let n,r=e[t.index];return Ln(r)?n=r:(n=Wb(r,e,null,t),e[t.index]=n,kl(e,n)),MO(n,e,t,r),new cT(n,t,e)}function RO(t,e){let n=t[je],r=n.createComment(""),i=Ut(e,t),s=Nb(n,i);return cl(n,s,r,gP(n,i),!1),r}var MO=PO,NO=()=>!1;function xO(t,e,n){return NO(t,e,n)}function PO(t,e,n,r){if(t[di])return;let i;n.type&8?i=dn(r):i=RO(e,n),t[di]=i}var Bp=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},$p=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Yg(e,n).matches!==null&&this.queries[n].setDirty()}},Hp=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=BO(e):this.predicate=e}},zp=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},qp=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,OO(n,s)),this.matchTNodeWithReadOption(e,n,Gu(n,e,s,!1,!1))}else r===vi?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Gu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===en||i===Mr||i===vi&&n.type&4)this.addMatch(n.index,-2);else{let s=Gu(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function OO(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function kO(t,e){return t.type&11?ks(t,e):t.type&4?Kg(t,e):null}function FO(t,e,n,r){return n===-1?kO(e,t):n===-2?LO(t,e,r):gi(t,t[ee],n,e)}function LO(t,e,n){if(n===en)return ks(e,t);if(n===vi)return Kg(e,t);if(n===Mr)return uT(e,t)}function lT(t,e,n,r){let i=e[xn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)a.push(null);else{let h=s[l];a.push(FO(e,h,o[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Gp(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=lT(t,e,i,n);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(o[a/2]);else{let l=s[a+1],h=e[-u];for(let p=at;p<h.length;p++){let m=h[p];m[li]===m[ct]&&Gp(m[ee],m,l,r)}if(h[Ts]!==null){let p=h[Ts];for(let m=0;m<p.length;m++){let y=p[m];Gp(y[ee],y,l,r)}}}}}return r}function VO(t,e){return t[xn].queries[e].queryList}function jO(t,e,n){let r=new Mp((n&4)===4);return MP(t,e,r,r.destroy),(e[xn]??=new $p).queries.push(new Bp(r))-1}function UO(t,e,n){let r=Xe();return r.firstCreatePass&&($O(r,new Hp(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),jO(r,ve(),e)}function BO(t){return t.split(",").map(e=>e.trim())}function $O(t,e,n){t.queries===null&&(t.queries=new zp),t.queries.track(new qp(e,n))}function Yg(t,e){return t.queries.getByIndex(e)}function HO(t,e){let n=t[ee],r=Yg(n,e);return r.crossesNgTemplate?Gp(n,t,e,[]):lT(n,t,r,e)}var YE=new Set;function jn(t){YE.has(t)||(YE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function zO(t){return typeof t=="function"&&t[Sn]!==void 0}function Ia(t,e){jn("NgSignals");let n=Kw(t),r=n[Sn];return e?.equal&&(r.equal=e.equal),n.set=i=>Rf(r,i),n.update=i=>Qw(r,i),n.asReadonly=qO.bind(n),n}function qO(){let t=this[Sn];if(t.readonlyFn===void 0){let e=()=>this();e[Sn]=t,t.readonlyFn=e}return t.readonlyFn}function dT(t){return zO(t)&&typeof t.set=="function"}function GO(t){return Object.getPrototypeOf(t.prototype).constructor}function Un(t){let e=GO(t.type),n=!0,r=[t];for(;e;){let i;if(Tr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Uu(t.inputs),o.inputTransforms=Uu(t.inputTransforms),o.declaredInputs=Uu(t.declaredInputs),o.outputs=Uu(t.outputs);let a=i.hostBindings;a&&JO(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&QO(t,u),l&&YO(t,l),WO(t,i),qM(t.outputs,i.outputs),Tr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Un&&(n=!1)}}e=Object.getPrototypeOf(e)}KO(r)}function WO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function KO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=aa(i.hostAttrs,n=aa(n,i.hostAttrs))}}function Uu(t){return t===ws?{}:t===kt?[]:t}function QO(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function YO(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function JO(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Jg(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Cr=class{},pa=class{};var Wp=class extends Cr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dl(this);let s=TD(e);this._bootstrapComponents=Cb(s.bootstrap),this._r3Injector=hb(e,n,[{provide:Cr,useValue:this},{provide:Ss,useValue:this.componentFactoryResolver},...r],yt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Kp=class extends pa{constructor(e){super(),this.moduleType=e}create(e){return new Wp(this.moduleType,e,[])}};var hl=class extends Cr{constructor(e){super(),this.componentFactoryResolver=new dl(this),this.instance=null;let n=new ca([...e.providers,{provide:Cr,useValue:this},{provide:Ss,useValue:this.componentFactoryResolver}],e.parent||vg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Vl(t,e,n=null){return new hl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function hT(t){return XO(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function ZO(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function XO(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function ek(t,e,n){return t[e]=n}function tk(t,e){return t[e]}function Di(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function nk(t){return(t.flags&32)===32}function rk(t,e,n,r,i,s,o,a,u){let l=e.consts,h=Ol(e,t,4,o||null,a||null);zb(e,n,h,Cs(l,u)),Ag(e,h);let p=h.tView=Hg(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Qp(t,e,n,r,i,s,o,a,u,l){let h=n+Zt,p=e.firstCreatePass?rk(h,e,t,r,i,s,o,a,u):e.data[h];va(p,!1);let m=ik(e,t,p,n);Tg()&&Bg(e,t,m,p),mi(m,t);let y=Wb(m,t,m,p);return t[h]=y,kl(t,y),xO(y,p,t),_g(p)&&Bb(e,t,p),u!=null&&$b(t,p,l),p}function wa(t,e,n,r,i,s,o,a){let u=ve(),l=Xe(),h=Cs(l.consts,s);return Qp(u,l,t,e,n,r,i,h,o,a),wa}var ik=sk;function sk(t,e,n,r){return Cg(!0),e[je].createComment("")}var ys=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ys||{}),fT=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=U({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),ci=class ci{constructor(){this.ngZone=P(we),this.scheduler=P(As),this.errorHandler=P(Pn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of ci.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};ci.PHASES=[ys.EarlyRead,ys.Write,ys.MixedReadWrite,ys.Read],ci.\u0275prov=U({token:ci,providedIn:"root",factory:()=>new ci});var Yp=ci,Jp=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Zg(t,e){!e?.injector&&BN(Zg);let n=e?.injector??P(Je);return rP(n)?(jn("NgAfterNextRender"),ak(t,n,e,!0)):ck}function ok(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function ak(t,e,n,r){let i=e.get(fT);i.impl??=e.get(Yp);let s=n?.phase??ys.MixedReadWrite,o=new Jp(i.impl,ok(t,s),r,e.get(Mg));return i.impl.register(o),o}var ck={destroy(){}};function Ea(t,e,n,r){let i=ve(),s=Ps();if(Di(i,s,e)){let o=Xe(),a=Rl();qP(a,i,t,e,n,r)}return Ea}function pT(t,e,n,r){return Di(t,Ps(),n)?e+Il(n)+r:Vn}function Bu(t,e){return t<<17|e<<2}function _i(t){return t>>17&32767}function uk(t){return(t&2)==2}function lk(t,e){return t&131071|e<<17}function Zp(t){return t|2}function Ns(t){return(t&131068)>>2}function sp(t,e){return t&-131069|e<<2}function dk(t){return(t&1)===1}function Xp(t){return t|1}function hk(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=_i(o),u=Ns(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||ya(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=_i(t[a+1]);t[r+1]=Bu(m,a),m!==0&&(t[m+1]=sp(t[m+1],r)),t[a+1]=lk(t[a+1],r)}else t[r+1]=Bu(a,0),a!==0&&(t[a+1]=sp(t[a+1],r)),a=r;else t[r+1]=Bu(u,0),a===0?a=r:t[u+1]=sp(t[u+1],r),u=r;l&&(t[r+1]=Zp(t[r+1])),JE(t,h,r,!0),JE(t,h,r,!1),fk(e,h,t,r,s),o=Bu(a,u),s?e.classBindings=o:e.styleBindings=o}function fk(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&ya(s,e)>=0&&(n[r+1]=Xp(n[r+1]))}function JE(t,e,n,r){let i=t[n+1],s=e===null,o=r?_i(i):Ns(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];pk(u,e)&&(a=!0,t[o+1]=r?Xp(l):Zp(l)),o=r?_i(l):Ns(l)}a&&(t[n+1]=r?Zp(i):Xp(i))}function pk(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ya(t,e)>=0:!1}function Nr(t,e,n){let r=ve(),i=Ps();if(Di(r,i,e)){let s=Xe(),o=Rl();zg(s,o,r,t,e,r[je],n,!1)}return Nr}function ZE(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";qg(t,n,s[o],o,r)}function jl(t,e){return gk(t,e,null,!0),jl}function gk(t,e,n,r){let i=ve(),s=Xe(),o=cx(2);if(s.firstUpdatePass&&yk(s,t,o,r),e!==Vn&&Di(i,o,e)){let a=s.data[wi()];Ek(s,a,i,i[je],t,i[o+1]=Dk(e,n),r,o)}}function mk(t,e){return e>=t.expandoStartIndex}function yk(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[wi()],o=mk(t,n);bk(s,r)&&e===null&&!o&&(e=!1),e=vk(i,s,e,r),hk(i,s,e,n,o,r)}}function vk(t,e,n,r){let i=hx(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=op(null,t,e,n,r),n=ga(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=op(i,t,e,n,r),s===null){let u=_k(t,e,r);u!==void 0&&Array.isArray(u)&&(u=op(null,t,e,u[1],r),u=ga(u,e.attrs,r),Ik(t,e,r,u))}else s=wk(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function _k(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ns(r)!==0)return t[_i(r)]}function Ik(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[_i(i)]=r}function wk(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=ga(r,o,n)}return ga(r,e.attrs,n)}function op(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=ga(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ga(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),fN(t,o,n?!0:e[++s]))}return t===void 0?null:t}function Ek(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=dk(l)?XE(u,e,n,i,Ns(l),o):void 0;if(!fl(h)){fl(s)||uk(l)&&(s=XE(u,null,n,i,a,o));let p=UD(wi(),n);EP(r,o,p,i,s)}}function XE(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Vn&&(m=p?kt:void 0);let y=p?Yf(m,r):h===r?m:void 0;if(l&&!fl(y)&&(y=Yf(u,r)),fl(y)&&(a=y,o))return a;let T=t[i+1];i=o?_i(T):Ns(T)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=Yf(u,r))}return a}function fl(t){return t!==void 0}function Dk(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=yt(_a(t)))),t}function bk(t,e){return(t.flags&(e?8:16))!==0}var eg=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function ap(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function Tk(t,e,n){let r,i,s=0,o=t.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;s<=o&&s<=u;){let l=t.at(s),h=e[s],p=ap(s,l,s,h,n);if(p!==0){p<0&&t.updateValue(s,h),s++;continue}let m=t.at(o),y=e[u],T=ap(o,m,u,y,n);if(T!==0){T<0&&t.updateValue(o,y),o--,u--;continue}let M=n(s,l),R=n(o,m),N=n(s,h);if(Object.is(N,R)){let L=n(u,y);Object.is(L,M)?(t.swap(s,o),t.updateValue(o,y),u--,o--):t.move(o,s),t.updateValue(s,h),s++;continue}if(r??=new pl,i??=tD(t,s,o,n),tg(t,r,s,N))t.updateValue(s,h),s++,o++;else if(i.has(N))r.set(M,t.detach(s)),o--;else{let L=t.create(s,e[s]);t.attach(s,L),s++,o++}}for(;s<=u;)eD(t,r,n,s,e[s]),s++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&s<=o;){let h=t.at(s),p=l.value,m=ap(s,h,s,p,n);if(m!==0)m<0&&t.updateValue(s,p),s++,l=u.next();else{r??=new pl,i??=tD(t,s,o,n);let y=n(s,p);if(tg(t,r,s,y))t.updateValue(s,p),s++,o++,l=u.next();else if(!i.has(y))t.attach(s,t.create(s,p)),s++,o++,l=u.next();else{let T=n(s,h);r.set(T,t.detach(s)),o--}}}for(;!l.done;)eD(t,r,n,t.length,l.value),l=u.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(u=>{t.destroy(u)})}function tg(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function eD(t,e,n,r,i){if(tg(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function tD(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var pl=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function u9(t,e){jn("NgControlFlow");let n=ve(),r=Ps(),i=n[r]!==Vn?n[r]:-1,s=i!==-1?gl(n,Zt+i):void 0,o=0;if(Di(n,r,t)){let a=le(null);try{if(s!==void 0&&Xb(s,o),t!==-1){let u=Zt+t,l=gl(n,u),h=sg(n[ee],u),p=fa(l,h.tView.ssrId),m=Fl(n,h,e,{dehydratedView:p});Ll(l,m,o,ha(h,p))}}finally{le(a)}}else if(s!==void 0){let a=Zb(s,o);a!==void 0&&(a[ot]=e)}}var ng=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-at}};var rg=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function l9(t,e,n,r,i,s,o,a,u,l,h,p,m){jn("NgControlFlow");let y=ve(),T=Xe(),M=u!==void 0,R=ve(),N=a?o.bind(R[Jt][ot]):o,L=new rg(M,N);R[Zt+t]=L,Qp(y,T,t+1,e,n,r,i,Cs(T.consts,s)),M&&Qp(y,T,t+2,u,l,h,p,Cs(T.consts,m))}var ig=class extends eg{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-at}at(e){return this.getLView(e)[ot].$implicit}attach(e,n){let r=n[ua];this.needsIndexUpdate||=e!==this.length,Ll(this.lContainer,n,e,ha(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Ck(this.lContainer,e)}create(e,n){let r=fa(this.lContainer,this.templateTNode.tView.ssrId),i=Fl(this.hostLView,this.templateTNode,new ng(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Nl(e[ee],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[ot].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ot].$index=e}getLView(e){return Ak(this.lContainer,e)}};function d9(t){let e=le(null),n=wi();try{let r=ve(),i=r[ee],s=r[n],o=n+1,a=gl(r,o);if(s.liveCollection===void 0){let l=sg(i,o);s.liveCollection=new ig(a,r,l)}else s.liveCollection.reset();let u=s.liveCollection;if(Tk(u,t,s.trackByFn),u.updateIndexes(),s.hasEmptyBlock){let l=Ps(),h=u.length===0;if(Di(r,l,h)){let p=n+2,m=gl(r,p);if(h){let y=sg(i,p),T=fa(m,y.tView.ssrId),M=Fl(r,y,void 0,{dehydratedView:T});Ll(m,M,0,ha(y,T))}else Xb(m,0)}}}finally{le(e)}}function gl(t,e){return t[e]}function Ck(t,e){return da(t,e)}function Ak(t,e){return Zb(t,e)}function sg(t,e){return Ig(t,e)}function Sk(t,e,n,r,i,s){let o=e.consts,a=Cs(o,i),u=Ol(e,t,2,r,a);return zb(e,n,u,Cs(o,s)),u.attrs!==null&&jp(u,u.attrs,!1),u.mergedAttrs!==null&&jp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Z(t,e,n,r){let i=ve(),s=Xe(),o=Zt+t,a=i[je],u=s.firstCreatePass?Sk(o,s,i,e,n,r):s.data[o],l=Rk(s,i,u,a,e,t);i[o]=l;let h=_g(u);return va(u,!0),Ob(a,l,u),!nk(u)&&Tg()&&Bg(s,i,l,u),ZN()===0&&mi(l,i),XN(),h&&(Bb(s,i,u),Ub(s,u,i)),r!==null&&$b(i,u),Z}function X(){let t=_t();WD()?sx():(t=t.parent,va(t,!1));let e=t;nx(e)&&rx(),ex();let n=Xe();return n.firstCreatePass&&(Ag(n,t),kD(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&_x(e)&&ZE(n,e,ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Ix(e)&&ZE(n,e,ve(),e.stylesWithoutHost,!1),X}function Rt(t,e,n,r){return Z(t,e,n,r),X(),Rt}var Rk=(t,e,n,r,i,s)=>(Cg(!0),Ab(r,i,gx()));function gT(){return ve()}var ml="en-US";var Mk=ml;function Nk(t){typeof t=="string"&&(Mk=t.toLowerCase().replace(/_/g,"-"))}var xk=(t,e,n)=>{};function he(t,e,n,r){let i=ve(),s=Xe(),o=_t();return mT(s,i,i[je],o,t,e,r),he}function Pk(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Xu],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function mT(t,e,n,r,i,s,o){let a=_g(r),l=t.firstCreatePass&&Yb(t),h=e[ot],p=Qb(e),m=!0;if(r.type&3||o){let M=Ut(r,e),R=o?o(M):M,N=p.length,L=o?H=>o(dn(H[r.index])):r.index,$=null;if(!o&&a&&($=Pk(t,e,i,r.index)),$!==null){let H=$.__ngLastListenerFn__||$;H.__ngNextListenerFn__=s,$.__ngLastListenerFn__=s,m=!1}else{s=rD(r,e,h,s),xk(M,i,s);let H=n.listen(R,i,s);p.push(s,H),l&&l.push(i,L,N,N+1)}}else s=rD(r,e,h,s);let y=r.outputs,T;if(m&&y!==null&&(T=y[i])){let M=T.length;if(M)for(let R=0;R<M;R+=2){let N=T[R],L=T[R+1],be=e[N][L].subscribe(s),G=p.length;p.push(s,be),l&&l.push(i,r.index,G,-(G+1))}}}function nD(t,e,n,r){let i=le(null);try{return an(6,e,n),n(r)!==!1}catch(s){return Jb(t,s),!1}finally{an(7,e,n),le(i)}}function rD(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?Sr(t.index,e):e;Wg(o,5);let a=nD(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=nD(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function Da(t=1){return px(t)}function Xg(t,e,n){return yT(t,"",e,"",n),Xg}function yT(t,e,n,r,i){let s=ve(),o=pT(s,e,n,r);if(o!==Vn){let a=Xe(),u=Rl();zg(a,u,s,t,o,s[je],i,!1)}return yT}function h9(t,e,n){UO(t,e,n)}function Ok(t){let e=ve(),n=Xe(),r=QD();Eg(r+1);let i=Yg(n,r);if(t.dirty&&KN(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=HO(e,r);t.reset(s,Bx),t.notifyOnChanges()}return!0}return!1}function kk(){return VO(ve(),QD())}function se(t,e=""){let n=ve(),r=Xe(),i=t+Zt,s=r.firstCreatePass?Ol(r,i,1,e,null):r.data[i],o=Fk(r,n,s,e,t);n[i]=o,Tg()&&Bg(r,n,o,s),va(s,!1)}var Fk=(t,e,n,r,i)=>(Cg(!0),sP(e[je],r));function em(t){return bi("",t,""),em}function bi(t,e,n){let r=ve(),i=pT(r,t,e,n);return i!==Vn&&QP(r,wi(),i),bi}function Lk(t,e,n){dT(e)&&(e=e());let r=ve(),i=Ps();if(Di(r,i,e)){let s=Xe(),o=Rl();zg(s,o,r,t,e,r[je],n,!1)}return Lk}function f9(t,e){let n=dT(t);return n&&t.set(e),n}function Vk(t,e){let n=ve(),r=Xe(),i=_t();return mT(r,n,n[je],i,t,e),Vk}function jk(t,e,n){let r=Xe();if(r.firstCreatePass){let i=Tr(t);og(n,r.data,r.blueprint,i,!0),og(e,r.data,r.blueprint,i,!1)}}function og(t,e,n,r,i){if(t=mt(t),Array.isArray(t))for(let s=0;s<t.length;s++)og(t[s],e,n,r,i);else{let s=Xe(),o=ve(),a=_t(),u=Ds(t)?t:mt(t.provide),l=ND(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Ds(t)||!t.multi){let y=new pi(l,i,ce),T=up(u,e,i?h:h+m,p);T===-1?(bp(il(a,o),s,u),cp(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),o.push(y)):(n[T]=y,o[T]=y)}else{let y=up(u,e,h+m,p),T=up(u,e,h,h+m),M=y>=0&&n[y],R=T>=0&&n[T];if(i&&!R||!i&&!M){bp(il(a,o),s,u);let N=$k(i?Bk:Uk,n.length,i,r,l);!i&&R&&(n[T].providerFactory=N),cp(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(N),o.push(N)}else{let N=vT(n[i?T:y],l,!i&&r);cp(s,t,y>-1?y:T,N)}!i&&r&&R&&n[T].componentProviders++}}}function cp(t,e,n,r){let i=Ds(e),s=ON(e);if(i||s){let u=(s?mt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function vT(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function up(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Uk(t,e,n,r){return ag(this.multi,[])}function Bk(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=gi(n,n[ee],this.providerFactory.index,r);s=a.slice(0,o),ag(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],ag(i,s);return s}function ag(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function $k(t,e,n,r,i){let s=new pi(t,n,ce);return s.multi=[],s.index=e,s.componentProviders=0,vT(s,i,r&&!n),s}function ba(t,e=[]){return n=>{n.providersResolver=(r,i)=>jk(r,i?i(t):t,e)}}var Hk=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=SD(!1,r.type),s=i.length>0?Vl([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=U({token:e,providedIn:"environment",factory:()=>new e(q(vt))});let t=e;return t})();function _T(t){jn("NgStandalone"),t.getStandaloneInjector=e=>e.get(Hk).getOrCreateStandaloneInjector(t)}function IT(t,e,n){let r=ox()+t,i=ve();return i[r]===Vn?ek(i,r,n?e.call(n):e()):tk(i,r)}var kn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},wT=new kn("18.2.3");var Ul=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var ET=new V("");function Ti(t){return!!t&&typeof t.then=="function"}function DT(t){return!!t&&typeof t.subscribe=="function"}var Bl=new V(""),bT=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=P(Bl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Ti(o))r.push(o);else if(DT(o)){let a=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ta=new V("");function zk(){Ww(()=>{throw new B(600,!1)})}function qk(t){return t.isBoundToModule}var Gk=10;function Wk(t,e,n){try{let r=n();return Ti(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var xr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(jx),this.afterRenderManager=P(fT),this.zonelessEnabled=P(Qg),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new qe,this.afterTick=new qe,this.componentTypes=[],this.components=[],this.isStable=P(Rr).hasPendingTasks.pipe(re(r=>!r)),this._injector=P(vt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof ll;if(!this._injector.get(bT).done){let y=!s&&bD(r),T=!1;throw new B(405,T)}let a;s?a=r:a=this._injector.get(Ss).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=qk(a)?void 0:this._injector.get(Cr),l=i||a.selector,h=a.create(Je.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(ET,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Wu(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new B(101,!1);let r=le(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,le(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(Rs,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<Gk;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:o}of this._views)Kk(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>Tl(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Wu(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Ta,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Wu(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new B(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Wu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Kk(t,e,n,r){if(!n&&!Tl(t))return;nT(t,e,n&&!r?0:1)}var cg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},$l=(()=>{let e=class e{compileModuleSync(r){return new Kp(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=TD(r),o=Cb(s.declarations).reduce((a,u)=>{let l=br(u);return l&&a.push(new Ms(l)),a},[]);return new cg(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Qk=(()=>{let e=class e{constructor(){this.zone=P(we),this.changeDetectionScheduler=P(As),this.applicationRef=P(xr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yk=new V("",{factory:()=>!1});function TT({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new we(fe(F({},CT()),{scheduleInRootZone:n})),[{provide:we,useFactory:t},{provide:Es,multi:!0,useFactory:()=>{let r=P(Qk,{optional:!0});return()=>r.initialize()}},{provide:Es,multi:!0,useFactory:()=>{let r=P(Jk);return()=>{r.initialize()}}},e===!0?{provide:oT,useValue:!0}:[],{provide:aT,useValue:n??fb}]}function p9(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=TT({ngZoneFactory:()=>{let i=CT(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&jn("NgZone_CoalesceEvent"),new we(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Vt([{provide:Yk,useValue:!0},{provide:Qg,useValue:!1},r])}function CT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Jk=(()=>{let e=class e{constructor(){this.subscription=new xe,this.initialized=!1,this.zone=P(we),this.pendingTasks=P(Rr)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Zk=(()=>{let e=class e{constructor(){this.appRef=P(xr),this.taskService=P(Rr),this.ngZone=P(we),this.zonelessEnabled=P(Qg),this.disableScheduling=P(oT,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new xe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ol):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(aT,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Rp||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?jE:pb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ol+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,jE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Xk(){return typeof $localize<"u"&&$localize.locale||ml}var tm=new V("",{providedIn:"root",factory:()=>P(tm,ae.Optional|ae.SkipSelf)||Xk()});var AT=new V("");function $u(t){return!!t.platformInjector}function e1(t){let e=$u(t)?t.r3Injector:t.moduleRef.injector,n=e.get(we);return n.run(()=>{$u(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Pn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),$u(t)){let s=()=>e.destroy(),o=t.platformInjector.get(AT);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{Wu(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return Wk(r,n,()=>{let s=e.get(bT);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(tm,ml);if(Nk(o||ml),$u(t)){let a=e.get(xr);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return t1(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function t1(t,e){let n=t.injector.get(xr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new B(-403,!1);e.push(t)}var Ku=null;function n1(t=[],e){return Je.create({name:e,providers:[{provide:El,useValue:"platform"},{provide:AT,useValue:new Set([()=>Ku=null])},...t]})}function r1(t=[]){if(Ku)return Ku;let e=n1(t);return Ku=e,zk(),i1(e),e}function i1(t){t.get(Og,null)?.forEach(n=>n())}var Ci=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=s1;let t=e;return t})();function s1(t){return o1(_t(),ve(),(t&16)===16)}function o1(t,e,n){if(bl(t)&&!n){let r=Sr(t.index,e);return new yi(r,r)}else if(t.type&175){let r=e[Jt];return new yi(r,e)}return null}var ug=class{constructor(){}supports(e){return hT(e)}create(e){return new lg(e)}},a1=(t,e)=>e,lg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||a1}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<iD(r,i,s)?n:r,a=iD(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<s.length?s[m]:s[m]=0,T=y+m;h<=T&&T<l&&(s[m]=y+1)}let p=o.previousIndex;s[p]=h-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!hT(e))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,ZO(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new dg(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new yl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new yl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},dg=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},hg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},yl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new hg,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function iD(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function sD(){return new nm([new ug])}var nm=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||sD()),deps:[[e,new pg,new ut]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new B(901,!1)}};e.\u0275prov=U({token:e,providedIn:"root",factory:sD});let t=e;return t})();function ST(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=r1(r),s=[TT({}),{provide:As,useExisting:Zk},...n||[]],o=new hl({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return e1({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var RT=new V("");function Pr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Ca(t,e){jn("NgSignals");let n=zw(t);return e?.equal&&(n[Sn].equal=e.equal),n}function Bn(t){let e=le(null);try{return t()}finally{le(e)}}function MT(t){let e=br(t);if(!e)return null;let n=new Ms(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var kT=null;function Hn(){return kT}function FT(t){kT??=t}var Hl=class{};var et=new V(""),cm=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:()=>P(u1),providedIn:"platform"});let t=e;return t})(),LT=new V(""),u1=(()=>{let e=class e extends cm{constructor(){super(),this._doc=P(et),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Hn().getBaseHref(this._doc)}onPopState(r){let i=Hn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Hn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function um(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function NT(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function $n(t){return t&&t[0]!=="?"?"?"+t:t}var zn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:()=>P(lm),providedIn:"root"});let t=e;return t})(),VT=new V(""),lm=(()=>{let e=class e extends zn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??P(et).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return um(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+$n(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+$n(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+$n(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(q(cm),q(VT,8))},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jT=(()=>{let e=class e extends zn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=um(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+$n(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+$n(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(q(cm),q(VT,8))},e.\u0275prov=U({token:e,factory:e.\u0275fac});let t=e;return t})(),Ls=(()=>{let e=class e{constructor(r){this._subject=new ke,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=h1(NT(xT(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+$n(i))}normalize(r){return e.stripTrailingSlash(d1(this._basePath,xT(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+$n(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+$n(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=$n,e.joinWithSlash=um,e.stripTrailingSlash=NT,e.\u0275fac=function(i){return new(i||e)(q(zn))},e.\u0275prov=U({token:e,factory:()=>l1(),providedIn:"root"});let t=e;return t})();function l1(){return new Ls(q(zn))}function d1(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function xT(t){return t.replace(/\/index.html$/,"")}function h1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function zl(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var im=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},UT=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new im(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let u=i.get(o);i.move(u,a),PT(u,s)}});for(let s=0,o=i.length;s<o;s++){let u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);PT(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(ce(Mr),ce(vi),ce(nm))},e.\u0275dir=Ze({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function PT(t,e){t.context.$implicit=e.item}var BT=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new sm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){OT("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){OT("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(ce(Mr),ce(vi))},e.\u0275dir=Ze({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),sm=class{constructor(){this.$implicit=null,this.ngIf=null}};function OT(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${yt(e)}'.`)}var dm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=St({type:e}),e.\u0275inj=At({});let t=e;return t})(),hm="browser",f1="server";function p1(t){return t===hm}function ql(t){return t===f1}var $T=(()=>{let e=class e{};e.\u0275prov=U({token:e,providedIn:"root",factory:()=>p1(P(Bt))?new om(P(et),window):new am});let t=e;return t})(),om=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=g1(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function g1(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var am=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Fs=class{};var Sa=class{},Kl=class{},qn=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var pm=class{encodeKey(e){return HT(e)}encodeValue(e){return HT(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function m1(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}var y1=/%(\d[a-f0-9])/gi,v1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function HT(t){return encodeURIComponent(t).replace(y1,(e,n)=>v1[n]??e)}function Wl(t){return`${t}`}var kr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new pm,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=m1(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Wl):[Wl(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Wl(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Wl(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var gm=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function _1(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function zT(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function qT(t){return typeof Blob<"u"&&t instanceof Blob}function GT(t){return typeof FormData<"u"&&t instanceof FormData}function I1(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Aa=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(_1(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new qn,this.context??=new gm,!this.params)this.params=new kr,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||zT(this.body)||qT(this.body)||GT(this.body)||I1(this.body)?this.body:this.body instanceof kr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||GT(this.body)?null:qT(this.body)?this.body.type||null:zT(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof kr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new t(n,r,o,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:s})}},Fr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Fr||{}),Ra=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new qn,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Ql=class t extends Ra{constructor(e={}){super(e),this.type=Fr.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ma=class t extends Ra{constructor(e={}){super(e),this.type=Fr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Or=class extends Ra{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},YT=200,w1=204;function fm(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var vm=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Aa)o=r;else{let l;s.headers instanceof qn?l=s.headers:l=new qn(s.headers);let h;s.params&&(s.params instanceof kr?h=s.params:h=new kr({fromObject:s.params})),o=new Aa(r,i,s.body!==void 0?s.body:null,{headers:l,context:s.context,params:h,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=K(o).pipe(Mn(l=>this.handler.handle(l)));if(r instanceof Aa||s.observe==="events")return a;let u=a.pipe(wt(l=>l instanceof Ma));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe(re(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return u.pipe(re(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return u.pipe(re(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return u.pipe(re(l=>l.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new kr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,fm(s,i))}post(r,i,s={}){return this.request("POST",r,fm(s,i))}put(r,i,s={}){return this.request("PUT",r,fm(s,i))}};e.\u0275fac=function(i){return new(i||e)(q(Sa))},e.\u0275prov=U({token:e,factory:e.\u0275fac});let t=e;return t})(),E1=/^\)\]\}',?\n/,D1="X-Request-URL";function WT(t){if(t.url)return t.url;let e=D1.toLocaleLowerCase();return t.headers.get(e)}var b1=(()=>{let e=class e{constructor(){this.fetchImpl=P(mm,{optional:!0})?.fetch??((...r)=>globalThis.fetch(...r)),this.ngZone=P(we)}handle(r){return new de(i=>{let s=new AbortController;return this.doRequest(r,s.signal,i).then(ym,o=>i.error(new Or({error:o}))),()=>s.abort()})}doRequest(r,i,s){return I(this,null,function*(){let o=this.createRequestInit(r),a;try{let T=this.ngZone.runOutsideAngular(()=>this.fetchImpl(r.urlWithParams,F({signal:i},o)));T1(T),s.next({type:Fr.Sent}),a=yield T}catch(T){s.error(new Or({error:T,status:T.status??0,statusText:T.statusText,url:r.urlWithParams,headers:T.headers}));return}let u=new qn(a.headers),l=a.statusText,h=WT(a)??r.urlWithParams,p=a.status,m=null;if(r.reportProgress&&s.next(new Ql({headers:u,status:p,statusText:l,url:h})),a.body){let T=a.headers.get("content-length"),M=[],R=a.body.getReader(),N=0,L,$,H=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>I(this,null,function*(){for(;;){let{done:G,value:E}=yield R.read();if(G)break;if(M.push(E),N+=E.length,r.reportProgress){$=r.responseType==="text"?($??"")+(L??=new TextDecoder).decode(E,{stream:!0}):void 0;let v=()=>s.next({type:Fr.DownloadProgress,total:T?+T:void 0,loaded:N,partialText:$});H?H.run(v):v()}}}));let be=this.concatChunks(M,N);try{let G=a.headers.get("Content-Type")??"";m=this.parseBody(r,be,G)}catch(G){s.error(new Or({error:G,headers:new qn(a.headers),status:a.status,statusText:a.statusText,url:WT(a)??r.urlWithParams}));return}}p===0&&(p=m?YT:0),p>=200&&p<300?(s.next(new Ma({body:m,headers:u,status:p,statusText:l,url:h})),s.complete()):s.error(new Or({error:m,headers:u,status:p,statusText:l,url:h}))})}parseBody(r,i,s){switch(r.responseType){case"json":let o=new TextDecoder().decode(i).replace(E1,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:s});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},s=r.withCredentials?"include":void 0;if(r.headers.forEach((o,a)=>i[o]=a.join(",")),r.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!r.headers.has("Content-Type")){let o=r.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:s}}concatChunks(r,i){let s=new Uint8Array(i),o=0;for(let a of r)s.set(a,o),o+=a.length;return s}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac});let t=e;return t})(),mm=class{};function ym(){}function T1(t){t.then(ym,ym)}function C1(t,e){return e(t)}function A1(t,e,n){return(r,i)=>jt(n,()=>e(r,s=>t(s,i)))}var JT=new V(""),S1=new V(""),R1=new V("",{providedIn:"root",factory:()=>!0});var KT=(()=>{let e=class e extends Sa{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=P(Rr),this.contributeToStability=P(R1)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(JT),...this.injector.get(S1,[])]));this.chain=i.reduceRight((s,o)=>A1(s,o,this.injector),C1)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(oi(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(q(Kl),q(vt))},e.\u0275prov=U({token:e,factory:e.\u0275fac});let t=e;return t})();var M1=/^\)\]\}',?\n/;function N1(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var QT=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new B(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Re(i.\u0275loadImpl()):K(null)).pipe(Et(()=>new de(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((R,N)=>a.setRequestHeader(R,N.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let R=r.detectContentTypeHeader();R!==null&&a.setRequestHeader("Content-Type",R)}if(r.responseType){let R=r.responseType.toLowerCase();a.responseType=R!=="json"?R:"text"}let u=r.serializeBody(),l=null,h=()=>{if(l!==null)return l;let R=a.statusText||"OK",N=new qn(a.getAllResponseHeaders()),L=N1(a)||r.url;return l=new Ql({headers:N,status:a.status,statusText:R,url:L}),l},p=()=>{let{headers:R,status:N,statusText:L,url:$}=h(),H=null;N!==w1&&(H=typeof a.response>"u"?a.responseText:a.response),N===0&&(N=H?YT:0);let be=N>=200&&N<300;if(r.responseType==="json"&&typeof H=="string"){let G=H;H=H.replace(M1,"");try{H=H!==""?JSON.parse(H):null}catch(E){H=G,be&&(be=!1,H={error:E,text:H})}}be?(o.next(new Ma({body:H,headers:R,status:N,statusText:L,url:$||void 0})),o.complete()):o.error(new Or({error:H,headers:R,status:N,statusText:L,url:$||void 0}))},m=R=>{let{url:N}=h(),L=new Or({error:R,status:a.status||0,statusText:a.statusText||"Unknown Error",url:N||void 0});o.error(L)},y=!1,T=R=>{y||(o.next(h()),y=!0);let N={type:Fr.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(N.total=R.total),r.responseType==="text"&&a.responseText&&(N.partialText=a.responseText),o.next(N)},M=R=>{let N={type:Fr.UploadProgress,loaded:R.loaded};R.lengthComputable&&(N.total=R.total),o.next(N)};return a.addEventListener("load",p),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),r.reportProgress&&(a.addEventListener("progress",T),u!==null&&a.upload&&a.upload.addEventListener("progress",M)),a.send(u),o.next({type:Fr.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",p),a.removeEventListener("timeout",m),r.reportProgress&&(a.removeEventListener("progress",T),u!==null&&a.upload&&a.upload.removeEventListener("progress",M)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(q(Fs))},e.\u0275prov=U({token:e,factory:e.\u0275fac});let t=e;return t})(),ZT=new V(""),x1="XSRF-TOKEN",P1=new V("",{providedIn:"root",factory:()=>x1}),O1="X-XSRF-TOKEN",k1=new V("",{providedIn:"root",factory:()=>O1}),Yl=class{},F1=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=zl(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(q(et),q(Bt),q(P1))},e.\u0275prov=U({token:e,factory:e.\u0275fac});let t=e;return t})();function L1(t,e){let n=t.url.toLowerCase();if(!P(ZT)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=P(Yl).getToken(),i=P(k1);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function X9(...t){let e=[vm,QT,KT,{provide:Sa,useExisting:KT},{provide:Kl,useFactory:()=>P(b1,{optional:!0})??P(QT)},{provide:JT,useValue:L1,multi:!0},{provide:ZT,useValue:!0},{provide:Yl,useClass:F1}];for(let n of t)e.push(...n.\u0275providers);return Vt(e)}var wm=class extends Hl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Em=class t extends wm{static makeCurrent(){FT(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=V1();return n==null?null:j1(n)}resetBaseElement(){Na=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return zl(document.cookie,e)}},Na=null;function V1(){return Na=Na||document.querySelector("base"),Na?Na.getAttribute("href"):null}function j1(t){return new URL(t,document.baseURI).pathname}var U1=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac});let t=e;return t})(),Jl=new V(""),nC=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new B(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(q(Jl),q(we))},e.\u0275prov=U({token:e,factory:e.\u0275fac});let t=e;return t})(),xa=class{constructor(e){this._doc=e}},_m="ng-app-id",rC=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ql(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${_m}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(_m),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(_m,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(q(et),q(Pg),q(kg,8),q(Bt))},e.\u0275prov=U({token:e,factory:e.\u0275fac});let t=e;return t})(),Im={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},bm=/%COMP%/g,iC="%COMP%",B1=`_nghost-${iC}`,$1=`_ngcontent-${iC}`,H1=!0,z1=new V("",{providedIn:"root",factory:()=>H1});function q1(t){return $1.replace(bm,t)}function G1(t){return B1.replace(bm,t)}function sC(t,e){return e.map(n=>n.replace(bm,t))}var XT=(()=>{let e=class e{constructor(r,i,s,o,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=ql(u),this.defaultRenderer=new Pa(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===un.ShadowDom&&(i=fe(F({},i),{encapsulation:un.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Zl?s.applyToHost(r):s instanceof Oa&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case un.Emulated:o=new Zl(l,h,i,this.appId,p,a,u,m);break;case un.ShadowDom:return new Dm(l,h,r,i,a,u,this.nonce,m);default:o=new Oa(l,h,i,p,a,u,m);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(q(nC),q(rC),q(Pg),q(z1),q(et),q(Bt),q(we),q(kg))},e.\u0275prov=U({token:e,factory:e.\u0275fac});let t=e;return t})(),Pa=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Im[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(eC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(eC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Im[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Im[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(On.DashCase|On.Important)?e.style.setProperty(n,r,i&On.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&On.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Hn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function eC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Dm=class extends Pa{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=sC(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Oa=class extends Pa{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?sC(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Zl=class extends Oa{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=q1(l),this.hostAttr=G1(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},W1=(()=>{let e=class e extends xa{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(q(et))},e.\u0275prov=U({token:e,factory:e.\u0275fac});let t=e;return t})(),K1=(()=>{let e=class e extends xa{constructor(r){super(r),this.delegate=P(RT,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(q(et))},e.\u0275prov=U({token:e,factory:e.\u0275fac});let t=e;return t})(),tC=["alt","control","meta","shift"],Q1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Y1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},J1=(()=>{let e=class e extends xa{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),tC.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=Q1[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),tC.forEach(a=>{if(a!==s){let u=Y1[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(q(et))},e.\u0275prov=U({token:e,factory:e.\u0275fac});let t=e;return t})();function T5(t,e){return ST(F({rootComponent:t},Z1(e)))}function Z1(t){return{appProviders:[...rF,...t?.providers??[]],platformProviders:nF}}function X1(){Em.makeCurrent()}function eF(){return new Pn}function tF(){return wb(document),document}var nF=[{provide:Bt,useValue:hm},{provide:Og,useValue:X1,multi:!0},{provide:et,useFactory:tF,deps:[]}];var rF=[{provide:El,useValue:"root"},{provide:Pn,useFactory:eF,deps:[]},{provide:Jl,useClass:W1,multi:!0,deps:[et,we,Bt]},{provide:Jl,useClass:J1,multi:!0,deps:[et]},{provide:Jl,useClass:K1,multi:!0},XT,rC,nC,{provide:Rs,useExisting:XT},{provide:Fs,useClass:U1,deps:[]},[]];var oC=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(q(et))},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var oe="primary",Qa=Symbol("RouteTitle"),Rm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Hs(t){return new Rm(t)}function sF(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function oF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!hn(t[n],e[n]))return!1;return!0}function hn(t,e){let n=t?Mm(t):void 0,r=e?Mm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!yC(t[i],e[i]))return!1;return!0}function Mm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function yC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function vC(t){return t.length>0?t[t.length-1]:null}function jr(t){return Hf(t)?t:Ti(t)?Re(Promise.resolve(t)):K(t)}var aF={exact:IC,subset:wC},_C={exact:cF,subset:uF,ignored:()=>!0};function aC(t,e,n){return aF[n.paths](t.root,e.root,n.matrixParams)&&_C[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function cF(t,e){return hn(t,e)}function IC(t,e,n){if(!Si(t.segments,e.segments)||!td(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!IC(t.children[r],e.children[r],n))return!1;return!0}function uF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>yC(t[n],e[n]))}function wC(t,e,n){return EC(t,e,e.segments,n)}function EC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Si(i,n)||e.hasChildren()||!td(i,n,r))}else if(t.segments.length===n.length){if(!Si(t.segments,n)||!td(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!wC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Si(t.segments,i)||!td(t.segments,i,r)||!t.children[oe]?!1:EC(t.children[oe],e,s,r)}}function td(t,e,n){return e.every((r,i)=>_C[n](t[i].parameters,r.parameters))}var Wn=class{constructor(e=new De([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Hs(this.queryParams),this._queryParamMap}toString(){return hF.serialize(this)}},De=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nd(this)}},Ai=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Hs(this.parameters),this._parameterMap}toString(){return bC(this)}};function lF(t,e){return Si(t,e)&&t.every((n,r)=>hn(n.parameters,e[r].parameters))}function Si(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function dF(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===oe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==oe&&(n=n.concat(e(i,r)))}),n}var Ya=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:()=>new zs,providedIn:"root"});let t=e;return t})(),zs=class{parse(e){let n=new xm(e);return new Wn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ka(e.root,!0)}`,r=gF(e.queryParams),i=typeof e.fragment=="string"?`#${fF(e.fragment)}`:"";return`${n}${r}${i}`}},hF=new zs;function nd(t){return t.segments.map(e=>bC(e)).join("/")}function ka(t,e){if(!t.hasChildren())return nd(t);if(e){let n=t.children[oe]?ka(t.children[oe],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==oe&&r.push(`${i}:${ka(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=dF(t,(r,i)=>i===oe?[ka(t.children[oe],!1)]:[`${i}:${ka(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[oe]!=null?`${nd(t)}/${n[0]}`:`${nd(t)}/(${n.join("//")})`}}function DC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xl(t){return DC(t).replace(/%3B/gi,";")}function fF(t){return encodeURI(t)}function Nm(t){return DC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rd(t){return decodeURIComponent(t)}function cC(t){return rd(t.replace(/\+/g,"%20"))}function bC(t){return`${Nm(t.path)}${pF(t.parameters)}`}function pF(t){return Object.entries(t).map(([e,n])=>`;${Nm(e)}=${Nm(n)}`).join("")}function gF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Xl(n)}=${Xl(i)}`).join("&"):`${Xl(n)}=${Xl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var mF=/^[^\/()?;#]+/;function Tm(t){let e=t.match(mF);return e?e[0]:""}var yF=/^[^\/()?;=#]+/;function vF(t){let e=t.match(yF);return e?e[0]:""}var _F=/^[^=?&#]+/;function IF(t){let e=t.match(_F);return e?e[0]:""}var wF=/^[^&#]+/;function EF(t){let e=t.match(wF);return e?e[0]:""}var xm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[oe]=new De(e,n)),r}parseSegment(){let e=Tm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new Ai(rd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=vF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Tm(this.remaining);i&&(r=i,this.capture(r))}e[rd(n)]=rd(r)}parseQueryParam(e){let n=IF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=EF(this.remaining);o&&(r=o,this.capture(r))}let i=cC(n),s=cC(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Tm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=oe);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[oe]:new De([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function TC(t){return t.segments.length>0?new De([],{[oe]:t}):t}function CC(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=CC(i);if(r===oe&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new De(t.segments,e);return DF(n)}function DF(t){if(t.numberOfChildren===1&&t.children[oe]){let e=t.children[oe];return new De(t.segments.concat(e.segments),e.children)}return t}function Ri(t){return t instanceof Wn}function bF(t,e,n=null,r=null){let i=AC(t);return SC(i,e,n,r)}function AC(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new De(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=TC(r);return e??i}function SC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Cm(i,i,i,n,r);let s=TF(e);if(s.toRoot())return Cm(i,i,new De([],{}),n,r);let o=CF(s,i,t),a=o.processChildren?Va(o.segmentGroup,o.index,s.commands):MC(o.segmentGroup,o.index,s.commands);return Cm(i,o.segmentGroup,a,n,r)}function id(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ba(t){return typeof t=="object"&&t!=null&&t.outlets}function Cm(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;t===e?o=n:o=RC(t,e,n);let a=TC(CC(o));return new Wn(a,s,i)}function RC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=RC(s,e,n)}),new De(t.segments,r)}var sd=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&id(r[0]))throw new B(4003,!1);let i=r.find(Ba);if(i&&i!==vC(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function TF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new sd(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new sd(n,e,r)}var Us=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function CF(t,e,n){if(t.isAbsolute)return new Us(e,!0,0);if(!n)return new Us(e,!1,NaN);if(n.parent===null)return new Us(n,!0,0);let r=id(t.commands[0])?0:1,i=n.segments.length-1+r;return AF(n,i,t.numberOfDoubleDots)}function AF(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new Us(r,!1,i-s)}function SF(t){return Ba(t[0])?t[0].outlets:{[oe]:t}}function MC(t,e,n){if(t??=new De([],{}),t.segments.length===0&&t.hasChildren())return Va(t,e,n);let r=RF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new De(t.segments.slice(0,r.pathIndex),{});return s.children[oe]=new De(t.segments.slice(r.pathIndex),t.children),Va(s,0,i)}else return r.match&&i.length===0?new De(t.segments,{}):r.match&&!t.hasChildren()?Pm(t,e,n):r.match?Va(t,0,i):Pm(t,e,n)}function Va(t,e,n){if(n.length===0)return new De(t.segments,{});{let r=SF(n),i={};if(Object.keys(r).some(s=>s!==oe)&&t.children[oe]&&t.numberOfChildren===1&&t.children[oe].segments.length===0){let s=Va(t.children[oe],e,n);return new De(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=MC(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new De(t.segments,i)}}function RF(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Ba(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!lC(u,l,o))return s;r+=2}else{if(!lC(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Pm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Ba(s)){let u=MF(s.outlets);return new De(r,u)}if(i===0&&id(n[0])){let u=t.segments[e];r.push(new Ai(u.path,uC(n[0]))),i++;continue}let o=Ba(s)?s.outlets[oe]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&id(a)?(r.push(new Ai(o,uC(a))),i+=2):(r.push(new Ai(o,{})),i++)}return new De(r,{})}function MF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Pm(new De([],{}),0,r))}),e}function uC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function lC(t,e,n){return t==n.path&&hn(e,n.parameters)}var ja="imperative",Ge=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ge||{}),Ht=class{constructor(e,n){this.id=e,this.url=n}},qs=class extends Ht{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ge.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},fn=class extends Ht{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ge.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Nt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Nt||{}),od=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(od||{}),Gn=class extends Ht{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ge.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Lr=class extends Ht{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ge.NavigationSkipped}},$a=class extends Ht{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ge.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ad=class extends Ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ge.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Om=class extends Ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ge.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},km=class extends Ht{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ge.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Fm=class extends Ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ge.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lm=class extends Ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ge.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vm=class{constructor(e){this.route=e,this.type=Ge.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},jm=class{constructor(e){this.route=e,this.type=Ge.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Um=class{constructor(e){this.snapshot=e,this.type=Ge.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bm=class{constructor(e){this.snapshot=e,this.type=Ge.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$m=class{constructor(e){this.snapshot=e,this.type=Ge.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hm=class{constructor(e){this.snapshot=e,this.type=Ge.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cd=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ge.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ha=class{},Gs=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function NF(t,e){return t.providers&&!t._injector&&(t._injector=Vl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function tn(t){return t.outlet||oe}function xF(t,e){let n=t.filter(r=>tn(r)===e);return n.push(...t.filter(r=>tn(r)!==e)),n}function Ja(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var zm=class{get injector(){return Ja(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Za(this.rootInjector),this.attachRef=null}},Za=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new zm(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(q(vt))},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ud=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=qm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=qm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Gm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Gm(e,this._root).map(n=>n.value)}};function qm(t,e){if(t===e.value)return e;for(let n of e.children){let r=qm(t,n);if(r)return r}return null}function Gm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Gm(t,n);if(r.length)return r.unshift(e),r}return[]}var Mt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function js(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var ld=class extends ud{constructor(e,n){super(e),this.snapshot=n,ty(this,e)}toString(){return this.snapshot.toString()}};function NC(t){let e=PF(t),n=new Ye([new Ai("",{})]),r=new Ye({}),i=new Ye({}),s=new Ye({}),o=new Ye(""),a=new Vr(n,r,s,o,i,oe,t,e.root);return a.snapshot=e.root,new ld(new Mt(a,[]),e)}function PF(t){let e={},n={},r={},i="",s=new Bs([],e,r,i,n,oe,t,null,{});return new hd("",new Mt(s,[]))}var Vr=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(re(l=>l[Qa]))??K(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(re(e=>Hs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(re(e=>Hs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function dd(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&PC(i)&&(r.resolve[Qa]=i.title),r}var Bs=class{get title(){return this.data?.[Qa]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Hs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Hs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},hd=class extends ud{constructor(e,n){super(n),this.url=e,ty(this,n)}toString(){return xC(this._root)}};function ty(t,e){e.value._routerState=t,e.children.forEach(n=>ty(t,n))}function xC(t){let e=t.children.length>0?` { ${t.children.map(xC).join(", ")} } `:"";return`${t.value}${e}`}function Am(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,hn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),hn(e.params,n.params)||t.paramsSubject.next(n.params),oF(e.url,n.url)||t.urlSubject.next(n.url),hn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Wm(t,e){let n=hn(t.params,e.params)&&lF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Wm(t.parent,e.parent))}function PC(t){return typeof t.title=="string"||t.title===null}var OF=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=oe,this.activateEvents=new ke,this.deactivateEvents=new ke,this.attachEvents=new ke,this.detachEvents=new ke,this.parentContexts=P(Za),this.location=P(Mr),this.changeDetector=P(Ci),this.inputBinder=P(md,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Km(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ze({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ar]});let t=e;return t})(),Km=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Vr?this.route:e===Za?this.childContexts:this.parent.get(e,n)}},md=new V(""),dC=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=ra([i.queryParams,i.params,i.data]).pipe(Et(([o,a,u],l)=>(u=F(F(F({},o),a),u),l===0?K(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=MT(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,o[u])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac});let t=e;return t})();function kF(t,e,n){let r=za(t,e._root,n?n._root:void 0);return new ld(r,e)}function za(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=FF(t,e,n);return new Mt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>za(t,a)),o}}let r=LF(e.value),i=e.children.map(s=>za(t,s));return new Mt(r,i)}}function FF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return za(t,r,i);return za(t,r)})}function LF(t){return new Vr(new Ye(t.url),new Ye(t.params),new Ye(t.queryParams),new Ye(t.fragment),new Ye(t.data),t.outlet,t.component,t)}var qa=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},OC="ngNavigationCancelingError";function fd(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ri(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=kC(!1,Nt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function kC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[OC]=!0,n.cancellationCode=e,n}function VF(t){return FC(t)&&Ri(t.url)}function FC(t){return!!t&&t[OC]}var jF=(t,e,n,r)=>re(i=>(new Qm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Qm=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Am(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=js(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=js(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=js(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=js(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Hm(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Bm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Am(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Am(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},pd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},$s=class{constructor(e,n){this.component=e,this.route=n}};function UF(t,e,n){let r=t._root,i=e?e._root:null;return Fa(r,i,n,[r.value])}function BF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ks(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!uD(t)?t:e.get(t):r}function Fa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=js(e);return t.children.forEach(o=>{$F(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ua(a,n.getContext(o),i)),i}function $F(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=HF(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new pd(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Fa(t,e,a?a.children:null,r,i):Fa(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new $s(a.outlet.component,o))}else o&&Ua(e,a,i),i.canActivateChecks.push(new pd(r)),s.component?Fa(t,null,a?a.children:null,r,i):Fa(t,null,n,r,i);return i}function HF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Si(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Si(t.url,e.url)||!hn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wm(t,e)||!hn(t.queryParams,e.queryParams);case"paramsChange":default:return!Wm(t,e)}}function Ua(t,e,n){let r=js(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Ua(o,e.children.getContext(s),n):Ua(o,null,n):Ua(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new $s(e.outlet.component,i)):n.canDeactivateChecks.push(new $s(null,i)):n.canDeactivateChecks.push(new $s(null,i))}function Xa(t){return typeof t=="function"}function zF(t){return typeof t=="boolean"}function qF(t){return t&&Xa(t.canLoad)}function GF(t){return t&&Xa(t.canActivate)}function WF(t){return t&&Xa(t.canActivateChild)}function KF(t){return t&&Xa(t.canDeactivate)}function QF(t){return t&&Xa(t.canMatch)}function LC(t){return t instanceof Rn||t?.name==="EmptyError"}var ed=Symbol("INITIAL_VALUE");function Ws(){return Et(t=>ra(t.map(e=>e.pipe(Nn(1),Kf(ed)))).pipe(re(e=>{for(let n of e)if(n!==!0){if(n===ed)return ed;if(n===!1||YF(n))return n}return!0}),wt(e=>e!==ed),Nn(1)))}function YF(t){return Ri(t)||t instanceof qa}function JF(t,e){return Le(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?K(fe(F({},n),{guardsResult:!0})):ZF(o,r,i,t).pipe(Le(a=>a&&zF(a)?XF(r,s,t,e):K(a)),re(a=>fe(F({},n),{guardsResult:a})))})}function ZF(t,e,n,r){return Re(t).pipe(Le(i=>iL(i.component,i.route,n,e,r)),on(i=>i!==!0,!0))}function XF(t,e,n,r){return Re(e).pipe(Mn(i=>hs(tL(i.route.parent,r),eL(i.route,r),rL(t,i.path,n),nL(t,i.route,n))),on(i=>i!==!0,!0))}function eL(t,e){return t!==null&&e&&e(new $m(t)),K(!0)}function tL(t,e){return t!==null&&e&&e(new Um(t)),K(!0)}function nL(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return K(!0);let i=r.map(s=>Fu(()=>{let o=Ja(e)??n,a=Ks(s,o),u=GF(a)?a.canActivate(e,t):jt(o,()=>a(e,t));return jr(u).pipe(on())}));return K(i).pipe(Ws())}function rL(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>BF(o)).filter(o=>o!==null).map(o=>Fu(()=>{let a=o.guards.map(u=>{let l=Ja(o.node)??n,h=Ks(u,l),p=WF(h)?h.canActivateChild(r,t):jt(l,()=>h(r,t));return jr(p).pipe(on())});return K(a).pipe(Ws())}));return K(s).pipe(Ws())}function iL(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return K(!0);let o=s.map(a=>{let u=Ja(e)??i,l=Ks(a,u),h=KF(l)?l.canDeactivate(t,e,n,r):jt(u,()=>l(t,e,n,r));return jr(h).pipe(on())});return K(o).pipe(Ws())}function sL(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return K(!0);let s=i.map(o=>{let a=Ks(o,t),u=qF(a)?a.canLoad(e,n):jt(t,()=>a(e,n));return jr(u)});return K(s).pipe(Ws(),VC(r))}function VC(t){return kf(Ve(e=>{if(typeof e!="boolean")throw fd(t,e)}),re(e=>e===!0))}function oL(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return K(!0);let s=i.map(o=>{let a=Ks(o,t),u=QF(a)?a.canMatch(e,n):jt(t,()=>a(e,n));return jr(u)});return K(s).pipe(Ws(),VC(r))}var Ga=class{constructor(e){this.segmentGroup=e||null}},Wa=class extends Error{constructor(e){super(),this.urlTree=e}};function Vs(t){return ls(new Ga(t))}function aL(t){return ls(new B(4e3,!1))}function cL(t){return ls(kC(!1,Nt.GuardRejected))}var Ym=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return K(r);if(i.numberOfChildren>1||!i.children[oe])return aL(`${e.redirectTo}`);i=i.children[oe]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:T,title:M}=i,R=jt(s,()=>a({params:y,data:T,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:M}));if(R instanceof Wn)throw new Wa(R);n=R}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Wa(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Wn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new De(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Jm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uL(t,e,n,r,i){let s=jC(t,e,n);return s.matched?(r=NF(e,r),oL(r,e,n,i).pipe(re(o=>o===!0?s:F({},Jm)))):K(s)}function jC(t,e,n){if(e.path==="**")return lL(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},Jm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||sF)(n,t,e);if(!i)return F({},Jm);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?F(F({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function lL(t){return{matched:!0,parameters:t.length>0?vC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function hC(t,e,n,r){return n.length>0&&fL(t,n,r)?{segmentGroup:new De(e,hL(r,new De(n,t.children))),slicedSegments:[]}:n.length===0&&pL(t,n,r)?{segmentGroup:new De(t.segments,dL(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new De(t.segments,t.children),slicedSegments:n}}function dL(t,e,n,r){let i={};for(let s of n)if(yd(t,e,s)&&!r[tn(s)]){let o=new De([],{});i[tn(s)]=o}return F(F({},r),i)}function hL(t,e){let n={};n[oe]=e;for(let r of t)if(r.path===""&&tn(r)!==oe){let i=new De([],{});n[tn(r)]=i}return n}function fL(t,e,n){return n.some(r=>yd(t,e,r)&&tn(r)!==oe)}function pL(t,e,n){return n.some(r=>yd(t,e,r))}function yd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function gL(t,e,n){return e.length===0&&!t.children[n]}var Zm=class{};function mL(t,e,n,r,i,s,o="emptyOnly"){return new Xm(t,e,n,r,i,o,s).recognize()}var yL=31,Xm=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Ym(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=hC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(re(({children:n,rootSnapshot:r})=>{let i=new Mt(r,n),s=new hd("",i),o=bF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Bs([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,oe,n).pipe(re(r=>({children:r,rootSnapshot:n})),vr(r=>{if(r instanceof Wa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ga?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(re(o=>o instanceof Mt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Re(s).pipe(Mn(o=>{let a=r.children[o],u=xF(n,o);return this.processSegmentGroup(e,u,a,o,i)}),Wf((o,a)=>(o.push(...a),o)),_r(null),Gf(),Le(o=>{if(o===null)return Vs(r);let a=UC(o);return vL(a),K(a)}))}processSegment(e,n,r,i,s,o,a){return Re(n).pipe(Mn(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(vr(l=>{if(l instanceof Ga)return K(null);throw l}))),on(u=>!!u),vr(u=>{if(LC(u))return gL(r,i,s)?K(new Zm):Vs(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return tn(r)!==o&&(o===oe||!yd(i,s,r))?Vs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):Vs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=jC(n,i,s);if(!u)return Vs(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>yL&&(this.allowRedirects=!1));let y=new Bs(s,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,fC(i),tn(i),i.component??i._loadedComponent??null,i,pC(i)),T=dd(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(T.params),y.data=Object.freeze(T.data);let M=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(Le(R=>this.processSegment(e,r,n,R.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=uL(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Et(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Et(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,T=new Bs(m,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,fC(r),tn(r),r.component??r._loadedComponent??null,r,pC(r)),M=dd(T,o,this.paramsInheritanceStrategy);T.params=Object.freeze(M.params),T.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:N}=hC(n,m,y,l);if(N.length===0&&R.hasChildren())return this.processChildren(h,l,R,T).pipe(re($=>new Mt(T,$)));if(l.length===0&&N.length===0)return K(new Mt(T,[]));let L=tn(r)===s;return this.processSegment(h,l,R,N,L?oe:s,!0,T).pipe(re($=>new Mt(T,$ instanceof Mt?[$]:[])))}))):Vs(n)))}getChildConfig(e,n,r){return n.children?K({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?K({routes:n._loadedRoutes,injector:n._loadedInjector}):sL(e,n,r,this.urlSerializer).pipe(Le(i=>i?this.configLoader.loadChildren(e,n).pipe(Ve(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):cL(n))):K({routes:[],injector:e})}};function vL(t){t.sort((e,n)=>e.value.outlet===oe?-1:n.value.outlet===oe?1:e.value.outlet.localeCompare(n.value.outlet))}function _L(t){let e=t.value.routeConfig;return e&&e.path===""}function UC(t){let e=[],n=new Set;for(let r of t){if(!_L(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=UC(r.children);e.push(new Mt(r.value,i))}return e.filter(r=>!n.has(r))}function fC(t){return t.data||{}}function pC(t){return t.resolve||{}}function IL(t,e,n,r,i,s){return Le(o=>mL(t,e,n,r,o.extractedUrl,i,s).pipe(re(({state:a,tree:u})=>fe(F({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function wL(t,e){return Le(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return K(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of BC(u))o.add(l);let a=0;return Re(o).pipe(Mn(u=>s.has(u)?EL(u,r,t,e):(u.data=dd(u,u.parent,t).resolve,K(void 0))),Ve(()=>a++),fs(1),Le(u=>a===o.size?K(n):Ct))})}function BC(t){let e=t.children.map(n=>BC(n)).flat();return[t,...e]}function EL(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!PC(i)&&(s[Qa]=i.title),DL(s,t,e,r).pipe(re(o=>(t._resolvedData=o,t.data=dd(t,t.parent,n).resolve,null)))}function DL(t,e,n,r){let i=Mm(t);if(i.length===0)return K({});let s={};return Re(i).pipe(Le(o=>bL(t[o],e,n,r).pipe(on(),Ve(a=>{if(a instanceof qa)throw fd(new zs,a);s[o]=a}))),fs(1),qf(s),vr(o=>LC(o)?Ct:ls(o)))}function bL(t,e,n,r){let i=Ja(e)??r,s=Ks(t,i),o=s.resolve?s.resolve(e,n):jt(i,()=>s(e,n));return jr(o)}function Sm(t){return Et(e=>{let n=t(e);return n?Re(n).pipe(re(()=>e)):K(e)})}var $C=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===oe);return i}getResolvedTitleForRoute(r){return r.data[Qa]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:()=>P(TL),providedIn:"root"});let t=e;return t})(),TL=(()=>{let e=class e extends $C{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(q(oC))},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ec=new V("",{providedIn:"root",factory:()=>({})}),CL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Lt({type:e,selectors:[["ng-component"]],standalone:!0,features:[_T],decls:1,vars:0,template:function(i,s){i&1&&Rt(0,"router-outlet")},dependencies:[OF],encapsulation:2});let t=e;return t})();function ny(t){let e=t.children&&t.children.map(ny),n=e?fe(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==oe&&(n.component=CL),n}var Ka=new V(""),ry=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P($l)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return K(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=jr(r.loadComponent()).pipe(re(HC),Ve(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),oi(()=>{this.componentLoaders.delete(r)})),s=new os(i,()=>new qe).pipe(ss());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return K({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=AL(i,this.compiler,r,this.onLoadEndListener).pipe(oi(()=>{this.childrenLoaders.delete(i)})),a=new os(o,()=>new qe).pipe(ss());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function AL(t,e,n,r){return jr(t.loadChildren()).pipe(re(HC),Le(i=>i instanceof pa||Array.isArray(i)?K(i):Re(e.compileModuleAsync(i))),re(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Ka,[],{optional:!0,self:!0}).flat()),{routes:o.map(ny),injector:s}}))}function SL(t){return t&&typeof t=="object"&&"default"in t}function HC(t){return SL(t)?t.default:t}var iy=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:()=>P(RL),providedIn:"root"});let t=e;return t})(),RL=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zC=new V(""),qC=new V("");function ML(t,e,n){let r=t.get(qC),i=t.get(et);return t.get(we).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),NL(t))),{onViewTransitionCreated:u}=r;return u&&jt(t,()=>u({transition:a,from:e,to:n})),o})}function NL(t){return new Promise(e=>{Zg({read:()=>setTimeout(e)},{injector:t})})}var xL=new V(""),sy=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new qe,this.transitionAbortSubject=new qe,this.configLoader=P(ry),this.environmentInjector=P(vt),this.urlSerializer=P(Ya),this.rootContexts=P(Za),this.location=P(Ls),this.inputBindingEnabled=P(md,{optional:!0})!==null,this.titleStrategy=P($C),this.options=P(ec,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=P(iy),this.createViewTransition=P(zC,{optional:!0}),this.navigationErrorHandler=P(xL,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>K(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Vm(s)),i=s=>this.events.next(new jm(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(fe(F(F({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Ye({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ja,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(wt(o=>o.id!==0),re(o=>fe(F({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Et(o=>{let a=!1,u=!1;return K(o).pipe(Et(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Nt.SupersededByNewNavigation),Ct;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?fe(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new Lr(l.id,this.urlSerializer.serialize(l.rawUrl),m,od.IgnoredSameUrlNavigation)),l.resolve(!1),Ct}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return K(l).pipe(Et(m=>{let y=this.transitions?.getValue();return this.events.next(new qs(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?Ct:Promise.resolve(m)}),IL(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ve(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=fe(F({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let y=new ad(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:y,source:T,restoredState:M,extras:R}=l,N=new qs(m,this.urlSerializer.serialize(y),T,M);this.events.next(N);let L=NC(this.rootComponentType).snapshot;return this.currentTransition=o=fe(F({},l),{targetSnapshot:L,urlAfterRedirects:y,extras:fe(F({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,K(o)}else{let m="";return this.events.next(new Lr(l.id,this.urlSerializer.serialize(l.extractedUrl),m,od.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Ct}}),Ve(l=>{let h=new Om(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),re(l=>(this.currentTransition=o=fe(F({},l),{guards:UF(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),JF(this.environmentInjector,l=>this.events.next(l)),Ve(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw fd(this.urlSerializer,l.guardsResult);let h=new km(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),wt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Nt.GuardRejected),!1)),Sm(l=>{if(l.guards.canActivateChecks.length)return K(l).pipe(Ve(h=>{let p=new Fm(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Et(h=>{let p=!1;return K(h).pipe(wL(this.paramsInheritanceStrategy,this.environmentInjector),Ve({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",Nt.NoDataFromResolver)}}))}),Ve(h=>{let p=new Lm(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),Sm(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Ve(y=>{p.component=y}),re(()=>{})));for(let y of p.children)m.push(...h(y));return m};return ra(h(l.targetSnapshot.root)).pipe(_r(null),Nn(1))}),Sm(()=>this.afterPreactivation()),Et(()=>{let{currentSnapshot:l,targetSnapshot:h}=o,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?Re(p).pipe(re(()=>o)):K(o)}),re(l=>{let h=kF(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=fe(F({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,o}),Ve(()=>{this.events.next(new Ha)}),jF(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Nn(1),Ve({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new fn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Qf(this.transitionAbortSubject.pipe(Ve(l=>{throw l}))),oi(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",Nt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),vr(l=>{if(u=!0,FC(l))this.events.next(new Gn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),VF(l)?this.events.next(new Gs(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let h=new $a(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let p=jt(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof qa){let{message:m,cancellationCode:y}=fd(this.urlSerializer,p);this.events.next(new Gn(o.id,this.urlSerializer.serialize(o.extractedUrl),m,y)),this.events.next(new Gs(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let m=r.errorHandler(l);o.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return Ct}))}))}cancelNavigationTransition(r,i,s){let o=new Gn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function PL(t){return t!==ja}var OL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:()=>P(kL),providedIn:"root"});let t=e;return t})(),ey=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},kL=(()=>{let e=class e extends ey{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Os(e)))(s||e)}})(),e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),GC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:()=>P(FL),providedIn:"root"});let t=e;return t})(),FL=(()=>{let e=class e extends GC{constructor(){super(...arguments),this.location=P(Ls),this.urlSerializer=P(Ya),this.options=P(ec,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=P(iy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Wn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=NC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof qs)this.stateMemento=this.createStateMemento();else if(r instanceof Lr)this.rawUrlTree=i.initialUrl;else if(r instanceof ad){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof Ha?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof Gn&&(r.code===Nt.GuardRejected||r.code===Nt.NoDataFromResolver)?this.restoreHistory(i):r instanceof $a?this.restoreHistory(i,!0):r instanceof fn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof Wn?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=F(F({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=F(F({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Os(e)))(s||e)}})(),e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),La=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(La||{});function WC(t,e){t.events.pipe(wt(n=>n instanceof fn||n instanceof Gn||n instanceof $a||n instanceof Lr),re(n=>n instanceof fn||n instanceof Lr?La.COMPLETE:(n instanceof Gn?n.code===Nt.Redirect||n.code===Nt.SupersededByNewNavigation:!1)?La.REDIRECTING:La.FAILED),wt(n=>n!==La.REDIRECTING),Nn(1)).subscribe(()=>{e()})}function LL(t){throw t}var VL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Kn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=P(Ul),this.stateManager=P(GC),this.options=P(ec,{optional:!0})||{},this.pendingTasks=P(Rr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=P(sy),this.urlSerializer=P(Ya),this.location=P(Ls),this.urlHandlingStrategy=P(iy),this._events=new qe,this.errorHandler=this.options.errorHandler||LL,this.navigated=!1,this.routeReuseStrategy=P(OL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=P(Ka,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!P(md,{optional:!0}),this.eventsSubscription=new xe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Gn&&i.code!==Nt.Redirect&&i.code!==Nt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof fn)this.navigated=!0;else if(i instanceof Gs){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l=F({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||PL(s.source)},a);this.scheduleNavigation(u,ja,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}BL(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ja,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=F({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(ny),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":p=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let y=s?s.snapshot:this.routerState.snapshot.root;m=AC(y)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return SC(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Ri(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,ja,null,i)}navigate(r,i={skipLocationChange:!1}){return UL(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=F({},VL):i===!1?s=F({},jL):s=i,Ri(r))return aC(this.currentUrlTree,r,s);let o=this.parseUrl(r);return aC(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,y)=>{u=m,l=y});let p=this.pendingTasks.add();return WC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function UL(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new B(4008,!1)}function BL(t){return!(t instanceof Ha)&&!(t instanceof Gs)}var KC=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.onChanges=new qe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof fn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ri(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:bb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:Ri(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(ce(Kn),ce(Vr),Rg("tabindex"),ce(Ei),ce(en),ce(zn))},e.\u0275dir=Ze({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&he("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Ea("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Pr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Pr],replaceUrl:[2,"replaceUrl","replaceUrl",Pr],routerLink:"routerLink"},standalone:!0,features:[Jg,Ar]});let t=e;return t})();var gd=class{};var $L=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(wt(r=>r instanceof fn),Mn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Vl(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return Re(s).pipe(ds())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=K(null);let o=s.pipe(Le(a=>a===null?K(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Re([o,a]).pipe(ds())}else return o})}};e.\u0275fac=function(i){return new(i||e)(q(Kn),q($l),q(vt),q(gd),q(ry))},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),QC=new V(""),HL=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof qs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof fn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Lr&&r.code===od.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof cd&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new cd(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){Fb()},e.\u0275prov=U({token:e,factory:e.\u0275fac});let t=e;return t})();function z5(t,...e){return Vt([{provide:Ka,multi:!0,useValue:t},[],{provide:Vr,useFactory:YC,deps:[Kn]},{provide:Ta,multi:!0,useFactory:JC},e.map(n=>n.\u0275providers)])}function YC(t){return t.routerState.root}function tc(t,e){return{\u0275kind:t,\u0275providers:e}}function JC(){let t=P(Je);return e=>{let n=t.get(xr);if(e!==n.components[0])return;let r=t.get(Kn),i=t.get(ZC);t.get(oy)===1&&r.initialNavigation(),t.get(XC,null,ae.Optional)?.setUpPreloading(),t.get(QC,null,ae.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var ZC=new V("",{factory:()=>new qe}),oy=new V("",{providedIn:"root",factory:()=>1});function zL(){return tc(2,[{provide:oy,useValue:0},{provide:Bl,multi:!0,deps:[Je],useFactory:e=>{let n=e.get(LT,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Kn),s=e.get(ZC);WC(i,()=>{r(!0)}),e.get(sy).afterPreactivation=()=>(r(!0),s.closed?K(void 0):s),i.initialNavigation()}))}}])}function qL(){return tc(3,[{provide:Bl,multi:!0,useFactory:()=>{let e=P(Kn);return()=>{e.setUpLocationChangeListener()}}},{provide:oy,useValue:2}])}var XC=new V("");function GL(t){return tc(0,[{provide:XC,useExisting:$L},{provide:gd,useExisting:t}])}function WL(){return tc(8,[dC,{provide:md,useExisting:dC}])}function KL(t){let e=[{provide:zC,useValue:ML},{provide:qC,useValue:F({skipNextTransition:!!t?.skipInitialTransition},t)}];return tc(9,e)}var gC=new V("ROUTER_FORROOT_GUARD"),QL=[Ls,{provide:Ya,useClass:zs},Kn,Za,{provide:Vr,useFactory:YC,deps:[Kn]},ry,[]],ay=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[QL,[],{provide:Ka,multi:!0,useValue:r},{provide:gC,useFactory:XL,deps:[[Kn,new ut,new pg]]},{provide:ec,useValue:i||{}},i?.useHash?JL():ZL(),YL(),i?.preloadingStrategy?GL(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?eV(i):[],i?.bindToComponentInputs?WL().\u0275providers:[],i?.enableViewTransitions?KL().\u0275providers:[],tV()]}}static forChild(r){return{ngModule:e,providers:[{provide:Ka,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(q(gC,8))},e.\u0275mod=St({type:e}),e.\u0275inj=At({});let t=e;return t})();function YL(){return{provide:QC,useFactory:()=>{let t=P($T),e=P(we),n=P(ec),r=P(sy),i=P(Ya);return n.scrollOffset&&t.setOffset(n.scrollOffset),new HL(i,r,t,e,n)}}}function JL(){return{provide:zn,useClass:jT}}function ZL(){return{provide:zn,useClass:lm}}function XL(t){return"guarded"}function eV(t){return[t.initialNavigation==="disabled"?qL().\u0275providers:[],t.initialNavigation==="enabledBlocking"?zL().\u0275providers:[]]}var mC=new V("");function tV(){return[{provide:mC,useFactory:JC},{provide:Ta,multi:!0,useExisting:mC}]}var t0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},rV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},n0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,o||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(t0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new uy;let m=s<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let T=l<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},uy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},iV=function(t){let e=t0(t);return n0.encodeByteArray(e,!0)},nc=function(t){return iV(t).replace(/\./g,"")},dy=function(t){try{return n0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var oV=()=>sV().__FIREBASE_DEFAULTS__,aV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&dy(t[1]);return e&&JSON.parse(e)},_d=()=>{try{return oV()||aV()||cV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hy=t=>{var e,n;return(n=(e=_d())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},r0=t=>{let e=hy(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fy=()=>{var t;return(t=_d())===null||t===void 0?void 0:t.config},py=t=>{var e;return(e=_d())===null||e===void 0?void 0:e[`_${t}`]};var vd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function i0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[nc(JSON.stringify(n)),nc(JSON.stringify(o)),""].join(".")}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function s0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function uV(){var t;let e=(t=_d())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function o0(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function a0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function c0(){let t=We();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function u0(){return!uV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gy(){try{return typeof indexedDB=="object"}catch{return!1}}function l0(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var lV="FirebaseError",xt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=lV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qn.prototype.create)}},Qn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?dV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new xt(i,a,r)}};function dV(t,e){return t.replace(hV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var hV=/\{\$([^}]+)}/g;function d0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(e0(s)&&e0(o)){if(!Mi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function e0(t){return t!==null&&typeof t=="object"}function rc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qs(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ys(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function h0(t,e){let n=new ly(t,e);return n.subscribe.bind(n)}var ly=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");fV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=cy),i.error===void 0&&(i.error=cy),i.complete===void 0&&(i.complete=cy);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function fV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cy(){}var G5=4*60*60*1e3;function lt(t){return t&&t._delegate?t._delegate:t}var zt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ni="[DEFAULT]";var my=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new vd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gV(e))try{this.getOrInitializeService({instanceIdentifier:Ni})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ni){return this.instances.has(e)}getOptions(e=Ni){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ni){return this.component?this.component.multipleInstances?e:Ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function pV(t){return t===Ni?void 0:t}function gV(t){return t.instantiationMode==="EAGER"}var Id=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new my(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var mV=[],ge=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ge||{}),yV={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},vV=ge.INFO,_V={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},IV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=_V[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ur=class{constructor(e){this.name=e,this._logLevel=vV,this._logHandler=IV,this._userLogHandler=null,mV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}};var wV=(t,e)=>e.some(n=>t instanceof n),f0,p0;function EV(){return f0||(f0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DV(){return p0||(p0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var g0=new WeakMap,vy=new WeakMap,m0=new WeakMap,yy=new WeakMap,Iy=new WeakMap;function bV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(pn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&g0.set(n,t)}).catch(()=>{}),Iy.set(e,t),e}function TV(t){if(vy.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});vy.set(t,e)}var _y={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||m0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function y0(t){_y=t(_y)}function CV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(wd(this),e,...n);return m0.set(r,e.sort?e.sort():[e]),pn(r)}:DV().includes(t)?function(...e){return t.apply(wd(this),e),pn(g0.get(this))}:function(...e){return pn(t.apply(wd(this),e))}}function AV(t){return typeof t=="function"?CV(t):(t instanceof IDBTransaction&&TV(t),wV(t,EV())?new Proxy(t,_y):t)}function pn(t){if(t instanceof IDBRequest)return bV(t);if(yy.has(t))return yy.get(t);let e=AV(t);return e!==t&&(yy.set(t,e),Iy.set(e,t)),e}var wd=t=>Iy.get(t);function _0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=pn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(pn(o.result),u.oldVersion,u.newVersion,pn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var SV=["get","getKey","getAll","getAllKeys","count"],RV=["put","add","delete","clear"],wy=new Map;function v0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wy.get(e))return wy.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=RV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||SV.includes(n)))return;let s=function(o,...a){return I(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return wy.set(e,s),s}y0(t=>fe(F({},t),{get:(e,n,r)=>v0(e,n)||t.get(e,n,r),has:(e,n)=>!!v0(e,n)||t.has(e,n)}));var Dy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function MV(t){let e=t.getComponent();return e?.type==="VERSION"}var by="@firebase/app",I0="0.10.10";var Yn=new Ur("@firebase/app"),NV="@firebase/app-compat",xV="@firebase/analytics-compat",PV="@firebase/analytics",OV="@firebase/app-check-compat",kV="@firebase/app-check",FV="@firebase/auth",LV="@firebase/auth-compat",VV="@firebase/database",jV="@firebase/database-compat",UV="@firebase/functions",BV="@firebase/functions-compat",$V="@firebase/installations",HV="@firebase/installations-compat",zV="@firebase/messaging",qV="@firebase/messaging-compat",GV="@firebase/performance",WV="@firebase/performance-compat",KV="@firebase/remote-config",QV="@firebase/remote-config-compat",YV="@firebase/storage",JV="@firebase/storage-compat",ZV="@firebase/firestore",XV="@firebase/vertexai-preview",ej="@firebase/firestore-compat",tj="firebase",nj="10.13.1";var Ty="[DEFAULT]",rj={[by]:"fire-core",[NV]:"fire-core-compat",[PV]:"fire-analytics",[xV]:"fire-analytics-compat",[kV]:"fire-app-check",[OV]:"fire-app-check-compat",[FV]:"fire-auth",[LV]:"fire-auth-compat",[VV]:"fire-rtdb",[jV]:"fire-rtdb-compat",[UV]:"fire-fn",[BV]:"fire-fn-compat",[$V]:"fire-iid",[HV]:"fire-iid-compat",[zV]:"fire-fcm",[qV]:"fire-fcm-compat",[GV]:"fire-perf",[WV]:"fire-perf-compat",[KV]:"fire-rc",[QV]:"fire-rc-compat",[YV]:"fire-gcs",[JV]:"fire-gcs-compat",[ZV]:"fire-fst",[ej]:"fire-fst-compat",[XV]:"fire-vertex","fire-js":"fire-js",[tj]:"fire-js-all"};var ic=new Map,ij=new Map,Cy=new Map;function w0(t,e){try{t.container.addComponent(e)}catch(n){Yn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $r(t){let e=t.name;if(Cy.has(e))return Yn.debug(`There were multiple attempts to register component ${e}.`),!1;Cy.set(e,t);for(let n of ic.values())w0(n,t);for(let n of ij.values())w0(n,t);return!0}function oc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function nn(t){return t.settings!==void 0}var sj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new Qn("app","Firebase",sj);var Ay=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}};var Hr=nj;function My(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Ty,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Br.create("bad-app-name",{appName:String(i)});if(n||(n=fy()),!n)throw Br.create("no-options");let s=ic.get(i);if(s){if(Mi(n,s.options)&&Mi(r,s.config))return s;throw Br.create("duplicate-app",{appName:i})}let o=new Id(i);for(let u of Cy.values())o.addComponent(u);let a=new Ay(n,r,o);return ic.set(i,a),a}function Js(t=Ty){let e=ic.get(t);if(!e&&t===Ty&&fy())return My();if(!e)throw Br.create("no-app",{appName:t});return e}function Ed(){return Array.from(ic.values())}function He(t,e,n){var r;let i=(r=rj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yn.warn(a.join(" "));return}$r(new zt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var oj="firebase-heartbeat-database",aj=1,sc="firebase-heartbeat-store",Ey=null;function T0(){return Ey||(Ey=_0(oj,aj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Br.create("idb-open",{originalErrorMessage:t.message})})),Ey}function cj(t){return I(this,null,function*(){try{let n=(yield T0()).transaction(sc),r=yield n.objectStore(sc).get(C0(t));return yield n.done,r}catch(e){if(e instanceof xt)Yn.warn(e.message);else{let n=Br.create("idb-get",{originalErrorMessage:e?.message});Yn.warn(n.message)}}})}function E0(t,e){return I(this,null,function*(){try{let r=(yield T0()).transaction(sc,"readwrite");yield r.objectStore(sc).put(e,C0(t)),yield r.done}catch(n){if(n instanceof xt)Yn.warn(n.message);else{let r=Br.create("idb-set",{originalErrorMessage:n?.message});Yn.warn(r.message)}}})}function C0(t){return`${t.name}!${t.options.appId}`}var uj=1024,lj=30*24*60*60*1e3,Sy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Ry(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return I(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=D0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=lj}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Yn.warn(r)}})}getHeartbeatsHeader(){return I(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=D0(),{heartbeatsToSend:r,unsentEntries:i}=dj(this._heartbeatsCache.heartbeats),s=nc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Yn.warn(n),""}})}};function D0(){return new Date().toISOString().substring(0,10)}function dj(t,e=uj){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),b0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),b0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Ry=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return gy()?l0().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield cj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return E0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return E0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function b0(t){return nc(JSON.stringify({version:2,heartbeats:t})).length}function hj(t){$r(new zt("platform-logger",e=>new Dy(e),"PRIVATE")),$r(new zt("heartbeat",e=>new Sy(e),"PRIVATE")),He(by,I0,t),He(by,I0,"esm2017"),He("fire-js","")}hj("");var fj="firebase",pj="10.13.1";He(fj,pj,"app");var Pi=new kn("ANGULARFIRE2_VERSION");function bd(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ac=(t,e)=>{let n=e?[e]:Ed(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Xs=class{constructor(){return ac(gj)}},gj="app-check";function Zs(){}var Dd=class{zone;delegate;constructor(e,n=Bf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Ny=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zs,{},Zs,Zs)),n.pipe(Ve({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},eo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Dd(Zone.current)),this.insideAngular=n.run(()=>new Dd(Zone.current,Uf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(q(we))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Td(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function mj(t){return Td().ngZone.runOutsideAngular(()=>t())}function xi(t){return Td().ngZone.run(()=>t())}function yj(t){return vj(Td())(t)}function vj(t){return function(n){return n=n.lift(new Ny(t.ngZone)),n.pipe(yr(t.outsideAngular),mr(t.insideAngular))}}var _j=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),xi(()=>t.apply(void 0,r))},qt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=xi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zs,{},Zs,Zs))),r[s]=_j(r[s],n));let i=mj(()=>t.apply(this,r));if(!e)if(i instanceof de){let s=Td();return i.pipe(yr(s.outsideAngular),mr(s.insideAngular))}else return xi(()=>i);return i instanceof de?i.pipe(yj):i instanceof Promise?xi(()=>new Promise((s,o)=>i.then(a=>xi(()=>s(a)),a=>xi(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:xi(()=>i)};var Jn=class{constructor(e){return e}},Oi=class{constructor(){return Ed()}};function Ij(t){return t&&t.length===1?t[0]:new Jn(Js())}var xy=new V("angularfire2._apps"),wj={provide:Jn,useFactory:Ij,deps:[[new ut,xy]]},Ej={provide:Oi,deps:[[new ut,xy]]};function Dj(t){return(e,n)=>{let r=n.get(Bt);He("angularfire",Pi.full,"core"),He("angularfire",Pi.full,"app"),He("angular",wT.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Jn(i)}}function x6(t,...e){return Vt([wj,Ej,{provide:xy,useFactory:Dj(t),multi:!0,deps:[we,Je,eo,...e]}])}var P6=qt(My,!0);function H0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var z0=H0,q0=new Qn("auth","Firebase",H0());var Nd=new Ur("@firebase/auth");function bj(t,...e){Nd.logLevel<=ge.WARN&&Nd.warn(`Auth (${Hr}): ${t}`,...e)}function Ad(t,...e){Nd.logLevel<=ge.ERROR&&Nd.error(`Auth (${Hr}): ${t}`,...e)}function mn(t,...e){throw tv(t,...e)}function ki(t,...e){return tv(t,...e)}function G0(t,e,n){let r=Object.assign(Object.assign({},z0()),{[e]:n});return new Qn("auth","Firebase",r).create(e,{appName:t.name})}function er(t){return G0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tv(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return q0.create(t,...e)}function Q(t,e,...n){if(!t)throw tv(e,...n)}function Zn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ad(e),new Error(e)}function qr(t,e){t||Zn(e)}function Fy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Tj(){return A0()==="http:"||A0()==="https:"}function A0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Cj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Tj()||o0()||"connection"in navigator)?navigator.onLine:!0}function Aj(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Fi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,qr(n>e,"Short delay should be less than long delay!"),this.isMobile=s0()||a0()}get(){return Cj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function nv(t,e){qr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var xd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Sj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Rj=new Fi(3e4,6e4);function Gr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function tr(s,o,a,u){return I(this,arguments,function*(t,e,n,r,i={}){return W0(t,i,()=>I(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=rc(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),xd.fetch()(K0(t,t.config.apiHost,n,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))}))})}function W0(t,e,n){return I(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Sj),e);try{let i=new Ly(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Cd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cd(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Cd(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Cd(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw G0(t,h,l);mn(t,h)}}catch(i){if(i instanceof xt)throw i;mn(t,"network-request-failed",{message:String(i)})}})}function pc(s,o,a,u){return I(this,arguments,function*(t,e,n,r,i={}){let l=yield tr(t,e,n,r,i);return"mfaPendingCredential"in l&&mn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function K0(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?nv(t.config,i):`${t.config.apiScheme}://${i}`}function Mj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Ly=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ki(this.auth,"network-request-failed")),Rj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Cd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ki(t,e,r);return i.customData._tokenResponse=n,i}function S0(t){return t!==void 0&&t.enterprise!==void 0}var Vy=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Mj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function Nj(t,e){return I(this,null,function*(){return tr(t,"GET","/v2/recaptchaConfig",Gr(t,e))})}function xj(t,e){return I(this,null,function*(){return tr(t,"POST","/v1/accounts:delete",e)})}function Q0(t,e){return I(this,null,function*(){return tr(t,"POST","/v1/accounts:lookup",e)})}function cc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function rv(t,e=!1){return I(this,null,function*(){let n=lt(t),r=yield n.getIdToken(e),i=iv(r);Q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:cc(Py(i.auth_time)),issuedAtTime:cc(Py(i.iat)),expirationTime:cc(Py(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Py(t){return Number(t)*1e3}function iv(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ad("JWT malformed, contained fewer than 3 sections"),null;try{let i=dy(n);return i?JSON.parse(i):(Ad("Failed to decode base64 JWT payload"),null)}catch(i){return Ad("Caught error parsing JWT payload as JSON",i?.toString()),null}}function R0(t){let e=iv(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function to(t,e,n=!1){return I(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof xt&&Pj(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function Pj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var jy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),n)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var lc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cc(this.lastLoginAt),this.creationTime=cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Pd(t){return I(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield to(t,Q0(n,{idToken:r}));Q(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Y0(s.providerUserInfo):[],a=Oj(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new lc(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function sv(t){return I(this,null,function*(){let e=lt(t);yield Pd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Oj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Y0(t){return t.map(e=>{var{providerId:n}=e,r=$f(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function kj(t,e){return I(this,null,function*(){let n=yield W0(t,{},()=>I(this,null,function*(){let r=rc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=K0(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",xd.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Fj(t,e){return I(this,null,function*(){return tr(t,"POST","/v2/accounts:revokeToken",Gr(t,e))})}var uc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):R0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");let n=R0(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return I(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return I(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield kj(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(Q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Zn("not implemented")}};function zr(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var no=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=$f(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new lc(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let n=yield to(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return rv(this,e)}reload(){return sv(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return I(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Pd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){if(nn(this.auth.app))return Promise.reject(er(this.auth));let e=yield this.getIdToken();return yield to(this,xj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,T=(o=n.photoURL)!==null&&o!==void 0?o:void 0,M=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,N=(l=n.createdAt)!==null&&l!==void 0?l:void 0,L=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:$,emailVerified:H,isAnonymous:be,providerData:G,stsTokenManager:E}=n;Q($&&E,e,"internal-error");let v=uc.fromJSON(this.name,E);Q(typeof $=="string",e,"internal-error"),zr(p,e.name),zr(m,e.name),Q(typeof H=="boolean",e,"internal-error"),Q(typeof be=="boolean",e,"internal-error"),zr(y,e.name),zr(T,e.name),zr(M,e.name),zr(R,e.name),zr(N,e.name),zr(L,e.name);let _=new t({uid:$,auth:e,email:m,emailVerified:H,displayName:p,isAnonymous:be,photoURL:T,phoneNumber:y,tenantId:M,stsTokenManager:v,createdAt:N,lastLoginAt:L});return G&&Array.isArray(G)&&(_.providerData=G.map(D=>Object.assign({},D))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,n,r=!1){return I(this,null,function*(){let i=new uc;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Pd(s),s})}static _fromGetAccountInfoResponse(e,n,r){return I(this,null,function*(){let i=n.users[0];Q(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?Y0(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new uc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new lc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var M0=new Map;function Xn(t){qr(t instanceof Function,"Expected a class definition");let e=M0.get(t);return e?(qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,M0.set(t,e),e)}var Lj=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(n,r){return I(this,null,function*(){this.storage[n]=r})}_get(n){return I(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return I(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Uy=Lj;function Sd(t,e,n){return`firebase:${t}:${e}:${n}`}var Od=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Sd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Sd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?no._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return I(this,null,function*(){if(!n.length)return new t(Xn(Uy),e,r);let i=(yield Promise.all(n.map(l=>I(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Xn(Uy),o=Sd(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=no._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>I(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function N0(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(J0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nA(e))return"Blackberry";if(rA(e))return"Webos";if(Z0(e))return"Safari";if((e.includes("chrome/")||X0(e))&&!e.includes("edge/"))return"Chrome";if(tA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function J0(t=We()){return/firefox\//i.test(t)}function Z0(t=We()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function X0(t=We()){return/crios\//i.test(t)}function eA(t=We()){return/iemobile/i.test(t)}function tA(t=We()){return/android/i.test(t)}function nA(t=We()){return/blackberry/i.test(t)}function rA(t=We()){return/webos/i.test(t)}function ov(t=We()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Vj(t=We()){var e;return ov(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jj(){return c0()&&document.documentMode===10}function iA(t=We()){return ov(t)||tA(t)||rA(t)||nA(t)||/windows phone/i.test(t)||eA(t)}function sA(t,e=[]){let n;switch(t){case"Browser":n=N0(We());break;case"Worker":n=`${N0(We())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hr}/${r}`}var By=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Uj(n){return I(this,arguments,function*(t,e={}){return tr(t,"GET","/v2/passwordPolicy",Gr(t,e))})}var Bj=6,$y=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Bj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Hy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kd(this),this.idTokenSubscription=new kd(this),this.beforeStateQueue=new By(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xn(n)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Od.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return I(this,null,function*(){try{let n=yield Q0(this,{idToken:e}),r=yield no._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return I(this,null,function*(){var n;if(nn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return I(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield Pd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Aj()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){if(nn(this.app))return Promise.reject(er(this));let n=e?lt(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return I(this,null,function*(){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return nn(this.app)?Promise.reject(er(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return nn(this.app)?Promise.reject(er(this)):this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence(Xn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield Uj(this),n=new $y(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Fj(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return I(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Xn(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=yield Od.create(this,[Xn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return I(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&bj(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Vi(t){return lt(t)}var kd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=h0(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var $d={loadJS(){return I(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $j(t){$d=t}function oA(t){return $d.loadJS(t)}function Hj(){return $d.recaptchaEnterpriseScript}function zj(){return $d.gapiScript}function aA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var qj="recaptcha-enterprise",Gj="NO_RECAPTCHA",zy=class{constructor(e){this.type=qj,this.auth=Vi(e)}verify(e="verify",n=!1){return I(this,null,function*(){function r(s){return I(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>I(this,null,function*(){Nj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Vy(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;S0(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(Gj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&S0(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Hj();u.length!==0&&(u+=a),oA(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function x0(t,e,n,r=!1){return I(this,null,function*(){let i=new zy(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function qy(t,e,n,r){return I(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield x0(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>I(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield x0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function av(t,e){let n=oc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Mi(s,e??{}))return i;mn(i,"already-initialized")}return n.initialize({options:e})}function Wj(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Xn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function cv(t,e,n){let r=Vi(t);Q(r._canInitEmulator,r,"emulator-config-failed"),Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=cA(e),{host:o,port:a}=Kj(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Qj()}function cA(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Kj(t){let e=cA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:P0(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:P0(o)}}}function P0(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Qj(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var dc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zn("not implemented")}_getIdTokenResponse(e){return Zn("not implemented")}_linkToIdToken(e,n){return Zn("not implemented")}_getReauthenticationResolver(e){return Zn("not implemented")}};function Yj(t,e){return I(this,null,function*(){return tr(t,"POST","/v1/accounts:signUp",e)})}function Jj(t,e){return I(this,null,function*(){return pc(t,"POST","/v1/accounts:signInWithPassword",Gr(t,e))})}function Zj(t,e){return I(this,null,function*(){return pc(t,"POST","/v1/accounts:signInWithEmailLink",Gr(t,e))})}function Xj(t,e){return I(this,null,function*(){return pc(t,"POST","/v1/accounts:signInWithEmailLink",Gr(t,e))})}var hc=class t extends dc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return I(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qy(e,n,"signInWithPassword",Jj);case"emailLink":return Zj(e,{email:this._email,oobCode:this._password});default:mn(e,"internal-error")}})}_linkToIdToken(e,n){return I(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qy(e,r,"signUpPassword",Yj);case"emailLink":return Xj(e,{idToken:n,email:this._email,oobCode:this._password});default:mn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Oy(t,e){return I(this,null,function*(){return pc(t,"POST","/v1/accounts:signInWithIdp",Gr(t,e))})}function eU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tU(t){let e=Qs(Ys(t)).link,n=e?Qs(Ys(e)).deep_link_id:null,r=Qs(Ys(t)).deep_link_id;return(r?Qs(Ys(r)).link:null)||r||n||e||t}var Fd=class t{constructor(e){var n,r,i,s,o,a;let u=Qs(Ys(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=eU((i=u.mode)!==null&&i!==void 0?i:null);Q(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=tU(e);try{return new t(n)}catch{return null}}};var uA=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return hc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Fd.parseLink(r);return Q(i,"argument-error"),hc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Ld=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Gy=class extends Ld{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function nU(t,e){return I(this,null,function*(){return pc(t,"POST","/v1/accounts:signUp",Gr(t,e))})}var ro=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return I(this,null,function*(){let s=yield no._fromIdTokenResponse(e,r,i),o=O0(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return I(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=O0(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function O0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Wy=class t extends xt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function lA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Wy._fromErrorAndOperation(t,s,e,r):s})}function rU(t,e,n=!1){return I(this,null,function*(){let r=yield to(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ro._forOperation(t,"link",r)})}function iU(t,e,n=!1){return I(this,null,function*(){let{auth:r}=t;if(nn(r.app))return Promise.reject(er(r));let i="reauthenticate";try{let s=yield to(t,lA(r,i,e,t),n);Q(s.idToken,r,"internal-error");let o=iv(s.idToken);Q(o,r,"internal-error");let{sub:a}=o;return Q(t.uid===a,r,"user-mismatch"),ro._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&mn(r,"user-mismatch"),s}})}function dA(t,e,n=!1){return I(this,null,function*(){if(nn(t.app))return Promise.reject(er(t));let r="signIn",i=yield lA(t,r,e),s=yield ro._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function uv(t,e){return I(this,null,function*(){return dA(Vi(t),e)})}function hA(t){return I(this,null,function*(){let e=Vi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function lv(t,e,n){return I(this,null,function*(){if(nn(t.app))return Promise.reject(er(t));let r=Vi(t),o=yield qy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nU).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&hA(t),u}),a=yield ro._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function dv(t,e,n){return nn(t.app)?Promise.reject(er(t)):uv(lt(t),uA.credential(e,n)).catch(r=>I(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&hA(t),r}))}function sU(t,e){return I(this,null,function*(){return tr(t,"POST","/v1/accounts:update",e)})}function hv(r,i){return I(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let s=lt(t),a={idToken:yield s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=yield to(s,sU(s.auth,a));s.displayName=u.displayName||null,s.photoURL=u.photoUrl||null;let l=s.providerData.find(({providerId:h})=>h==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),yield s._updateTokensIfNecessary(u)})}function fv(t,e,n,r){return lt(t).onIdTokenChanged(e,n,r)}function pv(t,e,n){return lt(t).beforeAuthStateChanged(e,n)}var Vd="__sak";var jd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vd,"1"),this.storage.removeItem(Vd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var oU=1e3,aU=10,cU=(()=>{class t extends jd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);jj()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,aU):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},oU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return I(this,null,function*(){yield pr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return I(this,null,function*(){let r=yield pr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return I(this,null,function*(){yield pr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),fA=cU;var uU=(()=>{class t extends jd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),gv=uU;function lU(t){return Promise.all(t.map(e=>I(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var dU=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return I(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(h=>I(this,null,function*(){return h(r.origin,o)})),l=yield lU(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function pA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Ky=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return I(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=pA("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function gn(){return window}function hU(t){gn().location.href=t}function gA(){return typeof gn().WorkerGlobalScope<"u"&&typeof gn().importScripts=="function"}function fU(){return I(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function pU(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function gU(){return gA()?self:null}var mA="firebaseLocalStorageDb",mU=1,Ud="firebaseLocalStorage",yA="fbase_key",Li=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Hd(t,e){return t.transaction([Ud],e?"readwrite":"readonly").objectStore(Ud)}function yU(){let t=indexedDB.deleteDatabase(mA);return new Li(t).toPromise()}function Qy(){let t=indexedDB.open(mA,mU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Ud,{keyPath:yA})}catch(i){n(i)}}),t.addEventListener("success",()=>I(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Ud)?e(r):(r.close(),yield yU(),e(yield Qy()))}))})}function k0(t,e,n){return I(this,null,function*(){let r=Hd(t,!0).put({[yA]:e,value:n});return new Li(r).toPromise()})}function vU(t,e){return I(this,null,function*(){let n=Hd(t,!1).get(e),r=yield new Li(n).toPromise();return r===void 0?null:r.value})}function F0(t,e){let n=Hd(t,!0).delete(e);return new Li(n).toPromise()}var _U=800,IU=3,wU=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return I(this,null,function*(){return this.db?this.db:(this.db=yield Qy(),this.db)})}_withRetries(n){return I(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>IU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return I(this,null,function*(){return gA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return I(this,null,function*(){this.receiver=dU._getInstance(gU()),this.receiver._subscribe("keyChanged",(n,r)=>I(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>I(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return I(this,null,function*(){var n,r;if(this.activeServiceWorker=yield fU(),!this.activeServiceWorker)return;this.sender=new Ky(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return I(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||pU()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return I(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Qy();return yield k0(n,Vd,"1"),yield F0(n,Vd),!0}catch{}return!1})}_withPendingWrite(n){return I(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(i=>k0(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return I(this,null,function*(){let r=yield this._withRetries(i=>vU(i,n));return this.localCache[n]=r,r})}_remove(n){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(r=>F0(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return I(this,null,function*(){let n=yield this._withRetries(s=>{let o=Hd(s,!1).getAll();return new Li(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>I(this,null,function*(){return this._poll()}),_U)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),vA=wU;var B6=aA("rcb"),$6=new Fi(3e4,6e4);function EU(t,e){return e?Xn(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var fc=class extends dc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oy(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Oy(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Oy(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function DU(t){return dA(t.auth,new fc(t),t.bypassAuthState)}function bU(t){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),iU(n,new fc(t),t.bypassAuthState)}function TU(t){return I(this,null,function*(){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),rU(n,new fc(t),t.bypassAuthState)})}var Yy=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>I(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return I(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DU;case"linkViaPopup":case"linkViaRedirect":return TU;case"reauthViaPopup":case"reauthViaRedirect":return bU;default:mn(this.auth,"internal-error")}}resolve(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var H6=new Fi(2e3,1e4);var CU="pendingRedirect",Rd=new Map,Jy=class t extends Yy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return I(this,null,function*(){let e=Rd.get(this.auth._key());if(!e){try{let r=(yield AU(this.resolver,this.auth))?yield pr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Rd.set(this.auth._key(),e)}return this.bypassAuthState||Rd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return I(this,null,function*(){if(e.type==="signInViaRedirect")return pr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,pr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return I(this,null,function*(){})}cleanUp(){}};function AU(t,e){return I(this,null,function*(){let n=MU(e),r=RU(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function SU(t,e){Rd.set(t._key(),e)}function RU(t){return Xn(t._redirectPersistence)}function MU(t){return Sd(CU,t.config.apiKey,t.name)}function NU(t,e,n=!1){return I(this,null,function*(){if(nn(t.app))return Promise.reject(er(t));let r=Vi(t),i=EU(r,e),o=yield new Jy(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var xU=10*60*1e3,Zy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_A(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ki(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xU&&this.cachedEventUids.clear(),this.cachedEventUids.has(L0(e))}saveEventToCache(e){this.cachedEventUids.add(L0(e)),this.lastProcessedEventTime=Date.now()}};function L0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _A({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function PU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _A(t);default:return!1}}function OU(n){return I(this,arguments,function*(t,e={}){return tr(t,"GET","/v1/projects",e)})}var kU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FU=/^https?/;function LU(t){return I(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield OU(t);for(let n of e)try{if(VU(n))return}catch{}mn(t,"unauthorized-domain")})}function VU(t){let e=Fy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!FU.test(n))return!1;if(kU.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var jU=new Fi(3e4,6e4);function V0(){let t=gn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function UU(t){return new Promise((e,n)=>{var r,i,s;function o(){V0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{V0(),n(ki(t,"network-request-failed"))},timeout:jU.get()})}if(!((i=(r=gn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=gn().gapi)===null||s===void 0)&&s.load)o();else{let a=aA("iframefcb");return gn()[a]=()=>{gapi.load?o():n(ki(t,"network-request-failed"))},oA(`${zj()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Md=null,e})}var Md=null;function BU(t){return Md=Md||UU(t),Md}var $U=new Fi(5e3,15e3),HU="__/auth/iframe",zU="emulator/auth/iframe",qU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WU(t){let e=t.config;Q(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?nv(e,zU):`https://${t.config.authDomain}/${HU}`,r={apiKey:e.apiKey,appName:t.name,v:Hr},i=GU.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${rc(r).slice(1)}`}function KU(t){return I(this,null,function*(){let e=yield BU(t),n=gn().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:WU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qU,dontclear:!0},r=>new Promise((i,s)=>I(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=ki(t,"network-request-failed"),a=gn().setTimeout(()=>{s(o)},$U.get());function u(){gn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var QU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YU=500,JU=600,ZU="_blank",XU="http://localhost",Bd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function e2(t,e,n,r=YU,i=JU){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},QU),{width:r.toString(),height:i.toString(),top:s,left:o}),l=We().toLowerCase();n&&(a=X0(l)?ZU:n),J0(l)&&(e=e||XU,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,T])=>`${m}${y}=${T},`,"");if(Vj(l)&&a!=="_self")return t2(e||"",a),new Bd(null);let p=window.open(e||"",a,h);Q(p,t,"popup-blocked");try{p.focus()}catch{}return new Bd(p)}function t2(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var n2="__/auth/handler",r2="emulator/auth/handler",i2=encodeURIComponent("fac");function j0(t,e,n,r,i,s){return I(this,null,function*(){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Hr,eventId:i};if(e instanceof Ld){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",d0(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof Gy){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${i2}=${encodeURIComponent(u)}`:"";return`${s2(t)}?${rc(a).slice(1)}${l}`})}function s2({config:t}){return t.emulator?nv(t,r2):`https://${t.authDomain}/${n2}`}var ky="webStorageSupport",Xy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gv,this._completeRedirectFn=NU,this._overrideRedirectResult=SU}_openPopup(e,n,r,i){return I(this,null,function*(){var s;qr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield j0(e,n,r,Fy(),i);return e2(e,o,pA())})}_openRedirect(e,n,r,i){return I(this,null,function*(){yield this._originValidation(e);let s=yield j0(e,n,r,Fy(),i);return hU(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(qr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return I(this,null,function*(){let n=yield KU(e),r=new Zy(e);return n.register("authEvent",i=>(Q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ky,{type:ky},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[ky];o!==void 0&&n(!!o),mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iA()||Z0()||ov()}},IA=Xy;var U0="@firebase/auth",B0="1.7.8";var ev=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function o2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a2(t){$r(new zt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sA(t)},l=new Hy(r,i,s,u);return Wj(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$r(new zt("auth-internal",e=>{let n=Vi(e.getProvider("auth").getImmediate());return(r=>new ev(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),He(U0,B0,o2(t)),He(U0,B0,"esm2017")}var c2=5*60,u2=py("authIdTokenMaxAge")||c2,$0=null,l2=t=>e=>I(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>u2)return;let i=n?.token;$0!==i&&($0=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function mv(t=Js()){let e=oc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=av(t,{popupRedirectResolver:IA,persistence:[vA,fA,gv]}),r=py("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=l2(s.toString());pv(n,o,()=>o(n.currentUser)),fv(n,a=>o(a))}}let i=hy("auth");return i&&cv(n,`http://${i}`),n}function d2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}$j({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=ki("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",d2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a2("Browser");var wA="auth",nr=class{constructor(e){return e}},gc=class{constructor(){return ac(wA)}};var yv=new V("angularfire2.auth-instances");function tB(t,e){let n=bd(wA,t,e);return n&&new nr(n)}function nB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new nr(r)}}var rB={provide:gc,deps:[[new ut,yv]]},iB={provide:nr,useFactory:tB,deps:[[new ut,yv],Jn]};function C8(t,...e){return He("angularfire",Pi.full,"auth"),Vt([iB,rB,{provide:yv,useFactory:nB(t),multi:!0,deps:[we,Je,eo,Oi,[new ut,Xs],...e]}])}var A8=qt(lv,!0);var S8=qt(mv,!0);var R8=qt(dv,!0);var M8=qt(hv,!0);var DA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bA={};var Wr,vv;(function(){var t;function e(E,v){function _(){}_.prototype=v.prototype,E.D=v.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(D,b,A){for(var w=Array(arguments.length-2),Tn=2;Tn<arguments.length;Tn++)w[Tn-2]=arguments[Tn];return v.prototype[b].apply(D,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,_){_||(_=0);var D=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)D[b]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(b=0;16>b;++b)D[b]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=E.g[0],_=E.g[1],b=E.g[2];var A=E.g[3],w=v+(A^_&(b^A))+D[0]+3614090360&4294967295;v=_+(w<<7&4294967295|w>>>25),w=A+(b^v&(_^b))+D[1]+3905402710&4294967295,A=v+(w<<12&4294967295|w>>>20),w=b+(_^A&(v^_))+D[2]+606105819&4294967295,b=A+(w<<17&4294967295|w>>>15),w=_+(v^b&(A^v))+D[3]+3250441966&4294967295,_=b+(w<<22&4294967295|w>>>10),w=v+(A^_&(b^A))+D[4]+4118548399&4294967295,v=_+(w<<7&4294967295|w>>>25),w=A+(b^v&(_^b))+D[5]+1200080426&4294967295,A=v+(w<<12&4294967295|w>>>20),w=b+(_^A&(v^_))+D[6]+2821735955&4294967295,b=A+(w<<17&4294967295|w>>>15),w=_+(v^b&(A^v))+D[7]+4249261313&4294967295,_=b+(w<<22&4294967295|w>>>10),w=v+(A^_&(b^A))+D[8]+1770035416&4294967295,v=_+(w<<7&4294967295|w>>>25),w=A+(b^v&(_^b))+D[9]+2336552879&4294967295,A=v+(w<<12&4294967295|w>>>20),w=b+(_^A&(v^_))+D[10]+4294925233&4294967295,b=A+(w<<17&4294967295|w>>>15),w=_+(v^b&(A^v))+D[11]+2304563134&4294967295,_=b+(w<<22&4294967295|w>>>10),w=v+(A^_&(b^A))+D[12]+1804603682&4294967295,v=_+(w<<7&4294967295|w>>>25),w=A+(b^v&(_^b))+D[13]+4254626195&4294967295,A=v+(w<<12&4294967295|w>>>20),w=b+(_^A&(v^_))+D[14]+2792965006&4294967295,b=A+(w<<17&4294967295|w>>>15),w=_+(v^b&(A^v))+D[15]+1236535329&4294967295,_=b+(w<<22&4294967295|w>>>10),w=v+(b^A&(_^b))+D[1]+4129170786&4294967295,v=_+(w<<5&4294967295|w>>>27),w=A+(_^b&(v^_))+D[6]+3225465664&4294967295,A=v+(w<<9&4294967295|w>>>23),w=b+(v^_&(A^v))+D[11]+643717713&4294967295,b=A+(w<<14&4294967295|w>>>18),w=_+(A^v&(b^A))+D[0]+3921069994&4294967295,_=b+(w<<20&4294967295|w>>>12),w=v+(b^A&(_^b))+D[5]+3593408605&4294967295,v=_+(w<<5&4294967295|w>>>27),w=A+(_^b&(v^_))+D[10]+38016083&4294967295,A=v+(w<<9&4294967295|w>>>23),w=b+(v^_&(A^v))+D[15]+3634488961&4294967295,b=A+(w<<14&4294967295|w>>>18),w=_+(A^v&(b^A))+D[4]+3889429448&4294967295,_=b+(w<<20&4294967295|w>>>12),w=v+(b^A&(_^b))+D[9]+568446438&4294967295,v=_+(w<<5&4294967295|w>>>27),w=A+(_^b&(v^_))+D[14]+3275163606&4294967295,A=v+(w<<9&4294967295|w>>>23),w=b+(v^_&(A^v))+D[3]+4107603335&4294967295,b=A+(w<<14&4294967295|w>>>18),w=_+(A^v&(b^A))+D[8]+1163531501&4294967295,_=b+(w<<20&4294967295|w>>>12),w=v+(b^A&(_^b))+D[13]+2850285829&4294967295,v=_+(w<<5&4294967295|w>>>27),w=A+(_^b&(v^_))+D[2]+4243563512&4294967295,A=v+(w<<9&4294967295|w>>>23),w=b+(v^_&(A^v))+D[7]+1735328473&4294967295,b=A+(w<<14&4294967295|w>>>18),w=_+(A^v&(b^A))+D[12]+2368359562&4294967295,_=b+(w<<20&4294967295|w>>>12),w=v+(_^b^A)+D[5]+4294588738&4294967295,v=_+(w<<4&4294967295|w>>>28),w=A+(v^_^b)+D[8]+2272392833&4294967295,A=v+(w<<11&4294967295|w>>>21),w=b+(A^v^_)+D[11]+1839030562&4294967295,b=A+(w<<16&4294967295|w>>>16),w=_+(b^A^v)+D[14]+4259657740&4294967295,_=b+(w<<23&4294967295|w>>>9),w=v+(_^b^A)+D[1]+2763975236&4294967295,v=_+(w<<4&4294967295|w>>>28),w=A+(v^_^b)+D[4]+1272893353&4294967295,A=v+(w<<11&4294967295|w>>>21),w=b+(A^v^_)+D[7]+4139469664&4294967295,b=A+(w<<16&4294967295|w>>>16),w=_+(b^A^v)+D[10]+3200236656&4294967295,_=b+(w<<23&4294967295|w>>>9),w=v+(_^b^A)+D[13]+681279174&4294967295,v=_+(w<<4&4294967295|w>>>28),w=A+(v^_^b)+D[0]+3936430074&4294967295,A=v+(w<<11&4294967295|w>>>21),w=b+(A^v^_)+D[3]+3572445317&4294967295,b=A+(w<<16&4294967295|w>>>16),w=_+(b^A^v)+D[6]+76029189&4294967295,_=b+(w<<23&4294967295|w>>>9),w=v+(_^b^A)+D[9]+3654602809&4294967295,v=_+(w<<4&4294967295|w>>>28),w=A+(v^_^b)+D[12]+3873151461&4294967295,A=v+(w<<11&4294967295|w>>>21),w=b+(A^v^_)+D[15]+530742520&4294967295,b=A+(w<<16&4294967295|w>>>16),w=_+(b^A^v)+D[2]+3299628645&4294967295,_=b+(w<<23&4294967295|w>>>9),w=v+(b^(_|~A))+D[0]+4096336452&4294967295,v=_+(w<<6&4294967295|w>>>26),w=A+(_^(v|~b))+D[7]+1126891415&4294967295,A=v+(w<<10&4294967295|w>>>22),w=b+(v^(A|~_))+D[14]+2878612391&4294967295,b=A+(w<<15&4294967295|w>>>17),w=_+(A^(b|~v))+D[5]+4237533241&4294967295,_=b+(w<<21&4294967295|w>>>11),w=v+(b^(_|~A))+D[12]+1700485571&4294967295,v=_+(w<<6&4294967295|w>>>26),w=A+(_^(v|~b))+D[3]+2399980690&4294967295,A=v+(w<<10&4294967295|w>>>22),w=b+(v^(A|~_))+D[10]+4293915773&4294967295,b=A+(w<<15&4294967295|w>>>17),w=_+(A^(b|~v))+D[1]+2240044497&4294967295,_=b+(w<<21&4294967295|w>>>11),w=v+(b^(_|~A))+D[8]+1873313359&4294967295,v=_+(w<<6&4294967295|w>>>26),w=A+(_^(v|~b))+D[15]+4264355552&4294967295,A=v+(w<<10&4294967295|w>>>22),w=b+(v^(A|~_))+D[6]+2734768916&4294967295,b=A+(w<<15&4294967295|w>>>17),w=_+(A^(b|~v))+D[13]+1309151649&4294967295,_=b+(w<<21&4294967295|w>>>11),w=v+(b^(_|~A))+D[4]+4149444226&4294967295,v=_+(w<<6&4294967295|w>>>26),w=A+(_^(v|~b))+D[11]+3174756917&4294967295,A=v+(w<<10&4294967295|w>>>22),w=b+(v^(A|~_))+D[2]+718787259&4294967295,b=A+(w<<15&4294967295|w>>>17),w=_+(A^(b|~v))+D[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(b+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+b&4294967295,E.g[3]=E.g[3]+A&4294967295}r.prototype.u=function(E,v){v===void 0&&(v=E.length);for(var _=v-this.blockSize,D=this.B,b=this.h,A=0;A<v;){if(b==0)for(;A<=_;)i(this,E,A),A+=this.blockSize;if(typeof E=="string"){for(;A<v;)if(D[b++]=E.charCodeAt(A++),b==this.blockSize){i(this,D),b=0;break}}else for(;A<v;)if(D[b++]=E[A++],b==this.blockSize){i(this,D),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;var _=8*this.o;for(v=E.length-8;v<E.length;++v)E[v]=_&255,_/=256;for(this.u(E),E=Array(16),v=_=0;4>v;++v)for(var D=0;32>D;D+=8)E[_++]=this.g[v]>>>D&255;return E};function s(E,v){var _=a;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=v(E)}function o(E,v){this.h=v;for(var _=[],D=!0,b=E.length-1;0<=b;b--){var A=E[b]|0;D&&A==v||(_[b]=A,D=!1)}this.g=_}var a={};function u(E){return-128<=E&&128>E?s(E,function(v){return new o([v|0],0>v?-1:0)}):new o([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return R(l(-E));for(var v=[],_=1,D=0;E>=_;D++)v[D]=E/_|0,_*=4294967296;return new o(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return R(h(E.substring(1),v));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),D=p,b=0;b<E.length;b+=8){var A=Math.min(8,E.length-b),w=parseInt(E.substring(b,b+A),v);8>A?(A=l(Math.pow(v,A)),D=D.j(A).add(l(w))):(D=D.j(_),D=D.add(l(w)))}return D}var p=u(0),m=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(M(this))return-R(this).m();for(var E=0,v=1,_=0;_<this.g.length;_++){var D=this.i(_);E+=(0<=D?D:4294967296+D)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(T(this))return"0";if(M(this))return"-"+R(this).toString(E);for(var v=l(Math.pow(E,6)),_=this,D="";;){var b=H(_,v).g;_=N(_,b.j(v));var A=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=b,T(_))return A+D;for(;6>A.length;)A="0"+A;D=A+D}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function T(E){if(E.h!=0)return!1;for(var v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function M(E){return E.h==-1}t.l=function(E){return E=N(this,E),M(E)?-1:T(E)?0:1};function R(E){for(var v=E.g.length,_=[],D=0;D<v;D++)_[D]=~E.g[D];return new o(_,~E.h).add(m)}t.abs=function(){return M(this)?R(this):this},t.add=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0,b=0;b<=v;b++){var A=D+(this.i(b)&65535)+(E.i(b)&65535),w=(A>>>16)+(this.i(b)>>>16)+(E.i(b)>>>16);D=w>>>16,A&=65535,w&=65535,_[b]=w<<16|A}return new o(_,_[_.length-1]&-2147483648?-1:0)};function N(E,v){return E.add(R(v))}t.j=function(E){if(T(this)||T(E))return p;if(M(this))return M(E)?R(this).j(R(E)):R(R(this).j(E));if(M(E))return R(this.j(R(E)));if(0>this.l(y)&&0>E.l(y))return l(this.m()*E.m());for(var v=this.g.length+E.g.length,_=[],D=0;D<2*v;D++)_[D]=0;for(D=0;D<this.g.length;D++)for(var b=0;b<E.g.length;b++){var A=this.i(D)>>>16,w=this.i(D)&65535,Tn=E.i(b)>>>16,Oo=E.i(b)&65535;_[2*D+2*b]+=w*Oo,L(_,2*D+2*b),_[2*D+2*b+1]+=A*Oo,L(_,2*D+2*b+1),_[2*D+2*b+1]+=w*Tn,L(_,2*D+2*b+1),_[2*D+2*b+2]+=A*Tn,L(_,2*D+2*b+2)}for(D=0;D<v;D++)_[D]=_[2*D+1]<<16|_[2*D];for(D=v;D<2*v;D++)_[D]=0;return new o(_,0)};function L(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function $(E,v){this.g=E,this.h=v}function H(E,v){if(T(v))throw Error("division by zero");if(T(E))return new $(p,p);if(M(E))return v=H(R(E),v),new $(R(v.g),R(v.h));if(M(v))return v=H(E,R(v)),new $(R(v.g),v.h);if(30<E.g.length){if(M(E)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,D=v;0>=D.l(E);)_=be(_),D=be(D);var b=G(_,1),A=G(D,1);for(D=G(D,2),_=G(_,2);!T(D);){var w=A.add(D);0>=w.l(E)&&(b=b.add(_),A=w),D=G(D,1),_=G(_,1)}return v=N(E,b.j(v)),new $(b,v)}for(b=p;0<=E.l(v);){for(_=Math.max(1,Math.floor(E.m()/v.m())),D=Math.ceil(Math.log(_)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),A=l(_),w=A.j(v);M(w)||0<w.l(E);)_-=D,A=l(_),w=A.j(v);T(A)&&(A=m),b=b.add(A),E=N(E,w)}return new $(b,E)}t.A=function(E){return H(this,E).h},t.and=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)&E.i(D);return new o(_,this.h&E.h)},t.or=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)|E.i(D);return new o(_,this.h|E.h)},t.xor=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)^E.i(D);return new o(_,this.h^E.h)};function be(E){for(var v=E.g.length+1,_=[],D=0;D<v;D++)_[D]=E.i(D)<<1|E.i(D-1)>>>31;return new o(_,E.h)}function G(E,v){var _=v>>5;v%=32;for(var D=E.g.length-_,b=[],A=0;A<D;A++)b[A]=0<v?E.i(A+_)>>>v|E.i(A+_+1)<<32-v:E.i(A+_);return new o(b,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vv=bA.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,Wr=bA.Integer=o}).apply(typeof DA<"u"?DA:typeof self<"u"?self:typeof window<"u"?window:{});var zd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rr={};var _v,Iv,io,wv,mc,qd,Ev,Dv,bv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof zd=="object"&&zd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var C=c[g];if(!(C in f))break e;f=f[C]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,g=!1,C={next:function(){if(!g&&f<c.length){var S=f++;return{value:d(S,c[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function T(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,C,S){for(var k=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)k[Te-2]=arguments[Te];return d.prototype[C].apply(g,k)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=c.length||0,S=g.length||0;c.length=C+S;for(let k=0;k<S;k++)c[C+k]=g[k]}else c.push(g)}}class N{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function L(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function H(c){return H[" "](c),c}H[" "]=function(){};var be=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function G(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)c[f]=g[f];for(let S=0;S<_.length;S++)f=_[S],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function A(c){a.setTimeout(()=>{throw c},0)}function w(){var c=Jh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Tn{constructor(){this.h=this.g=null}add(d,f){let g=Oo.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Oo=new N(()=>new LR,c=>c.reset());class LR{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ko,Fo=!1,Jh=new Tn,PI=()=>{let c=a.Promise.resolve(void 0);ko=()=>{c.then(VR)}};var VR=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){A(f)}var d=Oo;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Fo=!1};function lr(){this.s=this.s,this.C=this.C}lr.prototype.s=!1,lr.prototype.ma=function(){this.s||(this.s=!0,this.N())},lr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var jR=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Lo(c,d){if(nt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(be){e:{try{H(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:UR[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Lo.aa.h.call(this)}}T(Lo,nt);var UR={2:"touch",3:"pen",4:"mouse"};Lo.prototype.h=function(){Lo.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Vo="closure_listenable_"+(1e6*Math.random()|0),BR=0;function $R(c,d,f,g,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++BR,this.da=this.fa=!1}function qc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Gc(c){this.src=c,this.g={},this.h=0}Gc.prototype.add=function(c,d,f,g,C){var S=c.toString();c=this.g[S],c||(c=this.g[S]=[],this.h++);var k=Xh(c,d,g,C);return-1<k?(d=c[k],f||(d.fa=!1)):(d=new $R(d,this.src,S,!!g,C),d.fa=f,c.push(d)),d};function Zh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],C=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=C)&&Array.prototype.splice.call(g,C,1),S&&(qc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Xh(c,d,f,g){for(var C=0;C<c.length;++C){var S=c[C];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==g)return C}return-1}var ef="closure_lm_"+(1e6*Math.random()|0),tf={};function OI(c,d,f,g,C){if(g&&g.once)return FI(c,d,f,g,C);if(Array.isArray(d)){for(var S=0;S<d.length;S++)OI(c,d[S],f,g,C);return null}return f=of(f),c&&c[Vo]?c.K(d,f,l(g)?!!g.capture:!!g,C):kI(c,d,f,!1,g,C)}function kI(c,d,f,g,C,S){if(!d)throw Error("Invalid event type");var k=l(C)?!!C.capture:!!C,Te=rf(c);if(Te||(c[ef]=Te=new Gc(c)),f=Te.add(d,f,g,k,S),f.proxy)return f;if(g=HR(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)jR||(C=k),C===void 0&&(C=!1),c.addEventListener(d.toString(),g,C);else if(c.attachEvent)c.attachEvent(VI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function HR(){function c(f){return d.call(c.src,c.listener,f)}let d=zR;return c}function FI(c,d,f,g,C){if(Array.isArray(d)){for(var S=0;S<d.length;S++)FI(c,d[S],f,g,C);return null}return f=of(f),c&&c[Vo]?c.L(d,f,l(g)?!!g.capture:!!g,C):kI(c,d,f,!0,g,C)}function LI(c,d,f,g,C){if(Array.isArray(d))for(var S=0;S<d.length;S++)LI(c,d[S],f,g,C);else g=l(g)?!!g.capture:!!g,f=of(f),c&&c[Vo]?(c=c.i,d=String(d).toString(),d in c.g&&(S=c.g[d],f=Xh(S,f,g,C),-1<f&&(qc(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete c.g[d],c.h--)))):c&&(c=rf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Xh(d,f,g,C)),(f=-1<c?d[c]:null)&&nf(f))}function nf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Vo])Zh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(VI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=rf(d))?(Zh(f,c),f.h==0&&(f.src=null,d[ef]=null)):qc(c)}}}function VI(c){return c in tf?tf[c]:tf[c]="on"+c}function zR(c,d){if(c.da)c=!0;else{d=new Lo(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&nf(c),c=f.call(g,d)}return c}function rf(c){return c=c[ef],c instanceof Gc?c:null}var sf="__closure_events_fn_"+(1e9*Math.random()>>>0);function of(c){return typeof c=="function"?c:(c[sf]||(c[sf]=function(d){return c.handleEvent(d)}),c[sf])}function rt(){lr.call(this),this.i=new Gc(this),this.M=this,this.F=null}T(rt,lr),rt.prototype[Vo]=!0,rt.prototype.removeEventListener=function(c,d,f,g){LI(this,c,d,f,g)};function pt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new nt(d,c);else if(d instanceof nt)d.target=d.target||c;else{var C=d;d=new nt(g,c),D(d,C)}if(C=!0,f)for(var S=f.length-1;0<=S;S--){var k=d.g=f[S];C=Wc(k,g,!0,d)&&C}if(k=d.g=c,C=Wc(k,g,!0,d)&&C,C=Wc(k,g,!1,d)&&C,f)for(S=0;S<f.length;S++)k=d.g=f[S],C=Wc(k,g,!1,d)&&C}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)qc(f[g]);delete c.g[d],c.h--}}this.F=null},rt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},rt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Wc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,S=0;S<d.length;++S){var k=d[S];if(k&&!k.da&&k.capture==f){var Te=k.listener,Qe=k.ha||k.src;k.fa&&Zh(c.i,k),C=Te.call(Qe,g)!==!1&&C}}return C&&!g.defaultPrevented}function jI(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function UI(c){c.g=jI(()=>{c.g=null,c.i&&(c.i=!1,UI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class qR extends lr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:UI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jo(c){lr.call(this),this.h=c,this.g={}}T(jo,lr);var BI=[];function $I(c){G(c.g,function(d,f){this.g.hasOwnProperty(f)&&nf(d)},c),c.g={}}jo.prototype.N=function(){jo.aa.N.call(this),$I(this)},jo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var af=a.JSON.stringify,GR=a.JSON.parse,WR=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function cf(){}cf.prototype.h=null;function HI(c){return c.h||(c.h=c.i())}function zI(){}var Uo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function uf(){nt.call(this,"d")}T(uf,nt);function lf(){nt.call(this,"c")}T(lf,nt);var Zr={},qI=null;function Kc(){return qI=qI||new rt}Zr.La="serverreachability";function GI(c){nt.call(this,Zr.La,c)}T(GI,nt);function Bo(c){let d=Kc();pt(d,new GI(d))}Zr.STAT_EVENT="statevent";function WI(c,d){nt.call(this,Zr.STAT_EVENT,c),this.stat=d}T(WI,nt);function gt(c){let d=Kc();pt(d,new WI(d,c))}Zr.Ma="timingevent";function KI(c,d){nt.call(this,Zr.Ma,c),this.size=d}T(KI,nt);function $o(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ho(){this.g=!0}Ho.prototype.xa=function(){this.g=!1};function KR(c,d,f,g,C,S){c.info(function(){if(c.g)if(S)for(var k="",Te=S.split("&"),Qe=0;Qe<Te.length;Qe++){var Ie=Te[Qe].split("=");if(1<Ie.length){var it=Ie[0];Ie=Ie[1];var st=it.split("_");k=2<=st.length&&st[1]=="type"?k+(it+"="+Ie+"&"):k+(it+"=redacted&")}}else k=null;else k=S;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+k})}function QR(c,d,f,g,C,S,k){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+S+" "+k})}function Yi(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+JR(c,f)+(g?" "+g:"")})}function YR(c,d){c.info(function(){return"TIMEOUT: "+d})}Ho.prototype.info=function(){};function JR(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var S=C[0];if(S!="noop"&&S!="stop"&&S!="close")for(var k=1;k<C.length;k++)C[k]=""}}}}return af(f)}catch{return d}}var Qc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},QI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},df;function Yc(){}T(Yc,cf),Yc.prototype.g=function(){return new XMLHttpRequest},Yc.prototype.i=function(){return{}},df=new Yc;function dr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new jo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new YI}function YI(){this.i=null,this.g="",this.h=!1}var JI={},hf={};function ff(c,d,f){c.L=1,c.v=eu(Cn(d)),c.m=f,c.P=!0,ZI(c,null)}function ZI(c,d){c.F=Date.now(),Jc(c),c.A=Cn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),hw(f.i,"t",g),c.C=0,f=c.j.J,c.h=new YI,c.g=Mw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new qR(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(BI[0]=C.toString()),C=BI);for(var S=0;S<C.length;S++){var k=OI(f,C[S],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Bo(),KR(c.i,c.u,c.A,c.l,c.R,c.m)}dr.prototype.ca=function(c){c=c.target;let d=this.M;d&&An(c)==3?d.j():this.Y(c)},dr.prototype.Y=function(c){try{if(c==this.g)e:{let st=An(this.g);var d=this.g.Ba();let Xi=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||_w(this.g)))){this.J||st!=4||d==7||(d==8||0>=Xi?Bo(3):Bo(2)),pf(this);var f=this.g.Z();this.X=f;t:if(XI(this)){var g=_w(this.g);c="";var C=g.length,S=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xr(this),zo(this);var k="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(S&&d==C-1)});g.length=0,this.h.g+=c,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=f==200,QR(this.i,this.u,this.A,this.l,this.R,st,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Te,Qe=this.g;if((Te=Qe.g?Qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Te)){var Ie=Te;break t}}Ie=null}if(f=Ie)Yi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gf(this,f);else{this.o=!1,this.s=3,gt(12),Xr(this),zo(this);break e}}if(this.P){f=!0;let Wt;for(;!this.J&&this.C<k.length;)if(Wt=ZR(this,k),Wt==hf){st==4&&(this.s=4,gt(14),f=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==JI){this.s=4,gt(15),Yi(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else Yi(this.i,this.l,Wt,null),gf(this,Wt);if(XI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||k.length!=0||this.h.h||(this.s=1,gt(16),f=!1),this.o=this.o&&f,!f)Yi(this.i,this.l,k,"[Invalid Chunked Response]"),Xr(this),zo(this);else if(0<k.length&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.ba&&!it.M&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),wf(it),it.M=!0,gt(11))}}else Yi(this.i,this.l,k,null),gf(this,k);st==4&&Xr(this),this.o&&!this.J&&(st==4?Cw(this.j,this):(this.o=!1,Jc(this)))}else gM(this.g),f==400&&0<k.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),Xr(this),zo(this)}}}catch{}finally{}};function XI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ZR(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?hf:(f=Number(d.substring(f,g)),isNaN(f)?JI:(g+=1,g+f>d.length?hf:(d=d.slice(g,g+f),c.C=g+f,d)))}dr.prototype.cancel=function(){this.J=!0,Xr(this)};function Jc(c){c.S=Date.now()+c.I,ew(c,c.I)}function ew(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=$o(m(c.ba,c),d)}function pf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}dr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(YR(this.i,this.A),this.L!=2&&(Bo(),gt(17)),Xr(this),this.s=2,zo(this)):ew(this,this.S-c)};function zo(c){c.j.G==0||c.J||Cw(c.j,c)}function Xr(c){pf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,$I(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function gf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||mf(f.h,c))){if(!c.K&&mf(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)su(f),ru(f);else break e;If(f),gt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=$o(m(f.Za,f),6e3));if(1>=rw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ti(f,11)}else if((c.K||f.g==c)&&su(f),!L(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let Ie=C[d];if(f.T=Ie[0],Ie=Ie[1],f.G==2)if(Ie[0]=="c"){f.K=Ie[1],f.ia=Ie[2];let it=Ie[3];it!=null&&(f.la=it,f.j.info("VER="+f.la));let st=Ie[4];st!=null&&(f.Aa=st,f.j.info("SVER="+f.Aa));let Xi=Ie[5];Xi!=null&&typeof Xi=="number"&&0<Xi&&(g=1.5*Xi,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Wt=c.g;if(Wt){let au=Wt.g?Wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(au){var S=g.h;S.g||au.indexOf("spdy")==-1&&au.indexOf("quic")==-1&&au.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(yf(S,S.h),S.h=null))}if(g.D){let Ef=Wt.g?Wt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ef&&(g.ya=Ef,Se(g.I,g.D,Ef))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var k=c;if(g.qa=Rw(g,g.J?g.ia:null,g.W),k.K){iw(g.h,k);var Te=k,Qe=g.L;Qe&&(Te.I=Qe),Te.B&&(pf(Te),Jc(Te)),g.g=k}else bw(g);0<f.i.length&&iu(f)}else Ie[0]!="stop"&&Ie[0]!="close"||ti(f,7);else f.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?ti(f,7):_f(f):Ie[0]!="noop"&&f.l&&f.l.ta(Ie),f.v=0)}}Bo(4)}catch{}}var XR=class{constructor(c,d){this.g=c,this.map=d}};function tw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function rw(c){return c.h?1:c.g?c.g.size:0}function mf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function yf(c,d){c.g?c.g.add(d):c.h=d}function iw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}tw.prototype.cancel=function(){if(this.i=sw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function sw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function eM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function tM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function ow(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=tM(c),g=eM(c),C=g.length,S=0;S<C;S++)d.call(void 0,g[S],f&&f[S],c)}var aw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),C=null;if(0<=g){var S=c[f].substring(0,g);C=c[f].substring(g+1)}else S=c[f];d(S,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function ei(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ei){this.h=c.h,Zc(this,c.j),this.o=c.o,this.g=c.g,Xc(this,c.s),this.l=c.l;var d=c.i,f=new Wo;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),cw(this,f),this.m=c.m}else c&&(d=String(c).match(aw))?(this.h=!1,Zc(this,d[1]||"",!0),this.o=qo(d[2]||""),this.g=qo(d[3]||"",!0),Xc(this,d[4]),this.l=qo(d[5]||"",!0),cw(this,d[6]||"",!0),this.m=qo(d[7]||"")):(this.h=!1,this.i=new Wo(null,this.h))}ei.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Go(d,uw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Go(d,uw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Go(f,f.charAt(0)=="/"?sM:iM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Go(f,aM)),c.join("")};function Cn(c){return new ei(c)}function Zc(c,d,f){c.j=f?qo(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Xc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function cw(c,d,f){d instanceof Wo?(c.i=d,cM(c.i,c.h)):(f||(d=Go(d,oM)),c.i=new Wo(d,c.h))}function Se(c,d,f){c.i.set(d,f)}function eu(c){return Se(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function qo(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Go(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,rM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var uw=/[#\/\?@]/g,iM=/[#\?:]/g,sM=/[#\?]/g,oM=/[#\?@]/g,aM=/#/g;function Wo(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function hr(c){c.g||(c.g=new Map,c.h=0,c.i&&nM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Wo.prototype,t.add=function(c,d){hr(this),this.i=null,c=Ji(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function lw(c,d){hr(c),d=Ji(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function dw(c,d){return hr(c),d=Ji(c,d),c.g.has(d)}t.forEach=function(c,d){hr(this),this.g.forEach(function(f,g){f.forEach(function(C){c.call(d,C,g,this)},this)},this)},t.na=function(){hr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=c[g];for(let S=0;S<C.length;S++)f.push(d[g])}return f},t.V=function(c){hr(this);let d=[];if(typeof c=="string")dw(this,c)&&(d=d.concat(this.g.get(Ji(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return hr(this),this.i=null,c=Ji(this,c),dw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function hw(c,d,f){lw(c,d),0<f.length&&(c.i=null,c.g.set(Ji(c,d),M(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let S=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var C=S;k[g]!==""&&(C+="="+encodeURIComponent(String(k[g]))),c.push(C)}}return this.i=c.join("&")};function Ji(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function cM(c,d){d&&!c.j&&(hr(c),c.i=null,c.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(lw(this,g),hw(this,C,f))},c)),c.j=d}function uM(c,d){let f=new Ho;if(a.Image){let g=new Image;g.onload=y(fr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(fr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(fr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(fr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function lM(c,d){let f=new Ho,g=new AbortController,C=setTimeout(()=>{g.abort(),fr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(S=>{clearTimeout(C),S.ok?fr(f,"TestPingServer: ok",!0,d):fr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),fr(f,"TestPingServer: error",!1,d)})}function fr(c,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function dM(){this.g=new WR}function hM(c,d,f){let g=f||"";try{ow(c,function(C,S){let k=C;l(C)&&(k=af(C)),d.push(g+S+"="+encodeURIComponent(k))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function Ko(c){this.l=c.Ub||null,this.j=c.eb||!1}T(Ko,cf),Ko.prototype.g=function(){return new tu(this.l,this.j)},Ko.prototype.i=function(c){return function(){return c}}({});function tu(c,d){rt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(tu,rt),t=tu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Yo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yo(this)),this.g&&(this.readyState=3,Yo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function fw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Qo(this):Yo(this),this.readyState==3&&fw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Qo(this))},t.Qa=function(c){this.g&&(this.response=c,Qo(this))},t.ga=function(){this.g&&Qo(this)};function Qo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Yo(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Yo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(tu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function pw(c){let d="";return G(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function vf(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=pw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Se(c,d,f))}function Ne(c){rt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ne,rt);var fM=/^https?$/i,pM=["POST","PUT"];t=Ne.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():df.g(),this.v=this.o?HI(this.o):HI(df),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(S){gw(this,S);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())f.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(pM,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,k]of f)this.g.setRequestHeader(S,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vw(this),this.u=!0,this.g.send(c),this.u=!1}catch(S){gw(this,S)}};function gw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,mw(c),nu(c)}function mw(c){c.A||(c.A=!0,pt(c,"complete"),pt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,pt(this,"complete"),pt(this,"abort"),nu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nu(this,!0)),Ne.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?yw(this):this.bb())},t.bb=function(){yw(this)};function yw(c){if(c.h&&typeof o<"u"&&(!c.v[1]||An(c)!=4||c.Z()!=2)){if(c.u&&An(c)==4)jI(c.Ea,0,c);else if(pt(c,"readystatechange"),An(c)==4){c.h=!1;try{let k=c.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=k===0){var C=String(c.D).match(aw)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),g=!fM.test(C?C.toLowerCase():"")}f=g}if(f)pt(c,"complete"),pt(c,"success");else{c.m=6;try{var S=2<An(c)?c.g.statusText:""}catch{S=""}c.l=S+" ["+c.Z()+"]",mw(c)}}finally{nu(c)}}}}function nu(c,d){if(c.g){vw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||pt(c,"ready");try{f.onreadystatechange=g}catch{}}}function vw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function An(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),GR(d)}};function _w(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function gM(c){let d={};c=(c.g&&2<=An(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(L(c[g]))continue;var f=b(c[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[C]||[];d[C]=S,S.push(f)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jo(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Iw(c){this.Aa=0,this.i=[],this.j=new Ho,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jo("baseRetryDelayMs",5e3,c),this.cb=Jo("retryDelaySeedMs",1e4,c),this.Wa=Jo("forwardChannelMaxRetries",2,c),this.wa=Jo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new tw(c&&c.concurrentRequestLimit),this.Da=new dM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Iw.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){gt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Rw(this,null,this.W),iu(this)};function _f(c){if(ww(c),c.G==3){var d=c.U++,f=Cn(c.I);if(Se(f,"SID",c.K),Se(f,"RID",d),Se(f,"TYPE","terminate"),Zo(c,f),d=new dr(c,c.j,d),d.L=2,d.v=eu(Cn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Mw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Jc(d)}Sw(c)}function ru(c){c.g&&(wf(c),c.g.cancel(),c.g=null)}function ww(c){ru(c),c.u&&(a.clearTimeout(c.u),c.u=null),su(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function iu(c){if(!nw(c.h)&&!c.s){c.s=!0;var d=c.Ga;ko||PI(),Fo||(ko(),Fo=!0),Jh.add(d,c),c.B=0}}function mM(c,d){return rw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=$o(m(c.Ga,c,d),Aw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new dr(this,this.j,c),S=this.o;if(this.S&&(S?(S=v(S),D(S,this.S)):S=this.S),this.m!==null||this.O||(C.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Dw(this,C,d),f=Cn(this.I),Se(f,"RID",c),Se(f,"CVER",22),this.D&&Se(f,"X-HTTP-Session-Id",this.D),Zo(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(pw(S)))+"&"+d:this.m&&vf(f,this.m,S)),yf(this.h,C),this.Ua&&Se(f,"TYPE","init"),this.P?(Se(f,"$req",d),Se(f,"SID","null"),C.T=!0,ff(C,f,null)):ff(C,f,d),this.G=2}}else this.G==3&&(c?Ew(this,c):this.i.length==0||nw(this.h)||Ew(this))};function Ew(c,d){var f;d?f=d.l:f=c.U++;let g=Cn(c.I);Se(g,"SID",c.K),Se(g,"RID",f),Se(g,"AID",c.T),Zo(c,g),c.m&&c.o&&vf(g,c.m,c.o),f=new dr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Dw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),yf(c.h,f),ff(f,g,d)}function Zo(c,d){c.H&&G(c.H,function(f,g){Se(d,g,f)}),c.l&&ow({},function(f,g){Se(d,g,f)})}function Dw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var C=c.i;let S=-1;for(;;){let k=["count="+f];S==-1?0<f?(S=C[0].g,k.push("ofs="+S)):S=0:k.push("ofs="+S);let Te=!0;for(let Qe=0;Qe<f;Qe++){let Ie=C[Qe].g,it=C[Qe].map;if(Ie-=S,0>Ie)S=Math.max(0,C[Qe].g-100),Te=!1;else try{hM(it,k,"req"+Ie+"_")}catch{g&&g(it)}}if(Te){g=k.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function bw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ko||PI(),Fo||(ko(),Fo=!0),Jh.add(d,c),c.v=0}}function If(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=$o(m(c.Fa,c),Aw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Tw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=$o(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),ru(this),Tw(this))};function wf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Tw(c){c.g=new dr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Cn(c.qa);Se(d,"RID","rpc"),Se(d,"SID",c.K),Se(d,"AID",c.T),Se(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Se(d,"TO",c.ja),Se(d,"TYPE","xmlhttp"),Zo(c,d),c.m&&c.o&&vf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=eu(Cn(d)),f.m=null,f.P=!0,ZI(f,c)}t.Za=function(){this.C!=null&&(this.C=null,ru(this),If(this),gt(19))};function su(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Cw(c,d){var f=null;if(c.g==d){su(c),wf(c),c.g=null;var g=2}else if(mf(c.h,d))f=d.D,iw(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;g=Kc(),pt(g,new KI(g,f)),iu(c)}else bw(c);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&mM(c,d)||g==2&&If(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:ti(c,5);break;case 4:ti(c,10);break;case 3:ti(c,6);break;default:ti(c,2)}}}function Aw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function ti(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let C=!g;g=new ei(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Zc(g,"https"),eu(g),C?uM(g.toString(),f):lM(g.toString(),f)}else gt(2);c.G=0,c.l&&c.l.sa(d),Sw(c),ww(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Sw(c){if(c.G=0,c.ka=[],c.l){let d=sw(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function Rw(c,d,f){var g=f instanceof ei?Cn(f):new ei(f);if(g.g!="")d&&(g.g=d+"."+g.g),Xc(g,g.s);else{var C=a.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var S=new ei(null);g&&Zc(S,g),d&&(S.g=d),C&&Xc(S,C),f&&(S.l=f),g=S}return f=c.D,d=c.ya,f&&d&&Se(g,f,d),Se(g,"VER",c.la),Zo(c,g),g}function Mw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ne(new Ko({eb:f})):new Ne(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nw(){}t=Nw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ou(){}ou.prototype.g=function(c,d){return new bt(c,d)};function bt(c,d){rt.call(this),this.g=new Iw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!L(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!L(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Zi(this)}T(bt,rt),bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bt.prototype.close=function(){_f(this.g)},bt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=af(c),c=f);d.i.push(new XR(d.Ya++,c)),d.G==3&&iu(d)},bt.prototype.N=function(){this.g.l=null,delete this.j,_f(this.g),delete this.g,bt.aa.N.call(this)};function xw(c){uf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}T(xw,uf);function Pw(){lf.call(this),this.status=1}T(Pw,lf);function Zi(c){this.g=c}T(Zi,Nw),Zi.prototype.ua=function(){pt(this.g,"a")},Zi.prototype.ta=function(c){pt(this.g,new xw(c))},Zi.prototype.sa=function(c){pt(this.g,new Pw)},Zi.prototype.ra=function(){pt(this.g,"b")},ou.prototype.createWebChannel=ou.prototype.g,bt.prototype.send=bt.prototype.o,bt.prototype.open=bt.prototype.m,bt.prototype.close=bt.prototype.close,bv=rr.createWebChannelTransport=function(){return new ou},Dv=rr.getStatEventTarget=function(){return Kc()},Ev=rr.Event=Zr,qd=rr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qc.NO_ERROR=0,Qc.TIMEOUT=8,Qc.HTTP_ERROR=6,mc=rr.ErrorCode=Qc,QI.COMPLETE="complete",wv=rr.EventType=QI,zI.EventType=Uo,Uo.OPEN="a",Uo.CLOSE="b",Uo.ERROR="c",Uo.MESSAGE="d",rt.prototype.listen=rt.prototype.K,io=rr.WebChannel=zI,Iv=rr.FetchXmlHttpFactory=Ko,Ne.prototype.listenOnce=Ne.prototype.L,Ne.prototype.getLastError=Ne.prototype.Ka,Ne.prototype.getLastErrorCode=Ne.prototype.Ba,Ne.prototype.getStatus=Ne.prototype.Z,Ne.prototype.getResponseJson=Ne.prototype.Oa,Ne.prototype.getResponseText=Ne.prototype.oa,Ne.prototype.send=Ne.prototype.ea,Ne.prototype.setWithCredentials=Ne.prototype.Ha,_v=rr.XhrIo=Ne}).apply(typeof zd<"u"?zd:typeof self<"u"?self:typeof window<"u"?window:{});var TA="@firebase/firestore";var Ke=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");var Co="10.13.1";var Hi=new Ur("@firebase/firestore");function yc(){return Hi.logLevel}function j(t,...e){if(Hi.logLevel<=ge.DEBUG){let n=e.map(aI);Hi.debug(`Firestore (${Co}): ${t}`,...n)}}function sr(t,...e){if(Hi.logLevel<=ge.ERROR){let n=e.map(aI);Hi.error(`Firestore (${Co}): ${t}`,...n)}}function ho(t,...e){if(Hi.logLevel<=ge.WARN){let n=e.map(aI);Hi.warn(`Firestore (${Co}): ${t}`,...n)}}function aI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Y(t="Unexpected state"){let e=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: `+t;throw sr(e),new Error(e)}function Ae(t,e){t||Y()}function te(t,e){return t}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends xt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ir=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Yd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Rv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ke.UNAUTHENTICATED))}shutdown(){}},Mv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Nv=class{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ir,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>I(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ir)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new Yd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new Ke(e)}},xv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Pv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new xv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ov=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},kv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,j("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string"),this.R=n.token,new Ov(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function sB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Jd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=sB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Ee(t,e){return t<e?-1:t>e?1:0}function fo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var tt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new z(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new z(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ie=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new tt(0,0))}static max(){return new t(new tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Zd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(),r===void 0?r=e.length-n:r>e.length-n&&Y(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Pe=class t extends Zd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new z(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},oB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Pt=class t extends Zd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return oB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new z(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new z(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new z(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new z(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var W=class t{constructor(e){this.path=e}static fromPath(e){return new t(Pe.fromString(e))}static fromName(e){return new t(Pe.fromString(e).popFirst(5))}static empty(){return new t(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Pe(e.slice()))}};var Fv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Fv.UNKNOWN_ID=-1;function aB(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new tt(n+1,0):new tt(n,r));return new zi(i,W.empty(),e)}function cB(t){return new zi(t.readTime,t.key,-1)}var zi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ie.min(),W.empty(),-1)}static max(){return new t(ie.max(),W.empty(),-1)}};function uB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=W.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}var lB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Lv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function kc(t){return I(this,null,function*(){if(t.code!==x.FAILED_PRECONDITION||t.message!==lB)throw t;j("LocalStore","Unexpectedly lost primary lease")})}var O=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function dB(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fc(t){return t.name==="IndexedDbTransactionError"}var rS=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Ah(t){return t==null}function bc(t){return t===0&&1/t==-1/0}function hB(t){return typeof t=="number"&&Number.isInteger(t)&&!bc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var fB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],H8=[...fB,"documentOverlays"],pB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],gB=pB,mB=[...gB,"indexConfiguration","indexState","indexEntries"];var z8=[...mB,"globals"];function CA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ao(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Oe=class t{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new co(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new co(this.root,e,this.comparator,!1)}getReverseIterator(){return new co(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new co(this.root,e,this.comparator,!0)}},co=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},_n=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();let e=this.left.check();if(e!==this.right.check())throw Y();return e+(this.isRed()?0:1)}};_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(e,n,r,i,s){return this}insert(e,n,r){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ht=class t{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Xd(this.data.getIterator())}getIteratorFrom(e){return new Xd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Xd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var vn=class t{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new t([])}unionWith(e){let n=new ht(Pt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var eh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ft=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new eh("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ft.EMPTY_BYTE_STRING=new ft("");var yB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function or(t){if(Ae(!!t),typeof t=="string"){let e=0,n=yB.exec(t);if(Ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Me(t.seconds),nanos:Me(t.nanos)}}function Me(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qr(t){return typeof t=="string"?ft.fromBase64String(t):ft.fromUint8Array(t)}function cI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function uI(t){let e=t.mapValue.fields.__previous_value__;return cI(e)?uI(e):e}function Tc(t){let e=or(t.mapValue.fields.__local_write_time__.timestampValue);return new tt(e.seconds,e.nanos)}var Vv=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},th=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Gd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cI(t)?4:oS(t)?9007199254740991:sS(t)?10:11:Y()}function En(t,e){if(t===e)return!0;let n=qi(t);if(n!==qi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tc(t).isEqual(Tc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=or(i.timestampValue),a=or(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Qr(i.bytesValue).isEqual(Qr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Me(i.geoPointValue.latitude)===Me(s.geoPointValue.latitude)&&Me(i.geoPointValue.longitude)===Me(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Me(i.integerValue)===Me(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Me(i.doubleValue),a=Me(s.doubleValue);return o===a?bc(o)===bc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return fo(t.arrayValue.values||[],e.arrayValue.values||[],En);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(CA(o)!==CA(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!En(o[u],a[u])))return!1;return!0}(t,e);default:return Y()}}function Cc(t,e){return(t.values||[]).find(n=>En(n,e))!==void 0}function po(t,e){if(t===e)return 0;let n=qi(t),r=qi(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Me(s.integerValue||s.doubleValue),u=Me(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return AA(t.timestampValue,e.timestampValue);case 4:return AA(Tc(t),Tc(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Qr(s),u=Qr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Ee(a[l],u[l]);if(h!==0)return h}return Ee(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Ee(Me(s.latitude),Me(o.latitude));return a!==0?a:Ee(Me(s.longitude),Me(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return SA(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,h;let p=s.fields||{},m=o.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,T=(u=m.value)===null||u===void 0?void 0:u.arrayValue,M=Ee(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=T?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:SA(y,T)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Gd.mapValue&&o===Gd.mapValue)return 0;if(s===Gd.mapValue)return 1;if(o===Gd.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Ee(u[p],h[p]);if(m!==0)return m;let y=po(a[u[p]],l[h[p]]);if(y!==0)return y}return Ee(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Y()}}function AA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);let n=or(t),r=or(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function SA(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=po(n[i],r[i]);if(s)return s}return Ee(n.length,r.length)}function go(t){return jv(t)}function jv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=or(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return W.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=jv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${jv(n.fields[o])}`;return i+"}"}(t.mapValue):Y()}function Uv(t){return!!t&&"integerValue"in t}function lI(t){return!!t&&"arrayValue"in t}function RA(t){return!!t&&"nullValue"in t}function MA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kd(t){return!!t&&"mapValue"in t}function sS(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function _c(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ao(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_c(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_c(t.arrayValue.values[n]);return e}return Object.assign({},t)}function oS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var rn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Kd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_c(n)}setAll(e){let n=Pt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=_c(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Kd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return En(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Kd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ao(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(_c(this.value))}};function aS(t){let e=[];return Ao(t.fields,(n,r)=>{let i=new Pt([n]);if(Kd(r)){let s=aS(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new vn(e)}var sn=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ie.min(),ie.min(),ie.min(),rn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ie.min(),ie.min(),rn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ie.min(),ie.min(),rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var mo=class{constructor(e,n){this.position=e,this.inclusive=n}};function NA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=W.comparator(W.fromName(o.referenceValue),n.key):r=po(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function xA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!En(t.position[n],e.position[n]))return!1;return!0}var yo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function vB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var nh=class{},ze=class t extends nh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $v(e,n,r):n==="array-contains"?new qv(e,r):n==="in"?new Gv(e,r):n==="not-in"?new Wv(e,r):n==="array-contains-any"?new Kv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Hv(e,r):new zv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(po(n,this.value)):n!==null&&qi(this.value)===qi(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Dn=class t extends nh{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return cS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function cS(t){return t.op==="and"}function uS(t){return _B(t)&&cS(t)}function _B(t){for(let e of t.filters)if(e instanceof Dn)return!1;return!0}function Bv(t){if(t instanceof ze)return t.field.canonicalString()+t.op.toString()+go(t.value);if(uS(t))return t.filters.map(e=>Bv(e)).join(",");{let e=t.filters.map(n=>Bv(n)).join(",");return`${t.op}(${e})`}}function lS(t,e){return t instanceof ze?function(r,i){return i instanceof ze&&r.op===i.op&&r.field.isEqual(i.field)&&En(r.value,i.value)}(t,e):t instanceof Dn?function(r,i){return i instanceof Dn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&lS(o,i.filters[a]),!0):!1}(t,e):void Y()}function dS(t){return t instanceof ze?function(n){return`${n.field.canonicalString()} ${n.op} ${go(n.value)}`}(t):t instanceof Dn?function(n){return n.op.toString()+" {"+n.getFilters().map(dS).join(" ,")+"}"}(t):"Filter"}var $v=class extends ze{constructor(e,n,r){super(e,n,r),this.key=W.fromName(r.referenceValue)}matches(e){let n=W.comparator(e.key,this.key);return this.matchesComparison(n)}},Hv=class extends ze{constructor(e,n){super(e,"in",n),this.keys=hS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},zv=class extends ze{constructor(e,n){super(e,"not-in",n),this.keys=hS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function hS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}var qv=class extends ze{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return lI(n)&&Cc(n.arrayValue,this.value)}},Gv=class extends ze{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Cc(this.value.arrayValue,n)}},Wv=class extends ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Cc(this.value.arrayValue,n)}},Kv=class extends ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!lI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Cc(this.value.arrayValue,r))}};var Qv=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function PA(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Qv(t,e,n,r,i,s,o)}function dI(t){let e=te(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Bv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ah(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>go(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>go(r)).join(",")),e.ue=n}return e.ue}function hI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xA(t.startAt,e.startAt)&&xA(t.endAt,e.endAt)}function Yv(t){return W.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var vo=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function IB(t,e,n,r,i,s,o,a){return new vo(t,e,n,r,i,s,o,a)}function fI(t){return new vo(t)}function OA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wB(t){return t.collectionGroup!==null}function Ic(t){let e=te(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ht(Pt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new yo(s,r))}),n.has(Pt.keyField().canonicalString())||e.ce.push(new yo(Pt.keyField(),r))}return e.ce}function In(t){let e=te(t);return e.le||(e.le=EB(e,Ic(t))),e.le}function EB(t,e){if(t.limitType==="F")return PA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new yo(i.field,s)});let n=t.endAt?new mo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new mo(t.startAt.position,t.startAt.inclusive):null;return PA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Jv(t,e,n){return new vo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sh(t,e){return hI(In(t),In(e))&&t.limitType===e.limitType}function fS(t){return`${dI(In(t))}|lt:${t.limitType}`}function so(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>dS(i)).join(", ")}]`),Ah(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>go(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>go(i)).join(",")),`Target(${r})`}(In(t))}; limitType=${t.limitType})`}function Rh(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):W.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Ic(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=NA(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,Ic(r),i)||r.endAt&&!function(o,a,u){let l=NA(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,Ic(r),i))}(t,e)}function DB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pS(t){return(e,n)=>{let r=!1;for(let i of Ic(t)){let s=bB(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function bB(t,e,n){let r=t.field.isKeyField()?W.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?po(u,l):Y()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}var Yr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return iS(this.inner)}size(){return this.innerSize}};var TB=new Oe(W.comparator);function ar(){return TB}var gS=new Oe(W.comparator);function vc(...t){let e=gS;for(let n of t)e=e.insert(n.key,n);return e}function mS(t){let e=gS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ji(){return wc()}function yS(){return wc()}function wc(){return new Yr(t=>t.toString(),(t,e)=>t.isEqual(e))}var CB=new Oe(W.comparator),AB=new ht(W.comparator);function me(...t){let e=AB;for(let n of t)e=e.add(n);return e}var SB=new ht(Ee);function RB(){return SB}function pI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bc(e)?"-0":e}}function vS(t){return{integerValue:""+t}}function MB(t,e){return hB(e)?vS(e):pI(t,e)}var _o=class{constructor(){this._=void 0}};function NB(t,e,n){return t instanceof Io?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&cI(s)&&(s=uI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Gi?IS(t,e):t instanceof Wi?wS(t,e):function(i,s){let o=_S(i,s),a=kA(o)+kA(i.Pe);return Uv(o)&&Uv(i.Pe)?vS(a):pI(i.serializer,a)}(t,e)}function xB(t,e,n){return t instanceof Gi?IS(t,e):t instanceof Wi?wS(t,e):n}function _S(t,e){return t instanceof wo?function(r){return Uv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Io=class extends _o{},Gi=class extends _o{constructor(e){super(),this.elements=e}};function IS(t,e){let n=ES(e);for(let r of t.elements)n.some(i=>En(i,r))||n.push(r);return{arrayValue:{values:n}}}var Wi=class extends _o{constructor(e){super(),this.elements=e}};function wS(t,e){let n=ES(e);for(let r of t.elements)n=n.filter(i=>!En(i,r));return{arrayValue:{values:n}}}var wo=class extends _o{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function kA(t){return Me(t.integerValue||t.doubleValue)}function ES(t){return lI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function PB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Gi&&i instanceof Gi||r instanceof Wi&&i instanceof Wi?fo(r.elements,i.elements,En):r instanceof wo&&i instanceof wo?En(r.Pe,i.Pe):r instanceof Io&&i instanceof Io}(t.transform,e.transform)}var Zv=class{constructor(e,n){this.version=e,this.transformResults=n}},$i=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Qd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Eo=class{};function DS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rh(t.key,$i.none()):new Ki(t.key,t.data,$i.none());{let n=t.data,r=rn.empty(),i=new ht(Pt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new cr(t.key,r,new vn(i.toArray()),$i.none())}}function OB(t,e,n){t instanceof Ki?function(i,s,o){let a=i.value.clone(),u=LA(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof cr?function(i,s,o){if(!Qd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=LA(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(bS(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ec(t,e,n,r){return t instanceof Ki?function(s,o,a,u){if(!Qd(s.precondition,o))return a;let l=s.value.clone(),h=VA(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof cr?function(s,o,a,u){if(!Qd(s.precondition,o))return a;let l=VA(s.fieldTransforms,u,o),h=o.data;return h.setAll(bS(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return Qd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function kB(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=_S(r.transform,i||null);s!=null&&(n===null&&(n=rn.empty()),n.set(r.field,s))}return n||null}function FA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fo(r,i,(s,o)=>PB(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ki=class extends Eo{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},cr=class extends Eo{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function bS(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function LA(t,e,n){let r=new Map;Ae(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,xB(o,a,n[i]))}return r}function VA(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,NB(s,o,e))}return r}var rh=class extends Eo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Xv=class extends Eo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var e_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&OB(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ec(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Ec(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=yS();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=DS(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,(n,r)=>FA(n,r))&&fo(this.baseMutations,e.baseMutations,(n,r)=>FA(n,r))}},t_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ae(e.mutations.length===r.length);let i=function(){return CB}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var n_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var r_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ue,_e;function FB(t){switch(t){default:return Y();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function TS(t){if(t===void 0)return sr("GRPC error has no .code"),x.UNKNOWN;switch(t){case Ue.OK:return x.OK;case Ue.CANCELLED:return x.CANCELLED;case Ue.UNKNOWN:return x.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return x.INTERNAL;case Ue.UNAVAILABLE:return x.UNAVAILABLE;case Ue.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Ue.NOT_FOUND:return x.NOT_FOUND;case Ue.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Ue.ABORTED:return x.ABORTED;case Ue.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Ue.DATA_LOSS:return x.DATA_LOSS;default:return Y()}}(_e=Ue||(Ue={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";var jA=null;function LB(){return new TextEncoder}var VB=new Wr([4294967295,4294967295],0);function UA(t){let e=LB().encode(t),n=new vv;return n.update(e),new Uint8Array(n.digest())}function BA(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Wr([n,r],0),new Wr([i,s],0)]}var i_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ui(`Invalid padding: ${n}`);if(r<0)throw new Ui(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ui(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ui(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Wr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Wr.fromNumber(r)));return i.compare(VB)===1&&(i=new Wr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=UA(e),[r,i]=BA(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=UA(e),[r,i]=BA(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ui=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var ih=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ac.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ie.min(),i,new Oe(Ee),ar(),me())}},Ac=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,me(),me(),me())}};var uo=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},sh=class{constructor(e,n){this.targetId=e,this.me=n}},oh=class{constructor(e,n,r=ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},ah=class{constructor(){this.fe=0,this.ge=HA(),this.pe=ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=me(),n=me(),r=me();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y()}}),new Ac(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=HA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ae(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},s_=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=ar(),this.qe=$A(),this.Qe=new Oe(Ee)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Y()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(Yv(s))if(r===0){let o=new W(s.path);this.Ue(n,o,sn.newNoDocument(o,ie.min()))}else Ae(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}jA?.et(function(h,p,m,y,T){var M,R,N,L,$,H;let be={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},G=p.unchangedNames;return G&&(be.bloomFilter={applied:T===0,hashCount:(M=G?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(L=(N=(R=G?.bits)===null||R===void 0?void 0:R.bitmap)===null||N===void 0?void 0:N.length)!==null&&L!==void 0?L:0,padding:(H=($=G?.bits)===null||$===void 0?void 0:$.padding)!==null&&H!==void 0?H:0,mightContain:E=>{var v;return(v=y?.mightContain(E))!==null&&v!==void 0&&v}}),be}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Qr(r).toUint8Array()}catch(u){if(u instanceof eh)return ho("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new i_(o,i,s)}catch(u){return ho(u instanceof Ui?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Yv(a.target)){let u=new W(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,sn.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=me();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new ih(e,n,this.Qe,this.ke,r);return this.ke=ar(),this.qe=$A(),this.Qe=new Oe(Ee),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new ah,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ht(Ee),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ah),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function $A(){return new Oe(W.comparator)}function HA(){return new Oe(W.comparator)}var jB={asc:"ASCENDING",desc:"DESCENDING"},UB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BB={and:"AND",or:"OR"},o_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function a_(t,e){return t.useProto3Json||Ah(e)?e:{value:e}}function ch(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $B(t,e){return ch(t,e.toTimestamp())}function wn(t){return Ae(!!t),ie.fromTimestamp(function(n){let r=or(n);return new tt(r.seconds,r.nanos)}(t))}function gI(t,e){return c_(t,e).canonicalString()}function c_(t,e){let n=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function AS(t){let e=Pe.fromString(t);return Ae(xS(e)),e}function u_(t,e){return gI(t.databaseId,e.path)}function Tv(t,e){let n=AS(e);if(n.get(1)!==t.databaseId.projectId)throw new z(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new z(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(RS(n))}function SS(t,e){return gI(t.databaseId,e)}function HB(t){let e=AS(t);return e.length===4?Pe.emptyPath():RS(e)}function l_(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function RS(t){return Ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function zA(t,e,n){return{name:u_(t,e),fields:n.value.mapValue.fields}}function zB(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Y()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(Ae(h===void 0||typeof h=="string"),ft.fromBase64String(h||"")):(Ae(h===void 0||h instanceof Buffer||h instanceof Uint8Array),ft.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?x.UNKNOWN:TS(l.code);return new z(h,l.message||"")}(o);n=new oh(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Tv(t,r.document.name),s=wn(r.document.updateTime),o=r.document.createTime?wn(r.document.createTime):ie.min(),a=new rn({mapValue:{fields:r.document.fields}}),u=sn.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new uo(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Tv(t,r.document),s=r.readTime?wn(r.readTime):ie.min(),o=sn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new uo([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Tv(t,r.document),s=r.removedTargetIds||[];n=new uo([],s,i,null)}else{if(!("filter"in e))return Y();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new r_(i,s),a=r.targetId;n=new sh(a,o)}}return n}function qB(t,e){let n;if(e instanceof Ki)n={update:zA(t,e.key,e.value)};else if(e instanceof rh)n={delete:u_(t,e.key)};else if(e instanceof cr)n={update:zA(t,e.key,e.data),updateMask:e$(e.fieldMask)};else{if(!(e instanceof Xv))return Y();n={verify:u_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Io)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Gi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Wi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof wo)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Y()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:$B(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Y()}(t,e.precondition)),n}function GB(t,e){return t&&t.length>0?(Ae(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?wn(i.updateTime):wn(s);return o.isEqual(ie.min())&&(o=wn(s)),new Zv(o,i.transformResults||[])}(n,e))):[]}function WB(t,e){return{documents:[SS(t,e.path)]}}function KB(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=SS(t,i);let s=function(l){if(l.length!==0)return NS(Dn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:oo(m.field),direction:JB(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=a_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function QB(t){let e=HB(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ae(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let m=MS(p);return m instanceof Dn&&uS(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(T){return new yo(ao(T.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Ah(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new mo(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new mo(y,m)}(n.endAt)),IB(e,i,o,s,a,"F",u,l)}function YB(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ao(n.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ao(n.unaryFilter.field);return ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=ao(n.unaryFilter.field);return ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=ao(n.unaryFilter.field);return ze.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(t):t.fieldFilter!==void 0?function(n){return ze.create(ao(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Dn.create(n.compositeFilter.filters.map(r=>MS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y()}}(n.compositeFilter.op))}(t):Y()}function JB(t){return jB[t]}function ZB(t){return UB[t]}function XB(t){return BB[t]}function oo(t){return{fieldPath:t.canonicalString()}}function ao(t){return Pt.fromServerFormat(t.fieldPath)}function NS(t){return t instanceof ze?function(n){if(n.op==="=="){if(MA(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NAN"}};if(RA(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(MA(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NAN"}};if(RA(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(n.field),op:ZB(n.op),value:n.value}}}(t):t instanceof Dn?function(n){let r=n.getFilters().map(i=>NS(i));return r.length===1?r[0]:{compositeFilter:{op:XB(n.op),filters:r}}}(t):Y()}function e$(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function xS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Sc=class t{constructor(e,n,r,i,s=ie.min(),o=ie.min(),a=ft.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var d_=class{constructor(e){this.ct=e}};function t$(t){let e=QB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jv(e,e.limit,"L"):e}var uh=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Me(e.integerValue));else if("doubleValue"in e){let r=Me(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),bc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=or(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Qr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?oS(e)?this.dt(n,Number.MAX_SAFE_INTEGER):sS(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Y()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Me(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),W.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};uh.vt=new uh;var h_=class{constructor(){this.un=new f_}addToCollectionParentIndex(e,n){return this.un.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(zi.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(zi.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}},f_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ht(Pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ht(Pe.comparator)).toArray()}};var G8=new Uint8Array(0);var yn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(41943040,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);var Rc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var p_=class{constructor(){this.changes=new Yr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var g_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var m_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ec(r.mutation,i,vn.empty(),tt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){let i=ji();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=vc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=ji();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ar(),o=wc(),a=function(){return wc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof cr)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),Ec(h.mutation,l,h.mutation.getFieldMask(),tt.now())):o.set(l.key,vn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new g_(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=wc(),i=new Oe((o,a)=>o-a),s=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||vn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||me()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=yS();h.forEach(m=>{if(!s.has(m)){let y=DS(n.get(m),r.get(m));y!==null&&p.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return O.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return W.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wB(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):O.resolve(ji()),a=-1,u=s;return o.next(l=>O.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,me())).next(h=>({batchId:a,changes:mS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(r=>{let i=vc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=vc();return this.indexManager.getCollectionParents(e,s).next(a=>O.forEach(a,u=>{let l=function(p,m){return new vo(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,sn.newInvalidDocument(h)))});let a=vc();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&Ec(h.mutation,l,vn.empty(),tt.now()),Rh(n,l)&&(a=a.insert(u,l))}),a})}};var y_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return O.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:wn(i.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:t$(i.bundledQuery),readTime:wn(i.readTime)}}(n)),O.resolve()}};var v_=class{constructor(){this.overlays=new Oe(W.comparator),this.Ir=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){let r=ji();return O.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),O.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){let i=ji(),s=n.length+1,o=new W(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Oe((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=ji(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=ji(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return O.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new n_(n,r));let s=this.Ir.get(n);s===void 0&&(s=me(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var __=class{constructor(){this.sessionToken=ft.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}};var Mc=class{constructor(){this.Tr=new ht(Be.Er),this.dr=new ht(Be.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Be(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Be(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new W(new Pe([])),r=new Be(n,e),i=new Be(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new W(new Pe([])),r=new Be(n,e),i=new Be(n,e+1),s=me();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Be(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Be=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return W.comparator(e.key,n.key)||Ee(e.wr,n.wr)}static Ar(e,n){return Ee(e.wr,n.wr)||W.comparator(e.key,n.key)}};var I_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ht(Be.Er)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new e_(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new Be(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(o)}lookupMutationBatch(e,n){return O.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return O.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Be(n,0),i=new Be(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),O.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ht(Ee);return n.forEach(i=>{let s=new Be(i,0),o=new Be(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),O.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;W.isDocumentKey(s)||(s=s.child(""));let o=new Be(new W(s),0),a=new ht(Ee);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),O.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return O.forEach(n.mutations,i=>{let s=new Be(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Be(n,0),i=this.br.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var w_=class{constructor(e){this.Mr=e,this.docs=function(){return new Oe(W.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let r=ar();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():sn.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ar(),o=n.path,a=new W(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||uB(cB(h),r)<=0||(i.has(h.key)||Rh(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return O.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Y()}Or(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new E_(this)}getSize(e){return O.resolve(this.size)}},E_=class extends p_{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var D_=class{constructor(e){this.persistence=e,this.Nr=new Yr(n=>dI(n),hI),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Mc,this.targetCount=0,this.kr=Rc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),O.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Rc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Kn(n),O.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(s).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),O.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),O.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Br.containsKey(n))}};var b_=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new rS(0),this.Kr=!1,this.Kr=!0,this.$r=new __,this.referenceDelegate=e(this),this.Ur=new D_(this),this.indexManager=new h_,this.remoteDocumentCache=function(i){return new w_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new d_(n),this.Gr=new y_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new v_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new I_(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);let i=new T_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return O.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},T_=class extends Lv{constructor(e){super(),this.currentSequenceNumber=e}},C_=class t{constructor(e){this.persistence=e,this.Jr=new Mc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Y()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),O.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Xr,r=>{let i=W.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ie.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return O.or([()=>O.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var A_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=me(),i=me();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var S_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var R_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return u0()?8:dB(We())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new S_;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(yc()<=ge.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",so(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),O.resolve()):(yc()<=ge.DEBUG&&j("QueryEngine","Query:",so(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(yc()<=ge.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",so(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,In(n))):O.resolve())}Yi(e,n){if(OA(n))return O.resolve(null);let r=In(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Jv(n,null,"F"),r=In(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=me(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,Jv(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return OA(n)||i.isEqual(ie.min())?O.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?O.resolve(null):(yc()<=ge.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),so(n)),this.rs(e,o,n,aB(i,-1)).next(a=>a))})}ts(e,n){let r=new ht(pS(e));return n.forEach((i,s)=>{Rh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return yc()<=ge.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",so(n)),this.Ji.getDocumentsMatchingQuery(e,n,zi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var M_=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Oe(Ee),this._s=new Yr(s=>dI(s),hI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function n$(t,e,n,r){return new M_(t,e,n,r)}function PS(t,e){return I(this,null,function*(){let n=te(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=me();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function r$(t,e){let n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=O.resolve();return m.forEach(T=>{y=y.next(()=>h.getEntry(u,T)).next(M=>{let R=l.docVersions.get(T);Ae(R!==null),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=me();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function OS(t){let e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function i$(t,e){let n=te(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(ft.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(M,R,N){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(m,y,h)&&a.push(n.Ur.updateTargetData(s,y))});let u=ar(),l=me();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(s$(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ie.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return O.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function s$(t,e,n){let r=me(),i=me();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ar();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ie.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function o$(t,e){let n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function a$(t,e){let n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,O.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Sc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function N_(t,e,n){return I(this,null,function*(){let r=te(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Fc(o))throw o;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function qA(t,e,n){let r=te(t),i=ie.min(),s=me();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=te(u),m=p._s.get(h);return m!==void 0?O.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,o,In(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ie.min(),n?s:me())).next(a=>(c$(r,DB(e),a),{documents:a,Ts:s})))}function c$(t,e,n){let r=t.us.get(e)||ie.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var lh=class{constructor(){this.activeTargetIds=RB()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var x_=class{constructor(){this.so=new lh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new lh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var P_=class{_o(e){}shutdown(){}};var dh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Wd=null;function Cv(){return Wd===null?Wd=function(){return 268435456+Math.round(2147483648*Math.random())}():Wd++,"0x"+Wd.toString(16)}var u$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var O_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var dt="WebChannelConnection",k_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=Cv(),u=this.xo(n,r.toUriEncodedString());j("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(h=>(j("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ho("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Co}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=u$[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=Cv();return new Promise((o,a)=>{let u=new _v;u.setWithCredentials(!0),u.listenOnce(wv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case mc.NO_ERROR:let h=u.getResponseJson();j(dt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case mc.TIMEOUT:j(dt,`RPC '${e}' ${s} timed out`),a(new z(x.DEADLINE_EXCEEDED,"Request time out"));break;case mc.HTTP_ERROR:let p=u.getStatus();if(j(dt,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let T=function(R){let N=R.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(N)>=0?N:x.UNKNOWN}(y.status);a(new z(T,y.message))}else a(new z(x.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new z(x.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{j(dt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);j(dt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Cv(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=bv(),a=Dv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Iv({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");j(dt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),m=!1,y=!1,T=new O_({Io:R=>{y?j(dt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(j(dt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),j(dt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),M=(R,N,L)=>{R.listen(N,$=>{try{L($)}catch(H){setTimeout(()=>{throw H},0)}})};return M(p,io.EventType.OPEN,()=>{y||(j(dt,`RPC '${e}' stream ${i} transport opened.`),T.yo())}),M(p,io.EventType.CLOSE,()=>{y||(y=!0,j(dt,`RPC '${e}' stream ${i} transport closed`),T.So())}),M(p,io.EventType.ERROR,R=>{y||(y=!0,ho(dt,`RPC '${e}' stream ${i} transport errored:`,R),T.So(new z(x.UNAVAILABLE,"The operation could not be completed")))}),M(p,io.EventType.MESSAGE,R=>{var N;if(!y){let L=R.data[0];Ae(!!L);let $=L,H=$.error||((N=$[0])===null||N===void 0?void 0:N.error);if(H){j(dt,`RPC '${e}' stream ${i} received error:`,H);let be=H.status,G=function(_){let D=Ue[_];if(D!==void 0)return TS(D)}(be),E=H.message;G===void 0&&(G=x.INTERNAL,E="Unknown error status: "+be+" with message "+H.message),y=!0,T.So(new z(G,E)),p.close()}else j(dt,`RPC '${e}' stream ${i} received:`,L),T.bo(L)}}),M(a,Ev.STAT_EVENT,R=>{R.stat===qd.PROXY?j(dt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===qd.NOPROXY&&j(dt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}};function Av(){return typeof document<"u"?document:null}function Mh(t){return new o_(t,!0)}var hh=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var fh=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new hh(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return I(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return I(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return I(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(sr(n.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new z(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>I(this,null,function*(){this.state=0,this.start()}))}I_(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},F_=class extends fh{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=zB(this.serializer,e),r=function(s){if(!("targetChange"in s))return ie.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?wn(o.readTime):ie.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=l_(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=Yv(u)?{documents:WB(s,u)}:{query:KB(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=CS(s,o.resumeToken);let l=a_(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ie.min())>0){a.readTime=ch(s,o.snapshotVersion.toTimestamp());let l=a_(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=YB(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=l_(this.serializer),n.removeTarget=e,this.a_(n)}},L_=class extends fh{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=GB(e.writeResults,e.commitTime),r=wn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=l_(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>qB(this.serializer,r))};this.a_(n)}};var V_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new z(x.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,c_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(x.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,c_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(x.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},j_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(sr(n),this.D_=!1):j("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var U_=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>I(this,null,function*(){Qi(this)&&(j("RemoteStore","Restarting streams for network reachability change."),yield function(u){return I(this,null,function*(){let l=te(u);l.L_.add(4),yield Lc(l),l.q_.set("Unknown"),l.L_.delete(4),yield Nh(l)})}(this))}))}),this.q_=new j_(r,i)}};function Nh(t){return I(this,null,function*(){if(Qi(t))for(let e of t.B_)yield e(!0)})}function Lc(t){return I(this,null,function*(){for(let e of t.B_)yield e(!1)})}function kS(t,e){let n=te(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),_I(n)?vI(n):So(n).r_()&&yI(n,e))}function mI(t,e){let n=te(t),r=So(n);n.N_.delete(e),r.r_()&&FS(n,e),n.N_.size===0&&(r.r_()?r.o_():Qi(n)&&n.q_.set("Unknown"))}function yI(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}So(t).A_(e)}function FS(t,e){t.Q_.xe(e),So(t).R_(e)}function vI(t){t.Q_=new s_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),So(t).start(),t.q_.v_()}function _I(t){return Qi(t)&&!So(t).n_()&&t.N_.size>0}function Qi(t){return te(t).L_.size===0}function LS(t){t.Q_=void 0}function l$(t){return I(this,null,function*(){t.q_.set("Online")})}function d$(t){return I(this,null,function*(){t.N_.forEach((e,n)=>{yI(t,e)})})}function h$(t,e){return I(this,null,function*(){LS(t),_I(t)?(t.q_.M_(e),vI(t)):t.q_.set("Unknown")})}function f$(t,e,n){return I(this,null,function*(){if(t.q_.set("Online"),e instanceof oh&&e.state===2&&e.cause)try{yield function(i,s){return I(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ph(t,r)}else if(e instanceof uo?t.Q_.Ke(e):e instanceof sh?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ie.min()))try{let r=yield OS(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(ft.EMPTY_BYTE_STRING,h.snapshotVersion)),FS(s,u);let p=new Sc(h.target,u,l,h.sequenceNumber);yI(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){j("RemoteStore","Failed to raise snapshot:",r),yield ph(t,r)}})}function ph(t,e,n){return I(this,null,function*(){if(!Fc(e))throw e;t.L_.add(1),yield Lc(t),t.q_.set("Offline"),n||(n=()=>OS(t.localStore)),t.asyncQueue.enqueueRetryable(()=>I(this,null,function*(){j("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Nh(t)}))})}function VS(t,e){return e().catch(n=>ph(t,n,e))}function xh(t){return I(this,null,function*(){let e=te(t),n=Jr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;p$(e);)try{let i=yield o$(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,g$(e,i)}catch(i){yield ph(e,i)}jS(e)&&US(e)})}function p$(t){return Qi(t)&&t.O_.length<10}function g$(t,e){t.O_.push(e);let n=Jr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function jS(t){return Qi(t)&&!Jr(t).n_()&&t.O_.length>0}function US(t){Jr(t).start()}function m$(t){return I(this,null,function*(){Jr(t).p_()})}function y$(t){return I(this,null,function*(){let e=Jr(t);for(let n of t.O_)e.m_(n.mutations)})}function v$(t,e,n){return I(this,null,function*(){let r=t.O_.shift(),i=t_.from(r,e,n);yield VS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield xh(t)})}function _$(t,e){return I(this,null,function*(){e&&Jr(t).V_&&(yield function(r,i){return I(this,null,function*(){if(function(o){return FB(o)&&o!==x.ABORTED}(i.code)){let s=r.O_.shift();Jr(r).s_(),yield VS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield xh(r)}})}(t,e)),jS(t)&&US(t)})}function GA(t,e){return I(this,null,function*(){let n=te(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");let r=Qi(n);n.L_.add(3),yield Lc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Nh(n)})}function I$(t,e){return I(this,null,function*(){let n=te(t);e?(n.L_.delete(2),yield Nh(n)):e||(n.L_.add(2),yield Lc(n),n.q_.set("Unknown"))})}function So(t){return t.K_||(t.K_=function(n,r,i){let s=te(n);return s.w_(),new F_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:l$.bind(null,t),Ro:d$.bind(null,t),mo:h$.bind(null,t),d_:f$.bind(null,t)}),t.B_.push(e=>I(this,null,function*(){e?(t.K_.s_(),_I(t)?vI(t):t.q_.set("Unknown")):(yield t.K_.stop(),LS(t))}))),t.K_}function Jr(t){return t.U_||(t.U_=function(n,r,i){let s=te(n);return s.w_(),new L_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:m$.bind(null,t),mo:_$.bind(null,t),f_:y$.bind(null,t),g_:v$.bind(null,t)}),t.B_.push(e=>I(this,null,function*(){e?(t.U_.s_(),yield xh(t)):(yield t.U_.stop(),t.O_.length>0&&(j("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var B_=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function II(t,e){if(sr("AsyncQueue",`${e}: ${t}`),Fc(t))return new z(x.UNAVAILABLE,`${e}: ${t}`);throw t}var gh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||W.comparator(n.key,r.key):(n,r)=>W.comparator(n.key,r.key),this.keyedMap=vc(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var mh=class{constructor(){this.W_=new Oe(W.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Y():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Do=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,gh.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var $_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},H_=class{constructor(){this.queries=WA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=te(n),s=i.queries;i.queries=WA(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new z(x.ABORTED,"Firestore shutting down"))}};function WA(){return new Yr(t=>fS(t),Sh)}function w$(t,e){return I(this,null,function*(){let n=te(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new $_,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=II(o,`Initialization of query '${so(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&wI(n)})}function E$(t,e){return I(this,null,function*(){let n=te(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function D$(t,e){let n=te(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&wI(n)}function b$(t,e,n){let r=te(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function wI(t){t.Y_.forEach(e=>{e.next()})}var z_,KA;(KA=z_||(z_={})).ea="default",KA.Cache="cache";var q_=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Do(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Do.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==z_.Cache}};var yh=class{constructor(e){this.key=e}},vh=class{constructor(e){this.key=e}},G_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=me(),this.mutatedKeys=me(),this.Aa=pS(e),this.Ra=new gh(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new mh,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Rh(this.query,p)?p:null,T=!!m&&this.mutatedKeys.has(m.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?T!==M&&(r.track({type:3,doc:y}),R=!0):this.ga(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(o=o.add(y),s=M?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(y,T){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return M(y)-M(T)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new Do(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new mh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=me(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new vh(r))}),this.da.forEach(r=>{e.has(r)||n.push(new yh(r))}),n}ba(e){this.Ta=e.Ts,this.da=me();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Do.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},W_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},K_=class{constructor(e){this.key=e,this.va=!1}},Q_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Yr(a=>fS(a),Sh),this.Ma=new Map,this.xa=new Set,this.Oa=new Oe(W.comparator),this.Na=new Map,this.La=new Mc,this.Ba={},this.ka=new Map,this.qa=Rc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function T$(t,e,n=!0){return I(this,null,function*(){let r=GS(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield BS(r,e,n,!0),i})}function C$(t,e){return I(this,null,function*(){let n=GS(t);yield BS(n,e,!0,!1)})}function BS(t,e,n,r){return I(this,null,function*(){let i=yield a$(t.localStore,In(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield A$(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&kS(t.remoteStore,i),a})}function A$(t,e,n,r,i){return I(this,null,function*(){t.Ka=(p,m,y)=>function(M,R,N,L){return I(this,null,function*(){let $=R.view.ma(N);$.ns&&($=yield qA(M.localStore,R.query,!1).then(({documents:E})=>R.view.ma(E,$)));let H=L&&L.targetChanges.get(R.targetId),be=L&&L.targetMismatches.get(R.targetId)!=null,G=R.view.applyChanges($,M.isPrimaryClient,H,be);return YA(M,R.targetId,G.wa),G.snapshot})}(t,p,m,y);let s=yield qA(t.localStore,e,!0),o=new G_(e,s.Ts),a=o.ma(s.documents),u=Ac.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);YA(t,n,l.wa);let h=new W_(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function S$(t,e,n){return I(this,null,function*(){let r=te(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Sh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield N_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&mI(r.remoteStore,i.targetId),Y_(r,i.targetId)}).catch(kc))):(Y_(r,i.targetId),yield N_(r.localStore,i.targetId,!0))})}function R$(t,e){return I(this,null,function*(){let n=te(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),mI(n.remoteStore,r.targetId))})}function M$(t,e,n){return I(this,null,function*(){let r=L$(t);try{let i=yield function(o,a){let u=te(o),l=tt.now(),h=a.reduce((y,T)=>y.add(T.key),me()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=ar(),M=me();return u.cs.getEntries(y,h).next(R=>{T=R,T.forEach((N,L)=>{L.isValidDocument()||(M=M.add(N))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,T)).next(R=>{p=R;let N=[];for(let L of a){let $=kB(L,p.get(L.key).overlayedDocument);$!=null&&N.push(new cr(L.key,$,aS($.value.mapValue),$i.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,N,a)}).next(R=>{m=R;let N=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,R.batchId,N)})}).then(()=>({batchId:m.batchId,changes:mS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Oe(Ee)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Vc(r,i.changes),yield xh(r.remoteStore)}catch(i){let s=II(i,"Failed to persist write");n.reject(s)}})}function $S(t,e){return I(this,null,function*(){let n=te(t);try{let r=yield i$(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ae(o.va):i.removedDocuments.size>0&&(Ae(o.va),o.va=!1))}),yield Vc(n,r,e)}catch(r){yield kc(r)}})}function QA(t,e,n){let r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=te(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&wI(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function N$(t,e,n){return I(this,null,function*(){let r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Oe(W.comparator);o=o.insert(s,sn.newNoDocument(s,ie.min()));let a=me().add(s),u=new ih(ie.min(),new Map,new Oe(Ee),o,a);yield $S(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),EI(r)}else yield N_(r.localStore,e,!1).then(()=>Y_(r,e,n)).catch(kc)})}function x$(t,e){return I(this,null,function*(){let n=te(t),r=e.batch.batchId;try{let i=yield r$(n.localStore,e);zS(n,r,null),HS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Vc(n,i)}catch(i){yield kc(i)}})}function P$(t,e,n){return I(this,null,function*(){let r=te(t);try{let i=yield function(o,a){let u=te(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ae(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);zS(r,e,n),HS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Vc(r,i)}catch(i){yield kc(i)}})}function HS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function zS(t,e,n){let r=te(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Y_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||qS(t,r)})}function qS(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(mI(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),EI(t))}function YA(t,e,n){for(let r of n)r instanceof yh?(t.La.addReference(r.key,e),O$(t,r)):r instanceof vh?(j("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||qS(t,r.key)):Y()}function O$(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(j("SyncEngine","New document in limbo: "+n),t.xa.add(r),EI(t))}function EI(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new W(Pe.fromString(e)),r=t.qa.next();t.Na.set(r,new K_(n)),t.Oa=t.Oa.insert(n,r),kS(t.remoteStore,new Sc(In(fI(n.path)),r,"TargetPurposeLimboResolution",rS.oe))}}function Vc(t,e,n){return I(this,null,function*(){let r=te(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=A_.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return I(this,null,function*(){let h=te(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(l,m=>O.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>O.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Fc(p))throw p;j("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),T=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(T);h.os=h.os.insert(m,M)}}})}(r.localStore,s))})}function k$(t,e){return I(this,null,function*(){let n=te(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());let r=yield PS(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new z(x.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Vc(n,r.hs)}})}function F$(t,e){let n=te(t),r=n.Na.get(e);if(r&&r.va)return me().add(r.key);{let i=me(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function GS(t){let e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$S.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=F$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N$.bind(null,e),e.Ca.d_=D$.bind(null,e.eventManager),e.Ca.$a=b$.bind(null,e.eventManager),e}function L$(t){let e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=x$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P$.bind(null,e),e}var _h=class{constructor(){this.synchronizeTabs=!1}initialize(e){return I(this,null,function*(){this.serializer=Mh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return n$(this.persistence,new R_,e.initialUser,this.serializer)}createPersistence(e){return new b_(C_.Zr,this.serializer)}createSharedClientState(e){return new x_}terminate(){return I(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var J_=class{initialize(e,n){return I(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>QA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=k$.bind(null,this.syncEngine),yield I$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new H_}()}createDatastore(e){let n=Mh(e.databaseInfo.databaseId),r=function(s){return new k_(s)}(e.databaseInfo);return function(s,o,a,u){return new V_(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new U_(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>QA(this.syncEngine,n,0),function(){return dh.D()?new dh:new P_}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,h){let p=new Q_(i,s,o,a,u,l);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return I(this,null,function*(){var e,n;yield function(i){return I(this,null,function*(){let s=te(i);j("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Lc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var Z_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var X_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ke.UNAUTHENTICATED,this.clientId=Jd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>I(this,null,function*(){j("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(j("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new z(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>I(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=II(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Sv(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>I(this,null,function*(){r.isEqual(i)||(yield PS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function JA(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield j$(t);j("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>GA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>GA(e.remoteStore,i)),t._onlineComponents=e})}function V$(t){return t.name==="FirebaseError"?t.code===x.FAILED_PRECONDITION||t.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function j$(t){return I(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Sv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!V$(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),yield Sv(t,new _h)}}else j("FirestoreClient","Using default OfflineComponentProvider"),yield Sv(t,new _h);return t._offlineComponents})}function WS(t){return I(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),yield JA(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),yield JA(t,new J_))),t._onlineComponents})}function U$(t){return WS(t).then(e=>e.syncEngine)}function ZA(t){return I(this,null,function*(){let e=yield WS(t),n=e.eventManager;return n.onListen=T$.bind(null,e.syncEngine),n.onUnlisten=S$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=C$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=R$.bind(null,e.syncEngine),n})}function KS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var XA=new Map;function QS(t,e,n){if(!n)throw new z(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function B$(t,e,n,r){if(e===!0&&r===!0)throw new z(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function eS(t){if(!W.isDocumentKey(t))throw new z(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tS(t){if(W.isDocumentKey(t))throw new z(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function DI(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y()}function Dc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new z(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=DI(t);throw new z(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Ih=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new z(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}B$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new z(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new z(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new z(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},bo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ih({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new z(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new z(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ih(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Rv;switch(r.type){case"firstParty":return new Pv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=XA.get(n);r&&(j("ComponentProvider","Removing Datastore"),XA.delete(n),r.terminate())}(this),Promise.resolve()}};function YS(t,e,n,r={}){var i;let s=(t=Dc(t,bo))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Ke.MOCK_USER;else{a=i0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new z(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ke(l)}t._authCredentials=new Mv(new Yd(a,u))}}var wh=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Gt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Kr=class t extends wh{constructor(e,n,r){super(e,n,fI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new W(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function JS(t,e,...n){if(t=lt(t),QS("collection","path",e),t instanceof bo){let r=Pe.fromString(e,...n);return tS(r),new Kr(t,null,r)}{if(!(t instanceof Gt||t instanceof Kr))throw new z(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return tS(r),new Kr(t.firestore,null,r)}}function ZS(t,e,...n){if(t=lt(t),arguments.length===1&&(e=Jd.newId()),QS("doc","path",e),t instanceof bo){let r=Pe.fromString(e,...n);return eS(r),new Gt(t,null,new W(r))}{if(!(t instanceof Gt||t instanceof Kr))throw new z(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return eS(r),new Gt(t.firestore,t instanceof Kr?t.converter:null,new W(r))}}var eI=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new hh(this,"async_queue_retry"),this.Eu=()=>{let n=Av();n&&j("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=Av();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=Av();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new ir;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return I(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Fc(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw sr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=B_.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&Y()}verifyOperationInProgress(){}mu(){return I(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function nS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var To=class extends bo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new eI}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||tR(this),this._firestoreClient.terminate()}};function XS(t,e){let n=typeof t=="object"?t:Js(),r=typeof t=="string"?t:e||"(default)",i=oc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=r0("firestore");s&&YS(i,...s)}return i}function eR(t){return t._firestoreClient||tR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function tR(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,h){return new Vv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,KS(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new X_(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Nc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ft.fromBase64String(e))}catch(n){throw new z(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var xc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new z(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Eh=class{constructor(e){this._methodName=e}};var Pc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new z(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new z(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}};var Oc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var $$=/^__.*__$/,tI=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new cr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ki(e,this.data,n,this.fieldTransforms)}};function nR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}var nI=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Dh(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(nR(this.wu)&&$$.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},rI=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mh(e)}Nu(e,n,r,i=!1){return new nI({wu:e,methodName:n,Ou:r,path:Pt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function H$(t){let e=t._freezeSettings(),n=Mh(t._databaseId);return new rI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function z$(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);oR("Data must be an object, but it was:",o,r);let a=iR(r,o),u,l;if(s.merge)u=new vn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=q$(e,p,n);if(!o.contains(m))throw new z(x.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);W$(h,m)||h.push(m)}u=new vn(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new tI(new rn(a),u,l)}function rR(t,e){if(sR(t=lt(t)))return oR("Unsupported field value:",e,t),iR(t,e);if(t instanceof Eh)return function(r,i){if(!nR(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=rR(a,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return MB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=tt.fromDate(r);return{timestampValue:ch(i.serializer,s)}}if(r instanceof tt){let s=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ch(i.serializer,s)}}if(r instanceof Pc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Nc)return{bytesValue:CS(i.serializer,r._byteString)};if(r instanceof Gt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:gI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Oc)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return pI(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${DI(r)}`)}(t,e)}function iR(t,e){let n={};return iS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(t,(r,i)=>{let s=rR(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function sR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tt||t instanceof Pc||t instanceof Nc||t instanceof Gt||t instanceof Eh||t instanceof Oc)}function oR(t,e,n){if(!sR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=DI(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function q$(t,e,n){if((e=lt(e))instanceof xc)return e._internalPath;if(typeof e=="string")return aR(t,e);throw Dh("Field path arguments must be of type string or ",t,!1,void 0,n)}var G$=new RegExp("[~\\*/\\[\\]]");function aR(t,e,n){if(e.search(G$)>=0)throw Dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xc(...e.split("."))._internalPath}catch{throw Dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new z(x.INVALID_ARGUMENT,a+t+u)}function W$(t,e){return t.some(n=>n.isEqual(e))}var bh=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new iI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(cR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},iI=class extends bh{data(){return super.data()}};function cR(t,e){return typeof e=="string"?aR(t,e):e instanceof xc?e._internalPath:e._delegate._internalPath}function K$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new z(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var sI=class{convertValue(e,n="none"){switch(qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ao(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Me(o.doubleValue));return new Oc(s)}convertGeoPoint(e){return new Pc(Me(e.latitude),Me(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=uI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){let n=or(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Pe.fromString(e);Ae(xS(r));let i=new th(r.get(1),r.get(3)),s=new W(r.popFirst(5));return i.isEqual(n)||sr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function Q$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Bi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Th=class extends bh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new lo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(cR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},lo=class extends Th{data(e={}){return super.data(e)}},oI=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new lo(this._firestore,this._userDataWriter,r.key,r,new Bi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new z(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new lo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new lo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Y$(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Y$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}var Ch=class extends sI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,n)}};function uR(t,e){let n=Dc(t.firestore,To),r=ZS(t),i=Q$(t.converter,e);return J$(n,[z$(H$(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$i.exists(!1))]).then(()=>r)}function lR(t,...e){var n,r,i;t=lt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||nS(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(nS(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Gt)l=Dc(t.firestore,To),h=fI(t._key.path),u={next:p=>{e[o]&&e[o](Z$(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=Dc(t,wh);l=Dc(p.firestore,To),h=p._query;let m=new Ch(l);u={next:y=>{e[o]&&e[o](new oI(l,m,p,y))},error:e[o+1],complete:e[o+2]},K$(t._query)}return function(m,y,T,M){let R=new Z_(M),N=new q_(y,R,T);return m.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return w$(yield ZA(m),N)})),()=>{R.za(),m.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return E$(yield ZA(m),N)}))}}(eR(l),h,a,u)}function J$(t,e){return function(r,i){let s=new ir;return r.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return M$(yield U$(r),i,s)})),s.promise}(eR(t),e)}function Z$(t,e,n){let r=n.docs.get(e._key),i=new Ch(t);return new Th(t,i,e._key,r,new Bi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Co=i})(Hr),$r(new zt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new To(new Nv(r.getProvider("auth-internal")),new kv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new z(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new th(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),He(TA,"4.7.1",e),He(TA,"4.7.1","esm2017")})();var ur=class{constructor(e){return e}},dR="firestore",bI=class{constructor(){return ac(dR)}};var TI=new V("angularfire2.firestore-instances");function X$(t,e){let n=bd(dR,t,e);return n&&new ur(n)}function eH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ur(r)}}var tH={provide:bI,deps:[[new ut,TI]]},nH={provide:ur,useFactory:X$,deps:[[new ut,TI],Jn]};function p7(t,...e){return He("angularfire",Pi.full,"fst"),Vt([nH,tH,{provide:TI,useFactory:eH(t),multi:!0,deps:[we,Je,eo,Oi,[new ut,gc],[new ut,Xs],...e]}])}var Ph=qt(uR,!0);var Oh=qt(JS,!0);var g7=qt(XS,!0);var m7=qt(lR,!0);var CI=Ow(kw());var rH=()=>["../../home"],bn=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Lt({type:t,selectors:[["app-juego"]],decls:3,vars:2,consts:[["id","button"],["id","close",3,"routerLink"]],template:function(n,r){n&1&&(Z(0,"div",0)(1,"button",1),se(2,"X"),X()()),n&2&&($t(),Nr("routerLink",IT(1,rH)))},dependencies:[KC],styles:["#button[_ngcontent-%COMP%]{width:100vw;display:flex;justify-content:end}button[_ngcontent-%COMP%]{width:50px;height:50px;margin:30px 10px 10px;box-shadow:0 0 15px #00000080;background-color:#cb1212cc;border-radius:10px;text-align:center;color:#fff;font-size:30px}#close[_ngcontent-%COMP%]:hover{background-color:#c64242cc}"]})};function iH(t,e){t&1&&Rt(0,"img",31)}var Lh=class t{constructor(e,n){this.firestore=e;this.auth=n}palabras=["GATO","PERRO","CASA","FLOR","ARBOL","LUNA","SOL","MAR","CIELO","NUBE","R\xCDO","FUEGO","AGUA","TIERRA","AIRE","ESTRELLA","LIBRO","MUSICA","CINE","COMIDA","BEBIDA","JUEGO","DEPORTE","COCHE","AVI\xD3N","BARCO","TREN","BICICLETA","CIUDAD","PA\xCDS","MUNDO","IDIOMA","PALABRA","LETRA","SONIDO","COLOR","LINEA","C\xCDRCULO","CUADRADO","FAMILIA","AMIGO","AMOR","PAZ","GUERRA","TRABAJO","ESCUELA","OFICINA","PARQUE","CALLE","CARRETERA","PUENTE","MUSEO","TEATRO","HOSPITAL","IGLESIA","TEMPLO","TIENDA","RESTAURANTE","CAFETER\xCDA","ZAPATO","CAMISETA","PANTAL\xD3N","SOMBRERO","RELOJ","BOLSA","LLAVE","TEL\xC9FONO","ORDENADOR","MESA","SILLA","CAMA","SOFA","VENTANA","PUERTA","LIBRETA","L\xC1PIZ","BOLIGRAFO","CEPILLO","ESPEJO","PEINE","JAB\xD3N","TOALLA","LAVAVAJILLAS","NEVERA","LAVADORA","COCINA","HORNO","MICROONDAS","TELEVISOR","RADIO","CAMARA","REPRODUCTOR","MOTOR","BATERIA","CARGADOR","CUADERNO","GRIFO","CORTE","PLATO"];palabraSeleccionada="";palabraOculta="";vidasCount=5;puntos=0;teclado=document.getElementsByClassName("letter");ngOnInit(){this.InitGame(),CI.default.fire({title:"Ahorcado",html:`<div style="text-align: left;">
      -Tenes 5 intentos para adivinar la palabra secreta<br><br>
      -Cada letra que se agregue vale un punto y cada letra incorrecta resta una vida<br><br>
      -Al acertar una palabra esta se reemplaza por otra y el jugador vuelve a tener todas las vidas<br><br>
      -El juegos se termina cuando te quedas sin vidas
      </div>`,background:"#000",color:"#fff",confirmButtonColor:"#ff5722",confirmButtonText:"Entendido",allowOutsideClick:!1,allowEscapeKey:!1})}InitGame(){this.palabraSeleccionada=this.palabras[Math.floor(Math.random()*this.palabras.length)],console.log(this.palabraSeleccionada);for(let e=0;e<this.palabraSeleccionada.length;e++)this.palabraOculta+="_";console.log(this.teclado);for(let e=0;e<this.teclado.length;e++){let n=this.teclado[e].id,r=document.getElementById(n);r!=null&&(r.style.display="block")}}BuscarLetra(e){let n=[],r=!1;for(let i=0;i<this.palabraSeleccionada.length;i++)if(e.toUpperCase()==this.palabraSeleccionada[i].toUpperCase()){let s=this.palabraOculta.split("");s[i]=e.toUpperCase(),this.palabraOculta=s.join(""),n.push(e.toUpperCase()),r=!0,this.puntos++}if(r||(console.log("Esa letra no existe"),this.vidasCount--),this.hideButton(e),this.ActualizarPalabra())if(this.vidasCount==0){CI.default.fire({title:`Perdiste
Puntuacion Final: ${this.puntos}`,background:"#000",color:"#fff",confirmButtonColor:"#ff5722"});let i=Oh(this.firestore,"ahorcado");Ph(i,{puntaje:this.puntos,user:this.auth.currentUser?.displayName}),this.vidasCount=5,this.puntos=0,this.InitGame()}else this.vidasCount=5,this.InitGame()}hideButton(e){let n=document.getElementById(e);n&&(n.style.display="none")}get vidas(){return Array(this.vidasCount).fill(0).map((e,n)=>n)}ActualizarPalabra(){let e=!1;return(this.vidasCount==0||this.palabraOculta.indexOf("_")==-1)&&(e=!0,this.palabraOculta=""),e}static \u0275fac=function(n){return new(n||t)(ce(ur),ce(nr))};static \u0275cmp=Lt({type:t,selectors:[["app-ahorcado"]],decls:60,vars:3,consts:[["id","puntaje"],["id","barra-vidas"],["src","https://firebasestorage.googleapis.com/v0/b/tp-labo4-fae81.appspot.com/o/corazon.png?alt=media&token=821aefc2-08ca-4af0-8947-67d7ff5d6c8e","alt","vida","id","vida",4,"ngFor","ngForOf"],["id","palabra"],[1,"alphabet-buttons","container-fluid"],["id","A",1,"letter",3,"click"],["id","B",1,"letter",3,"click"],["id","C",1,"letter",3,"click"],["id","D",1,"letter",3,"click"],["id","E",1,"letter",3,"click"],["id","F",1,"letter",3,"click"],["id","G",1,"letter",3,"click"],["id","H",1,"letter",3,"click"],["id","I",1,"letter",3,"click"],["id","J",1,"letter",3,"click"],["id","K",1,"letter",3,"click"],["id","L",1,"letter",3,"click"],["id","M",1,"letter",3,"click"],["id","N",1,"letter",3,"click"],["id","O",1,"letter",3,"click"],["id","P",1,"letter",3,"click"],["id","Q",1,"letter",3,"click"],["id","R",1,"letter",3,"click"],["id","S",1,"letter",3,"click"],["id","T",1,"letter",3,"click"],["id","U",1,"letter",3,"click"],["id","V",1,"letter",3,"click"],["id","W",1,"letter",3,"click"],["id","X",1,"letter",3,"click"],["id","Y",1,"letter",3,"click"],["id","Z",1,"letter",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/tp-labo4-fae81.appspot.com/o/corazon.png?alt=media&token=821aefc2-08ca-4af0-8947-67d7ff5d6c8e","alt","vida","id","vida"]],template:function(n,r){n&1&&(Rt(0,"app-juego"),Z(1,"p",0),se(2),X(),Z(3,"div",1),wa(4,iH,1,0,"img",2),X(),Z(5,"p",3),se(6),X(),Z(7,"div",4)(8,"button",5),he("click",function(){return r.BuscarLetra("A")}),se(9,"A"),X(),Z(10,"button",6),he("click",function(){return r.BuscarLetra("B")}),se(11,"B"),X(),Z(12,"button",7),he("click",function(){return r.BuscarLetra("C")}),se(13,"C"),X(),Z(14,"button",8),he("click",function(){return r.BuscarLetra("D")}),se(15,"D"),X(),Z(16,"button",9),he("click",function(){return r.BuscarLetra("E")}),se(17,"E"),X(),Z(18,"button",10),he("click",function(){return r.BuscarLetra("F")}),se(19,"F"),X(),Z(20,"button",11),he("click",function(){return r.BuscarLetra("G")}),se(21,"G"),X(),Z(22,"button",12),he("click",function(){return r.BuscarLetra("H")}),se(23,"H"),X(),Z(24,"button",13),he("click",function(){return r.BuscarLetra("I")}),se(25,"I"),X(),Z(26,"button",14),he("click",function(){return r.BuscarLetra("J")}),se(27,"J"),X(),Z(28,"button",15),he("click",function(){return r.BuscarLetra("K")}),se(29,"K"),X(),Z(30,"button",16),he("click",function(){return r.BuscarLetra("L")}),se(31,"L"),X(),Z(32,"button",17),he("click",function(){return r.BuscarLetra("M")}),se(33,"M"),X(),Z(34,"button",18),he("click",function(){return r.BuscarLetra("N")}),se(35,"N"),X(),Z(36,"button",19),he("click",function(){return r.BuscarLetra("O")}),se(37,"O"),X(),Z(38,"button",20),he("click",function(){return r.BuscarLetra("P")}),se(39,"P"),X(),Z(40,"button",21),he("click",function(){return r.BuscarLetra("Q")}),se(41,"Q"),X(),Z(42,"button",22),he("click",function(){return r.BuscarLetra("R")}),se(43,"R"),X(),Z(44,"button",23),he("click",function(){return r.BuscarLetra("S")}),se(45,"S"),X(),Z(46,"button",24),he("click",function(){return r.BuscarLetra("T")}),se(47,"T"),X(),Z(48,"button",25),he("click",function(){return r.BuscarLetra("U")}),se(49,"U"),X(),Z(50,"button",26),he("click",function(){return r.BuscarLetra("V")}),se(51,"V"),X(),Z(52,"button",27),he("click",function(){return r.BuscarLetra("W")}),se(53,"W"),X(),Z(54,"button",28),he("click",function(){return r.BuscarLetra("X")}),se(55,"X"),X(),Z(56,"button",29),he("click",function(){return r.BuscarLetra("Y")}),se(57,"Y"),X(),Z(58,"button",30),he("click",function(){return r.BuscarLetra("Z")}),se(59,"Z"),X()()),n&2&&($t(2),bi("Puntaje: ",r.puntos,""),$t(2),Nr("ngForOf",r.vidas),$t(2),em(r.palabraOculta))},dependencies:[UT,bn],styles:["p[_ngcontent-%COMP%]{color:#fff}#puntaje[_ngcontent-%COMP%]{font-size:50px;margin:10px}.alphabet-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;width:90vw}.letter[_ngcontent-%COMP%]{width:100px;height:100px;margin:30px 10px 10px;box-shadow:0 0 15px #00000080;background-color:#000c;padding:20px;border-radius:10px;text-align:center;color:#fff;font-size:30px}.letter[_ngcontent-%COMP%]:hover{background-color:#5b5b5bcc}#palabra[_ngcontent-%COMP%]{width:100%;text-align:center;font-size:100px;letter-spacing:10px}#vida[_ngcontent-%COMP%]{width:40px}#barra-vidas[_ngcontent-%COMP%]{padding:20px}"]})};var Ro=Ow(kw());var Vh=class t{http=P(vm);constructor(){}getCartas(){return this.http.get("https://www.deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1")}mostrarCarta(e){return this.http.get(`https://deckofcardsapi.com/api/deck/${e}/draw/?count=1`)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})};function oH(t,e){if(t&1&&(Z(0,"div",5),Rt(1,"img",6),X()),t&2){let n=Da();$t(),Xg("src",n.cartaEnMesaImagen,Vg)}}function aH(t,e){if(t&1){let n=gT();Z(0,"div",7)(1,"button",8),he("click",function(){Al(n);let i=Da();return Sl(i.Apostar("menor"))}),se(2,"Menor"),X(),Z(3,"button",8),he("click",function(){Al(n);let i=Da();return Sl(i.Apostar("igual"))}),se(4,"Igual"),X(),Z(5,"button",8),he("click",function(){Al(n);let i=Da();return Sl(i.Apostar("mayor"))}),se(6,"Mayor"),X()()}}var jh=class t{constructor(e,n,r){this.cartasService=e;this.firestore=n;this.auth=r}baraja;idBaraja;cartaEnMesa;cartaEnMesaImagen;subscription;dataCargada=!1;cartaRecogida;cartasDescartadas=[];puntaje=0;cartasEnBaraja=52;ngOnDestroy(){this.subscription.unsubscribe()}ngOnInit(){this.puntaje=0,Ro.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#000",color:"#fff",didOpen:()=>{Ro.default.showLoading()}}),this.subscription=this.cartasService.getCartas().subscribe(e=>{this.baraja=e,this.idBaraja=this.baraja.deck_id,this.obtenerCarta(),Ro.default.close(),this.dataCargada=!0,Ro.default.fire({title:"Mayor o Menor",html:`<div style="text-align: left;">
          -Al jugador se le muestra una carta de un mazo de 52 cartas y debe adivinar si la proxima carta es mayor, menor o igual a la siguiente<br><br>
          -Por cada acierto suma un punto<br><br>
          -El juego finaliza cuando el mazo se queda sin cartas<br><br>
          </div>`,background:"#000",color:"#fff",confirmButtonColor:"#ff5722",confirmButtonText:"Entendido",allowOutsideClick:!1,allowEscapeKey:!1})})}obtenerCarta(){this.subscription=this.cartasService.mostrarCarta(this.idBaraja).subscribe(e=>I(this,null,function*(){this.cartaRecogida=e,this.cartaEnMesa=this.cartaRecogida.cards[0],this.cartaEnMesaImagen=this.cartaEnMesa.image,this.asignarValores()}))}asignarValores(){switch(this.cartaEnMesa.value){case"ACE":this.cartaEnMesa.value=1;break;case"KING":this.cartaEnMesa.value=13;break;case"QUEEN":this.cartaEnMesa.value=12;break;case"JACK":this.cartaEnMesa.value=11;break;default:this.cartaEnMesa.value=parseInt(this.cartaEnMesa.value);break}}Apostar(e){this.cartasDescartadas.push(this.cartaEnMesa),console.log(this.cartasDescartadas[this.cartasDescartadas.length-1]),this.cartasService.mostrarCarta(this.idBaraja).subscribe(n=>{switch(this.cartaRecogida=n,this.cartaEnMesa=this.cartaRecogida.cards[0],this.cartaEnMesaImagen=this.cartaEnMesa.image,this.asignarValores(),e){case"mayor":this.cartaEnMesa.value>this.cartasDescartadas[this.cartasDescartadas.length-1].value&&(console.log("Es Mayor"),this.puntaje+=1);break;case"menor":this.cartaEnMesa.value<this.cartasDescartadas[this.cartasDescartadas.length-1].value&&(console.log("Es Menor"),this.puntaje+=1);break;case"igual":this.cartasDescartadas[this.cartasDescartadas.length-1].value==this.cartaEnMesa.value&&(console.log("Es Igual"),this.puntaje+=1);break}if(console.log(this.puntaje),this.cartasDescartadas.length==51){let r=Oh(this.firestore,"mayor-o-menor");Ph(r,{puntaje:this.puntaje,user:this.auth.currentUser?.displayName}),Ro.default.fire({title:"Juego Terminado",background:"#000",color:"#fff",confirmButtonColor:"#ff5722",confirmButtonText:"Reiniciar Juego",allowOutsideClick:!1,allowEscapeKey:!1}).then(i=>{i.isConfirmed&&this.ngOnInit()})}else this.cartasEnBaraja-=1})}static \u0275fac=function(n){return new(n||t)(ce(Vh),ce(ur),ce(nr))};static \u0275cmp=Lt({type:t,selectors:[["app-mayor-o-menor"]],decls:8,vars:4,consts:[["id","info"],["id","puntaje"],["id","cartas"],["id","mesa","class","container_fluid",4,"ngIf"],["id","opciones","class","container_fluid",4,"ngIf"],["id","mesa",1,"container_fluid"],[3,"src"],["id","opciones",1,"container_fluid"],[1,"opcion",3,"click"]],template:function(n,r){n&1&&(Rt(0,"app-juego"),Z(1,"div",0)(2,"p",1),se(3),X(),Z(4,"p",2),se(5),X()(),wa(6,oH,2,1,"div",3)(7,aH,7,0,"div",4)),n&2&&($t(3),bi("Puntaje: ",r.puntaje,""),$t(2),bi("Cartas: ",r.cartasEnBaraja,""),$t(),Nr("ngIf",r.dataCargada),$t(),Nr("ngIf",r.dataCargada))},dependencies:[BT,bn],styles:["p[_ngcontent-%COMP%]{color:#fff;font-size:50px;margin:10px}#info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;box-shadow:0 0 15px #00000080;background-color:#030b36cc;margin:0% 2vw;margin-bottom:5%;padding:20px;border-radius:10px}#mesa[_ngcontent-%COMP%], #opciones[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:10px}.opcion[_ngcontent-%COMP%]{width:200px;height:100px;margin:30px 10px 10px;box-shadow:0 0 15px #00000080;background-color:#000c;padding:20px;border-radius:10px;text-align:center;color:#fff;font-size:30px}.opcion[_ngcontent-%COMP%]:hover{background-color:#5b5b5bcc}"]})};var Uh=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Lt({type:t,selectors:[["app-preguntas"]],decls:3,vars:0,template:function(n,r){n&1&&(Z(0,"p"),se(1,"preguntas works!"),X(),Rt(2,"app-juego"))},dependencies:[bn],styles:["p[_ngcontent-%COMP%]{color:#fff}"]})};var Bh=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Lt({type:t,selectors:[["app-buscaminas"]],decls:3,vars:0,template:function(n,r){n&1&&(Z(0,"p"),se(1,"buscaminas works!"),X(),Rt(2,"app-juego"))},dependencies:[bn],styles:["p[_ngcontent-%COMP%]{color:#fff}"]})};var cH=[{path:"ahorcado",component:Lh},{path:"mayor-o-menor",component:jh},{path:"preguntas",component:Uh},{path:"buscaminas",component:Bh}],$h=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=St({type:t});static \u0275inj=At({imports:[ay.forChild(cH),ay]})};var wR=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(ce(Ei),ce(en))},e.\u0275dir=Ze({type:e});let t=e;return t})(),uH=(()=>{let e=class e extends wR{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Os(e)))(s||e)}})(),e.\u0275dir=Ze({type:e,features:[Un]});let t=e;return t})(),ER=new V("");var lH={provide:ER,useExisting:Ii(()=>DR),multi:!0};function dH(){let t=Hn()?Hn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var hH=new V(""),DR=(()=>{let e=class e extends wR{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!dH())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(ce(Ei),ce(en),ce(hH,8))},e.\u0275dir=Ze({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&he("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[ba([lH]),Un]});let t=e;return t})();function fH(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var SI=new V(""),bR=new V("");function pH(t){return fH(t.value)?{required:!0}:null}function fR(t){return null}function TR(t){return t!=null}function CR(t){return Ti(t)?Re(t):t}function AR(t){let e={};return t.forEach(n=>{e=n!=null?F(F({},e),n):e}),Object.keys(e).length===0?null:e}function SR(t,e){return e.map(n=>n(t))}function gH(t){return!t.validate}function RR(t){return t.map(e=>gH(e)?e:n=>e.validate(n))}function mH(t){if(!t)return null;let e=t.filter(TR);return e.length==0?null:function(n){return AR(SR(n,e))}}function RI(t){return t!=null?mH(RR(t)):null}function yH(t){if(!t)return null;let e=t.filter(TR);return e.length==0?null:function(n){let r=SR(n,e).map(CR);return zf(r).pipe(re(AR))}}function MI(t){return t!=null?yH(RR(t)):null}function pR(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function vH(t){return t._rawValidators}function _H(t){return t._rawAsyncValidators}function AI(t){return t?Array.isArray(t)?t:[t]:[]}function zh(t,e){return Array.isArray(t)?t.includes(e):t===e}function gR(t,e){let n=AI(e);return AI(t).forEach(i=>{zh(n,i)||n.push(i)}),n}function mR(t,e){return AI(e).filter(n=>!zh(t,n))}var qh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=RI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=MI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},xo=class extends qh{get formDirective(){return null}get path(){return null}},zc=class extends qh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Gh=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},IH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Z7=fe(F({},IH),{"[class.ng-submitted]":"isSubmitted"}),X7=(()=>{let e=class e extends Gh{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ce(zc,2))},e.\u0275dir=Ze({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&jl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Un]});let t=e;return t})(),eQ=(()=>{let e=class e extends Gh{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ce(xo,10))},e.\u0275dir=Ze({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&jl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Un]});let t=e;return t})();var jc="VALID",Hh="INVALID",Mo="PENDING",Uc="DISABLED",Po=class{},Wh=class extends Po{constructor(e,n){super(),this.value=e,this.source=n}},$c=class extends Po{constructor(e,n){super(),this.pristine=e,this.source=n}},Hc=class extends Po{constructor(e,n){super(),this.touched=e,this.source=n}},No=class extends Po{constructor(e,n){super(),this.status=e,this.source=n}};function MR(t){return(Yh(t)?t.validators:t)||null}function wH(t){return Array.isArray(t)?RI(t):t||null}function NR(t,e){return(Yh(e)?e.asyncValidators:t)||null}function EH(t){return Array.isArray(t)?MI(t):t||null}function Yh(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function DH(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new B(1e3,"");if(!r[n])throw new B(1001,"")}function bH(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new B(1002,"")})}var Kh=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ca(()=>this.statusReactive()),this.statusReactive=Ia(void 0),this._pristine=Ca(()=>this.pristineReactive()),this.pristineReactive=Ia(!0),this._touched=Ca(()=>this.touchedReactive()),this.touchedReactive=Ia(!1),this._events=new qe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Bn(this.statusReactive)}set status(e){Bn(()=>this.statusReactive.set(e))}get valid(){return this.status===jc}get invalid(){return this.status===Hh}get pending(){return this.status==Mo}get disabled(){return this.status===Uc}get enabled(){return this.status!==Uc}get pristine(){return Bn(this.pristineReactive)}set pristine(e){Bn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Bn(this.touchedReactive)}set touched(e){Bn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(gR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(gR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(mR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(mR(e,this._rawAsyncValidators))}hasValidator(e){return zh(this._rawValidators,e)}hasAsyncValidator(e){return zh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(fe(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Hc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Hc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(fe(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new $c(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new $c(!0,r))}markAsPending(e={}){this.status=Mo;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new No(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(fe(F({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Uc,this.errors=null,this._forEachChild(i=>{i.disable(fe(F({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Wh(this.value,r)),this._events.next(new No(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(fe(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=jc,this._forEachChild(r=>{r.enable(fe(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(fe(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jc||this.status===Mo)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Wh(this.value,n)),this._events.next(new No(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(fe(F({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Uc:jc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Mo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=CR(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new No(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new ke,this.statusChanges=new ke}_calculateStatus(){return this._allControlsDisabled()?Uc:this.errors?Hh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Mo)?Mo:this._anyControlsHaveStatus(Hh)?Hh:jc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new $c(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Hc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Yh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=wH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=EH(this._rawAsyncValidators)}},Qh=class extends Kh{constructor(e,n,r){super(MR(n),NR(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){bH(this,!0,e),Object.keys(e).forEach(r=>{DH(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var NI=new V("CallSetDisabledState",{providedIn:"root",factory:()=>xI}),xI="always";function TH(t,e){return[...e.path,t]}function xR(t,e,n=xI){PR(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),AH(t,e),RH(t,e),SH(t,e),CH(t,e)}function yR(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function CH(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function PR(t,e){let n=vH(t);e.validator!==null?t.setValidators(pR(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=_H(t);e.asyncValidator!==null?t.setAsyncValidators(pR(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();yR(e._rawValidators,i),yR(e._rawAsyncValidators,i)}function AH(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&OR(t,e)})}function SH(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&OR(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function OR(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function RH(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function MH(t,e){t==null,PR(t,e)}function NH(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function xH(t){return Object.getPrototypeOf(t.constructor)===uH}function PH(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function OH(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===DR?n=s:xH(s)?r=s:i=s}),i||r||n||null}var kH={provide:xo,useExisting:Ii(()=>FH)},Bc=Promise.resolve(),FH=(()=>{let e=class e extends xo{get submitted(){return Bn(this.submittedReactive)}constructor(r,i,s){super(),this.callSetDisabledState=s,this._submitted=Ca(()=>this.submittedReactive()),this.submittedReactive=Ia(!1),this._directives=new Set,this.ngSubmit=new ke,this.form=new Qh({},RI(r),MI(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Bc.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),xR(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Bc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Bc.then(()=>{let i=this._findContainer(r.path),s=new Qh({});MH(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Bc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Bc.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),PH(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(ce(SI,10),ce(bR,10),ce(NI,8))},e.\u0275dir=Ze({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&he("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ba([kH]),Un]});let t=e;return t})();function vR(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function _R(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var LH=class extends Kh{constructor(e=null,n,r){super(MR(n),NR(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Yh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(_R(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){vR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){vR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){_R(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var VH={provide:zc,useExisting:Ii(()=>jH)},IR=Promise.resolve(),jH=(()=>{let e=class e extends zc{constructor(r,i,s,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new LH,this._registered=!1,this.name="",this.update=new ke,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=OH(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),NH(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){xR(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){IR.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&Pr(i);IR.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?TH(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(ce(xo,9),ce(SI,10),ce(bR,10),ce(ER,10),ce(Ci,8),ce(NI,8))},e.\u0275dir=Ze({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ba([VH]),Un,Ar]});let t=e;return t})(),nQ=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ze({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var UH=(()=>{let e=class e{constructor(){this._validator=fR}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):fR,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ze({type:e,features:[Ar]});let t=e;return t})();var BH={provide:SI,useExisting:Ii(()=>$H),multi:!0};var $H=(()=>{let e=class e extends UH{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Pr,this.createValidator=r=>pH}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Os(e)))(s||e)}})(),e.\u0275dir=Ze({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&Ea("required",s._enabled?"":null)},inputs:{required:"required"},features:[ba([BH]),Un]});let t=e;return t})();var HH=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=St({type:e}),e.\u0275inj=At({});let t=e;return t})();var kR=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:NI,useValue:r.callSetDisabledState??xI}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=St({type:e}),e.\u0275inj=At({imports:[HH]});let t=e;return t})();var FR=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=St({type:t});static \u0275inj=At({imports:[dm,$h,kR]})};export{U as a,At as b,V as c,q as d,P as e,Lt as f,St as g,Al as h,Sl as i,Os as j,$t as k,ce as l,Un as m,wa as n,u9 as o,l9 as p,d9 as q,Z as r,X as s,Rt as t,gT as u,he as v,Da as w,h9 as x,Ok as y,kk as z,se as A,em as B,bi as C,Lk as D,f9 as E,Vk as F,_T as G,p9 as H,dm as I,X9 as J,T5 as K,OF as L,Kn as M,z5 as N,x6 as O,P6 as P,nr as Q,C8 as R,A8 as S,S8 as T,R8 as U,M8 as V,uR as W,ur as X,p7 as Y,Ph as Z,Oh as _,g7 as $,m7 as aa,DR as ba,X7 as ca,eQ as da,FH as ea,jH as fa,nQ as ga,$H as ha,kR as ia,FR as ja};

import{a as O,b as ee,c as mh,d as er,e as w,f as yh}from"./chunk-M3GSIO6A.js";function M_(t,e){return Object.is(t,e)}var Oe=null,bc=!1,Tc=1,yn=Symbol("SIGNAL");function ae(t){let e=Oe;return Oe=t,e}function N_(){return Oe}var Ro={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function wh(t){if(bc)throw new Error("");if(Oe===null)return;Oe.consumerOnSignalRead(t);let e=Oe.nextProducerIndex++;if(Mc(Oe),e<Oe.producerNode.length&&Oe.producerNode[e]!==t&&Ao(Oe)){let n=Oe.producerNode[e];Rc(n,Oe.producerIndexOfThis[e])}Oe.producerNode[e]!==t&&(Oe.producerNode[e]=t,Oe.producerIndexOfThis[e]=Ao(Oe)?k_(t,Oe,e):0),Oe.producerLastReadVersion[e]=t.version}function mS(){Tc++}function x_(t){if(!(Ao(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Tc)){if(!t.producerMustRecompute(t)&&!Eh(t)){t.dirty=!1,t.lastCleanEpoch=Tc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Tc}}function P_(t){if(t.liveConsumerNode===void 0)return;let e=bc;bc=!0;try{for(let n of t.liveConsumerNode)n.dirty||yS(n)}finally{bc=e}}function O_(){return Oe?.consumerAllowSignalWrites!==!1}function yS(t){t.dirty=!0,P_(t),t.consumerMarkedDirty?.(t)}function Ac(t){return t&&(t.nextProducerIndex=0),ae(t)}function Ih(t,e){if(ae(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ao(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Rc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Eh(t){Mc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(x_(n),r!==n.version))return!0}return!1}function Dh(t){if(Mc(t),Ao(t))for(let e=0;e<t.producerNode.length;e++)Rc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function k_(t,e,n){if(F_(t),t.liveConsumerNode.length===0&&L_(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=k_(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Rc(t,e){if(F_(t),t.liveConsumerNode.length===1&&L_(t))for(let r=0;r<t.producerNode.length;r++)Rc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Mc(i),i.producerIndexOfThis[r]=e}}function Ao(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Mc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function F_(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function L_(t){return t.producerNode!==void 0}function V_(t){let e=Object.create(vS);e.computation=t;let n=()=>{if(x_(e),wh(e),e.value===Sc)throw e.error;return e.value};return n[yn]=e,n}var vh=Symbol("UNSET"),_h=Symbol("COMPUTING"),Sc=Symbol("ERRORED"),vS=ee(O({},Ro),{value:vh,dirty:!0,error:null,equal:M_,producerMustRecompute(t){return t.value===vh||t.value===_h},producerRecomputeValue(t){if(t.value===_h)throw new Error("Detected cycle in computations.");let e=t.value;t.value=_h;let n=Ac(t),r;try{r=t.computation()}catch(i){r=Sc,t.error=i}finally{Ih(t,n)}if(e!==vh&&e!==Sc&&r!==Sc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function _S(){throw new Error}var j_=_S;function U_(){j_()}function B_(t){j_=t}var wS=null;function $_(t){let e=Object.create(q_);e.value=t;let n=()=>(wh(e),e.value);return n[yn]=e,n}function Ch(t,e){O_()||U_(),t.equal(t.value,e)||(t.value=e,IS(t))}function H_(t,e){O_()||U_(),Ch(t,e(t.value))}var q_=ee(O({},Ro),{equal:M_,value:void 0});function IS(t){t.version++,mS(),P_(t),wS?.()}function z(t){return typeof t=="function"}function ki(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Nc=ki(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Vr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ce=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(z(r))try{r()}catch(s){e=s instanceof Nc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{z_(s)}catch(o){e=e??[],o instanceof Nc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Nc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)z_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Vr(n,e)}remove(e){let{_finalizers:n}=this;n&&Vr(n,e),e instanceof t&&e._removeParent(this)}};Ce.EMPTY=(()=>{let t=new Ce;return t.closed=!0,t})();var bh=Ce.EMPTY;function xc(t){return t instanceof Ce||t&&"closed"in t&&z(t.remove)&&z(t.add)&&z(t.unsubscribe)}function z_(t){z(t)?t():t.unsubscribe()}var Vt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fi={setTimeout(t,e,...n){let{delegate:r}=Fi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Fi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Pc(t){Fi.setTimeout(()=>{let{onUnhandledError:e}=Vt;if(e)e(t);else throw t})}function Mo(){}var G_=Th("C",void 0,void 0);function W_(t){return Th("E",void 0,t)}function K_(t){return Th("N",t,void 0)}function Th(t,e,n){return{kind:t,value:e,error:n}}var jr=null;function Li(t){if(Vt.useDeprecatedSynchronousErrorHandling){let e=!jr;if(e&&(jr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=jr;if(jr=null,n)throw r}}else t()}function Q_(t){Vt.useDeprecatedSynchronousErrorHandling&&jr&&(jr.errorThrown=!0,jr.error=t)}var Ur=class extends Ce{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,xc(e)&&e.add(this)):this.destination=CS}static create(e,n,r){return new Vi(e,n,r)}next(e){this.isStopped?Ah(K_(e),this):this._next(e)}error(e){this.isStopped?Ah(W_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ah(G_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ES=Function.prototype.bind;function Sh(t,e){return ES.call(t,e)}var Rh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Oc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Oc(r)}else Oc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Oc(n)}}},Vi=class extends Ur{constructor(e,n,r){super();let i;if(z(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Vt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Sh(e.next,s),error:e.error&&Sh(e.error,s),complete:e.complete&&Sh(e.complete,s)}):i=e}this.destination=new Rh(i)}};function Oc(t){Vt.useDeprecatedSynchronousErrorHandling?Q_(t):Pc(t)}function DS(t){throw t}function Ah(t,e){let{onStoppedNotification:n}=Vt;n&&Fi.setTimeout(()=>n(t,e))}var CS={closed:!0,next:Mo,error:DS,complete:Mo};var ji=typeof Symbol=="function"&&Symbol.observable||"@@observable";function mt(t){return t}function Mh(...t){return Nh(t)}function Nh(t){return t.length===0?mt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ue=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=TS(n)?n:new Vi(n,r,i);return Li(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Y_(r),new r((i,s)=>{let o=new Vi({next:c=>{try{n(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ji](){return this}pipe(...n){return Nh(n)(this)}toPromise(n){return n=Y_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Y_(t){var e;return(e=t??Vt.Promise)!==null&&e!==void 0?e:Promise}function bS(t){return t&&z(t.next)&&z(t.error)&&z(t.complete)}function TS(t){return t&&t instanceof Ur||bS(t)&&xc(t)}function xh(t){return z(t?.lift)}function le(t){return e=>{if(xh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ne(t,e,n,r,i){return new Ph(t,e,n,r,i)}var Ph=class extends Ur{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ui(){return le((t,e)=>{let n=null;t._refCount++;let r=ne(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Bi=class extends ue{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,xh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ce;let n=this.getSubject();e.add(this.source.subscribe(ne(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ce.EMPTY)}return e}refCount(){return Ui()(this)}};var Z_=ki(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var je=(()=>{class t extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new kc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Z_}next(n){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?bh:(this.currentObservers=null,s.push(n),new Ce(()=>{this.currentObservers=null,Vr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ue;return n.source=this,n}}return t.create=(e,n)=>new kc(e,n),t})(),kc=class extends je{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:bh}};var Ge=class extends je{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Oh={now(){return(Oh.delegate||Date).now()},delegate:void 0};var Fc=class extends Ce{constructor(e,n){super()}schedule(e,n=0){return this}};var No={setInterval(t,e,...n){let{delegate:r}=No;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=No;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var $i=class extends Fc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return No.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&No.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Vr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Hi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Hi.now=Oh.now;var qi=class extends Hi{constructor(e,n=Hi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var kh=new qi($i);var Lc=class extends $i{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Vc=class extends qi{};var Fh=new Vc(Lc);var yt=new ue(t=>t.complete());function J_(t){return t&&z(t.schedule)}function X_(t){return t[t.length-1]}function jc(t){return z(X_(t))?t.pop():void 0}function tr(t){return J_(X_(t))?t.pop():void 0}function Lh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tw(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(f){try{l(r.next(f))}catch(g){o(g)}}function u(f){try{l(r.throw(f))}catch(g){o(g)}}function l(f){f.done?s(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function ew(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Br(t){return this instanceof Br?(this.v=t,this):new Br(t)}function nw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(I){return function(A){return Promise.resolve(A).then(I,g)}}function c(I,A){r[I]&&(i[I]=function(x){return new Promise(function(N,F){s.push([I,x,N,F])>1||u(I,x)})},A&&(i[I]=A(i[I])))}function u(I,A){try{l(r[I](A))}catch(x){_(s[0][3],x)}}function l(I){I.value instanceof Br?Promise.resolve(I.value.v).then(f,g):_(s[0][2],I)}function f(I){u("next",I)}function g(I){u("throw",I)}function _(I,A){I(A),s.shift(),s.length&&u(s[0][0],s[0][1])}}function rw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ew=="function"?ew(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,u){o=t[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(l){s({value:l,done:c})},o)}}var Uc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Bc(t){return z(t?.then)}function $c(t){return z(t[ji])}function Hc(t){return Symbol.asyncIterator&&z(t?.[Symbol.asyncIterator])}function qc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function SS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var zc=SS();function Gc(t){return z(t?.[zc])}function Wc(t){return nw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Br(n.read());if(i)return yield Br(void 0);yield yield Br(r)}}finally{n.releaseLock()}})}function Kc(t){return z(t?.getReader)}function Re(t){if(t instanceof ue)return t;if(t!=null){if($c(t))return AS(t);if(Uc(t))return RS(t);if(Bc(t))return MS(t);if(Hc(t))return iw(t);if(Gc(t))return NS(t);if(Kc(t))return xS(t)}throw qc(t)}function AS(t){return new ue(e=>{let n=t[ji]();if(z(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function RS(t){return new ue(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function MS(t){return new ue(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Pc)})}function NS(t){return new ue(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function iw(t){return new ue(e=>{PS(t,e).catch(n=>e.error(n))})}function xS(t){return iw(Wc(t))}function PS(t,e){var n,r,i,s;return tw(this,void 0,void 0,function*(){try{for(n=rw(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function dt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function nr(t,e=0){return le((n,r)=>{n.subscribe(ne(r,i=>dt(r,t,()=>r.next(i),e),()=>dt(r,t,()=>r.complete(),e),i=>dt(r,t,()=>r.error(i),e)))})}function rr(t,e=0){return le((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function sw(t,e){return Re(t).pipe(rr(e),nr(e))}function ow(t,e){return Re(t).pipe(rr(e),nr(e))}function aw(t,e){return new ue(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function cw(t,e){return new ue(n=>{let r;return dt(n,e,()=>{r=t[zc](),dt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>z(r?.return)&&r.return()})}function Qc(t,e){if(!t)throw new Error("Iterable cannot be null");return new ue(n=>{dt(n,e,()=>{let r=t[Symbol.asyncIterator]();dt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function uw(t,e){return Qc(Wc(t),e)}function lw(t,e){if(t!=null){if($c(t))return sw(t,e);if(Uc(t))return aw(t,e);if(Bc(t))return ow(t,e);if(Hc(t))return Qc(t,e);if(Gc(t))return cw(t,e);if(Kc(t))return uw(t,e)}throw qc(t)}function be(t,e){return e?lw(t,e):Re(t)}function G(...t){let e=tr(t);return be(t,e)}function zi(t,e){let n=z(t)?t:()=>t,r=i=>i.error(n());return new ue(e?i=>e.schedule(r,0,i):r)}function Vh(t){return!!t&&(t instanceof ue||z(t.lift)&&z(t.subscribe))}var vn=ki(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function te(t,e){return le((n,r)=>{let i=0;n.subscribe(ne(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:OS}=Array;function kS(t,e){return OS(e)?t(...e):t(e)}function Yc(t){return te(e=>kS(t,e))}var{isArray:FS}=Array,{getPrototypeOf:LS,prototype:VS,keys:jS}=Object;function Zc(t){if(t.length===1){let e=t[0];if(FS(e))return{args:e,keys:null};if(US(e)){let n=jS(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function US(t){return t&&typeof t=="object"&&LS(t)===VS}function Jc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Xc(...t){let e=tr(t),n=jc(t),{args:r,keys:i}=Zc(t);if(r.length===0)return be([],e);let s=new ue(BS(r,e,i?o=>Jc(i,o):mt));return n?s.pipe(Yc(n)):s}function BS(t,e,n=mt){return r=>{dw(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)dw(e,()=>{let l=be(t[u],e),f=!1;l.subscribe(ne(r,g=>{s[u]=g,f||(f=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function dw(t,e,n){t?dt(n,t,e):e()}function hw(t,e,n,r,i,s,o,c){let u=[],l=0,f=0,g=!1,_=()=>{g&&!u.length&&!l&&e.complete()},I=x=>l<r?A(x):u.push(x),A=x=>{s&&e.next(x),l++;let N=!1;Re(n(x,f++)).subscribe(ne(e,F=>{i?.(F),s?I(F):e.next(F)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let F=u.shift();o?dt(e,o,()=>A(F)):A(F)}_()}catch(F){e.error(F)}}))};return t.subscribe(ne(e,I,()=>{g=!0,_()})),()=>{c?.()}}function ke(t,e,n=1/0){return z(e)?ke((r,i)=>te((s,o)=>e(r,s,i,o))(Re(t(r,i))),n):(typeof e=="number"&&(n=e),le((r,i)=>hw(r,i,t,n)))}function jh(t=1/0){return ke(mt,t)}function fw(){return jh(1)}function Gi(...t){return fw()(be(t,tr(t)))}function eu(t){return new ue(e=>{Re(t()).subscribe(e)})}function Uh(...t){let e=jc(t),{args:n,keys:r}=Zc(t),i=new ue(s=>{let{length:o}=n;if(!o){s.complete();return}let c=new Array(o),u=o,l=o;for(let f=0;f<o;f++){let g=!1;Re(n[f]).subscribe(ne(s,_=>{g||(g=!0,l--),c[f]=_},()=>u--,void 0,()=>{(!u||!g)&&(l||s.next(r?Jc(r,c):c),s.complete())}))}});return e?i.pipe(Yc(e)):i}function jt(t,e){return le((n,r)=>{let i=0;n.subscribe(ne(r,s=>t.call(e,s,i++)&&r.next(s)))})}function ir(t){return le((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ne(n,void 0,void 0,o=>{s=Re(t(o,ir(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function pw(t,e,n,r,i){return(s,o)=>{let c=n,u=e,l=0;s.subscribe(ne(o,f=>{let g=l++;u=c?t(u,f,g):(c=!0,f),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function Wi(t,e){return z(e)?ke(t,e,1):ke(t,1)}function sr(t){return le((e,n)=>{let r=!1;e.subscribe(ne(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function _n(t){return t<=0?()=>yt:le((e,n)=>{let r=0;e.subscribe(ne(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Bh(t){return te(()=>t)}function tu(t=$S){return le((e,n)=>{let r=!1;e.subscribe(ne(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function $S(){return new vn}function xo(t){return le((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Qt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?jt((i,s)=>t(i,s,r)):mt,_n(1),n?sr(e):tu(()=>new vn))}function Ki(t){return t<=0?()=>yt:le((e,n)=>{let r=[];e.subscribe(ne(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function $h(t,e){let n=arguments.length>=2;return r=>r.pipe(t?jt((i,s)=>t(i,s,r)):mt,Ki(1),n?sr(e):tu(()=>new vn))}function Hh(t,e){return le(pw(t,e,arguments.length>=2,!0))}function qh(...t){let e=tr(t);return le((n,r)=>{(e?Gi(t,n,e):Gi(t,n)).subscribe(r)})}function Ut(t,e){return le((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(ne(r,u=>{i?.unsubscribe();let l=0,f=s++;Re(t(u,f)).subscribe(i=ne(r,g=>r.next(e?e(u,g,f,l++):g),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function zh(t){return le((e,n)=>{Re(t).subscribe(ne(n,()=>n.complete(),Mo)),!n.closed&&e.subscribe(n)})}function Fe(t,e,n){let r=z(t)||e||n?{next:t,error:e,complete:n}:t;return r?le((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(ne(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):mt}var Jw="https://g.co/ng/security#xss",j=class extends Error{constructor(e,n){super(zf(e,n)),this.code=e}};function zf(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ho(t){return{toString:t}.toString()}var nu="__parameters__";function HS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function qS(t,e,n){return Ho(()=>{let r=HS(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,l,f){let g=u.hasOwnProperty(nu)?u[nu]:Object.defineProperty(u,nu,{value:[]})[nu];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var of=globalThis;function ve(t){for(let e in t)if(t[e]===ve)return e;throw Error("Could not find renamed property on target object.")}function zS(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ht(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ht).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function gw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var GS=ve({__forward_ref__:ve});function Xr(t){return t.__forward_ref__=Xr,t.toString=function(){return ht(this())},t}function ot(t){return Xw(t)?t():t}function Xw(t){return typeof t=="function"&&t.hasOwnProperty(GS)&&t.__forward_ref__===Xr}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Dn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Fu(t){return mw(t,tI)||mw(t,nI)}function eI(t){return Fu(t)!==null}function mw(t,e){return t.hasOwnProperty(e)?t[e]:null}function WS(t){let e=t&&(t[tI]||t[nI]);return e||null}function yw(t){return t&&(t.hasOwnProperty(vw)||t.hasOwnProperty(KS))?t[vw]:null}var tI=ve({\u0275prov:ve}),vw=ve({\u0275inj:ve}),nI=ve({ngInjectableDef:ve}),KS=ve({ngInjectorDef:ve}),L=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function rI(t){return t&&!!t.\u0275providers}var QS=ve({\u0275cmp:ve}),YS=ve({\u0275dir:ve}),ZS=ve({\u0275pipe:ve}),JS=ve({\u0275mod:ve}),hu=ve({\u0275fac:ve}),ko=ve({__NG_ELEMENT_ID__:ve}),_w=ve({__NG_ENV_ID__:ve});function Lu(t){return typeof t=="string"?t:t==null?"":String(t)}function XS(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Lu(t)}function eA(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new j(-200,t)}function Gf(t,e){throw new j(-201,!1)}var Y=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Y||{}),af;function iI(){return af}function Tt(t){let e=af;return af=t,e}function sI(t,e,n){let r=Fu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Y.Optional)return null;if(e!==void 0)return e;Gf(t,"Injector")}var tA={},Fo=tA,cf="__NG_DI_FLAG__",fu="ngTempTokenPath",nA="ngTokenPath",rA=/\n/gm,iA="\u0275",ww="__source",Ji;function sA(){return Ji}function or(t){let e=Ji;return Ji=t,e}function oA(t,e=Y.Default){if(Ji===void 0)throw new j(-203,!1);return Ji===null?sI(t,void 0,e):Ji.get(t,e&Y.Optional?null:void 0,e)}function Q(t,e=Y.Default){return(iI()||oA)(ot(t),e)}function k(t,e=Y.Default){return Q(t,Vu(e))}function Vu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function uf(t){let e=[];for(let n=0;n<t.length;n++){let r=ot(t[n]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,s=Y.Default;for(let o=0;o<r.length;o++){let c=r[o],u=cA(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(Q(i,s))}else e.push(Q(r))}return e}function aA(t,e){return t[cf]=e,t.prototype[cf]=e,t}function cA(t){return t[cf]}function uA(t,e,n,r){let i=t[fu];throw e[ww]&&i.unshift(e[ww]),t.message=lA(`
`+t.message,i,n,r),t[nA]=i,t[fu]=null,t}function lA(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==iA?t.slice(2):t;let i=ht(e);if(Array.isArray(e))i=e.map(ht).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):ht(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(rA,`
  `)}`}var ft=aA(qS("Optional"),8);function es(t,e){let n=t.hasOwnProperty(hu);return n?t[hu]:null}function Wf(t,e){t.forEach(n=>Array.isArray(n)?Wf(n,e):e(n))}function oI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function pu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function dA(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function hA(t,e,n){let r=qo(t,e);return r>=0?t[r|1]=n:(r=~r,dA(t,r,e,n)),r}function Gh(t,e){let n=qo(t,e);if(n>=0)return t[n|1]}function qo(t,e){return fA(t,e,1)}function fA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var ts={},St=[],ns=new L(""),aI=new L("",-1),cI=new L(""),gu=class{get(e,n=Fo){if(n===Fo){let r=new Error(`NullInjectorError: No provider for ${ht(e)}!`);throw r.name="NullInjectorError",r}return n}},uI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(uI||{}),Jt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Jt||{}),ur=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ur||{});function pA(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function lf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];gA(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function lI(t){return t===3||t===4||t===6}function gA(t){return t.charCodeAt(0)===64}function Lo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Iw(t,n,i,null,e[++r]):Iw(t,n,i,null,null))}}return t}function Iw(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var dI="ng-template";function mA(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&pA(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Kf(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Kf(t){return t.type===4&&t.value!==dI}function yA(t,e,n){let r=t.type===4&&!n?dI:t.value;return e===r}function vA(t,e,n){let r=4,i=t.attrs,s=i!==null?IA(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!Bt(r)&&!Bt(u))return!1;if(o&&Bt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!yA(t,u,n)||u===""&&e.length===1){if(Bt(r))return!1;o=!0}}else if(r&8){if(i===null||!mA(t,i,u,n)){if(Bt(r))return!1;o=!0}}else{let l=e[++c],f=_A(u,i,Kf(t),n);if(f===-1){if(Bt(r))return!1;o=!0;continue}if(l!==""){let g;if(f>s?g="":g=i[f+1].toLowerCase(),r&2&&l!==g){if(Bt(r))return!1;o=!0}}}}return Bt(r)||o}function Bt(t){return(t&1)===0}function _A(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return EA(e,t)}function wA(t,e,n=!1){for(let r=0;r<e.length;r++)if(vA(t,e[r],n))return!0;return!1}function IA(t){for(let e=0;e<t.length;e++){let n=t[e];if(lI(n))return e}return t.length}function EA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Ew(t,e){return t?":not("+e.trim()+")":e}function DA(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Bt(o)&&(e+=Ew(s,i),i=""),r=o,s=s||!Bt(r);n++}return i!==""&&(e+=Ew(s,i)),e}function CA(t){return t.map(DA).join(",")}function bA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Bt(i))break;i=s}r++}return{attrs:e,classes:n}}function _t(t){return Ho(()=>{let e=mI(t),n=ee(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===uI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Jt.Emulated,styles:t.styles||St,_:null,schemas:t.schemas||null,tView:null,id:""});yI(n);let r=t.dependencies;return n.directiveDefs=Cw(r,!1),n.pipeDefs=Cw(r,!0),n.id=AA(n),n})}function TA(t){return zr(t)||hI(t)}function SA(t){return t!==null}function Cn(t){return Ho(()=>({type:t.type,bootstrap:t.bootstrap||St,declarations:t.declarations||St,imports:t.imports||St,exports:t.exports||St,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Dw(t,e){if(t==null)return ts;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c=ur.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=c!==ur.None?[r,c]:r,e[s]=o):n[s]=r}return n}function Je(t){return Ho(()=>{let e=mI(t);return yI(e),e})}function zr(t){return t[QS]||null}function hI(t){return t[YS]||null}function fI(t){return t[ZS]||null}function pI(t){let e=zr(t)||hI(t)||fI(t);return e!==null?e.standalone:!1}function gI(t,e){let n=t[JS]||null;if(!n&&e===!0)throw new Error(`Type ${ht(t)} does not have '\u0275mod' property.`);return n}function mI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ts,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||St,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Dw(t.inputs,e),outputs:Dw(t.outputs),debugInfo:null}}function yI(t){t.features?.forEach(e=>e(t))}function Cw(t,e){if(!t)return null;let n=e?fI:TA;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(SA)}function AA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function rn(t){return{\u0275providers:t}}function RA(...t){return{\u0275providers:vI(!0,t),\u0275fromNgModule:!0}}function vI(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Wf(e,o=>{let c=o;df(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&_I(i,s),n}function _I(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Qf(i,s=>{e(s,r)})}}function df(t,e,n,r){if(t=ot(t),!t)return!1;let i=null,s=yw(t),o=!s&&zr(t);if(!s&&!o){let u=t.ngModule;if(s=yw(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)df(l,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let l;try{Wf(s.imports,f=>{df(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&_I(l,e)}if(!c){let l=es(i)||(()=>new i);e({provide:i,useFactory:l,deps:St},i),e({provide:cI,useValue:i,multi:!0},i),e({provide:ns,useValue:()=>Q(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let l=t;Qf(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Qf(t,e){for(let n of t)rI(n)&&(n=n.\u0275providers),Array.isArray(n)?Qf(n,e):e(n)}var MA=ve({provide:String,useValue:ve});function wI(t){return t!==null&&typeof t=="object"&&MA in t}function NA(t){return!!(t&&t.useExisting)}function xA(t){return!!(t&&t.useFactory)}function rs(t){return typeof t=="function"}function PA(t){return!!t.useClass}var ju=new L(""),au={},OA={},Wh;function Yf(){return Wh===void 0&&(Wh=new gu),Wh}var Rt=class{},Vo=class extends Rt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ff(e,o=>this.processProvider(o)),this.records.set(aI,Qi(void 0,this)),i.has("environment")&&this.records.set(Rt,Qi(void 0,this));let s=this.records.get(ju);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(cI,St,Y.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ae(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ae(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=or(this),r=Tt(void 0),i;try{return e()}finally{or(n),Tt(r)}}get(e,n=Fo,r=Y.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(_w))return e[_w](this);r=Vu(r);let i,s=or(this),o=Tt(void 0);try{if(!(r&Y.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=jA(e)&&Fu(e);l&&this.injectableDefInScope(l)?u=Qi(hf(e),au):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&Y.Self?Yf():this.parent;return n=r&Y.Optional&&n===Fo?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[fu]=c[fu]||[]).unshift(ht(e)),s)throw c;return uA(c,e,"R3InjectorError",this.source)}else throw c}finally{Tt(o),or(s)}}resolveInjectorInitializers(){let e=ae(null),n=or(this),r=Tt(void 0),i;try{let s=this.get(ns,St,Y.Self);for(let o of s)o()}finally{or(n),Tt(r),ae(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ht(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(e){e=ot(e);let n=rs(e)?e:ot(e&&e.provide),r=FA(e);if(!rs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Qi(void 0,au,!0),i.factory=()=>uf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ae(null);try{return n.value===au&&(n.value=OA,n.value=n.factory()),typeof n.value=="object"&&n.value&&VA(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ae(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ot(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function hf(t){let e=Fu(t),n=e!==null?e.factory:es(t);if(n!==null)return n;if(t instanceof L)throw new j(204,!1);if(t instanceof Function)return kA(t);throw new j(204,!1)}function kA(t){if(t.length>0)throw new j(204,!1);let n=WS(t);return n!==null?()=>n.factory(t):()=>new t}function FA(t){if(wI(t))return Qi(void 0,t.useValue);{let e=II(t);return Qi(e,au)}}function II(t,e,n){let r;if(rs(t)){let i=ot(t);return es(i)||hf(i)}else if(wI(t))r=()=>ot(t.useValue);else if(xA(t))r=()=>t.useFactory(...uf(t.deps||[]));else if(NA(t))r=()=>Q(ot(t.useExisting));else{let i=ot(t&&(t.useClass||t.provide));if(LA(t))r=()=>new i(...uf(t.deps));else return es(i)||hf(i)}return r}function Qi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function LA(t){return!!t.deps}function VA(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function jA(t){return typeof t=="function"||typeof t=="object"&&t instanceof L}function ff(t,e){for(let n of t)Array.isArray(n)?ff(n,e):n&&rI(n)?ff(n.\u0275providers,e):e(n)}function bn(t,e){t instanceof Vo&&t.assertNotDestroyed();let n,r=or(t),i=Tt(void 0);try{return e()}finally{or(r),Tt(i)}}function UA(){return iI()!==void 0||sA()!=null}function BA(t){return typeof t=="function"}var Tn=0,J=1,H=2,at=3,$t=4,Ht=5,mu=6,yu=7,Mt=8,is=9,Xt=10,Ue=11,jo=12,bw=13,hs=14,en=15,ss=16,Yi=17,os=18,Uu=19,EI=20,ar=21,Kh=22,At=23,tn=25,DI=1;var Gr=7,vu=8,_u=9,vt=10,wu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(wu||{});function cr(t){return Array.isArray(t)&&typeof t[DI]=="object"}function Sn(t){return Array.isArray(t)&&t[DI]===!0}function CI(t){return(t.flags&4)!==0}function Bu(t){return t.componentOffset>-1}function Zf(t){return(t.flags&1)===1}function lr(t){return!!t.template}function pf(t){return(t[H]&512)!==0}var gf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function bI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function An(){return TI}function TI(t){return t.type.prototype.ngOnChanges&&(t.setInput=HA),$A}An.ngInherit=!0;function $A(){let t=AI(this),e=t?.current;if(e){let n=t.previous;if(n===ts)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function HA(t,e,n,r,i){let s=this.declaredInputs[r],o=AI(t)||qA(t,{previous:ts,current:null}),c=o.current||(o.current={}),u=o.previous,l=u[s];c[s]=new gf(l&&l.currentValue,n,u===ts),bI(t,e,i,n)}var SI="__ngSimpleChanges__";function AI(t){return t[SI]||null}function qA(t,e){return t[SI]=e}var Tw=null;var Yt=function(t,e,n){Tw?.(t,e,n)},zA="svg",GA="math";function nn(t){for(;Array.isArray(t);)t=t[Tn];return t}function RI(t,e){return nn(e[t])}function Nt(t,e){return nn(e[t.index])}function Jf(t,e){return t.data[e]}function hr(t,e){let n=e[t];return cr(n)?n:n[Tn]}function Xf(t){return(t[H]&128)===128}function WA(t){return Sn(t[at])}function Iu(t,e){return e==null?null:t[e]}function MI(t){t[Yi]=0}function NI(t){t[H]&1024||(t[H]|=1024,Xf(t)&&Hu(t))}function KA(t,e){for(;t>0;)e=e[hs],t--;return e}function $u(t){return!!(t[H]&9216||t[At]?.dirty)}function mf(t){t[Xt].changeDetectionScheduler?.notify(8),t[H]&64&&(t[H]|=1024),$u(t)&&Hu(t)}function Hu(t){t[Xt].changeDetectionScheduler?.notify(0);let e=Wr(t);for(;e!==null&&!(e[H]&8192||(e[H]|=8192,!Xf(e)));)e=Wr(e)}function xI(t,e){if((t[H]&256)===256)throw new j(911,!1);t[ar]===null&&(t[ar]=[]),t[ar].push(e)}function QA(t,e){if(t[ar]===null)return;let n=t[ar].indexOf(e);n!==-1&&t[ar].splice(n,1)}function Wr(t){let e=t[at];return Sn(e)?e[at]:e}var re={lFrame:BI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var PI=!1;function YA(){return re.lFrame.elementDepthCount}function ZA(){re.lFrame.elementDepthCount++}function JA(){re.lFrame.elementDepthCount--}function OI(){return re.bindingsEnabled}function XA(){return re.skipHydrationRootTNode!==null}function eR(t){return re.skipHydrationRootTNode===t}function tR(){re.skipHydrationRootTNode=null}function Ee(){return re.lFrame.lView}function xt(){return re.lFrame.tView}function Rn(t){return re.lFrame.contextLView=t,t[Mt]}function Mn(t){return re.lFrame.contextLView=null,t}function pt(){let t=kI();for(;t!==null&&t.type===64;)t=t.parent;return t}function kI(){return re.lFrame.currentTNode}function nR(){let t=re.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function zo(t,e){let n=re.lFrame;n.currentTNode=t,n.isParent=e}function FI(){return re.lFrame.isParent}function rR(){re.lFrame.isParent=!1}function LI(){return PI}function Sw(t){PI=t}function iR(t){return re.lFrame.bindingIndex=t}function qu(){return re.lFrame.bindingIndex++}function sR(t){let e=re.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function oR(){return re.lFrame.inI18n}function aR(t,e){let n=re.lFrame;n.bindingIndex=n.bindingRootIndex=t,yf(e)}function cR(){return re.lFrame.currentDirectiveIndex}function yf(t){re.lFrame.currentDirectiveIndex=t}function uR(t){let e=re.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function VI(t){re.lFrame.currentQueryIndex=t}function lR(t){let e=t[J];return e.type===2?e.declTNode:e.type===1?t[Ht]:null}function jI(t,e,n){if(n&Y.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&Y.Host);)if(i=lR(s),i===null||(s=s[hs],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=re.lFrame=UI();return r.currentTNode=e,r.lView=t,!0}function ep(t){let e=UI(),n=t[J];re.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function UI(){let t=re.lFrame,e=t===null?null:t.child;return e===null?BI(t):e}function BI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function $I(){let t=re.lFrame;return re.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var HI=$I;function tp(){let t=$I();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function dR(t){return(re.lFrame.contextLView=KA(t,re.lFrame.contextLView))[Mt]}function fs(){return re.lFrame.selectedIndex}function Kr(t){re.lFrame.selectedIndex=t}function qI(){let t=re.lFrame;return Jf(t.tView,t.selectedIndex)}function hR(){return re.lFrame.currentNamespace}var zI=!0;function np(){return zI}function rp(t){zI=t}function fR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=TI(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function ip(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function cu(t,e,n){GI(t,e,3,n)}function uu(t,e,n,r){(t[H]&3)===n&&GI(t,e,n,r)}function Qh(t,e){let n=t[H];(n&3)===e&&(n&=16383,n+=1,t[H]=n)}function GI(t,e,n,r){let i=r!==void 0?t[Yi]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Yi]+=65536),(c<s||s==-1)&&(pR(t,n,e,u),t[Yi]=(t[Yi]&4294901760)+u+2),u++}function Aw(t,e){Yt(4,t,e);let n=ae(null);try{e.call(t)}finally{ae(n),Yt(5,t,e)}}function pR(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[H]>>14<t[Yi]>>16&&(t[H]&3)===e&&(t[H]+=16384,Aw(c,s)):Aw(c,s)}var Xi=-1,Qr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function gR(t){return t instanceof Qr}function mR(t){return(t.flags&8)!==0}function yR(t){return(t.flags&16)!==0}var Yh={},vf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Vu(r);let i=this.injector.get(e,Yh,r);return i!==Yh||n===Yh?i:this.parentInjector.get(e,n,r)}};function WI(t){return t!==Xi}function Eu(t){return t&32767}function vR(t){return t>>16}function Du(t,e){let n=vR(t),r=e;for(;n>0;)r=r[hs],n--;return r}var _f=!0;function Rw(t){let e=_f;return _f=t,e}var _R=256,KI=_R-1,QI=5,wR=0,Zt={};function IR(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ko)&&(r=n[ko]),r==null&&(r=n[ko]=wR++);let i=r&KI,s=1<<i;e.data[t+(i>>QI)]|=s}function Cu(t,e){let n=YI(t,e);if(n!==-1)return n;let r=e[J];r.firstCreatePass&&(t.injectorIndex=e.length,Zh(r.data,t),Zh(e,null),Zh(r.blueprint,null));let i=sp(t,e),s=t.injectorIndex;if(WI(i)){let o=Eu(i),c=Du(i,e),u=c[J].data;for(let l=0;l<8;l++)e[s+l]=c[o+l]|u[o+l]}return e[s+8]=i,s}function Zh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function YI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function sp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=tE(i),r===null)return Xi;if(n++,i=i[hs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Xi}function wf(t,e,n){IR(t,e,n)}function ER(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(lI(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function ZI(t,e,n){if(n&Y.Optional||t!==void 0)return t;Gf(e,"NodeInjector")}function JI(t,e,n,r){if(n&Y.Optional&&r===void 0&&(r=null),!(n&(Y.Self|Y.Host))){let i=t[is],s=Tt(void 0);try{return i?i.get(e,r,n&Y.Optional):sI(e,r,n&Y.Optional)}finally{Tt(s)}}return ZI(r,e,n)}function XI(t,e,n,r=Y.Default,i){if(t!==null){if(e[H]&2048&&!(r&Y.Self)){let o=SR(t,e,n,r,Zt);if(o!==Zt)return o}let s=eE(t,e,n,r,Zt);if(s!==Zt)return s}return JI(e,n,r,i)}function eE(t,e,n,r,i){let s=bR(n);if(typeof s=="function"){if(!jI(e,t,r))return r&Y.Host?ZI(i,n,r):JI(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&Y.Optional))Gf(n);else return o}finally{HI()}}else if(typeof s=="number"){let o=null,c=YI(t,e),u=Xi,l=r&Y.Host?e[en][Ht]:null;for((c===-1||r&Y.SkipSelf)&&(u=c===-1?sp(t,e):e[c+8],u===Xi||!Nw(r,!1)?c=-1:(o=e[J],c=Eu(u),e=Du(u,e)));c!==-1;){let f=e[J];if(Mw(s,c,f.data)){let g=DR(c,e,n,o,r,l);if(g!==Zt)return g}u=e[c+8],u!==Xi&&Nw(r,e[J].data[c+8]===l)&&Mw(s,c,e)?(o=f,c=Eu(u),e=Du(u,e)):c=-1}}return i}function DR(t,e,n,r,i,s){let o=e[J],c=o.data[t+8],u=r==null?Bu(c)&&_f:r!=o&&(c.type&3)!==0,l=i&Y.Host&&s===c,f=CR(c,o,n,u,l);return f!==null?as(e,o,f,c):Zt}function CR(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,u=t.directiveStart,l=t.directiveEnd,f=s>>20,g=r?c:c+f,_=i?c+f:l;for(let I=g;I<_;I++){let A=o[I];if(I<u&&n===A||I>=u&&A.type===n)return I}if(i){let I=o[u];if(I&&lr(I)&&I.type===n)return u}return null}function as(t,e,n,r){let i=t[n],s=e.data;if(gR(i)){let o=i;o.resolving&&eA(XS(s[n]));let c=Rw(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Tt(o.injectImpl):null,f=jI(t,r,Y.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&fR(n,s[n],e)}finally{l!==null&&Tt(l),Rw(c),o.resolving=!1,HI()}}return i}function bR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ko)?t[ko]:void 0;return typeof e=="number"?e>=0?e&KI:TR:e}function Mw(t,e,n){let r=1<<t;return!!(n[e+(t>>QI)]&r)}function Nw(t,e){return!(t&Y.Self)&&!(t&Y.Host&&e)}var qr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return XI(this._tNode,this._lView,e,Vu(r),n)}};function TR(){return new qr(pt(),Ee())}function fr(t){return Ho(()=>{let e=t.prototype.constructor,n=e[hu]||If(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[hu]||If(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function If(t){return Xw(t)?()=>{let e=If(ot(t));return e&&e()}:es(t)}function SR(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[H]&2048&&!(o[H]&512);){let c=eE(s,o,n,r|Y.Self,Zt);if(c!==Zt)return c;let u=s.parent;if(!u){let l=o[EI];if(l){let f=l.get(n,Zt,r);if(f!==Zt)return f}u=tE(o),o=o[hs]}s=u}return i}function tE(t){let e=t[J],n=e.type;return n===2?e.declTNode:n===1?t[Ht]:null}function op(t){return ER(pt(),t)}function xw(t,e=null,n=null,r){let i=nE(t,e,n,r);return i.resolveInjectorInitializers(),i}function nE(t,e=null,n=null,r,i=new Set){let s=[n||St,RA(t)];return r=r||(typeof t=="object"?void 0:ht(t)),new Vo(s,e||Yf(),r||null,i)}var $r=class $r{static create(e,n){if(Array.isArray(e))return xw({name:""},n,e,"");{let r=e.name??"";return xw({name:r},e.parent,e.providers,r)}}};$r.THROW_IF_NOT_FOUND=Fo,$r.NULL=new gu,$r.\u0275prov=B({token:$r,providedIn:"any",factory:()=>Q(aI)}),$r.__NG_ELEMENT_ID__=-1;var ct=$r;var AR=new L("");AR.__NG_ELEMENT_ID__=t=>{let e=pt();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(t&Y.Optional)return null;throw new j(204,!1)};var RR="ngOriginalError";function Jh(t){return t[RR]}var rE=!0,iE=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=MR,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Ef=class extends iE{constructor(e){super(),this._lView=e}onDestroy(e){return xI(this._lView,e),()=>QA(this._lView,e)}};function MR(){return new Ef(Ee())}var ps=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ge(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Df=class extends je{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,UA()&&(this.destroyRef=k(iE,{optional:!0})??void 0,this.pendingTasks=k(ps,{optional:!0})??void 0)}emit(e){let n=ae(null);try{super.next(e)}finally{ae(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Ce&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Te=Df;function bu(...t){}function sE(t){let e,n;function r(){t=bu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Pw(t){return queueMicrotask(()=>t()),()=>{t=bu}}var ap="isAngularZone",Tu=ap+"_ID",NR=0,me=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Te(!1),this.onMicrotaskEmpty=new Te(!1),this.onStable=new Te(!1),this.onError=new Te(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=rE}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,OR(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ap)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,xR,bu,bu);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},xR={};function cp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function PR(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){sE(()=>{t.callbackScheduled=!1,Cf(t),t.isCheckStableRunning=!0,cp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Cf(t)}function OR(t){let e=()=>{PR(t)},n=NR++;t._inner=t._inner.fork({name:"angular",properties:{[ap]:!0,[Tu]:n,[Tu+n]:!0},onInvokeTask:(r,i,s,o,c,u)=>{if(kR(u))return r.invokeTask(s,o,c,u);try{return Ow(t),r.invokeTask(s,o,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),kw(t)}},onInvoke:(r,i,s,o,c,u,l)=>{try{return Ow(t),r.invoke(s,o,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!FR(u)&&e(),kw(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Cf(t),cp(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Cf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Ow(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function kw(t){t._nesting--,cp(t)}var bf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Te,this.onMicrotaskEmpty=new Te,this.onStable=new Te,this.onError=new Te}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function kR(t){return oE(t,"__ignore_ng_zone__")}function FR(t){return oE(t,"__scheduler_tick__")}function oE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var wn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Jh(e);for(;n&&Jh(n);)n=Jh(n);return n||null}},LR=new L("",{providedIn:"root",factory:()=>{let t=k(me),e=k(wn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function VR(){return up(pt(),Ee())}function up(t,e){return new pr(Nt(t,e))}var pr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=VR;let t=e;return t})();function aE(t){return(t.flags&128)===128}var cE=new Map,jR=0;function UR(){return jR++}function BR(t){cE.set(t[Uu],t)}function Tf(t){cE.delete(t[Uu])}var Fw="__ngContext__";function Yr(t,e){cr(e)?(t[Fw]=e[Uu],BR(e)):t[Fw]=e}function uE(t){return dE(t[jo])}function lE(t){return dE(t[$t])}function dE(t){for(;t!==null&&!Sn(t);)t=t[$t];return t}var Sf;function hE(t){Sf=t}function $R(){if(Sf!==void 0)return Sf;if(typeof document<"u")return document;throw new j(210,!1)}var lp=new L("",{providedIn:"root",factory:()=>HR}),HR="ng",dp=new L(""),gr=new L("",{providedIn:"platform",factory:()=>"unknown"});var hp=new L("",{providedIn:"root",factory:()=>$R().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var qR="h",zR="b";var GR=()=>null;function fp(t,e,n=!1){return GR(t,e,n)}var fE=!1,WR=new L("",{providedIn:"root",factory:()=>fE});var ru;function KR(){if(ru===void 0&&(ru=null,of.trustedTypes))try{ru=of.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ru}function Lw(t){return KR()?.createScriptURL(t)||t}var Su=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Jw})`}};function Go(t){return t instanceof Su?t.changingThisBreaksApplicationSecurity:t}function pp(t,e){let n=QR(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Jw})`)}return n===e}function QR(t){return t instanceof Su&&t.getTypeName()||null}var YR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function pE(t){return t=String(t),t.match(YR)?t:"unsafe:"+t}var zu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(zu||{});function ZR(t){let e=mE();return e?e.sanitize(zu.URL,t)||"":pp(t,"URL")?Go(t):pE(Lu(t))}function JR(t){let e=mE();if(e)return Lw(e.sanitize(zu.RESOURCE_URL,t)||"");if(pp(t,"ResourceURL"))return Lw(Go(t));throw new j(904,!1)}function XR(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?JR:ZR}function gE(t,e,n){return XR(e,n)(t)}function mE(){let t=Ee();return t&&t[Xt].sanitizer}function yE(t){return t instanceof Function?t():t}var In=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(In||{}),eM;function gp(t,e){return eM(t,e)}function Zi(t,e,n,r,i){if(r!=null){let s,o=!1;Sn(r)?s=r:cr(r)&&(o=!0,r=r[Tn]);let c=nn(r);t===0&&n!==null?i==null?IE(e,n,c):Ru(e,n,c,i||null,!0):t===1&&n!==null?Ru(e,n,c,i||null,!0):t===2?gM(e,c,o):t===3&&e.destroyNode(c),s!=null&&yM(e,t,s,n,i)}}function tM(t,e){return t.createText(e)}function nM(t,e,n){t.setValue(e,n)}function vE(t,e,n){return t.createElement(e,n)}function rM(t,e){_E(t,e),e[Tn]=null,e[Ht]=null}function iM(t,e,n,r,i,s){r[Tn]=i,r[Ht]=e,Gu(t,r,n,1,i,s)}function _E(t,e){e[Xt].changeDetectionScheduler?.notify(9),Gu(t,e,e[Ue],2,null,null)}function sM(t){let e=t[jo];if(!e)return Xh(t[J],t);for(;e;){let n=null;if(cr(e))n=e[jo];else{let r=e[vt];r&&(n=r)}if(!n){for(;e&&!e[$t]&&e!==t;)cr(e)&&Xh(e[J],e),e=e[at];e===null&&(e=t),cr(e)&&Xh(e[J],e),n=e&&e[$t]}e=n}}function oM(t,e,n,r){let i=vt+r,s=n.length;r>0&&(n[i-1][$t]=e),r<s-vt?(e[$t]=n[i],oI(n,vt+r,e)):(n.push(e),e[$t]=null),e[at]=n;let o=e[ss];o!==null&&n!==o&&wE(o,e);let c=e[os];c!==null&&c.insertView(t),mf(e),e[H]|=128}function wE(t,e){let n=t[_u],r=e[at];if(cr(r))t[H]|=wu.HasTransplantedViews;else{let i=r[at][en];e[en]!==i&&(t[H]|=wu.HasTransplantedViews)}n===null?t[_u]=[e]:n.push(e)}function mp(t,e){let n=t[_u],r=n.indexOf(e);n.splice(r,1)}function Au(t,e){if(t.length<=vt)return;let n=vt+e,r=t[n];if(r){let i=r[ss];i!==null&&i!==t&&mp(i,r),e>0&&(t[n-1][$t]=r[$t]);let s=pu(t,vt+e);rM(r[J],r);let o=s[os];o!==null&&o.detachView(s[J]),r[at]=null,r[$t]=null,r[H]&=-129}return r}function yp(t,e){if(!(e[H]&256)){let n=e[Ue];n.destroyNode&&Gu(t,e,n,3,null,null),sM(e)}}function Xh(t,e){if(e[H]&256)return;let n=ae(null);try{e[H]&=-129,e[H]|=256,e[At]&&Dh(e[At]),cM(t,e),aM(t,e),e[J].type===1&&e[Ue].destroy();let r=e[ss];if(r!==null&&Sn(e[at])){r!==e[at]&&mp(r,e);let i=e[os];i!==null&&i.detachView(t)}Tf(e)}finally{ae(n)}}function aM(t,e){let n=t.cleanup,r=e[yu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[yu]=null);let i=e[ar];if(i!==null){e[ar]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function cM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Qr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];Yt(4,c,u);try{u.call(c)}finally{Yt(5,c,u)}}else{Yt(4,i,s);try{s.call(i)}finally{Yt(5,i,s)}}}}}function uM(t,e,n){return lM(t,e.parent,n)}function lM(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Tn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Jt.None||s===Jt.Emulated)return null}return Nt(r,n)}}function Ru(t,e,n,r,i){t.insertBefore(e,n,r,i)}function IE(t,e,n){t.appendChild(e,n)}function Vw(t,e,n,r,i){r!==null?Ru(t,e,n,r,i):IE(t,e,n)}function EE(t,e){return t.parentNode(e)}function dM(t,e){return t.nextSibling(e)}function hM(t,e,n){return pM(t,e,n)}function fM(t,e,n){return t.type&40?Nt(t,n):null}var pM=fM,jw;function vp(t,e,n,r){let i=uM(t,r,e),s=e[Ue],o=r.parent||e[Ht],c=hM(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Vw(s,i,n[u],c,!1);else Vw(s,i,n,c,!1);jw!==void 0&&jw(s,r,e,n,i)}function Po(t,e){if(e!==null){let n=e.type;if(n&3)return Nt(e,t);if(n&4)return Af(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Po(t,r);{let i=t[e.index];return Sn(i)?Af(-1,i):nn(i)}}else{if(n&128)return Po(t,e.next);if(n&32)return gp(e,t)()||nn(t[e.index]);{let r=DE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Wr(t[en]);return Po(i,r)}else return Po(t,e.next)}}}return null}function DE(t,e){if(e!==null){let r=t[en][Ht],i=e.projection;return r.projection[i]}return null}function Af(t,e){let n=vt+t+1;if(n<e.length){let r=e[n],i=r[J].firstChild;if(i!==null)return Po(r,i)}return e[Gr]}function gM(t,e,n){t.removeChild(null,e,n)}function _p(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(o&&e===0&&(c&&Yr(nn(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)_p(t,e,n.child,r,i,s,!1),Zi(e,t,i,c,s);else if(u&32){let l=gp(n,r),f;for(;f=l();)Zi(e,t,i,f,s);Zi(e,t,i,c,s)}else u&16?mM(t,e,r,n,i,s):Zi(e,t,i,c,s);n=o?n.projectionNext:n.next}}function Gu(t,e,n,r,i,s){_p(n,r,t.firstChild,e,i,s,!1)}function mM(t,e,n,r,i,s){let o=n[en],u=o[Ht].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Zi(e,t,i,f,s)}else{let l=u,f=o[at];aE(r)&&(l.flags|=128),_p(t,e,l,f,i,s,!0)}}function yM(t,e,n,r,i){let s=n[Gr],o=nn(n);s!==o&&Zi(e,t,r,s,i);for(let c=vt;c<n.length;c++){let u=n[c];Gu(u[J],u,t,e,r,s)}}function vM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:In.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=In.Important),t.setStyle(n,r,i,s))}}function _M(t,e,n){t.setAttribute(e,"style",n)}function CE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function bE(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&lf(t,e,r),i!==null&&CE(t,e,i),s!==null&&_M(t,e,s)}var ei={};function Pt(t=1){TE(xt(),Ee(),fs()+t,!1)}function TE(t,e,n,r){if(!r)if((e[H]&3)===3){let s=t.preOrderCheckHooks;s!==null&&cu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&uu(e,s,0,n)}Kr(n)}function ie(t,e=Y.Default){let n=Ee();if(n===null)return Q(t,e);let r=pt();return XI(r,n,ot(t),e)}function SE(t,e,n,r,i,s){let o=ae(null);try{let c=null;i&ur.SignalBased&&(c=e[r][yn]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&ur.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,c,s,n,r):bI(e,c,r,s)}finally{ae(o)}}function wM(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Kr(~i);else{let s=i,o=n[++r],c=n[++r];aR(o,s);let u=e[s];c(2,u)}}}finally{Kr(-1)}}function Wu(t,e,n,r,i,s,o,c,u,l,f){let g=e.blueprint.slice();return g[Tn]=i,g[H]=r|4|128|8|64,(l!==null||t&&t[H]&2048)&&(g[H]|=2048),MI(g),g[at]=g[hs]=t,g[Mt]=n,g[Xt]=o||t&&t[Xt],g[Ue]=c||t&&t[Ue],g[is]=u||t&&t[is]||null,g[Ht]=s,g[Uu]=UR(),g[mu]=f,g[EI]=l,g[en]=e.type==2?t[en]:g,g}function Ku(t,e,n,r,i){let s=t.data[e];if(s===null)s=IM(t,e,n,r,i),oR()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=nR();s.injectorIndex=o===null?-1:o.injectorIndex}return zo(s,!0),s}function IM(t,e,n,r,i){let s=kI(),o=FI(),c=o?s:s&&s.parent,u=t.data[e]=TM(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function AE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function RE(t,e,n,r,i){let s=fs(),o=r&2;try{Kr(-1),o&&e.length>tn&&TE(t,e,tn,!1),Yt(o?2:0,i),n(r,i)}finally{Kr(s),Yt(o?3:1,i)}}function ME(t,e,n){if(CI(e)){let r=ae(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let u=n[o];c.contentQueries(1,u,o)}}}finally{ae(r)}}}function NE(t,e,n){OI()&&(PM(t,e,n,Nt(n,e)),(n.flags&64)===64&&FE(t,e,n))}function xE(t,e,n=Nt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function PE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=wp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function wp(t,e,n,r,i,s,o,c,u,l,f){let g=tn+r,_=g+i,I=EM(g,_),A=typeof l=="function"?l():l;return I[J]={type:t,blueprint:I,template:n,queries:null,viewQuery:c,declTNode:e,data:I.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function EM(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ei);return n}function DM(t,e,n,r){let s=r.get(WR,fE)||n===Jt.ShadowDom,o=t.selectRootElement(e,s);return CM(o),o}function CM(t){bM(t)}var bM=()=>null;function TM(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return XA()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Uw(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=ur.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?Bw(r,n,l,c,u):Bw(r,n,l,c)}return r}function Bw(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function SM(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,c=[],u=null,l=null;for(let f=r;f<i;f++){let g=s[f],_=n?n.get(g):null,I=_?_.inputs:null,A=_?_.outputs:null;u=Uw(0,g.inputs,f,u,I),l=Uw(1,g.outputs,f,l,A);let x=u!==null&&o!==null&&!Kf(e)?qM(u,f,o):null;c.push(x)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function AM(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function RM(t,e,n,r,i,s,o,c){let u=Nt(e,n),l=e.inputs,f;!c&&l!=null&&(f=l[r])?(Ip(t,n,f,r,i),Bu(e)&&MM(n,e.index)):e.type&3?(r=AM(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function MM(t,e){let n=hr(e,t);n[H]&16||(n[H]|=64)}function OE(t,e,n,r){if(OI()){let i=r===null?null:{"":-1},s=kM(t,n),o,c;s===null?o=c=null:[o,c]=s,o!==null&&kE(t,e,n,o,i,c),i&&FM(n,r,i)}n.mergedAttrs=Lo(n.mergedAttrs,n.attrs)}function kE(t,e,n,r,i,s){for(let l=0;l<r.length;l++)wf(Cu(n,e),t,r[l].type);VM(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let o=!1,c=!1,u=AE(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=Lo(n.mergedAttrs,f.hostAttrs),jM(t,n,e,u,f),LM(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let g=f.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!c&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}SM(t,n,s)}function NM(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;xM(o)!=c&&o.push(c),o.push(n,r,s)}}function xM(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function PM(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Bu(n)&&UM(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Cu(n,e),Yr(r,e);let o=n.initialInputs;for(let c=i;c<s;c++){let u=t.data[c],l=as(e,t,c,n);if(Yr(l,e),o!==null&&HM(e,c-i,l,u,n,o),lr(u)){let f=hr(n.index,e);f[Mt]=as(e,t,c,n)}}}function FE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=cR();try{Kr(s);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];yf(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&OM(u,l)}}finally{Kr(-1),yf(o)}}function OM(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function kM(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(wA(e,o.selectors,!1))if(r||(r=[]),lr(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;Rf(t,e,u)}else r.unshift(o),Rf(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Rf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function FM(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new j(-301,!1);r.push(e[i],s)}}}function LM(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;lr(e)&&(n[""]=t)}}function VM(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function jM(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=es(i.type,!0)),o=new Qr(s,lr(i),ie);t.blueprint[r]=o,n[r]=o,NM(t,e,r,AE(t,n,i.hostVars,ei),i)}function UM(t,e,n){let r=Nt(e,t),i=PE(n),s=t[Xt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let c=Qu(t,Wu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=c}function BM(t,e,n,r,i,s){let o=Nt(t,e);$M(e[Ue],o,s,t.value,n,r,i)}function $M(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let c=o==null?Lu(s):o(s,r||"",i);t.setAttribute(e,i,c,n)}}function HM(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],l=o[c++],f=o[c++],g=o[c++];SE(r,n,u,l,f,g)}}function qM(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],n[i+1]);break}}i+=2}return r}function LE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function VE(t,e){let n=t.contentQueries;if(n!==null){let r=ae(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];VI(s),c.contentQueries(2,e[o],o)}}}finally{ae(r)}}}function Qu(t,e){return t[jo]?t[bw][$t]=e:t[jo]=e,t[bw]=e,e}function Mf(t,e,n){VI(0);let r=ae(null);try{e(t,n)}finally{ae(r)}}function zM(t){return t[yu]??=[]}function GM(t){return t.cleanup??=[]}function jE(t,e){let n=t[is],r=n?n.get(wn,null):null;r&&r.handleError(e)}function Ip(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],c=n[s++],u=n[s++],l=e[o],f=t.data[o];SE(f,l,r,c,u,i)}}function WM(t,e,n){let r=RI(e,t);nM(t[Ue],r,n)}function KM(t,e){let n=hr(e,t),r=n[J];QM(r,n);let i=n[Tn];i!==null&&n[mu]===null&&(n[mu]=fp(i,n[is])),Ep(r,n,n[Mt])}function QM(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Ep(t,e,n){ep(e);try{let r=t.viewQuery;r!==null&&Mf(1,r,n);let i=t.template;i!==null&&RE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[os]?.finishViewCreation(t),t.staticContentQueries&&VE(t,e),t.staticViewQueries&&Mf(2,t.viewQuery,n);let s=t.components;s!==null&&YM(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[H]&=-5,tp()}}function YM(t,e){for(let n=0;n<e.length;n++)KM(t,e[n])}function ZM(t,e,n,r){let i=ae(null);try{let s=e.tView,c=t[H]&4096?4096:16,u=Wu(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[ss]=l;let f=t[os];return f!==null&&(u[os]=f.createEmbeddedView(s)),Ep(s,u,n),u}finally{ae(i)}}function JM(t,e){let n=vt+e;if(n<t.length)return t[n]}function Nf(t,e){return!e||e.firstChild===null||aE(t)}function UE(t,e,n,r=!0){let i=e[J];if(oM(i,e,t,n),r){let o=Af(n,t),c=e[Ue],u=EE(c,t[Gr]);u!==null&&iM(i,t[Ht],c,e,u,o)}let s=e[mu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function XM(t,e){let n=Au(t,e);return n!==void 0&&yp(n[J],n),n}function Mu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(nn(s)),Sn(s)&&eN(s,r);let o=n.type;if(o&8)Mu(t,e,n.child,r);else if(o&32){let c=gp(n,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=DE(e,n);if(Array.isArray(c))r.push(...c);else{let u=Wr(e[en]);Mu(u[J],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function eN(t,e){for(let n=vt;n<t.length;n++){let r=t[n],i=r[J].firstChild;i!==null&&Mu(r[J],r,i,e)}t[Gr]!==t[Tn]&&e.push(t[Gr])}var BE=[];function tN(t){return t[At]??nN(t)}function nN(t){let e=BE.pop()??Object.create(iN);return e.lView=t,e}function rN(t){t.lView[At]!==t&&(t.lView=null,BE.push(t))}var iN=ee(O({},Ro),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Hu(t.lView)},consumerOnSignalRead(){this.lView[At]=this}});function sN(t){let e=t[At]??Object.create(oN);return e.lView=t,e}var oN=ee(O({},Ro),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Wr(t.lView);for(;e&&!$E(e[J]);)e=Wr(e);e&&NI(e)},consumerOnSignalRead(){this.lView[At]=this}});function $E(t){return t.type!==2}var aN=100;function HE(t,e=!0,n=0){let r=t[Xt],i=r.rendererFactory,s=!1;s||i.begin?.();try{cN(t,n)}catch(o){throw e&&jE(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function cN(t,e){let n=LI();try{Sw(!0),xf(t,e);let r=0;for(;$u(t);){if(r===aN)throw new j(103,!1);r++,xf(t,1)}}finally{Sw(n)}}function uN(t,e,n,r){let i=e[H];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Xt].inlineEffectRunner?.flush(),ep(e);let c=!0,u=null,l=null;s||($E(t)?(l=tN(e),u=Ac(l)):N_()===null?(c=!1,l=sN(e),u=Ac(l)):e[At]&&(Dh(e[At]),e[At]=null));try{MI(e),iR(t.bindingStartIndex),n!==null&&RE(t,e,n,2,r);let f=(i&3)===3;if(!s)if(f){let I=t.preOrderCheckHooks;I!==null&&cu(e,I,null)}else{let I=t.preOrderHooks;I!==null&&uu(e,I,0,null),Qh(e,0)}if(o||lN(e),qE(e,0),t.contentQueries!==null&&VE(t,e),!s)if(f){let I=t.contentCheckHooks;I!==null&&cu(e,I)}else{let I=t.contentHooks;I!==null&&uu(e,I,1),Qh(e,1)}wM(t,e);let g=t.components;g!==null&&GE(e,g,0);let _=t.viewQuery;if(_!==null&&Mf(2,_,r),!s)if(f){let I=t.viewCheckHooks;I!==null&&cu(e,I)}else{let I=t.viewHooks;I!==null&&uu(e,I,2),Qh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Kh]){for(let I of e[Kh])I();e[Kh]=null}s||(e[H]&=-73)}catch(f){throw s||Hu(e),f}finally{l!==null&&(Ih(l,u),c&&rN(l)),tp()}}function qE(t,e){for(let n=uE(t);n!==null;n=lE(n))for(let r=vt;r<n.length;r++){let i=n[r];zE(i,e)}}function lN(t){for(let e=uE(t);e!==null;e=lE(e)){if(!(e[H]&wu.HasTransplantedViews))continue;let n=e[_u];for(let r=0;r<n.length;r++){let i=n[r];NI(i)}}}function dN(t,e,n){let r=hr(e,t);zE(r,n)}function zE(t,e){Xf(t)&&xf(t,e)}function xf(t,e){let r=t[J],i=t[H],s=t[At],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Eh(s)),o||=!1,s&&(s.dirty=!1),t[H]&=-9217,o)uN(r,t,r.template,t[Mt]);else if(i&8192){qE(t,1);let c=r.components;c!==null&&GE(t,c,1)}}function GE(t,e,n){for(let r=0;r<e.length;r++)dN(t,e[r],n)}function Dp(t,e){let n=LI()?64:1088;for(t[Xt].changeDetectionScheduler?.notify(e);t;){t[H]|=n;let r=Wr(t);if(pf(t)&&!r)return t;t=r}return null}var cs=class{get rootNodes(){let e=this._lView,n=e[J];return Mu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mt]}set context(e){this._lView[Mt]=e}get destroyed(){return(this._lView[H]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[at];if(Sn(e)){let n=e[vu],r=n?n.indexOf(this):-1;r>-1&&(Au(e,r),pu(n,r))}this._attachedToViewContainer=!1}yp(this._lView[J],this._lView)}onDestroy(e){xI(this._lView,e)}markForCheck(){Dp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[H]&=-129}reattach(){mf(this._lView),this._lView[H]|=128}detectChanges(){this._lView[H]|=1024,HE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=pf(this._lView),n=this._lView[ss];n!==null&&!e&&mp(n,this._lView),_E(this._lView[J],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let n=pf(this._lView),r=this._lView[ss];r!==null&&!n&&wE(r,this._lView),mf(this._lView)}};var Oz=new RegExp(`^(\\d+)*(${zR}|${qR})*(.*)`);var hN=()=>null;function Pf(t,e){return hN(t,e)}var us=class{},Cp=new L("",{providedIn:"root",factory:()=>!1});var WE=new L(""),KE=new L(""),Of=class{},Nu=class{};function fN(t){let e=Error(`No component factory found for ${ht(t)}.`);return e[pN]=t,e}var pN="ngComponent";var kf=class{resolveComponentFactory(e){throw fN(e)}},Mp=class Mp{};Mp.NULL=new kf;var Zr=Mp,ls=class{},ti=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>gN();let t=e;return t})();function gN(){let t=Ee(),e=pt(),n=hr(e.index,t);return(cr(n)?n:t)[Ue]}var mN=(()=>{let e=class e{};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function Ff(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=gw(i,c);else if(s==2){let u=c,l=e[++o];r=gw(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var xu=class extends Zr{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=zr(e);return new Uo(n,this.ngModule)}};function $w(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,c=s?i[1]:ur.None;e?n.push({propName:o,templateName:r,isSignal:(c&ur.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function yN(t){let e=t.toLowerCase();return e==="svg"?zA:e==="math"?GA:null}var Uo=class extends Nu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=$w(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return $w(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=CA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ae(null);try{i=i||this.ngModule;let o=i instanceof Rt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new vf(e,o):e,u=c.get(ls,null);if(u===null)throw new j(407,!1);let l=c.get(mN,null),f=c.get(us,null),g={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:f},_=u.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",A=r?DM(_,r,this.componentDef.encapsulation,c):vE(_,I,yN(I)),x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let N=null;A!==null&&(N=fp(A,c,!0));let F=wp(0,null,null,1,0,null,null,null,null,null,null),q=Wu(null,F,null,x,null,null,g,_,c,null,N);ep(q);let K,pe,qe=null;try{let he=this.componentDef,D,m=null;he.findHostDirectiveDefs?(D=[],m=new Map,he.findHostDirectiveDefs(he,D,m),D.push(he)):D=[he];let y=vN(q,A);qe=_N(y,A,he,D,q,g,_),pe=Jf(F,tn),A&&EN(_,he,A,r),n!==void 0&&DN(pe,this.ngContentSelectors,n),K=IN(qe,he,D,m,q,[CN]),Ep(F,q,null)}catch(he){throw qe!==null&&Tf(qe),Tf(q),he}finally{tp()}return new Lf(this.componentType,K,up(pe,q),q,pe)}finally{ae(s)}}},Lf=class extends Of{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new cs(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Ip(s[J],s,i,e,n),this.previousInputValues.set(e,n);let o=hr(this._tNode.index,s);Dp(o,1)}}get injector(){return new qr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function vN(t,e){let n=t[J],r=tn;return t[r]=e,Ku(n,r,2,"#host",null)}function _N(t,e,n,r,i,s,o){let c=i[J];wN(r,t,e,o);let u=null;e!==null&&(u=fp(e,i[is]));let l=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let g=Wu(i,PE(n),null,f,i[t.index],t,s,l,null,null,u);return c.firstCreatePass&&Rf(c,t,r.length-1),Qu(i,g),i[t.index]=g}function wN(t,e,n,r){for(let i of t)e.mergedAttrs=Lo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Ff(e,e.mergedAttrs,!0),n!==null&&bE(r,n,e))}function IN(t,e,n,r,i,s){let o=pt(),c=i[J],u=Nt(o,i);kE(c,i,o,n,null,r);for(let f=0;f<n.length;f++){let g=o.directiveStart+f,_=as(i,c,g,o);Yr(_,i)}FE(c,i,o),u&&Yr(u,i);let l=as(i,c,o.directiveStart+o.componentOffset,o);if(t[Mt]=i[Mt]=l,s!==null)for(let f of s)f(l,e);return ME(c,o,i),l}function EN(t,e,n,r){if(r)lf(t,n,["ng-version","18.2.3"]);else{let{attrs:i,classes:s}=bA(e.selectors[0]);i&&lf(t,n,i),s&&s.length>0&&CE(t,n,s.join(" "))}}function DN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function CN(){let t=pt();ip(Ee()[J],t)}var Wo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=bN;let t=e;return t})();function bN(){let t=pt();return SN(t,Ee())}var TN=Wo,QE=class extends TN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return up(this._hostTNode,this._hostLView)}get injector(){return new qr(this._hostTNode,this._hostLView)}get parentInjector(){let e=sp(this._hostTNode,this._hostLView);if(WI(e)){let n=Du(e,this._hostLView),r=Eu(e),i=n[J].data[r+8];return new qr(i,n)}else return new qr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Hw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-vt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Pf(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,Nf(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!BA(e),c;if(o)c=n;else{let A=n||{};c=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}let u=o?e:new Uo(zr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let x=(o?l:this.parentInjector).get(Rt,null);x&&(s=x)}let f=zr(u.componentType??{}),g=Pf(this._lContainer,f?.id??null),_=g?.firstChild??null,I=u.create(l,i,_,s);return this.insertImpl(I.hostView,c,Nf(this._hostTNode,g)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(WA(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[at],l=new QE(u,u[Ht],u[at]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return UE(o,i,s,r),e.attachToViewContainerRef(),oI(ef(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Hw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Au(this._lContainer,n);r&&(pu(ef(this._lContainer),n),yp(r[J],r))}detach(e){let n=this._adjustIndex(e,-1),r=Au(this._lContainer,n);return r&&pu(ef(this._lContainer),n)!=null?new cs(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Hw(t){return t[vu]}function ef(t){return t[vu]||(t[vu]=[])}function SN(t,e){let n,r=e[t.index];return Sn(r)?n=r:(n=LE(r,e,null,t),e[t.index]=n,Qu(e,n)),RN(n,e,t,r),new QE(n,t,e)}function AN(t,e){let n=t[Ue],r=n.createComment(""),i=Nt(e,t),s=EE(n,i);return Ru(n,s,r,dM(n,i),!1),r}var RN=xN,MN=()=>!1;function NN(t,e,n){return MN(t,e,n)}function xN(t,e,n,r){if(t[Gr])return;let i;n.type&8?i=nn(r):i=AN(e,n),t[Gr]=i}var qw=new Set;function gs(t){qw.has(t)||(qw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function PN(t){return typeof t=="function"&&t[yn]!==void 0}function Ko(t,e){gs("NgSignals");let n=$_(t),r=n[yn];return e?.equal&&(r.equal=e.equal),n.set=i=>Ch(r,i),n.update=i=>H_(r,i),n.asReadonly=ON.bind(n),n}function ON(){let t=this[yn];if(t.readonlyFn===void 0){let e=()=>this();e[yn]=t,t.readonlyFn=e}return t.readonlyFn}function YE(t){return PN(t)&&typeof t.set=="function"}function kN(t){return Object.getPrototypeOf(t.prototype).constructor}function qt(t){let e=kN(t.type),n=!0,r=[t];for(;e;){let i;if(lr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=iu(t.inputs),o.inputTransforms=iu(t.inputTransforms),o.declaredInputs=iu(t.declaredInputs),o.outputs=iu(t.outputs);let c=i.hostBindings;c&&UN(t,c);let u=i.viewQuery,l=i.contentQueries;if(u&&VN(t,u),l&&jN(t,l),FN(t,i),zS(t.outputs,i.outputs),lr(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let c=s[o];c&&c.ngInherit&&c(t),c===qt&&(n=!1)}}e=Object.getPrototypeOf(e)}LN(r)}function FN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function LN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Lo(i.hostAttrs,n=Lo(n,i.hostAttrs))}}function iu(t){return t===ts?{}:t===St?[]:t}function VN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function jN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function UN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function bp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var dr=class{},Bo=class{};var Vf=class extends dr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xu(this);let s=gI(e);this._bootstrapComponents=yE(s.bootstrap),this._r3Injector=nE(e,n,[{provide:dr,useValue:this},{provide:Zr,useValue:this.componentFactoryResolver},...r],ht(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},jf=class extends Bo{constructor(e){super(),this.moduleType=e}create(e){return new Vf(this.moduleType,e,[])}};var Pu=class extends dr{constructor(e){super(),this.componentFactoryResolver=new xu(this),this.instance=null;let n=new Vo([...e.providers,{provide:dr,useValue:this},{provide:Zr,useValue:this.componentFactoryResolver}],e.parent||Yf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Tp(t,e,n=null){return new Pu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function Qo(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function BN(t){return(t.flags&32)===32}function $N(t,e,n,r,i,s,o,c,u){let l=e.consts,f=Ku(e,t,4,o||null,c||null);OE(e,n,f,Iu(l,u)),ip(e,f);let g=f.tView=wp(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}function HN(t,e,n,r,i,s,o,c,u,l){let f=n+tn,g=e.firstCreatePass?$N(f,e,t,r,i,s,o,c,u):e.data[f];zo(g,!1);let _=qN(e,t,g,n);np()&&vp(e,t,_,g),Yr(_,t);let I=LE(_,t,_,g);return t[f]=I,Qu(t,I),NN(I,g,t),Zf(g)&&NE(e,t,g),u!=null&&xE(t,g,l),g}function ms(t,e,n,r,i,s,o,c){let u=Ee(),l=xt(),f=Iu(l.consts,s);return HN(u,l,t,e,n,r,i,f,o,c),ms}var qN=zN;function zN(t,e,n,r){return rp(!0),e[Ue].createComment("")}var Oo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Oo||{}),GN=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),Hr=class Hr{constructor(){this.ngZone=k(me),this.scheduler=k(us),this.errorHandler=k(wn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of Hr.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};Hr.PHASES=[Oo.EarlyRead,Oo.Write,Oo.MixedReadWrite,Oo.Read],Hr.\u0275prov=B({token:Hr,providedIn:"root",factory:()=>new Hr});var zw=Hr;function Yo(t,e,n,r){let i=Ee(),s=qu();if(Qo(i,s,e)){let o=xt(),c=qI();BM(c,i,t,e,n,r)}return Yo}function WN(t,e,n,r){return Qo(t,qu(),n)?e+Lu(n)+r:ei}function su(t,e){return t<<17|e<<2}function Jr(t){return t>>17&32767}function KN(t){return(t&2)==2}function QN(t,e){return t&131071|e<<17}function Uf(t){return t|2}function ds(t){return(t&131068)>>2}function tf(t,e){return t&-131069|e<<2}function YN(t){return(t&1)===1}function Bf(t){return t|1}function ZN(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,c=Jr(o),u=ds(o);t[r]=n;let l=!1,f;if(Array.isArray(n)){let g=n;f=g[1],(f===null||qo(g,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let _=Jr(t[c+1]);t[r+1]=su(_,c),_!==0&&(t[_+1]=tf(t[_+1],r)),t[c+1]=QN(t[c+1],r)}else t[r+1]=su(c,0),c!==0&&(t[c+1]=tf(t[c+1],r)),c=r;else t[r+1]=su(u,0),c===0?c=r:t[u+1]=tf(t[u+1],r),u=r;l&&(t[r+1]=Uf(t[r+1])),Gw(t,f,r,!0),Gw(t,f,r,!1),JN(e,f,t,r,s),o=su(c,u),s?e.classBindings=o:e.styleBindings=o}function JN(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&qo(s,e)>=0&&(n[r+1]=Bf(n[r+1]))}function Gw(t,e,n,r){let i=t[n+1],s=e===null,o=r?Jr(i):ds(i),c=!1;for(;o!==0&&(c===!1||s);){let u=t[o],l=t[o+1];XN(u,e)&&(c=!0,t[o+1]=r?Bf(l):Uf(l)),o=r?Jr(l):ds(l)}c&&(t[n+1]=r?Uf(i):Bf(i))}function XN(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?qo(t,e)>=0:!1}function Ww(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Ip(t,n,s[o],o,r)}function Yu(t,e){return ex(t,e,null,!0),Yu}function ex(t,e,n,r){let i=Ee(),s=xt(),o=sR(2);if(s.firstUpdatePass&&nx(s,t,o,r),e!==ei&&Qo(i,o,e)){let c=s.data[fs()];ax(s,c,i,i[Ue],t,i[o+1]=cx(e,n),r,o)}}function tx(t,e){return e>=t.expandoStartIndex}function nx(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[fs()],o=tx(t,n);ux(s,r)&&e===null&&!o&&(e=!1),e=rx(i,s,e,r),ZN(i,s,e,n,o,r)}}function rx(t,e,n,r){let i=uR(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=nf(null,t,e,n,r),n=$o(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=nf(i,t,e,n,r),s===null){let u=ix(t,e,r);u!==void 0&&Array.isArray(u)&&(u=nf(null,t,e,u[1],r),u=$o(u,e.attrs,r),sx(t,e,r,u))}else s=ox(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function ix(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ds(r)!==0)return t[Jr(r)]}function sx(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Jr(i)]=r}function ox(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=$o(r,o,n)}return $o(r,e.attrs,n)}function nf(t,e,n,r,i){let s=null,o=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<o&&(s=e[c],r=$o(r,s.hostAttrs,i),s!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function $o(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),hA(t,o,n?!0:e[++s]))}return t===void 0?null:t}function ax(t,e,n,r,i,s,o,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],f=YN(l)?Kw(u,e,n,i,ds(l),o):void 0;if(!Ou(f)){Ou(s)||KN(l)&&(s=Kw(u,null,n,i,c,o));let g=RI(fs(),n);vM(r,o,g,i,s)}}function Kw(t,e,n,r,i,s){let o=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,g=f===null,_=n[i+1];_===ei&&(_=g?St:void 0);let I=g?Gh(_,r):f===r?_:void 0;if(l&&!Ou(I)&&(I=Gh(u,r)),Ou(I)&&(c=I,o))return c;let A=t[i+1];i=o?Jr(A):ds(A)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(c=Gh(u,r))}return c}function Ou(t){return t!==void 0}function cx(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ht(Go(t)))),t}function ux(t,e){return(t.flags&(e?8:16))!==0}function Zu(t,e){gs("NgControlFlow");let n=Ee(),r=qu(),i=n[r]!==ei?n[r]:-1,s=i!==-1?Qw(n,tn+i):void 0,o=0;if(Qo(n,r,t)){let c=ae(null);try{if(s!==void 0&&XM(s,o),t!==-1){let u=tn+t,l=Qw(n,u),f=lx(n[J],u),g=Pf(l,f.tView.ssrId),_=ZM(n,f,e,{dehydratedView:g});UE(l,_,o,Nf(f,g))}}finally{ae(c)}}else if(s!==void 0){let c=JM(s,o);c!==void 0&&(c[Mt]=e)}}function Qw(t,e){return t[e]}function lx(t,e){return Jf(t,e)}function dx(t,e,n,r,i,s){let o=e.consts,c=Iu(o,i),u=Ku(e,t,2,r,c);return OE(e,n,u,Iu(o,s)),u.attrs!==null&&Ff(u,u.attrs,!1),u.mergedAttrs!==null&&Ff(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Z(t,e,n,r){let i=Ee(),s=xt(),o=tn+t,c=i[Ue],u=s.firstCreatePass?dx(o,s,i,e,n,r):s.data[o],l=hx(s,i,u,c,e,t);i[o]=l;let f=Zf(u);return zo(u,!0),bE(c,l,u),!BN(u)&&np()&&vp(s,i,l,u),YA()===0&&Yr(l,i),ZA(),f&&(NE(s,i,u),ME(s,u,i)),r!==null&&xE(i,u),Z}function ce(){let t=pt();FI()?rR():(t=t.parent,zo(t,!1));let e=t;eR(e)&&tR(),JA();let n=xt();return n.firstCreatePass&&(ip(n,t),CI(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&mR(e)&&Ww(n,e,Ee(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&yR(e)&&Ww(n,e,Ee(),e.stylesWithoutHost,!1),ce}function Xe(t,e,n,r){return Z(t,e,n,r),ce(),Xe}var hx=(t,e,n,r,i,s)=>(rp(!0),vE(r,i,hR()));function Ju(){return Ee()}var ku="en-US";var fx=ku;function px(t){typeof t=="string"&&(fx=t.toLowerCase().replace(/_/g,"-"))}var gx=(t,e,n)=>{};function et(t,e,n,r){let i=Ee(),s=xt(),o=pt();return ZE(s,i,i[Ue],o,t,e,r),et}function mx(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let c=e[yu],u=i[s+2];return c.length>u?c[u]:null}typeof o=="string"&&(s+=2)}return null}function ZE(t,e,n,r,i,s,o){let c=Zf(r),l=t.firstCreatePass&&GM(t),f=e[Mt],g=zM(e),_=!0;if(r.type&3||o){let x=Nt(r,e),N=o?o(x):x,F=g.length,q=o?pe=>o(nn(pe[r.index])):r.index,K=null;if(!o&&c&&(K=mx(t,e,i,r.index)),K!==null){let pe=K.__ngLastListenerFn__||K;pe.__ngNextListenerFn__=s,K.__ngLastListenerFn__=s,_=!1}else{s=Zw(r,e,f,s),gx(x,i,s);let pe=n.listen(N,i,s);g.push(s,pe),l&&l.push(i,q,F,F+1)}}else s=Zw(r,e,f,s);let I=r.outputs,A;if(_&&I!==null&&(A=I[i])){let x=A.length;if(x)for(let N=0;N<x;N+=2){let F=A[N],q=A[N+1],qe=e[F][q].subscribe(s),he=g.length;g.push(s,qe),l&&l.push(i,r.index,he,-(he+1))}}}function Yw(t,e,n,r){let i=ae(null);try{return Yt(6,e,n),n(r)!==!1}catch(s){return jE(t,s),!1}finally{Yt(7,e,n),ae(i)}}function Zw(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?hr(t.index,e):e;Dp(o,5);let c=Yw(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)c=Yw(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return c}}function Zo(t=1){return dR(t)}function Se(t,e=""){let n=Ee(),r=xt(),i=t+tn,s=r.firstCreatePass?Ku(r,i,1,e,null):r.data[i],o=yx(r,n,s,e,t);n[i]=o,np()&&vp(r,n,o,s),zo(s,!1)}var yx=(t,e,n,r,i)=>(rp(!0),tM(e[Ue],r));function Jo(t,e,n){let r=Ee(),i=WN(r,t,e,n);return i!==ei&&WM(r,fs(),i),Jo}function mr(t,e,n){YE(e)&&(e=e());let r=Ee(),i=qu();if(Qo(r,i,e)){let s=xt(),o=qI();RM(s,o,r,t,e,r[Ue],n,!1)}return mr}function ni(t,e){let n=YE(t);return n&&t.set(e),n}function yr(t,e){let n=Ee(),r=xt(),i=pt();return ZE(r,n,n[Ue],i,t,e),yr}function vx(t,e,n){let r=xt();if(r.firstCreatePass){let i=lr(t);$f(n,r.data,r.blueprint,i,!0),$f(e,r.data,r.blueprint,i,!1)}}function $f(t,e,n,r,i){if(t=ot(t),Array.isArray(t))for(let s=0;s<t.length;s++)$f(t[s],e,n,r,i);else{let s=xt(),o=Ee(),c=pt(),u=rs(t)?t:ot(t.provide),l=II(t),f=c.providerIndexes&1048575,g=c.directiveStart,_=c.providerIndexes>>20;if(rs(t)||!t.multi){let I=new Qr(l,i,ie),A=sf(u,e,i?f:f+_,g);A===-1?(wf(Cu(c,o),s,u),rf(s,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(I),o.push(I)):(n[A]=I,o[A]=I)}else{let I=sf(u,e,f+_,g),A=sf(u,e,f,f+_),x=I>=0&&n[I],N=A>=0&&n[A];if(i&&!N||!i&&!x){wf(Cu(c,o),s,u);let F=Ix(i?wx:_x,n.length,i,r,l);!i&&N&&(n[A].providerFactory=F),rf(s,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(F),o.push(F)}else{let F=JE(n[i?A:I],l,!i&&r);rf(s,t,I>-1?I:A,F)}!i&&r&&N&&n[A].componentProviders++}}}function rf(t,e,n,r){let i=rs(e),s=PA(e);if(i||s){let u=(s?ot(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function JE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function sf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function _x(t,e,n,r){return Hf(this.multi,[])}function wx(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=as(n,n[J],this.providerFactory.index,r);s=c.slice(0,o),Hf(i,s);for(let u=o;u<c.length;u++)s.push(c[u])}else s=[],Hf(i,s);return s}function Hf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Ix(t,e,n,r,i){let s=new Qr(t,n,ie);return s.multi=[],s.index=e,s.componentProviders=0,JE(s,i,r&&!n),s}function Xo(t,e=[]){return n=>{n.providersResolver=(r,i)=>vx(r,i?i(t):t,e)}}var Ex=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=vI(!1,r.type),s=i.length>0?Tp([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=B({token:e,providedIn:"environment",factory:()=>new e(Q(Rt))});let t=e;return t})();function Ot(t){gs("NgStandalone"),t.getStandaloneInjector=e=>e.get(Ex).getOrCreateStandaloneInjector(t)}var En=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},XE=new En("18.2.3");var Xu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var eD=new L("");function ri(t){return!!t&&typeof t.then=="function"}function tD(t){return!!t&&typeof t.subscribe=="function"}var nD=new L(""),rD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k(nD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(ri(o))r.push(o);else if(tD(o)){let c=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(c)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Sp=new L("");function Dx(){B_(()=>{throw new j(600,!1)})}function Cx(t){return t.isBoundToModule}var bx=10;function Tx(t,e,n){try{let r=n();return ri(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var vr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(LR),this.afterRenderManager=k(GN),this.zonelessEnabled=k(Cp),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new je,this.afterTick=new je,this.componentTypes=[],this.components=[],this.isStable=k(ps).hasPendingTasks.pipe(te(r=>!r)),this._injector=k(Rt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Nu;if(!this._injector.get(rD).done){let I=!s&&pI(r),A=!1;throw new j(405,A)}let c;s?c=r:c=this._injector.get(Zr).resolveComponentFactory(r),this.componentTypes.push(c.componentType);let u=Cx(c)?void 0:this._injector.get(dr),l=i||c.selector,f=c.create(ct.NULL,[],l,u),g=f.location.nativeElement,_=f.injector.get(eD,null);return _?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),lu(this.components,f),_?.unregisterApplication(g)}),this._loadComponent(f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new j(101,!1);let r=ae(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,ae(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(ls,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<bx;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:o}of this._views)Sx(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>$u(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;lu(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Sp,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>lu(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new j(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function lu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Sx(t,e,n,r){if(!n&&!$u(t))return;HE(t,e,n&&!r?0:1)}var qf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Ap=(()=>{let e=class e{compileModuleSync(r){return new jf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=gI(r),o=yE(s.declarations).reduce((c,u)=>{let l=zr(u);return l&&c.push(new Uo(l)),c},[]);return new qf(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ax=(()=>{let e=class e{constructor(){this.zone=k(me),this.changeDetectionScheduler=k(us),this.applicationRef=k(vr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Rx=new L("",{factory:()=>!1});function iD({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new me(ee(O({},oD()),{scheduleInRootZone:n})),[{provide:me,useFactory:t},{provide:ns,multi:!0,useFactory:()=>{let r=k(Ax,{optional:!0});return()=>r.initialize()}},{provide:ns,multi:!0,useFactory:()=>{let r=k(Mx);return()=>{r.initialize()}}},e===!0?{provide:WE,useValue:!0}:[],{provide:KE,useValue:n??rE}]}function sD(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=iD({ngZoneFactory:()=>{let i=oD(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&gs("NgZone_CoalesceEvent"),new me(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return rn([{provide:Rx,useValue:!0},{provide:Cp,useValue:!1},r])}function oD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Mx=(()=>{let e=class e{constructor(){this.subscription=new Ce,this.initialized=!1,this.zone=k(me),this.pendingTasks=k(ps)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{me.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{me.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Nx=(()=>{let e=class e{constructor(){this.appRef=k(vr),this.taskService=k(ps),this.ngZone=k(me),this.zonelessEnabled=k(Cp),this.disableScheduling=k(WE,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ce,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Tu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(KE,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof bf||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Pw:sE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Tu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Pw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xx(){return typeof $localize<"u"&&$localize.locale||ku}var Rp=new L("",{providedIn:"root",factory:()=>k(Rp,Y.Optional|Y.SkipSelf)||xx()});var aD=new L("");function ou(t){return!!t.platformInjector}function Px(t){let e=ou(t)?t.r3Injector:t.moduleRef.injector,n=e.get(me);return n.run(()=>{ou(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(wn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),ou(t)){let s=()=>e.destroy(),o=t.platformInjector.get(aD);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{lu(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return Tx(r,n,()=>{let s=e.get(rD);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Rp,ku);if(px(o||ku),ou(t)){let c=e.get(vr);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return Ox(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function Ox(t,e){let n=t.injector.get(vr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new j(-403,!1);e.push(t)}var du=null;function kx(t=[],e){return ct.create({name:e,providers:[{provide:ju,useValue:"platform"},{provide:aD,useValue:new Set([()=>du=null])},...t]})}function Fx(t=[]){if(du)return du;let e=kx(t);return du=e,Dx(),Lx(e),e}function Lx(t){t.get(dp,null)?.forEach(n=>n())}var ii=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Vx;let t=e;return t})();function Vx(t){return jx(pt(),Ee(),(t&16)===16)}function jx(t,e,n){if(Bu(t)&&!n){let r=hr(t.index,e);return new cs(r,r)}else if(t.type&175){let r=e[en];return new cs(r,e)}return null}function cD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Fx(r),s=[iD({}),{provide:us,useExisting:Nx},...n||[]],o=new Pu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return Px({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var uD=new L("");function _r(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ea(t,e){gs("NgSignals");let n=V_(t);return e?.equal&&(n[yn].equal=e.equal),n}function Nn(t){let e=ae(null);try{return t()}finally{ae(e)}}var hD=null;function xn(){return hD}function fD(t){hD??=t}var el=class{};var wt=new L(""),pD=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>k(Bx),providedIn:"platform"});let t=e;return t})();var Bx=(()=>{let e=class e extends pD{constructor(){super(),this._doc=k(wt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return xn().getBaseHref(this._doc)}onPopState(r){let i=xn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=xn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function gD(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function lD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function si(t){return t&&t[0]!=="?"?"?"+t:t}var ys=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>k(mD),providedIn:"root"});let t=e;return t})(),$x=new L(""),mD=(()=>{let e=class e extends ys{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(wt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return gD(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+si(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let c=this.prepareExternalUrl(s+si(o));this._platformLocation.pushState(r,i,c)}replaceState(r,i,s,o){let c=this.prepareExternalUrl(s+si(o));this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(Q(pD),Q($x,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ta=(()=>{let e=class e{constructor(r){this._subject=new Te,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=zx(lD(dD(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+si(i))}normalize(r){return e.stripTrailingSlash(qx(this._basePath,dD(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+si(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+si(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=si,e.joinWithSlash=gD,e.stripTrailingSlash=lD,e.\u0275fac=function(i){return new(i||e)(Q(ys))},e.\u0275prov=B({token:e,factory:()=>Hx(),providedIn:"root"});let t=e;return t})();function Hx(){return new ta(Q(ys))}function qx(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function dD(t){return t.replace(/\/index.html$/,"")}function zx(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function yD(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Np=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Cn({type:e}),e.\u0275inj=Dn({});let t=e;return t})(),vD="browser",Gx="server";function xp(t){return t===Gx}var tl=class{};var kp=class extends el{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Fp=class t extends kp{static makeCurrent(){fD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Kx();return n==null?null:Qx(n)}resetBaseElement(){na=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return yD(document.cookie,e)}},na=null;function Kx(){return na=na||document.querySelector("base"),na?na.getAttribute("href"):null}function Qx(t){return new URL(t,document.baseURI).pathname}var Yx=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),nl=new L(""),ED=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new j(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(Q(nl),Q(me))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),ra=class{constructor(e){this._doc=e}},Pp="ng-app-id",DD=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=xp(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Pp}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Pp),o;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(Pp,this.appId),r.appendChild(c),c}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,c=o.get(i)?.elements;c?c.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(Q(wt),Q(lp),Q(hp,8),Q(gr))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Op={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Vp=/%COMP%/g,CD="%COMP%",Zx=`_nghost-${CD}`,Jx=`_ngcontent-${CD}`,Xx=!0,eP=new L("",{providedIn:"root",factory:()=>Xx});function tP(t){return Jx.replace(Vp,t)}function nP(t){return Zx.replace(Vp,t)}function bD(t,e){return e.map(n=>n.replace(Vp,t))}var _D=(()=>{let e=class e{constructor(r,i,s,o,c,u,l,f=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=c,this.platformId=u,this.ngZone=l,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=xp(u),this.defaultRenderer=new ia(r,c,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Jt.ShadowDom&&(i=ee(O({},i),{encapsulation:Jt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof rl?s.applyToHost(r):s instanceof sa&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let c=this.doc,u=this.ngZone,l=this.eventManager,f=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(i.encapsulation){case Jt.Emulated:o=new rl(l,f,i,this.appId,g,c,u,_);break;case Jt.ShadowDom:return new Lp(l,f,r,i,c,u,this.nonce,_);default:o=new sa(l,f,i,g,c,u,_);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(Q(ED),Q(DD),Q(lp),Q(eP),Q(wt),Q(gr),Q(me),Q(hp))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),ia=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Op[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(wD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(wD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Op[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Op[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(In.DashCase|In.Important)?e.style.setProperty(n,r,i&In.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&In.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=xn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function wD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Lp=class extends ia{constructor(e,n,r,i,s,o,c,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=bD(i.id,i.styles);for(let f of l){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},sa=class extends ia{constructor(e,n,r,i,s,o,c,u){super(e,s,o,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?bD(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},rl=class extends sa{constructor(e,n,r,i,s,o,c,u){let l=i+"-"+r.id;super(e,n,r,s,o,c,u,l),this.contentAttr=tP(l),this.hostAttr=nP(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},rP=(()=>{let e=class e extends ra{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(Q(wt))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),iP=(()=>{let e=class e extends ra{constructor(r){super(r),this.delegate=k(uD,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(Q(wt))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),ID=["alt","control","meta","shift"],sP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oP={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},aP=(()=>{let e=class e extends ra{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),c=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xn().onAndCancel(r,o.domEventName,c))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),c="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),c="code."),ID.forEach(f=>{let g=i.indexOf(f);g>-1&&(i.splice(g,1),c+=f+".")}),c+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=c,l}static matchEventFullKeyCode(r,i){let s=sP[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),ID.forEach(c=>{if(c!==s){let u=oP[c];u(r)&&(o+=c+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(Q(wt))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function TD(t,e){return cD(O({rootComponent:t},cP(e)))}function cP(t){return{appProviders:[...fP,...t?.providers??[]],platformProviders:hP}}function uP(){Fp.makeCurrent()}function lP(){return new wn}function dP(){return hE(document),document}var hP=[{provide:gr,useValue:vD},{provide:dp,useValue:uP,multi:!0},{provide:wt,useFactory:dP,deps:[]}];var fP=[{provide:ju,useValue:"root"},{provide:wn,useFactory:lP,deps:[]},{provide:nl,useClass:rP,multi:!0,deps:[wt,me,gr]},{provide:nl,useClass:aP,multi:!0,deps:[wt]},{provide:nl,useClass:iP,multi:!0},_D,DD,ED,{provide:ls,useExisting:_D},{provide:tl,useClass:Yx,deps:[]},[]];var SD=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(Q(wt))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var W="primary",Ia=Symbol("RouteTitle"),Hp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ds(t){return new Hp(t)}function gP(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=t[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function mP(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!sn(t[n],e[n]))return!1;return!0}function sn(t,e){let n=t?qp(t):void 0,r=e?qp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!kD(t[i],e[i]))return!1;return!0}function qp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function kD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function FD(t){return t.length>0?t[t.length-1]:null}function Ir(t){return Vh(t)?t:ri(t)?be(Promise.resolve(t)):G(t)}var yP={exact:VD,subset:jD},LD={exact:vP,subset:_P,ignored:()=>!0};function AD(t,e,n){return yP[n.paths](t.root,e.root,n.matrixParams)&&LD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function vP(t,e){return sn(t,e)}function VD(t,e,n){if(!ai(t.segments,e.segments)||!ol(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!VD(t.children[r],e.children[r],n))return!1;return!0}function _P(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>kD(t[n],e[n]))}function jD(t,e,n){return UD(t,e,e.segments,n)}function UD(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ai(i,n)||e.hasChildren()||!ol(i,n,r))}else if(t.segments.length===n.length){if(!ai(t.segments,n)||!ol(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!jD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ai(t.segments,i)||!ol(t.segments,i,r)||!t.children[W]?!1:UD(t.children[W],e,s,r)}}function ol(t,e,n){return e.every((r,i)=>LD[n](t[i].parameters,r.parameters))}var On=class{constructor(e=new ge([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ds(this.queryParams),this._queryParamMap}toString(){return EP.serialize(this)}},ge=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return al(this)}},oi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ds(this.parameters),this._parameterMap}toString(){return $D(this)}};function wP(t,e){return ai(t,e)&&t.every((n,r)=>sn(n.parameters,e[r].parameters))}function ai(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function IP(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===W&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==W&&(n=n.concat(e(i,r)))}),n}var mg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>new ha,providedIn:"root"});let t=e;return t})(),ha=class{parse(e){let n=new Gp(e);return new On(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${oa(e.root,!0)}`,r=bP(e.queryParams),i=typeof e.fragment=="string"?`#${DP(e.fragment)}`:"";return`${n}${r}${i}`}},EP=new ha;function al(t){return t.segments.map(e=>$D(e)).join("/")}function oa(t,e){if(!t.hasChildren())return al(t);if(e){let n=t.children[W]?oa(t.children[W],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==W&&r.push(`${i}:${oa(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=IP(t,(r,i)=>i===W?[oa(t.children[W],!1)]:[`${i}:${oa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[W]!=null?`${al(t)}/${n[0]}`:`${al(t)}/(${n.join("//")})`}}function BD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function il(t){return BD(t).replace(/%3B/gi,";")}function DP(t){return encodeURI(t)}function zp(t){return BD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cl(t){return decodeURIComponent(t)}function RD(t){return cl(t.replace(/\+/g,"%20"))}function $D(t){return`${zp(t.path)}${CP(t.parameters)}`}function CP(t){return Object.entries(t).map(([e,n])=>`;${zp(e)}=${zp(n)}`).join("")}function bP(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${il(n)}=${il(i)}`).join("&"):`${il(n)}=${il(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var TP=/^[^\/()?;#]+/;function jp(t){let e=t.match(TP);return e?e[0]:""}var SP=/^[^\/()?;=#]+/;function AP(t){let e=t.match(SP);return e?e[0]:""}var RP=/^[^=?&#]+/;function MP(t){let e=t.match(RP);return e?e[0]:""}var NP=/^[^&#]+/;function xP(t){let e=t.match(NP);return e?e[0]:""}var Gp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[W]=new ge(e,n)),r}parseSegment(){let e=jp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new oi(cl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=AP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=jp(this.remaining);i&&(r=i,this.capture(r))}e[cl(n)]=cl(r)}parseQueryParam(e){let n=MP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=xP(this.remaining);o&&(r=o,this.capture(r))}let i=RD(n),s=RD(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=jp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=W);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[W]:new ge([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function HD(t){return t.segments.length>0?new ge([],{[W]:t}):t}function qD(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=qD(i);if(r===W&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ge(t.segments,e);return PP(n)}function PP(t){if(t.numberOfChildren===1&&t.children[W]){let e=t.children[W];return new ge(t.segments.concat(e.segments),e.children)}return t}function ci(t){return t instanceof On}function OP(t,e,n=null,r=null){let i=zD(t);return GD(i,e,n,r)}function zD(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let c=new ge(s.url,o);return s===t&&(e=c),c}let r=n(t.root),i=HD(r);return e??i}function GD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Up(i,i,i,n,r);let s=kP(e);if(s.toRoot())return Up(i,i,new ge([],{}),n,r);let o=FP(s,i,t),c=o.processChildren?ua(o.segmentGroup,o.index,s.commands):KD(o.segmentGroup,o.index,s.commands);return Up(i,o.segmentGroup,c,n,r)}function ul(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function fa(t){return typeof t=="object"&&t!=null&&t.outlets}function Up(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let o;t===e?o=n:o=WD(t,e,n);let c=HD(qD(o));return new On(c,s,i)}function WD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=WD(s,e,n)}),new ge(t.segments,r)}var ll=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ul(r[0]))throw new j(4003,!1);let i=r.find(fa);if(i&&i!==FD(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function kP(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ll(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new ll(n,e,r)}var ws=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function FP(t,e,n){if(t.isAbsolute)return new ws(e,!0,0);if(!n)return new ws(e,!1,NaN);if(n.parent===null)return new ws(n,!0,0);let r=ul(t.commands[0])?0:1,i=n.segments.length-1+r;return LP(n,i,t.numberOfDoubleDots)}function LP(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new ws(r,!1,i-s)}function VP(t){return fa(t[0])?t[0].outlets:{[W]:t}}function KD(t,e,n){if(t??=new ge([],{}),t.segments.length===0&&t.hasChildren())return ua(t,e,n);let r=jP(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ge(t.segments.slice(0,r.pathIndex),{});return s.children[W]=new ge(t.segments.slice(r.pathIndex),t.children),ua(s,0,i)}else return r.match&&i.length===0?new ge(t.segments,{}):r.match&&!t.hasChildren()?Wp(t,e,n):r.match?ua(t,0,i):Wp(t,e,n)}function ua(t,e,n){if(n.length===0)return new ge(t.segments,{});{let r=VP(n),i={};if(Object.keys(r).some(s=>s!==W)&&t.children[W]&&t.numberOfChildren===1&&t.children[W].segments.length===0){let s=ua(t.children[W],e,n);return new ge(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=KD(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ge(t.segments,i)}}function jP(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],c=n[r];if(fa(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!ND(u,l,o))return s;r+=2}else{if(!ND(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Wp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(fa(s)){let u=UP(s.outlets);return new ge(r,u)}if(i===0&&ul(n[0])){let u=t.segments[e];r.push(new oi(u.path,MD(n[0]))),i++;continue}let o=fa(s)?s.outlets[W]:`${s}`,c=i<n.length-1?n[i+1]:null;o&&c&&ul(c)?(r.push(new oi(o,MD(c))),i+=2):(r.push(new oi(o,{})),i++)}return new ge(r,{})}function UP(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Wp(new ge([],{}),0,r))}),e}function MD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function ND(t,e,n){return t==n.path&&sn(e,n.parameters)}var la="imperative",We=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(We||{}),kt=class{constructor(e,n){this.id=e,this.url=n}},pa=class extends kt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=We.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},wr=class extends kt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=We.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Et=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Et||{}),Kp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Kp||{}),Pn=class extends kt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=We.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ui=class extends kt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=We.NavigationSkipped}},ga=class extends kt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=We.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},dl=class extends kt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qp=class extends kt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yp=class extends kt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=We.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Zp=class extends kt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jp=class extends kt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xp=class{constructor(e){this.route=e,this.type=We.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},eg=class{constructor(e){this.route=e,this.type=We.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},tg=class{constructor(e){this.snapshot=e,this.type=We.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ng=class{constructor(e){this.snapshot=e,this.type=We.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rg=class{constructor(e){this.snapshot=e,this.type=We.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ig=class{constructor(e){this.snapshot=e,this.type=We.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ma=class{},Cs=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function BP(t,e){return t.providers&&!t._injector&&(t._injector=Tp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Gt(t){return t.outlet||W}function $P(t,e){let n=t.filter(r=>Gt(r)===e);return n.push(...t.filter(r=>Gt(r)!==e)),n}function Ea(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var sg=class{get injector(){return Ea(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new vl(this.rootInjector),this.attachRef=null}},vl=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new sg(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(Q(Rt))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=og(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=og(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=ag(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ag(e,this._root).map(n=>n.value)}};function og(t,e){if(t===e.value)return e;for(let n of e.children){let r=og(t,n);if(r)return r}return null}function ag(t,e){if(t===e.value)return[e];for(let n of e.children){let r=ag(t,n);if(r.length)return r.unshift(e),r}return[]}var It=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function _s(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var fl=class extends hl{constructor(e,n){super(e),this.snapshot=n,yg(this,e)}toString(){return this.snapshot.toString()}};function QD(t){let e=HP(t),n=new Ge([new oi("",{})]),r=new Ge({}),i=new Ge({}),s=new Ge({}),o=new Ge(""),c=new li(n,r,s,o,i,W,t,e.root);return c.snapshot=e.root,new fl(new It(c,[]),e)}function HP(t){let e={},n={},r={},i="",s=new Is([],e,r,i,n,W,t,null,{});return new gl("",new It(s,[]))}var li=class{constructor(e,n,r,i,s,o,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(te(l=>l[Ia]))??G(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(te(e=>Ds(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(te(e=>Ds(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function pl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),i?.data),t._resolvedData)}:r={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},i&&ZD(i)&&(r.resolve[Ia]=i.title),r}var Is=class{get title(){return this.data?.[Ia]}constructor(e,n,r,i,s,o,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ds(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ds(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},gl=class extends hl{constructor(e,n){super(n),this.url=e,yg(this,n)}toString(){return YD(this._root)}};function yg(t,e){e.value._routerState=t,e.children.forEach(n=>yg(t,n))}function YD(t){let e=t.children.length>0?` { ${t.children.map(YD).join(", ")} } `:"";return`${t.value}${e}`}function Bp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,sn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),sn(e.params,n.params)||t.paramsSubject.next(n.params),mP(e.url,n.url)||t.urlSubject.next(n.url),sn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function cg(t,e){let n=sn(t.params,e.params)&&wP(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||cg(t.parent,e.parent))}function ZD(t){return typeof t.title=="string"||t.title===null}var vg=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=W,this.activateEvents=new Te,this.deactivateEvents=new Te,this.attachEvents=new Te,this.detachEvents=new Te,this.parentContexts=k(vl),this.location=k(Wo),this.changeDetector=k(ii),this.inputBinder=k(_g,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=r;let s=this.location,c=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new ug(r,u,s.injector);this.activated=s.createComponent(c,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Je({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[An]});let t=e;return t})(),ug=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===li?this.route:e===vl?this.childContexts:this.parent.get(e,n)}},_g=new L("");function qP(t,e,n){let r=ya(t,e._root,n?n._root:void 0);return new fl(r,e)}function ya(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=zP(t,e,n);return new It(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>ya(t,c)),o}}let r=GP(e.value),i=e.children.map(s=>ya(t,s));return new It(r,i)}}function zP(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ya(t,r,i);return ya(t,r)})}function GP(t){return new li(new Ge(t.url),new Ge(t.params),new Ge(t.queryParams),new Ge(t.fragment),new Ge(t.data),t.outlet,t.component,t)}var va=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},JD="ngNavigationCancelingError";function ml(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ci(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=XD(!1,Et.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function XD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[JD]=!0,n.cancellationCode=e,n}function WP(t){return eC(t)&&ci(t.url)}function eC(t){return!!t&&t[JD]}var KP=(t,e,n,r)=>te(i=>(new lg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),lg=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Bp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=_s(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=_s(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=_s(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=_s(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new ig(s.value.snapshot))}),e.children.length&&this.forwardEvent(new ng(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Bp(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Bp(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},yl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Es=class{constructor(e,n){this.component=e,this.route=n}};function QP(t,e,n){let r=t._root,i=e?e._root:null;return aa(r,i,n,[r.value])}function YP(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ts(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!eI(t)?t:e.get(t):r}function aa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=_s(e);return t.children.forEach(o=>{ZP(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>da(c,n.getContext(o),i)),i}function ZP(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=JP(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new yl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?aa(t,e,c?c.children:null,r,i):aa(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Es(c.outlet.component,o))}else o&&da(e,c,i),i.canActivateChecks.push(new yl(r)),s.component?aa(t,null,c?c.children:null,r,i):aa(t,null,n,r,i);return i}function JP(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ai(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ai(t.url,e.url)||!sn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cg(t,e)||!sn(t.queryParams,e.queryParams);case"paramsChange":default:return!cg(t,e)}}function da(t,e,n){let r=_s(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?da(o,e.children.getContext(s),n):da(o,null,n):da(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Es(e.outlet.component,i)):n.canDeactivateChecks.push(new Es(null,i)):n.canDeactivateChecks.push(new Es(null,i))}function Da(t){return typeof t=="function"}function XP(t){return typeof t=="boolean"}function eO(t){return t&&Da(t.canLoad)}function tO(t){return t&&Da(t.canActivate)}function nO(t){return t&&Da(t.canActivateChild)}function rO(t){return t&&Da(t.canDeactivate)}function iO(t){return t&&Da(t.canMatch)}function tC(t){return t instanceof vn||t?.name==="EmptyError"}var sl=Symbol("INITIAL_VALUE");function bs(){return Ut(t=>Xc(t.map(e=>e.pipe(_n(1),qh(sl)))).pipe(te(e=>{for(let n of e)if(n!==!0){if(n===sl)return sl;if(n===!1||sO(n))return n}return!0}),jt(e=>e!==sl),_n(1)))}function sO(t){return ci(t)||t instanceof va}function oO(t,e){return ke(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?G(ee(O({},n),{guardsResult:!0})):aO(o,r,i,t).pipe(ke(c=>c&&XP(c)?cO(r,s,t,e):G(c)),te(c=>ee(O({},n),{guardsResult:c})))})}function aO(t,e,n,r){return be(t).pipe(ke(i=>fO(i.component,i.route,n,e,r)),Qt(i=>i!==!0,!0))}function cO(t,e,n,r){return be(e).pipe(Wi(i=>Gi(lO(i.route.parent,r),uO(i.route,r),hO(t,i.path,n),dO(t,i.route,n))),Qt(i=>i!==!0,!0))}function uO(t,e){return t!==null&&e&&e(new rg(t)),G(!0)}function lO(t,e){return t!==null&&e&&e(new tg(t)),G(!0)}function dO(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return G(!0);let i=r.map(s=>eu(()=>{let o=Ea(e)??n,c=Ts(s,o),u=tO(c)?c.canActivate(e,t):bn(o,()=>c(e,t));return Ir(u).pipe(Qt())}));return G(i).pipe(bs())}function hO(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>YP(o)).filter(o=>o!==null).map(o=>eu(()=>{let c=o.guards.map(u=>{let l=Ea(o.node)??n,f=Ts(u,l),g=nO(f)?f.canActivateChild(r,t):bn(l,()=>f(r,t));return Ir(g).pipe(Qt())});return G(c).pipe(bs())}));return G(s).pipe(bs())}function fO(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return G(!0);let o=s.map(c=>{let u=Ea(e)??i,l=Ts(c,u),f=rO(l)?l.canDeactivate(t,e,n,r):bn(u,()=>l(t,e,n,r));return Ir(f).pipe(Qt())});return G(o).pipe(bs())}function pO(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return G(!0);let s=i.map(o=>{let c=Ts(o,t),u=eO(c)?c.canLoad(e,n):bn(t,()=>c(e,n));return Ir(u)});return G(s).pipe(bs(),nC(r))}function nC(t){return Mh(Fe(e=>{if(typeof e!="boolean")throw ml(t,e)}),te(e=>e===!0))}function gO(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return G(!0);let s=i.map(o=>{let c=Ts(o,t),u=iO(c)?c.canMatch(e,n):bn(t,()=>c(e,n));return Ir(u)});return G(s).pipe(bs(),nC(r))}var _a=class{constructor(e){this.segmentGroup=e||null}},wa=class extends Error{constructor(e){super(),this.urlTree=e}};function vs(t){return zi(new _a(t))}function mO(t){return zi(new j(4e3,!1))}function yO(t){return zi(XD(!1,Et.GuardRejected))}var dg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return G(r);if(i.numberOfChildren>1||!i.children[W])return mO(`${e.redirectTo}`);i=i.children[W]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let c=n,{queryParams:u,fragment:l,routeConfig:f,url:g,outlet:_,params:I,data:A,title:x}=i,N=bn(s,()=>c({params:I,data:A,queryParams:u,fragment:l,routeConfig:f,url:g,outlet:_,title:x}));if(N instanceof On)throw new wa(N);n=N}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new wa(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new On(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=n[c]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(e,u,r,i)}),new ge(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},hg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vO(t,e,n,r,i){let s=rC(t,e,n);return s.matched?(r=BP(e,r),gO(r,e,n,i).pipe(te(o=>o===!0?s:O({},hg)))):G(s)}function rC(t,e,n){if(e.path==="**")return _O(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},hg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||gP)(n,t,e);if(!i)return O({},hg);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?O(O({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function _O(t){return{matched:!0,parameters:t.length>0?FD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function xD(t,e,n,r){return n.length>0&&EO(t,n,r)?{segmentGroup:new ge(e,IO(r,new ge(n,t.children))),slicedSegments:[]}:n.length===0&&DO(t,n,r)?{segmentGroup:new ge(t.segments,wO(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ge(t.segments,t.children),slicedSegments:n}}function wO(t,e,n,r){let i={};for(let s of n)if(_l(t,e,s)&&!r[Gt(s)]){let o=new ge([],{});i[Gt(s)]=o}return O(O({},r),i)}function IO(t,e){let n={};n[W]=e;for(let r of t)if(r.path===""&&Gt(r)!==W){let i=new ge([],{});n[Gt(r)]=i}return n}function EO(t,e,n){return n.some(r=>_l(t,e,r)&&Gt(r)!==W)}function DO(t,e,n){return n.some(r=>_l(t,e,r))}function _l(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function CO(t,e,n){return e.length===0&&!t.children[n]}var fg=class{};function bO(t,e,n,r,i,s,o="emptyOnly"){return new pg(t,e,n,r,i,o,s).recognize()}var TO=31,pg=class{constructor(e,n,r,i,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new dg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=xD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(te(({children:n,rootSnapshot:r})=>{let i=new It(r,n),s=new gl("",i),o=OP(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Is([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),W,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,W,n).pipe(te(r=>({children:r,rootSnapshot:n})),ir(r=>{if(r instanceof wa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof _a?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(te(o=>o instanceof It?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return be(s).pipe(Wi(o=>{let c=r.children[o],u=$P(n,o);return this.processSegmentGroup(e,u,c,o,i)}),Hh((o,c)=>(o.push(...c),o)),sr(null),$h(),ke(o=>{if(o===null)return vs(r);let c=iC(o);return SO(c),G(c)}))}processSegment(e,n,r,i,s,o,c){return be(n).pipe(Wi(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,c).pipe(ir(l=>{if(l instanceof _a)return G(null);throw l}))),Qt(u=>!!u),ir(u=>{if(tC(u))return CO(r,i,s)?G(new fg):vs(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,c,u){return Gt(r)!==o&&(o===W||!_l(i,s,r))?vs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):vs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:g,remainingSegments:_}=rC(n,i,s);if(!u)return vs(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>TO&&(this.allowRedirects=!1));let I=new Is(s,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,PD(i),Gt(i),i.component??i._loadedComponent??null,i,OD(i)),A=pl(I,c,this.paramsInheritanceStrategy);I.params=Object.freeze(A.params),I.data=Object.freeze(A.data);let x=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,g,I,e);return this.applyRedirects.lineralizeSegments(i,x).pipe(ke(N=>this.processSegment(e,r,n,N.concat(_),o,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let c=vO(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(Ut(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ut(({routes:l})=>{let f=r._loadedInjector??e,{parameters:g,consumedSegments:_,remainingSegments:I}=u,A=new Is(_,g,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,PD(r),Gt(r),r.component??r._loadedComponent??null,r,OD(r)),x=pl(A,o,this.paramsInheritanceStrategy);A.params=Object.freeze(x.params),A.data=Object.freeze(x.data);let{segmentGroup:N,slicedSegments:F}=xD(n,_,I,l);if(F.length===0&&N.hasChildren())return this.processChildren(f,l,N,A).pipe(te(K=>new It(A,K)));if(l.length===0&&F.length===0)return G(new It(A,[]));let q=Gt(r)===s;return this.processSegment(f,l,N,F,q?W:s,!0,A).pipe(te(K=>new It(A,K instanceof It?[K]:[])))}))):vs(n)))}getChildConfig(e,n,r){return n.children?G({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?G({routes:n._loadedRoutes,injector:n._loadedInjector}):pO(e,n,r,this.urlSerializer).pipe(ke(i=>i?this.configLoader.loadChildren(e,n).pipe(Fe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):yO(n))):G({routes:[],injector:e})}};function SO(t){t.sort((e,n)=>e.value.outlet===W?-1:n.value.outlet===W?1:e.value.outlet.localeCompare(n.value.outlet))}function AO(t){let e=t.value.routeConfig;return e&&e.path===""}function iC(t){let e=[],n=new Set;for(let r of t){if(!AO(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=iC(r.children);e.push(new It(r.value,i))}return e.filter(r=>!n.has(r))}function PD(t){return t.data||{}}function OD(t){return t.resolve||{}}function RO(t,e,n,r,i,s){return ke(o=>bO(t,e,n,r,o.extractedUrl,i,s).pipe(te(({state:c,tree:u})=>ee(O({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function MO(t,e){return ke(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return G(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of sC(u))o.add(l);let c=0;return be(o).pipe(Wi(u=>s.has(u)?NO(u,r,t,e):(u.data=pl(u,u.parent,t).resolve,G(void 0))),Fe(()=>c++),Ki(1),ke(u=>c===o.size?G(n):yt))})}function sC(t){let e=t.children.map(n=>sC(n)).flat();return[t,...e]}function NO(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!ZD(i)&&(s[Ia]=i.title),xO(s,t,e,r).pipe(te(o=>(t._resolvedData=o,t.data=pl(t,t.parent,n).resolve,null)))}function xO(t,e,n,r){let i=qp(t);if(i.length===0)return G({});let s={};return be(i).pipe(ke(o=>PO(t[o],e,n,r).pipe(Qt(),Fe(c=>{if(c instanceof va)throw ml(new ha,c);s[o]=c}))),Ki(1),Bh(s),ir(o=>tC(o)?yt:zi(o)))}function PO(t,e,n,r){let i=Ea(e)??r,s=Ts(t,i),o=s.resolve?s.resolve(e,n):bn(i,()=>s(e,n));return Ir(o)}function $p(t){return Ut(e=>{let n=t(e);return n?be(n).pipe(te(()=>e)):G(e)})}var oC=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===W);return i}getResolvedTitleForRoute(r){return r.data[Ia]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>k(OO),providedIn:"root"});let t=e;return t})(),OO=(()=>{let e=class e extends oC{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(Q(SD))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wg=new L("",{providedIn:"root",factory:()=>({})}),kO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=_t({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ot],decls:1,vars:0,template:function(i,s){i&1&&Xe(0,"router-outlet")},dependencies:[vg],encapsulation:2});let t=e;return t})();function Ig(t){let e=t.children&&t.children.map(Ig),n=e?ee(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==W&&(n.component=kO),n}var Eg=new L(""),FO=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(Ap)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return G(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Ir(r.loadComponent()).pipe(te(aC),Fe(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),xo(()=>{this.componentLoaders.delete(r)})),s=new Bi(i,()=>new je).pipe(Ui());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return G({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=LO(i,this.compiler,r,this.onLoadEndListener).pipe(xo(()=>{this.childrenLoaders.delete(i)})),c=new Bi(o,()=>new je).pipe(Ui());return this.childrenLoaders.set(i,c),c}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function LO(t,e,n,r){return Ir(t.loadChildren()).pipe(te(aC),ke(i=>i instanceof Bo||Array.isArray(i)?G(i):be(e.compileModuleAsync(i))),te(i=>{r&&r(t);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(n).injector,o=s.get(Eg,[],{optional:!0,self:!0}).flat()),{routes:o.map(Ig),injector:s}}))}function VO(t){return t&&typeof t=="object"&&"default"in t}function aC(t){return VO(t)?t.default:t}var Dg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>k(jO),providedIn:"root"});let t=e;return t})(),jO=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),UO=new L("");var BO=new L(""),$O=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new je,this.transitionAbortSubject=new je,this.configLoader=k(FO),this.environmentInjector=k(Rt),this.urlSerializer=k(mg),this.rootContexts=k(vl),this.location=k(ta),this.inputBindingEnabled=k(_g,{optional:!0})!==null,this.titleStrategy=k(oC),this.options=k(wg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(Dg),this.createViewTransition=k(UO,{optional:!0}),this.navigationErrorHandler=k(BO,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Xp(s)),i=s=>this.events.next(new eg(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ee(O(O({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Ge({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:la,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(jt(o=>o.id!==0),te(o=>ee(O({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ut(o=>{let c=!1,u=!1;return G(o).pipe(Ut(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Et.SupersededByNewNavigation),yt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ee(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!f&&g!=="reload"){let _="";return this.events.next(new ui(l.id,this.urlSerializer.serialize(l.rawUrl),_,Kp.IgnoredSameUrlNavigation)),l.resolve(!1),yt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return G(l).pipe(Ut(_=>{let I=this.transitions?.getValue();return this.events.next(new pa(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),I!==this.transitions?.getValue()?yt:Promise.resolve(_)}),RO(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Fe(_=>{o.targetSnapshot=_.targetSnapshot,o.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation=ee(O({},this.currentNavigation),{finalUrl:_.urlAfterRedirects});let I=new dl(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(I)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:_,extractedUrl:I,source:A,restoredState:x,extras:N}=l,F=new pa(_,this.urlSerializer.serialize(I),A,x);this.events.next(F);let q=QD(this.rootComponentType).snapshot;return this.currentTransition=o=ee(O({},l),{targetSnapshot:q,urlAfterRedirects:I,extras:ee(O({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=I,G(o)}else{let _="";return this.events.next(new ui(l.id,this.urlSerializer.serialize(l.extractedUrl),_,Kp.IgnoredByUrlHandlingStrategy)),l.resolve(!1),yt}}),Fe(l=>{let f=new Qp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),te(l=>(this.currentTransition=o=ee(O({},l),{guards:QP(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),oO(this.environmentInjector,l=>this.events.next(l)),Fe(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw ml(this.urlSerializer,l.guardsResult);let f=new Yp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),jt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Et.GuardRejected),!1)),$p(l=>{if(l.guards.canActivateChecks.length)return G(l).pipe(Fe(f=>{let g=new Zp(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}),Ut(f=>{let g=!1;return G(f).pipe(MO(this.paramsInheritanceStrategy,this.environmentInjector),Fe({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(f,"",Et.NoDataFromResolver)}}))}),Fe(f=>{let g=new Jp(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}))}),$p(l=>{let f=g=>{let _=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(g.routeConfig).pipe(Fe(I=>{g.component=I}),te(()=>{})));for(let I of g.children)_.push(...f(I));return _};return Xc(f(l.targetSnapshot.root)).pipe(sr(null),_n(1))}),$p(()=>this.afterPreactivation()),Ut(()=>{let{currentSnapshot:l,targetSnapshot:f}=o,g=this.createViewTransition?.(this.environmentInjector,l.root,f.root);return g?be(g).pipe(te(()=>o)):G(o)}),te(l=>{let f=qP(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=ee(O({},l),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,o}),Fe(()=>{this.events.next(new ma)}),KP(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),_n(1),Fe({next:l=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new wr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{c=!0}}),zh(this.transitionAbortSubject.pipe(Fe(l=>{throw l}))),xo(()=>{!c&&!u&&this.cancelNavigationTransition(o,"",Et.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ir(l=>{if(u=!0,eC(l))this.events.next(new Pn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),WP(l)?this.events.next(new Cs(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let f=new ga(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let g=bn(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(g instanceof va){let{message:_,cancellationCode:I}=ml(this.urlSerializer,g);this.events.next(new Pn(o.id,this.urlSerializer.serialize(o.extractedUrl),_,I)),this.events.next(new Cs(g.redirectTo,g.navigationBehaviorOptions))}else{this.events.next(f);let _=r.errorHandler(l);o.resolve(!!_)}}catch(g){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(g)}}return yt}))}))}cancelNavigationTransition(r,i,s){let o=new Pn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function HO(t){return t!==la}var qO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>k(zO),providedIn:"root"});let t=e;return t})(),gg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},zO=(()=>{let e=class e extends gg{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=fr(e)))(s||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>k(GO),providedIn:"root"});let t=e;return t})(),GO=(()=>{let e=class e extends cC{constructor(){super(...arguments),this.location=k(ta),this.urlSerializer=k(mg),this.options=k(wg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(Dg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new On,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=QD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof pa)this.stateMemento=this.createStateMemento();else if(r instanceof ui)this.rawUrlTree=i.initialUrl;else if(r instanceof dl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof ma?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof Pn&&(r.code===Et.GuardRejected||r.code===Et.NoDataFromResolver)?this.restoreHistory(i):r instanceof ga?this.restoreHistory(i,!0):r instanceof wr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof On?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,c=O(O({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",c)}else{let o=O(O({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=fr(e)))(s||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ca=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ca||{});function WO(t,e){t.events.pipe(jt(n=>n instanceof wr||n instanceof Pn||n instanceof ga||n instanceof ui),te(n=>n instanceof wr||n instanceof ui?ca.COMPLETE:(n instanceof Pn?n.code===Et.Redirect||n.code===Et.SupersededByNewNavigation:!1)?ca.REDIRECTING:ca.FAILED),jt(n=>n!==ca.REDIRECTING),_n(1)).subscribe(()=>{e()})}function KO(t){throw t}var QO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},YO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},kn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(Xu),this.stateManager=k(cC),this.options=k(wg,{optional:!0})||{},this.pendingTasks=k(ps),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k($O),this.urlSerializer=k(mg),this.location=k(ta),this.urlHandlingStrategy=k(Dg),this._events=new je,this.errorHandler=this.options.errorHandler||KO,this.navigated=!1,this.routeReuseStrategy=k(qO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(Eg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(_g,{optional:!0}),this.eventsSubscription=new Ce,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Pn&&i.code!==Et.Redirect&&i.code!==Et.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof wr)this.navigated=!0;else if(i instanceof Cs){let c=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l=O({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||HO(s.source)},c);this.scheduleNavigation(u,la,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}JO(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),la,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},c=s?.navigationId?s:null;if(s){let l=O({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Ig),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:c,queryParamsHandling:u,preserveFragment:l}=i,f=l?this.currentUrlTree.fragment:c,g=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":g=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=o||null}g!==null&&(g=this.removeEmptyProps(g));let _;try{let I=s?s.snapshot:this.routerState.snapshot.root;_=zD(I)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),_=this.currentUrlTree.root}return GD(_,r,g,f??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=ci(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,la,null,i)}navigate(r,i={skipLocationChange:!1}){return ZO(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=O({},QO):i===!1?s=O({},YO):s=i,ci(r))return AD(this.currentUrlTree,r,s);let o=this.parseUrl(r);return AD(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,c){if(this.disposed)return Promise.resolve(!1);let u,l,f;c?(u=c.resolve,l=c.reject,f=c.promise):f=new Promise((_,I)=>{u=_,l=I});let g=this.pendingTasks.add();return WO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(_=>Promise.reject(_))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ZO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}function JO(t){return!(t instanceof ma)&&!(t instanceof Cs)}var uC=(()=>{let e=class e{constructor(r,i,s,o,c,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=c,this.locationStrategy=u,this.href=null,this.onChanges=new je,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(f=>{f instanceof wr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ci(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,c){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||c||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:gE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:ci(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(ie(kn),ie(li),op("tabindex"),ie(ti),ie(pr),ie(ys))},e.\u0275dir=Je({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&et("click",function(c){return s.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),i&2&&Yo("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",_r],skipLocationChange:[2,"skipLocationChange","skipLocationChange",_r],replaceUrl:[2,"replaceUrl","replaceUrl",_r],routerLink:"routerLink"},standalone:!0,features:[bp,An]});let t=e;return t})();var XO=new L("");function Cg(t,...e){return rn([{provide:Eg,multi:!0,useValue:t},[],{provide:li,useFactory:ek,deps:[kn]},{provide:Sp,multi:!0,useFactory:tk},e.map(n=>n.\u0275providers)])}function ek(t){return t.routerState.root}function tk(){let t=k(ct);return e=>{let n=t.get(vr);if(e!==n.components[0])return;let r=t.get(kn),i=t.get(nk);t.get(rk)===1&&r.initialNavigation(),t.get(ik,null,Y.Optional)?.setUpPreloading(),t.get(XO,null,Y.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var nk=new L("",{factory:()=>new je}),rk=new L("",{providedIn:"root",factory:()=>1});var ik=new L("");var hC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},sk=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},fC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=s>>2,g=(s&3)<<4|c>>4,_=(c&15)<<2|l>>6,I=l&63;u||(I=64,o||(_=64)),r.push(n[f],n[g],n[_],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||l==null||g==null)throw new Tg;let _=s<<2|c>>4;if(r.push(_),l!==64){let I=c<<4&240|l>>2;if(r.push(I),g!==64){let A=l<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Tg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},ok=function(t){let e=hC(t);return fC.encodeByteArray(e,!0)},Ca=function(t){return ok(t).replace(/\./g,"")},Ag=function(t){try{return fC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ak(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var ck=()=>ak().__FIREBASE_DEFAULTS__,uk=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ag(t[1]);return e&&JSON.parse(e)},Il=()=>{try{return ck()||uk()||lk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Rg=t=>{var e,n;return(n=(e=Il())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},pC=t=>{let e=Rg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Mg=()=>{var t;return(t=Il())===null||t===void 0?void 0:t.config},Ng=t=>{var e;return(e=Il())===null||e===void 0?void 0:e[`_${t}`]};var wl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function gC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ca(JSON.stringify(n)),Ca(JSON.stringify(o)),""].join(".")}function Be(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function dk(){var t;let e=(t=Il())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _C(){let t=Be();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wC(){return!dk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xg(){try{return typeof indexedDB=="object"}catch{return!1}}function IC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var hk="FirebaseError",Dt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hk,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fn.prototype.create)}},Fn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?fk(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Dt(i,c,r)}};function fk(t,e){return t.replace(pk,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var pk=/\{\$([^}]+)}/g;function EC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function di(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(dC(s)&&dC(o)){if(!di(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function dC(t){return t!==null&&typeof t=="object"}function ba(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ss(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function As(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function DC(t,e){let n=new Sg(t,e);return n.subscribe.bind(n)}var Sg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=bg),i.error===void 0&&(i.error=bg),i.complete===void 0&&(i.complete=bg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function gk(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bg(){}var aG=4*60*60*1e3;function ut(t){return t&&t._delegate?t._delegate:t}var Ft=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var hi="[DEFAULT]";var Pg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new wl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yk(e))try{this.getOrInitializeService({instanceIdentifier:hi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=hi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=hi){return this.instances.has(e)}getOptions(e=hi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hi){return this.component?this.component.multipleInstances?e:hi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function mk(t){return t===hi?void 0:t}function yk(t){return t.instantiationMode==="EAGER"}var El=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Pg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var vk=[],se=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(se||{}),_k={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},wk=se.INFO,Ik={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},Ek=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Ik[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Er=class{constructor(e){this.name=e,this._logLevel=wk,this._logHandler=Ek,this._userLogHandler=null,vk.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_k[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}};var Dk=(t,e)=>e.some(n=>t instanceof n),CC,bC;function Ck(){return CC||(CC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bk(){return bC||(bC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var TC=new WeakMap,kg=new WeakMap,SC=new WeakMap,Og=new WeakMap,Lg=new WeakMap;function Tk(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(on(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&TC.set(n,t)}).catch(()=>{}),Lg.set(e,t),e}function Sk(t){if(kg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});kg.set(t,e)}var Fg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||SC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return on(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AC(t){Fg=t(Fg)}function Ak(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Dl(this),e,...n);return SC.set(r,e.sort?e.sort():[e]),on(r)}:bk().includes(t)?function(...e){return t.apply(Dl(this),e),on(TC.get(this))}:function(...e){return on(t.apply(Dl(this),e))}}function Rk(t){return typeof t=="function"?Ak(t):(t instanceof IDBTransaction&&Sk(t),Dk(t,Ck())?new Proxy(t,Fg):t)}function on(t){if(t instanceof IDBRequest)return Tk(t);if(Og.has(t))return Og.get(t);let e=Rk(t);return e!==t&&(Og.set(t,e),Lg.set(e,t)),e}var Dl=t=>Lg.get(t);function MC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=on(o);return r&&o.addEventListener("upgradeneeded",u=>{r(on(o.result),u.oldVersion,u.newVersion,on(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var Mk=["get","getKey","getAll","getAllKeys","count"],Nk=["put","add","delete","clear"],Vg=new Map;function RC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vg.get(e))return Vg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Nk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Mk.includes(n)))return;let s=function(o,...c){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return Vg.set(e,s),s}AC(t=>ee(O({},t),{get:(e,n,r)=>RC(e,n)||t.get(e,n,r),has:(e,n)=>!!RC(e,n)||t.has(e,n)}));var Ug=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xk(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function xk(t){let e=t.getComponent();return e?.type==="VERSION"}var Bg="@firebase/app",NC="0.10.10";var Ln=new Er("@firebase/app"),Pk="@firebase/app-compat",Ok="@firebase/analytics-compat",kk="@firebase/analytics",Fk="@firebase/app-check-compat",Lk="@firebase/app-check",Vk="@firebase/auth",jk="@firebase/auth-compat",Uk="@firebase/database",Bk="@firebase/database-compat",$k="@firebase/functions",Hk="@firebase/functions-compat",qk="@firebase/installations",zk="@firebase/installations-compat",Gk="@firebase/messaging",Wk="@firebase/messaging-compat",Kk="@firebase/performance",Qk="@firebase/performance-compat",Yk="@firebase/remote-config",Zk="@firebase/remote-config-compat",Jk="@firebase/storage",Xk="@firebase/storage-compat",e1="@firebase/firestore",t1="@firebase/vertexai-preview",n1="@firebase/firestore-compat",r1="firebase",i1="10.13.1";var $g="[DEFAULT]",s1={[Bg]:"fire-core",[Pk]:"fire-core-compat",[kk]:"fire-analytics",[Ok]:"fire-analytics-compat",[Lk]:"fire-app-check",[Fk]:"fire-app-check-compat",[Vk]:"fire-auth",[jk]:"fire-auth-compat",[Uk]:"fire-rtdb",[Bk]:"fire-rtdb-compat",[$k]:"fire-fn",[Hk]:"fire-fn-compat",[qk]:"fire-iid",[zk]:"fire-iid-compat",[Gk]:"fire-fcm",[Wk]:"fire-fcm-compat",[Kk]:"fire-perf",[Qk]:"fire-perf-compat",[Yk]:"fire-rc",[Zk]:"fire-rc-compat",[Jk]:"fire-gcs",[Xk]:"fire-gcs-compat",[e1]:"fire-fst",[n1]:"fire-fst-compat",[t1]:"fire-vertex","fire-js":"fire-js",[r1]:"fire-js-all"};var Ta=new Map,o1=new Map,Hg=new Map;function xC(t,e){try{t.container.addComponent(e)}catch(n){Ln.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cr(t){let e=t.name;if(Hg.has(e))return Ln.debug(`There were multiple attempts to register component ${e}.`),!1;Hg.set(e,t);for(let n of Ta.values())xC(n,t);for(let n of o1.values())xC(n,t);return!0}function Aa(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Wt(t){return t.settings!==void 0}var a1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new Fn("app","Firebase",a1);var qg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ft("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}};var br=i1;function Wg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:$g,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Dr.create("bad-app-name",{appName:String(i)});if(n||(n=Mg()),!n)throw Dr.create("no-options");let s=Ta.get(i);if(s){if(di(n,s.options)&&di(r,s.config))return s;throw Dr.create("duplicate-app",{appName:i})}let o=new El(i);for(let u of Hg.values())o.addComponent(u);let c=new qg(n,r,o);return Ta.set(i,c),c}function Rs(t=$g){let e=Ta.get(t);if(!e&&t===$g&&Mg())return Wg();if(!e)throw Dr.create("no-app",{appName:t});return e}function Cl(){return Array.from(Ta.values())}function Le(t,e,n){var r;let i=(r=s1[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ln.warn(c.join(" "));return}Cr(new Ft(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var c1="firebase-heartbeat-database",u1=1,Sa="firebase-heartbeat-store",jg=null;function FC(){return jg||(jg=MC(c1,u1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Dr.create("idb-open",{originalErrorMessage:t.message})})),jg}function l1(t){return w(this,null,function*(){try{let n=(yield FC()).transaction(Sa),r=yield n.objectStore(Sa).get(LC(t));return yield n.done,r}catch(e){if(e instanceof Dt)Ln.warn(e.message);else{let n=Dr.create("idb-get",{originalErrorMessage:e?.message});Ln.warn(n.message)}}})}function PC(t,e){return w(this,null,function*(){try{let r=(yield FC()).transaction(Sa,"readwrite");yield r.objectStore(Sa).put(e,LC(t)),yield r.done}catch(n){if(n instanceof Dt)Ln.warn(n.message);else{let r=Dr.create("idb-set",{originalErrorMessage:n?.message});Ln.warn(r.message)}}})}function LC(t){return`${t.name}!${t.options.appId}`}var d1=1024,h1=30*24*60*60*1e3,zg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Gg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=OC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=h1}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ln.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=OC(),{heartbeatsToSend:r,unsentEntries:i}=f1(this._heartbeatsCache.heartbeats),s=Ca(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ln.warn(n),""}})}};function OC(){return new Date().toISOString().substring(0,10)}function f1(t,e=d1){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),kC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Gg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return xg()?IC().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield l1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return PC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return PC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function kC(t){return Ca(JSON.stringify({version:2,heartbeats:t})).length}function p1(t){Cr(new Ft("platform-logger",e=>new Ug(e),"PRIVATE")),Cr(new Ft("heartbeat",e=>new zg(e),"PRIVATE")),Le(Bg,NC,t),Le(Bg,NC,"esm2017"),Le("fire-js","")}p1("");var g1="firebase",m1="10.13.1";Le(g1,m1,"app");var pi=new En("ANGULARFIRE2_VERSION");function Tl(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ra=(t,e)=>{let n=e?[e]:Cl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Ns=class{constructor(){return Ra(y1)}},y1="app-check";function Ms(){}var bl=class{zone;delegate;constructor(e,n=Fh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Kg=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ms,{},Ms,Ms)),n.pipe(Fe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},xs=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new bl(Zone.current)),this.insideAngular=n.run(()=>new bl(Zone.current,kh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(Q(me))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Sl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function v1(t){return Sl().ngZone.runOutsideAngular(()=>t())}function fi(t){return Sl().ngZone.run(()=>t())}function _1(t){return w1(Sl())(t)}function w1(t){return function(n){return n=n.lift(new Kg(t.ngZone)),n.pipe(rr(t.outsideAngular),nr(t.insideAngular))}}var I1=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),fi(()=>t.apply(void 0,r))},Kt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=fi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ms,{},Ms,Ms))),r[s]=I1(r[s],n));let i=v1(()=>t.apply(this,r));if(!e)if(i instanceof ue){let s=Sl();return i.pipe(rr(s.outsideAngular),nr(s.insideAngular))}else return fi(()=>i);return i instanceof ue?i.pipe(_1):i instanceof Promise?fi(()=>new Promise((s,o)=>i.then(c=>fi(()=>s(c)),c=>fi(()=>o(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:fi(()=>i)};var Vn=class{constructor(e){return e}},gi=class{constructor(){return Cl()}};function E1(t){return t&&t.length===1?t[0]:new Vn(Rs())}var Qg=new L("angularfire2._apps"),D1={provide:Vn,useFactory:E1,deps:[[new ft,Qg]]},C1={provide:gi,deps:[[new ft,Qg]]};function b1(t){return(e,n)=>{let r=n.get(gr);Le("angularfire",pi.full,"core"),Le("angularfire",pi.full,"app"),Le("angular",XE.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Vn(i)}}function VC(t,...e){return rn([D1,C1,{provide:Qg,useFactory:b1(t),multi:!0,deps:[me,ct,xs,...e]}])}var jC=Kt(Wg,!0);function nb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var rb=nb,ib=new Fn("auth","Firebase",nb());var Pl=new Er("@firebase/auth");function T1(t,...e){Pl.logLevel<=se.WARN&&Pl.warn(`Auth (${br}): ${t}`,...e)}function Rl(t,...e){Pl.logLevel<=se.ERROR&&Pl.error(`Auth (${br}): ${t}`,...e)}function cn(t,...e){throw vm(t,...e)}function mi(t,...e){return vm(t,...e)}function sb(t,e,n){let r=Object.assign(Object.assign({},rb()),{[e]:n});return new Fn("auth","Firebase",r).create(e,{appName:t.name})}function Bn(t){return sb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ib.create(t,...e)}function $(t,e,...n){if(!t)throw vm(e,...n)}function jn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Rl(e),new Error(e)}function Sr(t,e){t||jn(e)}function Xg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function S1(){return UC()==="http:"||UC()==="https:"}function UC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function A1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(S1()||yC()||"connection"in navigator)?navigator.onLine:!0}function R1(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var yi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Sr(n>e,"Short delay should be less than long delay!"),this.isMobile=mC()||vC()}get(){return A1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function _m(t,e){Sr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Ol=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var M1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var N1=new yi(3e4,6e4);function Ar(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function $n(s,o,c,u){return w(this,arguments,function*(t,e,n,r,i={}){return ob(t,i,()=>w(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let g=ba(Object.assign({key:t.config.apiKey},f)).slice(1),_=yield t._getAdditionalHeaders();return _["Content-Type"]="application/json",t.languageCode&&(_["X-Firebase-Locale"]=t.languageCode),Ol.fetch()(ab(t,t.config.apiHost,n,g),Object.assign({method:e,headers:_,referrerPolicy:"no-referrer"},l))}))})}function ob(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},M1),e);try{let i=new em(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Al(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Al(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Al(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Al(t,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw sb(t,f,l);cn(t,f)}}catch(i){if(i instanceof Dt)throw i;cn(t,"network-request-failed",{message:String(i)})}})}function Fa(s,o,c,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield $n(t,e,n,r,i);return"mfaPendingCredential"in l&&cn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function ab(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?_m(t.config,i):`${t.config.apiScheme}://${i}`}function x1(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var em=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mi(this.auth,"network-request-failed")),N1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Al(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=mi(t,e,r);return i.customData._tokenResponse=n,i}function BC(t){return t!==void 0&&t.enterprise!==void 0}var tm=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return x1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function P1(t,e){return w(this,null,function*(){return $n(t,"GET","/v2/recaptchaConfig",Ar(t,e))})}function O1(t,e){return w(this,null,function*(){return $n(t,"POST","/v1/accounts:delete",e)})}function cb(t,e){return w(this,null,function*(){return $n(t,"POST","/v1/accounts:lookup",e)})}function Ma(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function wm(t,e=!1){return w(this,null,function*(){let n=ut(t),r=yield n.getIdToken(e),i=Im(r);$(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ma(Yg(i.auth_time)),issuedAtTime:Ma(Yg(i.iat)),expirationTime:Ma(Yg(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Yg(t){return Number(t)*1e3}function Im(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rl("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ag(n);return i?JSON.parse(i):(Rl("Failed to decode base64 JWT payload"),null)}catch(i){return Rl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function $C(t){let e=Im(t);return $(e,"internal-error"),$(typeof e.exp<"u","internal-error"),$(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ps(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Dt&&k1(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function k1({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var nm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var xa=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ma(this.lastLoginAt),this.creationTime=Ma(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function kl(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ps(t,cb(n,{idToken:r}));$(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?ub(s.providerUserInfo):[],c=F1(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!c?.length,f=u?l:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new xa(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,g)})}function Em(t){return w(this,null,function*(){let e=ut(t);yield kl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function F1(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ub(t){return t.map(e=>{var{providerId:n}=e,r=Lh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function L1(t,e){return w(this,null,function*(){let n=yield ob(t,{},()=>w(this,null,function*(){let r=ba({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=ab(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Ol.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function V1(t,e){return w(this,null,function*(){return $n(t,"POST","/v2/accounts:revokeToken",Ar(t,e))})}var Na=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$(e.idToken,"internal-error"),$(typeof e.idToken<"u","internal-error"),$(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$C(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){$(e.length!==0,"internal-error");let n=$C(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield L1(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&($(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&($(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&($(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return jn("not implemented")}};function Tr(t,e){$(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Os=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Lh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new xa(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield Ps(this,this.stsTokenManager.getToken(this.auth,e));return $(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return wm(this,e)}reload(){return Em(this)}_assign(e){this!==e&&($(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield kl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(Wt(this.auth.app))return Promise.reject(Bn(this.auth));let e=yield this.getIdToken();return yield Ps(this,O1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,u,l,f;let g=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,I=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(c=n.tenantId)!==null&&c!==void 0?c:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,q=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:K,emailVerified:pe,isAnonymous:qe,providerData:he,stsTokenManager:D}=n;$(K&&D,e,"internal-error");let m=Na.fromJSON(this.name,D);$(typeof K=="string",e,"internal-error"),Tr(g,e.name),Tr(_,e.name),$(typeof pe=="boolean",e,"internal-error"),$(typeof qe=="boolean",e,"internal-error"),Tr(I,e.name),Tr(A,e.name),Tr(x,e.name),Tr(N,e.name),Tr(F,e.name),Tr(q,e.name);let y=new t({uid:K,auth:e,email:_,emailVerified:pe,displayName:g,isAnonymous:qe,photoURL:A,phoneNumber:I,tenantId:x,stsTokenManager:m,createdAt:F,lastLoginAt:q});return he&&Array.isArray(he)&&(y.providerData=he.map(E=>Object.assign({},E))),N&&(y._redirectEventId=N),y}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new Na;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield kl(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];$(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?ub(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new Na;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new xa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var HC=new Map;function Un(t){Sr(t instanceof Function,"Expected a class definition");let e=HC.get(t);return e?(Sr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,HC.set(t,e),e)}var j1=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),rm=j1;function Ml(t,e,n){return`firebase:${t}:${e}:${n}`}var Fl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Ml(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ml("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Os._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(Un(rm),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Un(rm),o=Ml(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=yield l._get(o);if(f){let g=Os._fromJSON(e,f);l!==s&&(c=g),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function qC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gb(e))return"Blackberry";if(mb(e))return"Webos";if(db(e))return"Safari";if((e.includes("chrome/")||hb(e))&&!e.includes("edge/"))return"Chrome";if(pb(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function lb(t=Be()){return/firefox\//i.test(t)}function db(t=Be()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hb(t=Be()){return/crios\//i.test(t)}function fb(t=Be()){return/iemobile/i.test(t)}function pb(t=Be()){return/android/i.test(t)}function gb(t=Be()){return/blackberry/i.test(t)}function mb(t=Be()){return/webos/i.test(t)}function Dm(t=Be()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function U1(t=Be()){var e;return Dm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function B1(){return _C()&&document.documentMode===10}function yb(t=Be()){return Dm(t)||pb(t)||mb(t)||gb(t)||/windows phone/i.test(t)||fb(t)}function vb(t,e=[]){let n;switch(t){case"Browser":n=qC(Be());break;case"Worker":n=`${qC(Be())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${br}/${r}`}var im=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function $1(n){return w(this,arguments,function*(t,e={}){return $n(t,"GET","/v2/passwordPolicy",Ar(t,e))})}var H1=6,sm=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:H1,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var om=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ll(this),this.idTokenSubscription=new Ll(this),this.beforeStateQueue=new im(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ib,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Un(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Fl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield cb(this,{idToken:e}),r=yield Os._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(Wt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield kl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=R1()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(Wt(this.app))return Promise.reject(Bn(this));let n=e?ut(e):null;return n&&$(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&$(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return Wt(this.app)?Promise.reject(Bn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Wt(this.app)?Promise.reject(Bn(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Un(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield $1(this),n=new sm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield V1(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Un(e)||this._popupRedirectResolver;$(n,this,"argument-error"),this.redirectPersistenceManager=yield Fl.create(this,[Un(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if($(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&T1(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function _i(t){return ut(t)}var Ll=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=DC(n=>this.observer=n)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ql={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function q1(t){ql=t}function _b(t){return ql.loadJS(t)}function z1(){return ql.recaptchaEnterpriseScript}function G1(){return ql.gapiScript}function wb(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var W1="recaptcha-enterprise",K1="NO_RECAPTCHA",am=class{constructor(e){this.type=W1,this.auth=_i(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(s){return w(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,c)=>w(this,null,function*(){P1(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let l=new tm(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{c(u)})}))})}function i(s,o,c){let u=window.grecaptcha;BC(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(K1)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(c=>{if(!n&&BC(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=z1();u.length!==0&&(u+=c),_b(u).then(()=>{i(c,s,o)}).catch(l=>{o(l)})}}).catch(c=>{o(c)})})})}};function zC(t,e,n,r=!1){return w(this,null,function*(){let i=new am(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function cm(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield zC(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>w(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield zC(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function Cm(t,e){let n=Aa(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(di(s,e??{}))return i;cn(i,"already-initialized")}return n.initialize({options:e})}function Q1(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Un);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function bm(t,e,n){let r=_i(t);$(r._canInitEmulator,r,"emulator-config-failed"),$(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=Ib(e),{host:o,port:c}=Y1(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Z1()}function Ib(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Y1(t){let e=Ib(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:GC(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:GC(o)}}}function GC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Z1(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Pa=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jn("not implemented")}_getIdTokenResponse(e){return jn("not implemented")}_linkToIdToken(e,n){return jn("not implemented")}_getReauthenticationResolver(e){return jn("not implemented")}};function J1(t,e){return w(this,null,function*(){return $n(t,"POST","/v1/accounts:signUp",e)})}function X1(t,e){return w(this,null,function*(){return Fa(t,"POST","/v1/accounts:signInWithPassword",Ar(t,e))})}function eF(t,e){return w(this,null,function*(){return Fa(t,"POST","/v1/accounts:signInWithEmailLink",Ar(t,e))})}function tF(t,e){return w(this,null,function*(){return Fa(t,"POST","/v1/accounts:signInWithEmailLink",Ar(t,e))})}var Oa=class t extends Pa{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cm(e,n,"signInWithPassword",X1);case"emailLink":return eF(e,{email:this._email,oobCode:this._password});default:cn(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cm(e,r,"signUpPassword",J1);case"emailLink":return tF(e,{idToken:n,email:this._email,oobCode:this._password});default:cn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Zg(t,e){return w(this,null,function*(){return Fa(t,"POST","/v1/accounts:signInWithIdp",Ar(t,e))})}function nF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rF(t){let e=Ss(As(t)).link,n=e?Ss(As(e)).deep_link_id:null,r=Ss(As(t)).deep_link_id;return(r?Ss(As(r)).link:null)||r||n||e||t}var Vl=class t{constructor(e){var n,r,i,s,o,c;let u=Ss(As(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,g=nF((i=u.mode)!==null&&i!==void 0?i:null);$(l&&f&&g,"argument-error"),this.apiKey=l,this.operation=g,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let n=rF(e);try{return new t(n)}catch{return null}}};var Eb=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Oa._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Vl.parseLink(r);return $(i,"argument-error"),Oa._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),jl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var um=class extends jl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function iF(t,e){return w(this,null,function*(){return Fa(t,"POST","/v1/accounts:signUp",Ar(t,e))})}var ks=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield Os._fromIdTokenResponse(e,r,i),o=WC(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=WC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function WC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var lm=class t extends Dt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function Db(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?lm._fromErrorAndOperation(t,s,e,r):s})}function sF(t,e,n=!1){return w(this,null,function*(){let r=yield Ps(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ks._forOperation(t,"link",r)})}function oF(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(Wt(r.app))return Promise.reject(Bn(r));let i="reauthenticate";try{let s=yield Ps(t,Db(r,i,e,t),n);$(s.idToken,r,"internal-error");let o=Im(s.idToken);$(o,r,"internal-error");let{sub:c}=o;return $(t.uid===c,r,"user-mismatch"),ks._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&cn(r,"user-mismatch"),s}})}function Cb(t,e,n=!1){return w(this,null,function*(){if(Wt(t.app))return Promise.reject(Bn(t));let r="signIn",i=yield Db(t,r,e),s=yield ks._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Tm(t,e){return w(this,null,function*(){return Cb(_i(t),e)})}function bb(t){return w(this,null,function*(){let e=_i(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Sm(t,e,n){return w(this,null,function*(){if(Wt(t.app))return Promise.reject(Bn(t));let r=_i(t),o=yield cm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iF).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&bb(t),u}),c=yield ks._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(c.user),c})}function Am(t,e,n){return Wt(t.app)?Promise.reject(Bn(t)):Tm(ut(t),Eb.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&bb(t),r}))}function aF(t,e){return w(this,null,function*(){return $n(t,"POST","/v1/accounts:update",e)})}function Rm(r,i){return w(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let s=ut(t),c={idToken:yield s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=yield Ps(s,aF(s.auth,c));s.displayName=u.displayName||null,s.photoURL=u.photoUrl||null;let l=s.providerData.find(({providerId:f})=>f==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),yield s._updateTokensIfNecessary(u)})}function Mm(t,e,n,r){return ut(t).onIdTokenChanged(e,n,r)}function Nm(t,e,n){return ut(t).beforeAuthStateChanged(e,n)}var Ul="__sak";var Bl=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ul,"1"),this.storage.removeItem(Ul),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var cF=1e3,uF=10,lF=(()=>{class t extends Bl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yb(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);B1()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,uF):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},cF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield er(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield er(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield er(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),Tb=lF;var dF=(()=>{class t extends Bl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),xm=dF;function hF(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var fF=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(c).map(f=>w(this,null,function*(){return f(r.origin,o)})),l=yield hF(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Sb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var dm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{let l=Sb("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){let _=g;if(_.data.eventId===l)switch(_.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(_.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function an(){return window}function pF(t){an().location.href=t}function Ab(){return typeof an().WorkerGlobalScope<"u"&&typeof an().importScripts=="function"}function gF(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function mF(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function yF(){return Ab()?self:null}var Rb="firebaseLocalStorageDb",vF=1,$l="firebaseLocalStorage",Mb="fbase_key",vi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function zl(t,e){return t.transaction([$l],e?"readwrite":"readonly").objectStore($l)}function _F(){let t=indexedDB.deleteDatabase(Rb);return new vi(t).toPromise()}function hm(){let t=indexedDB.open(Rb,vF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore($l,{keyPath:Mb})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains($l)?e(r):(r.close(),yield _F(),e(yield hm()))}))})}function KC(t,e,n){return w(this,null,function*(){let r=zl(t,!0).put({[Mb]:e,value:n});return new vi(r).toPromise()})}function wF(t,e){return w(this,null,function*(){let n=zl(t,!1).get(e),r=yield new vi(n).toPromise();return r===void 0?null:r.value})}function QC(t,e){let n=zl(t,!0).delete(e);return new vi(n).toPromise()}var IF=800,EF=3,DF=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield hm(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>EF)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return Ab()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=fF._getInstance(yF()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield gF(),!this.activeServiceWorker)return;this.sender=new dm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||mF()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield hm();return yield KC(n,Ul,"1"),yield QC(n,Ul),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>KC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>wF(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>QC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=zl(s,!1).getAll();return new vi(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),IF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),Nb=DF;var eW=wb("rcb"),tW=new yi(3e4,6e4);function CF(t,e){return e?Un(e):($(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ka=class extends Pa{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zg(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zg(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zg(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function bF(t){return Cb(t.auth,new ka(t),t.bypassAuthState)}function TF(t){let{auth:e,user:n}=t;return $(n,e,"internal-error"),oF(n,new ka(t),t.bypassAuthState)}function SF(t){return w(this,null,function*(){let{auth:e,user:n}=t;return $(n,e,"internal-error"),sF(n,new ka(t),t.bypassAuthState)})}var fm=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bF;case"linkViaPopup":case"linkViaRedirect":return SF;case"reauthViaPopup":case"reauthViaRedirect":return TF;default:cn(this.auth,"internal-error")}}resolve(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var nW=new yi(2e3,1e4);var AF="pendingRedirect",Nl=new Map,pm=class t extends fm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=Nl.get(this.auth._key());if(!e){try{let r=(yield RF(this.resolver,this.auth))?yield er(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Nl.set(this.auth._key(),e)}return this.bypassAuthState||Nl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return er(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,er(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function RF(t,e){return w(this,null,function*(){let n=xF(e),r=NF(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function MF(t,e){Nl.set(t._key(),e)}function NF(t){return Un(t._redirectPersistence)}function xF(t){return Ml(AF,t.config.apiKey,t.name)}function PF(t,e,n=!1){return w(this,null,function*(){if(Wt(t.app))return Promise.reject(Bn(t));let r=_i(t),i=CF(r,e),o=yield new pm(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var OF=10*60*1e3,gm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!xb(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(mi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OF&&this.cachedEventUids.clear(),this.cachedEventUids.has(YC(e))}saveEventToCache(e){this.cachedEventUids.add(YC(e)),this.lastProcessedEventTime=Date.now()}};function YC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xb({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function kF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xb(t);default:return!1}}function FF(n){return w(this,arguments,function*(t,e={}){return $n(t,"GET","/v1/projects",e)})}var LF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VF=/^https?/;function jF(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield FF(t);for(let n of e)try{if(UF(n))return}catch{}cn(t,"unauthorized-domain")})}function UF(t){let e=Xg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!VF.test(n))return!1;if(LF.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var BF=new yi(3e4,6e4);function ZC(){let t=an().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $F(t){return new Promise((e,n)=>{var r,i,s;function o(){ZC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZC(),n(mi(t,"network-request-failed"))},timeout:BF.get()})}if(!((i=(r=an().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=an().gapi)===null||s===void 0)&&s.load)o();else{let c=wb("iframefcb");return an()[c]=()=>{gapi.load?o():n(mi(t,"network-request-failed"))},_b(`${G1()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw xl=null,e})}var xl=null;function HF(t){return xl=xl||$F(t),xl}var qF=new yi(5e3,15e3),zF="__/auth/iframe",GF="emulator/auth/iframe",WF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QF(t){let e=t.config;$(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?_m(e,GF):`https://${t.config.authDomain}/${zF}`,r={apiKey:e.apiKey,appName:t.name,v:br},i=KF.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ba(r).slice(1)}`}function YF(t){return w(this,null,function*(){let e=yield HF(t),n=an().gapi;return $(n,t,"internal-error"),e.open({where:document.body,url:QF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WF,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=mi(t,"network-request-failed"),c=an().setTimeout(()=>{s(o)},qF.get());function u(){an().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var ZF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JF=500,XF=600,eL="_blank",tL="http://localhost",Hl=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function nL(t,e,n,r=JF,i=XF){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},ZF),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Be().toLowerCase();n&&(c=hb(l)?eL:n),lb(l)&&(e=e||tL,u.scrollbars="yes");let f=Object.entries(u).reduce((_,[I,A])=>`${_}${I}=${A},`,"");if(U1(l)&&c!=="_self")return rL(e||"",c),new Hl(null);let g=window.open(e||"",c,f);$(g,t,"popup-blocked");try{g.focus()}catch{}return new Hl(g)}function rL(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var iL="__/auth/handler",sL="emulator/auth/handler",oL=encodeURIComponent("fac");function JC(t,e,n,r,i,s){return w(this,null,function*(){$(t.config.authDomain,t,"auth-domain-config-required"),$(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:br,eventId:i};if(e instanceof jl){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",EC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,g]of Object.entries(s||{}))o[f]=g}if(e instanceof um){let f=e.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);let c=o;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield t._getAppCheckToken(),l=u?`#${oL}=${encodeURIComponent(u)}`:"";return`${aL(t)}?${ba(c).slice(1)}${l}`})}function aL({config:t}){return t.emulator?_m(t,sL):`https://${t.authDomain}/${iL}`}var Jg="webStorageSupport",mm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xm,this._completeRedirectFn=PF,this._overrideRedirectResult=MF}_openPopup(e,n,r,i){return w(this,null,function*(){var s;Sr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield JC(e,n,r,Xg(),i);return nL(e,o,Sb())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield JC(e,n,r,Xg(),i);return pF(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Sr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield YF(e),r=new gm(e);return n.register("authEvent",i=>($(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jg,{type:Jg},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Jg];o!==void 0&&n(!!o),cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yb()||db()||Dm()}},Pb=mm;var XC="@firebase/auth",eb="1.7.8";var ym=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function cL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uL(t){Cr(new Ft("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;$(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vb(t)},l=new om(r,i,s,u);return Q1(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cr(new Ft("auth-internal",e=>{let n=_i(e.getProvider("auth").getImmediate());return(r=>new ym(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Le(XC,eb,cL(t)),Le(XC,eb,"esm2017")}var lL=5*60,dL=Ng("authIdTokenMaxAge")||lL,tb=null,hL=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dL)return;let i=n?.token;tb!==i&&(tb=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Pm(t=Rs()){let e=Aa(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Cm(t,{popupRedirectResolver:Pb,persistence:[Nb,Tb,xm]}),r=Ng("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=hL(s.toString());Nm(n,o,()=>o(n.currentUser)),Mm(n,c=>o(c))}}let i=Rg("auth");return i&&bm(n,`http://${i}`),n}function fL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}q1({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=mi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",fL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uL("Browser");var Ob="auth",Hn=class{constructor(e){return e}},La=class{constructor(){return Ra(Ob)}};var Om=new L("angularfire2.auth-instances");function rV(t,e){let n=Tl(Ob,t,e);return n&&new Hn(n)}function iV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Hn(r)}}var sV={provide:La,deps:[[new ft,Om]]},oV={provide:Hn,useFactory:rV,deps:[[new ft,Om],Vn]};function kb(t,...e){return Le("angularfire",pi.full,"auth"),rn([oV,sV,{provide:Om,useFactory:iV(t),multi:!0,deps:[me,ct,xs,gi,[new ft,Ns],...e]}])}var Fb=Kt(Sm,!0);var Gl=Kt(Pm,!0);var Lb=Kt(Am,!0);var Vb=Kt(Rm,!0);var Ub=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bb={};var km,$b;(function(){var t;function e(D,m){function y(){}y.prototype=m.prototype,D.D=m.prototype,D.prototype=new y,D.prototype.constructor=D,D.C=function(E,C,T){for(var v=Array(arguments.length-2),pn=2;pn<arguments.length;pn++)v[pn-2]=arguments[pn];return m.prototype[C].apply(E,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,m,y){y||(y=0);var E=Array(16);if(typeof m=="string")for(var C=0;16>C;++C)E[C]=m.charCodeAt(y++)|m.charCodeAt(y++)<<8|m.charCodeAt(y++)<<16|m.charCodeAt(y++)<<24;else for(C=0;16>C;++C)E[C]=m[y++]|m[y++]<<8|m[y++]<<16|m[y++]<<24;m=D.g[0],y=D.g[1],C=D.g[2];var T=D.g[3],v=m+(T^y&(C^T))+E[0]+3614090360&4294967295;m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+E[1]+3905402710&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+E[2]+606105819&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+E[3]+3250441966&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(T^y&(C^T))+E[4]+4118548399&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+E[5]+1200080426&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+E[6]+2821735955&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+E[7]+4249261313&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(T^y&(C^T))+E[8]+1770035416&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+E[9]+2336552879&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+E[10]+4294925233&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+E[11]+2304563134&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(T^y&(C^T))+E[12]+1804603682&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+E[13]+4254626195&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+E[14]+2792965006&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+E[15]+1236535329&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(C^T&(y^C))+E[1]+4129170786&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+E[6]+3225465664&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+E[11]+643717713&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+E[0]+3921069994&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(C^T&(y^C))+E[5]+3593408605&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+E[10]+38016083&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+E[15]+3634488961&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+E[4]+3889429448&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(C^T&(y^C))+E[9]+568446438&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+E[14]+3275163606&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+E[3]+4107603335&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+E[8]+1163531501&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(C^T&(y^C))+E[13]+2850285829&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+E[2]+4243563512&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+E[7]+1735328473&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+E[12]+2368359562&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(y^C^T)+E[5]+4294588738&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+E[8]+2272392833&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+E[11]+1839030562&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+E[14]+4259657740&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(y^C^T)+E[1]+2763975236&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+E[4]+1272893353&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+E[7]+4139469664&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+E[10]+3200236656&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(y^C^T)+E[13]+681279174&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+E[0]+3936430074&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+E[3]+3572445317&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+E[6]+76029189&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(y^C^T)+E[9]+3654602809&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+E[12]+3873151461&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+E[15]+530742520&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+E[2]+3299628645&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(C^(y|~T))+E[0]+4096336452&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+E[7]+1126891415&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+E[14]+2878612391&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+E[5]+4237533241&4294967295,y=C+(v<<21&4294967295|v>>>11),v=m+(C^(y|~T))+E[12]+1700485571&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+E[3]+2399980690&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+E[10]+4293915773&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+E[1]+2240044497&4294967295,y=C+(v<<21&4294967295|v>>>11),v=m+(C^(y|~T))+E[8]+1873313359&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+E[15]+4264355552&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+E[6]+2734768916&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+E[13]+1309151649&4294967295,y=C+(v<<21&4294967295|v>>>11),v=m+(C^(y|~T))+E[4]+4149444226&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+E[11]+3174756917&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+E[2]+718787259&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+m&4294967295,D.g[1]=D.g[1]+(C+(v<<21&4294967295|v>>>11))&4294967295,D.g[2]=D.g[2]+C&4294967295,D.g[3]=D.g[3]+T&4294967295}r.prototype.u=function(D,m){m===void 0&&(m=D.length);for(var y=m-this.blockSize,E=this.B,C=this.h,T=0;T<m;){if(C==0)for(;T<=y;)i(this,D,T),T+=this.blockSize;if(typeof D=="string"){for(;T<m;)if(E[C++]=D.charCodeAt(T++),C==this.blockSize){i(this,E),C=0;break}}else for(;T<m;)if(E[C++]=D[T++],C==this.blockSize){i(this,E),C=0;break}}this.h=C,this.o+=m},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var m=1;m<D.length-8;++m)D[m]=0;var y=8*this.o;for(m=D.length-8;m<D.length;++m)D[m]=y&255,y/=256;for(this.u(D),D=Array(16),m=y=0;4>m;++m)for(var E=0;32>E;E+=8)D[y++]=this.g[m]>>>E&255;return D};function s(D,m){var y=c;return Object.prototype.hasOwnProperty.call(y,D)?y[D]:y[D]=m(D)}function o(D,m){this.h=m;for(var y=[],E=!0,C=D.length-1;0<=C;C--){var T=D[C]|0;E&&T==m||(y[C]=T,E=!1)}this.g=y}var c={};function u(D){return-128<=D&&128>D?s(D,function(m){return new o([m|0],0>m?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return N(l(-D));for(var m=[],y=1,E=0;D>=y;E++)m[E]=D/y|0,y*=4294967296;return new o(m,0)}function f(D,m){if(D.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(D.charAt(0)=="-")return N(f(D.substring(1),m));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=l(Math.pow(m,8)),E=g,C=0;C<D.length;C+=8){var T=Math.min(8,D.length-C),v=parseInt(D.substring(C,C+T),m);8>T?(T=l(Math.pow(m,T)),E=E.j(T).add(l(v))):(E=E.j(y),E=E.add(l(v)))}return E}var g=u(0),_=u(1),I=u(16777216);t=o.prototype,t.m=function(){if(x(this))return-N(this).m();for(var D=0,m=1,y=0;y<this.g.length;y++){var E=this.i(y);D+=(0<=E?E:4294967296+E)*m,m*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(x(this))return"-"+N(this).toString(D);for(var m=l(Math.pow(D,6)),y=this,E="";;){var C=pe(y,m).g;y=F(y,C.j(m));var T=((0<y.g.length?y.g[0]:y.h)>>>0).toString(D);if(y=C,A(y))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var m=0;m<D.g.length;m++)if(D.g[m]!=0)return!1;return!0}function x(D){return D.h==-1}t.l=function(D){return D=F(this,D),x(D)?-1:A(D)?0:1};function N(D){for(var m=D.g.length,y=[],E=0;E<m;E++)y[E]=~D.g[E];return new o(y,~D.h).add(_)}t.abs=function(){return x(this)?N(this):this},t.add=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0,C=0;C<=m;C++){var T=E+(this.i(C)&65535)+(D.i(C)&65535),v=(T>>>16)+(this.i(C)>>>16)+(D.i(C)>>>16);E=v>>>16,T&=65535,v&=65535,y[C]=v<<16|T}return new o(y,y[y.length-1]&-2147483648?-1:0)};function F(D,m){return D.add(N(m))}t.j=function(D){if(A(this)||A(D))return g;if(x(this))return x(D)?N(this).j(N(D)):N(N(this).j(D));if(x(D))return N(this.j(N(D)));if(0>this.l(I)&&0>D.l(I))return l(this.m()*D.m());for(var m=this.g.length+D.g.length,y=[],E=0;E<2*m;E++)y[E]=0;for(E=0;E<this.g.length;E++)for(var C=0;C<D.g.length;C++){var T=this.i(E)>>>16,v=this.i(E)&65535,pn=D.i(C)>>>16,co=D.i(C)&65535;y[2*E+2*C]+=v*co,q(y,2*E+2*C),y[2*E+2*C+1]+=T*co,q(y,2*E+2*C+1),y[2*E+2*C+1]+=v*pn,q(y,2*E+2*C+1),y[2*E+2*C+2]+=T*pn,q(y,2*E+2*C+2)}for(E=0;E<m;E++)y[E]=y[2*E+1]<<16|y[2*E];for(E=m;E<2*m;E++)y[E]=0;return new o(y,0)};function q(D,m){for(;(D[m]&65535)!=D[m];)D[m+1]+=D[m]>>>16,D[m]&=65535,m++}function K(D,m){this.g=D,this.h=m}function pe(D,m){if(A(m))throw Error("division by zero");if(A(D))return new K(g,g);if(x(D))return m=pe(N(D),m),new K(N(m.g),N(m.h));if(x(m))return m=pe(D,N(m)),new K(N(m.g),m.h);if(30<D.g.length){if(x(D)||x(m))throw Error("slowDivide_ only works with positive integers.");for(var y=_,E=m;0>=E.l(D);)y=qe(y),E=qe(E);var C=he(y,1),T=he(E,1);for(E=he(E,2),y=he(y,2);!A(E);){var v=T.add(E);0>=v.l(D)&&(C=C.add(y),T=v),E=he(E,1),y=he(y,1)}return m=F(D,C.j(m)),new K(C,m)}for(C=g;0<=D.l(m);){for(y=Math.max(1,Math.floor(D.m()/m.m())),E=Math.ceil(Math.log(y)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(y),v=T.j(m);x(v)||0<v.l(D);)y-=E,T=l(y),v=T.j(m);A(T)&&(T=_),C=C.add(T),D=F(D,v)}return new K(C,D)}t.A=function(D){return pe(this,D).h},t.and=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)&D.i(E);return new o(y,this.h&D.h)},t.or=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)|D.i(E);return new o(y,this.h|D.h)},t.xor=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)^D.i(E);return new o(y,this.h^D.h)};function qe(D){for(var m=D.g.length+1,y=[],E=0;E<m;E++)y[E]=D.i(E)<<1|D.i(E-1)>>>31;return new o(y,D.h)}function he(D,m){var y=m>>5;m%=32;for(var E=D.g.length-y,C=[],T=0;T<E;T++)C[T]=0<m?D.i(T+y)>>>m|D.i(T+y+1)<<32-m:D.i(T+y);return new o(C,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$b=Bb.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=f,km=Bb.Integer=o}).apply(typeof Ub<"u"?Ub:typeof self<"u"?self:typeof window<"u"?window:{});var Wl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qn={};var Fm,Lm,Fs,Vm,Va,Kl,jm,Um,Bm;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wl=="object"&&Wl];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var b=a[p];if(!(b in h))break e;h=h[b]}a=a[a.length-1],p=h[a],d=d(p),d!=p&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var h=0,p=!1,b={next:function(){if(!p&&h<a.length){var S=h++;return{value:d(S,a[S]),done:!1}}return p=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,h){return h})}});var o=o||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function g(a,d,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,p),a.apply(d,b)}}return function(){return a.apply(d,arguments)}}function _(a,d,h){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,_.apply(null,arguments)}function I(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function A(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,b,S){for(var P=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)P[ye-2]=arguments[ye];return d.prototype[b].apply(p,P)}}function x(a){let d=a.length;if(0<d){let h=Array(d);for(let p=0;p<d;p++)h[p]=a[p];return h}return[]}function N(a,d){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let b=a.length||0,S=p.length||0;a.length=b+S;for(let P=0;P<S;P++)a[b+P]=p[P]}else a.push(p)}}class F{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function q(a){return/^[\s\xa0]*$/.test(a)}function K(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function pe(a){return pe[" "](a),a}pe[" "]=function(){};var qe=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function he(a,d,h){for(let p in a)d.call(h,a[p],p,a)}function D(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function m(a){let d={};for(let h in a)d[h]=a[h];return d}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,d){let h,p;for(let b=1;b<arguments.length;b++){p=arguments[b];for(h in p)a[h]=p[h];for(let S=0;S<y.length;S++)h=y[S],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function C(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function T(a){c.setTimeout(()=>{throw a},0)}function v(){var a=zd;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class pn{constructor(){this.h=this.g=null}add(d,h){let p=co.get();p.set(d,h),this.h?this.h.next=p:this.g=p,this.h=p}}var co=new F(()=>new FT,a=>a.reset());class FT{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let uo,lo=!1,zd=new pn,Rv=()=>{let a=c.Promise.resolve(void 0);uo=()=>{a.then(LT)}};var LT=()=>{for(var a;a=v();){try{a.h.call(a.g)}catch(h){T(h)}var d=co;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}lo=!1};function Yn(){this.s=this.s,this.C=this.C}Yn.prototype.s=!1,Yn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Yn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ke(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Ke.prototype.h=function(){this.defaultPrevented=!0};var VT=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function ho(a,d){if(Ke.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(qe){e:{try{pe(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:jT[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ho.aa.h.call(this)}}A(ho,Ke);var jT={2:"touch",3:"pen",4:"mouse"};ho.prototype.h=function(){ho.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var fo="closure_listenable_"+(1e6*Math.random()|0),UT=0;function BT(a,d,h,p,b){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!p,this.ha=b,this.key=++UT,this.da=this.fa=!1}function cc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function uc(a){this.src=a,this.g={},this.h=0}uc.prototype.add=function(a,d,h,p,b){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var P=Wd(a,d,p,b);return-1<P?(d=a[P],h||(d.fa=!1)):(d=new BT(d,this.src,S,!!p,b),d.fa=h,a.push(d)),d};function Gd(a,d){var h=d.type;if(h in a.g){var p=a.g[h],b=Array.prototype.indexOf.call(p,d,void 0),S;(S=0<=b)&&Array.prototype.splice.call(p,b,1),S&&(cc(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Wd(a,d,h,p){for(var b=0;b<a.length;++b){var S=a[b];if(!S.da&&S.listener==d&&S.capture==!!h&&S.ha==p)return b}return-1}var Kd="closure_lm_"+(1e6*Math.random()|0),Qd={};function Mv(a,d,h,p,b){if(p&&p.once)return xv(a,d,h,p,b);if(Array.isArray(d)){for(var S=0;S<d.length;S++)Mv(a,d[S],h,p,b);return null}return h=Xd(h),a&&a[fo]?a.K(d,h,l(p)?!!p.capture:!!p,b):Nv(a,d,h,!1,p,b)}function Nv(a,d,h,p,b,S){if(!d)throw Error("Invalid event type");var P=l(b)?!!b.capture:!!b,ye=Zd(a);if(ye||(a[Kd]=ye=new uc(a)),h=ye.add(d,h,p,P,S),h.proxy)return h;if(p=$T(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)VT||(b=P),b===void 0&&(b=!1),a.addEventListener(d.toString(),p,b);else if(a.attachEvent)a.attachEvent(Ov(d.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function $T(){function a(h){return d.call(a.src,a.listener,h)}let d=HT;return a}function xv(a,d,h,p,b){if(Array.isArray(d)){for(var S=0;S<d.length;S++)xv(a,d[S],h,p,b);return null}return h=Xd(h),a&&a[fo]?a.L(d,h,l(p)?!!p.capture:!!p,b):Nv(a,d,h,!0,p,b)}function Pv(a,d,h,p,b){if(Array.isArray(d))for(var S=0;S<d.length;S++)Pv(a,d[S],h,p,b);else p=l(p)?!!p.capture:!!p,h=Xd(h),a&&a[fo]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],h=Wd(S,h,p,b),-1<h&&(cc(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=Zd(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Wd(d,h,p,b)),(h=-1<a?d[a]:null)&&Yd(h))}function Yd(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[fo])Gd(d.i,a);else{var h=a.type,p=a.proxy;d.removeEventListener?d.removeEventListener(h,p,a.capture):d.detachEvent?d.detachEvent(Ov(h),p):d.addListener&&d.removeListener&&d.removeListener(p),(h=Zd(d))?(Gd(h,a),h.h==0&&(h.src=null,d[Kd]=null)):cc(a)}}}function Ov(a){return a in Qd?Qd[a]:Qd[a]="on"+a}function HT(a,d){if(a.da)a=!0;else{d=new ho(d,this);var h=a.listener,p=a.ha||a.src;a.fa&&Yd(a),a=h.call(p,d)}return a}function Zd(a){return a=a[Kd],a instanceof uc?a:null}var Jd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xd(a){return typeof a=="function"?a:(a[Jd]||(a[Jd]=function(d){return a.handleEvent(d)}),a[Jd])}function Qe(){Yn.call(this),this.i=new uc(this),this.M=this,this.F=null}A(Qe,Yn),Qe.prototype[fo]=!0,Qe.prototype.removeEventListener=function(a,d,h,p){Pv(this,a,d,h,p)};function it(a,d){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=d.type||d,typeof d=="string")d=new Ke(d,a);else if(d instanceof Ke)d.target=d.target||a;else{var b=d;d=new Ke(p,a),E(d,b)}if(b=!0,h)for(var S=h.length-1;0<=S;S--){var P=d.g=h[S];b=lc(P,p,!0,d)&&b}if(P=d.g=a,b=lc(P,p,!0,d)&&b,b=lc(P,p,!1,d)&&b,h)for(S=0;S<h.length;S++)P=d.g=h[S],b=lc(P,p,!1,d)&&b}Qe.prototype.N=function(){if(Qe.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],p=0;p<h.length;p++)cc(h[p]);delete a.g[d],a.h--}}this.F=null},Qe.prototype.K=function(a,d,h,p){return this.i.add(String(a),d,!1,h,p)},Qe.prototype.L=function(a,d,h,p){return this.i.add(String(a),d,!0,h,p)};function lc(a,d,h,p){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,S=0;S<d.length;++S){var P=d[S];if(P&&!P.da&&P.capture==h){var ye=P.listener,ze=P.ha||P.src;P.fa&&Gd(a.i,P),b=ye.call(ze,p)!==!1&&b}}return b&&!p.defaultPrevented}function kv(a,d,h){if(typeof a=="function")h&&(a=_(a,h));else if(a&&typeof a.handleEvent=="function")a=_(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function Fv(a){a.g=kv(()=>{a.g=null,a.i&&(a.i=!1,Fv(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class qT extends Yn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Fv(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function po(a){Yn.call(this),this.h=a,this.g={}}A(po,Yn);var Lv=[];function Vv(a){he(a.g,function(d,h){this.g.hasOwnProperty(h)&&Yd(d)},a),a.g={}}po.prototype.N=function(){po.aa.N.call(this),Vv(this)},po.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var eh=c.JSON.stringify,zT=c.JSON.parse,GT=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function th(){}th.prototype.h=null;function jv(a){return a.h||(a.h=a.i())}function Uv(){}var go={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nh(){Ke.call(this,"d")}A(nh,Ke);function rh(){Ke.call(this,"c")}A(rh,Ke);var Or={},Bv=null;function dc(){return Bv=Bv||new Qe}Or.La="serverreachability";function $v(a){Ke.call(this,Or.La,a)}A($v,Ke);function mo(a){let d=dc();it(d,new $v(d))}Or.STAT_EVENT="statevent";function Hv(a,d){Ke.call(this,Or.STAT_EVENT,a),this.stat=d}A(Hv,Ke);function st(a){let d=dc();it(d,new Hv(d,a))}Or.Ma="timingevent";function qv(a,d){Ke.call(this,Or.Ma,a),this.size=d}A(qv,Ke);function yo(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function vo(){this.g=!0}vo.prototype.xa=function(){this.g=!1};function WT(a,d,h,p,b,S){a.info(function(){if(a.g)if(S)for(var P="",ye=S.split("&"),ze=0;ze<ye.length;ze++){var fe=ye[ze].split("=");if(1<fe.length){var Ye=fe[0];fe=fe[1];var Ze=Ye.split("_");P=2<=Ze.length&&Ze[1]=="type"?P+(Ye+"="+fe+"&"):P+(Ye+"=redacted&")}}else P=null;else P=S;return"XMLHTTP REQ ("+p+") [attempt "+b+"]: "+d+`
`+h+`
`+P})}function KT(a,d,h,p,b,S,P){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+b+"]: "+d+`
`+h+`
`+S+" "+P})}function Ni(a,d,h,p){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+YT(a,h)+(p?" "+p:"")})}function QT(a,d){a.info(function(){return"TIMEOUT: "+d})}vo.prototype.info=function(){};function YT(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var b=p[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var P=1;P<b.length;P++)b[P]=""}}}}return eh(h)}catch{return d}}var hc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ih;function fc(){}A(fc,th),fc.prototype.g=function(){return new XMLHttpRequest},fc.prototype.i=function(){return{}},ih=new fc;function Zn(a,d,h,p){this.j=a,this.i=d,this.l=h,this.R=p||1,this.U=new po(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Gv}function Gv(){this.i=null,this.g="",this.h=!1}var Wv={},sh={};function oh(a,d,h){a.L=1,a.v=yc(gn(d)),a.m=h,a.P=!0,Kv(a,null)}function Kv(a,d){a.F=Date.now(),pc(a),a.A=gn(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),c_(h.i,"t",p),a.C=0,h=a.j.J,a.h=new Gv,a.g=T_(a.j,h?d:null,!a.m),0<a.O&&(a.M=new qT(_(a.Y,a,a.g),a.O)),d=a.U,h=a.g,p=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(Lv[0]=b.toString()),b=Lv);for(var S=0;S<b.length;S++){var P=Mv(h,b[S],p||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),mo(),WT(a.i,a.u,a.A,a.l,a.R,a.m)}Zn.prototype.ca=function(a){a=a.target;let d=this.M;d&&mn(a)==3?d.j():this.Y(a)},Zn.prototype.Y=function(a){try{if(a==this.g)e:{let Ze=mn(this.g);var d=this.g.Ba();let Oi=this.g.Z();if(!(3>Ze)&&(Ze!=3||this.g&&(this.h.h||this.g.oa()||g_(this.g)))){this.J||Ze!=4||d==7||(d==8||0>=Oi?mo(3):mo(2)),ah(this);var h=this.g.Z();this.X=h;t:if(Qv(this)){var p=g_(this.g);a="";var b=p.length,S=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kr(this),_o(this);var P="";break t}this.h.i=new c.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,a+=this.h.i.decode(p[d],{stream:!(S&&d==b-1)});p.length=0,this.h.g+=a,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=h==200,KT(this.i,this.u,this.A,this.l,this.R,Ze,h),this.o){if(this.T&&!this.K){t:{if(this.g){var ye,ze=this.g;if((ye=ze.g?ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(ye)){var fe=ye;break t}}fe=null}if(h=fe)Ni(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ch(this,h);else{this.o=!1,this.s=3,st(12),kr(this),_o(this);break e}}if(this.P){h=!0;let Lt;for(;!this.J&&this.C<P.length;)if(Lt=ZT(this,P),Lt==sh){Ze==4&&(this.s=4,st(14),h=!1),Ni(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==Wv){this.s=4,st(15),Ni(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else Ni(this.i,this.l,Lt,null),ch(this,Lt);if(Qv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||P.length!=0||this.h.h||(this.s=1,st(16),h=!1),this.o=this.o&&h,!h)Ni(this.i,this.l,P,"[Invalid Chunked Response]"),kr(this),_o(this);else if(0<P.length&&!this.W){this.W=!0;var Ye=this.j;Ye.g==this&&Ye.ba&&!Ye.M&&(Ye.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),ph(Ye),Ye.M=!0,st(11))}}else Ni(this.i,this.l,P,null),ch(this,P);Ze==4&&kr(this),this.o&&!this.J&&(Ze==4?E_(this.j,this):(this.o=!1,pc(this)))}else pS(this.g),h==400&&0<P.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),kr(this),_o(this)}}}catch{}finally{}};function Qv(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function ZT(a,d){var h=a.C,p=d.indexOf(`
`,h);return p==-1?sh:(h=Number(d.substring(h,p)),isNaN(h)?Wv:(p+=1,p+h>d.length?sh:(d=d.slice(p,p+h),a.C=p+h,d)))}Zn.prototype.cancel=function(){this.J=!0,kr(this)};function pc(a){a.S=Date.now()+a.I,Yv(a,a.I)}function Yv(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=yo(_(a.ba,a),d)}function ah(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Zn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(QT(this.i,this.A),this.L!=2&&(mo(),st(17)),kr(this),this.s=2,_o(this)):Yv(this,this.S-a)};function _o(a){a.j.G==0||a.J||E_(a.j,a)}function kr(a){ah(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Vv(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function ch(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||uh(h.h,a))){if(!a.K&&uh(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(d)}catch{p=null}if(Array.isArray(p)&&p.length==3){var b=p;if(b[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Ec(h),wc(h);else break e;fh(h),st(18)}}else h.za=b[1],0<h.za-h.T&&37500>b[2]&&h.F&&h.v==0&&!h.C&&(h.C=yo(_(h.Za,h),6e3));if(1>=Xv(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Lr(h,11)}else if((a.K||h.g==a)&&Ec(h),!q(d))for(b=h.Da.g.parse(d),d=0;d<b.length;d++){let fe=b[d];if(h.T=fe[0],fe=fe[1],h.G==2)if(fe[0]=="c"){h.K=fe[1],h.ia=fe[2];let Ye=fe[3];Ye!=null&&(h.la=Ye,h.j.info("VER="+h.la));let Ze=fe[4];Ze!=null&&(h.Aa=Ze,h.j.info("SVER="+h.Aa));let Oi=fe[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(p=1.5*Oi,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let Lt=a.g;if(Lt){let Cc=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cc){var S=p.h;S.g||Cc.indexOf("spdy")==-1&&Cc.indexOf("quic")==-1&&Cc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(lh(S,S.h),S.h=null))}if(p.D){let gh=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;gh&&(p.ya=gh,Ie(p.I,p.D,gh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var P=a;if(p.qa=b_(p,p.J?p.ia:null,p.W),P.K){e_(p.h,P);var ye=P,ze=p.L;ze&&(ye.I=ze),ye.B&&(ah(ye),pc(ye)),p.g=P}else w_(p);0<h.i.length&&Ic(h)}else fe[0]!="stop"&&fe[0]!="close"||Lr(h,7);else h.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?Lr(h,7):hh(h):fe[0]!="noop"&&h.l&&h.l.ta(fe),h.v=0)}}mo(4)}catch{}}var JT=class{constructor(a,d){this.g=a,this.map=d}};function Zv(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jv(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Xv(a){return a.h?1:a.g?a.g.size:0}function uh(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function lh(a,d){a.g?a.g.add(d):a.h=d}function e_(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Zv.prototype.cancel=function(){if(this.i=t_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function t_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return x(a.i)}function XT(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,p=0;p<h;p++)d.push(a[p]);return d}d=[],h=0;for(p in a)d[h++]=a[p];return d}function eS(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let p in a)d[h++]=p;return d}}}function n_(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=eS(a),p=XT(a),b=p.length,S=0;S<b;S++)d.call(void 0,p[S],h&&h[S],a)}var r_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tS(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),b=null;if(0<=p){var S=a[h].substring(0,p);b=a[h].substring(p+1)}else S=a[h];d(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Fr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Fr){this.h=a.h,gc(this,a.j),this.o=a.o,this.g=a.g,mc(this,a.s),this.l=a.l;var d=a.i,h=new Eo;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),i_(this,h),this.m=a.m}else a&&(d=String(a).match(r_))?(this.h=!1,gc(this,d[1]||"",!0),this.o=wo(d[2]||""),this.g=wo(d[3]||"",!0),mc(this,d[4]),this.l=wo(d[5]||"",!0),i_(this,d[6]||"",!0),this.m=wo(d[7]||"")):(this.h=!1,this.i=new Eo(null,this.h))}Fr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Io(d,s_,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Io(d,s_,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Io(h,h.charAt(0)=="/"?iS:rS,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Io(h,oS)),a.join("")};function gn(a){return new Fr(a)}function gc(a,d,h){a.j=h?wo(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function mc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function i_(a,d,h){d instanceof Eo?(a.i=d,aS(a.i,a.h)):(h||(d=Io(d,sS)),a.i=new Eo(d,a.h))}function Ie(a,d,h){a.i.set(d,h)}function yc(a){return Ie(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function wo(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Io(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,nS),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function nS(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var s_=/[#\/\?@]/g,rS=/[#\?:]/g,iS=/[#\?]/g,sS=/[#\?@]/g,oS=/#/g;function Eo(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Jn(a){a.g||(a.g=new Map,a.h=0,a.i&&tS(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=Eo.prototype,t.add=function(a,d){Jn(this),this.i=null,a=xi(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function o_(a,d){Jn(a),d=xi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function a_(a,d){return Jn(a),d=xi(a,d),a.g.has(d)}t.forEach=function(a,d){Jn(this),this.g.forEach(function(h,p){h.forEach(function(b){a.call(d,b,p,this)},this)},this)},t.na=function(){Jn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let p=0;p<d.length;p++){let b=a[p];for(let S=0;S<b.length;S++)h.push(d[p])}return h},t.V=function(a){Jn(this);let d=[];if(typeof a=="string")a_(this,a)&&(d=d.concat(this.g.get(xi(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return Jn(this),this.i=null,a=xi(this,a),a_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function c_(a,d,h){o_(a,d),0<h.length&&(a.i=null,a.g.set(xi(a,d),x(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var p=d[h];let S=encodeURIComponent(String(p)),P=this.V(p);for(p=0;p<P.length;p++){var b=S;P[p]!==""&&(b+="="+encodeURIComponent(String(P[p]))),a.push(b)}}return this.i=a.join("&")};function xi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function aS(a,d){d&&!a.j&&(Jn(a),a.i=null,a.g.forEach(function(h,p){var b=p.toLowerCase();p!=b&&(o_(this,p),c_(this,b,h))},a)),a.j=d}function cS(a,d){let h=new vo;if(c.Image){let p=new Image;p.onload=I(Xn,h,"TestLoadImage: loaded",!0,d,p),p.onerror=I(Xn,h,"TestLoadImage: error",!1,d,p),p.onabort=I(Xn,h,"TestLoadImage: abort",!1,d,p),p.ontimeout=I(Xn,h,"TestLoadImage: timeout",!1,d,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else d(!1)}function uS(a,d){let h=new vo,p=new AbortController,b=setTimeout(()=>{p.abort(),Xn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:p.signal}).then(S=>{clearTimeout(b),S.ok?Xn(h,"TestPingServer: ok",!0,d):Xn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Xn(h,"TestPingServer: error",!1,d)})}function Xn(a,d,h,p,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),p(h)}catch{}}function lS(){this.g=new GT}function dS(a,d,h){let p=h||"";try{n_(a,function(b,S){let P=b;l(b)&&(P=eh(b)),d.push(p+S+"="+encodeURIComponent(P))})}catch(b){throw d.push(p+"type="+encodeURIComponent("_badmap")),b}}function Do(a){this.l=a.Ub||null,this.j=a.eb||!1}A(Do,th),Do.prototype.g=function(){return new vc(this.l,this.j)},Do.prototype.i=function(a){return function(){return a}}({});function vc(a,d){Qe.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(vc,Qe),t=vc.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,bo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Co(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,bo(this)),this.g&&(this.readyState=3,bo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;u_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function u_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Co(this):bo(this),this.readyState==3&&u_(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Co(this))},t.Qa=function(a){this.g&&(this.response=a,Co(this))},t.ga=function(){this.g&&Co(this)};function Co(a){a.readyState=4,a.l=null,a.j=null,a.v=null,bo(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function bo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(vc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function l_(a){let d="";return he(a,function(h,p){d+=p,d+=":",d+=h,d+=`\r
`}),d}function dh(a,d,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=l_(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Ie(a,d,h))}function De(a){Qe.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(De,Qe);var hS=/^https?$/i,fS=["POST","PUT"];t=De.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ih.g(),this.v=this.o?jv(this.o):jv(ih),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){d_(this,S);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var b in p)h.set(b,p[b]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let S of p.keys())h.set(S,p.get(S));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(fS,d,void 0))||p||b||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,P]of h)this.g.setRequestHeader(S,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{p_(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){d_(this,S)}};function d_(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,h_(a),_c(a)}function h_(a){a.A||(a.A=!0,it(a,"complete"),it(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,it(this,"complete"),it(this,"abort"),_c(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_c(this,!0)),De.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?f_(this):this.bb())},t.bb=function(){f_(this)};function f_(a){if(a.h&&typeof o<"u"&&(!a.v[1]||mn(a)!=4||a.Z()!=2)){if(a.u&&mn(a)==4)kv(a.Ea,0,a);else if(it(a,"readystatechange"),mn(a)==4){a.h=!1;try{let P=a.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var p;if(p=P===0){var b=String(a.D).match(r_)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),p=!hS.test(b?b.toLowerCase():"")}h=p}if(h)it(a,"complete"),it(a,"success");else{a.m=6;try{var S=2<mn(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",h_(a)}}finally{_c(a)}}}}function _c(a,d){if(a.g){p_(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||it(a,"ready");try{h.onreadystatechange=p}catch{}}}function p_(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function mn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),zT(d)}};function g_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function pS(a){let d={};a=(a.g&&2<=mn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(q(a[p]))continue;var h=C(a[p]);let b=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=d[b]||[];d[b]=S,S.push(h)}D(d,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function To(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function m_(a){this.Aa=0,this.i=[],this.j=new vo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=To("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=To("baseRetryDelayMs",5e3,a),this.cb=To("retryDelaySeedMs",1e4,a),this.Wa=To("forwardChannelMaxRetries",2,a),this.wa=To("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Zv(a&&a.concurrentRequestLimit),this.Da=new lS,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=m_.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,p){st(0),this.W=a,this.H=d||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=b_(this,null,this.W),Ic(this)};function hh(a){if(y_(a),a.G==3){var d=a.U++,h=gn(a.I);if(Ie(h,"SID",a.K),Ie(h,"RID",d),Ie(h,"TYPE","terminate"),So(a,h),d=new Zn(a,a.j,d),d.L=2,d.v=yc(gn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=T_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),pc(d)}C_(a)}function wc(a){a.g&&(ph(a),a.g.cancel(),a.g=null)}function y_(a){wc(a),a.u&&(c.clearTimeout(a.u),a.u=null),Ec(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Ic(a){if(!Jv(a.h)&&!a.s){a.s=!0;var d=a.Ga;uo||Rv(),lo||(uo(),lo=!0),zd.add(d,a),a.B=0}}function gS(a,d){return Xv(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=yo(_(a.Ga,a,d),D_(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new Zn(this,this.j,a),S=this.o;if(this.S&&(S?(S=m(S),E(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(d+=p,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=__(this,b,d),h=gn(this.I),Ie(h,"RID",a),Ie(h,"CVER",22),this.D&&Ie(h,"X-HTTP-Session-Id",this.D),So(this,h),S&&(this.O?d="headers="+encodeURIComponent(String(l_(S)))+"&"+d:this.m&&dh(h,this.m,S)),lh(this.h,b),this.Ua&&Ie(h,"TYPE","init"),this.P?(Ie(h,"$req",d),Ie(h,"SID","null"),b.T=!0,oh(b,h,null)):oh(b,h,d),this.G=2}}else this.G==3&&(a?v_(this,a):this.i.length==0||Jv(this.h)||v_(this))};function v_(a,d){var h;d?h=d.l:h=a.U++;let p=gn(a.I);Ie(p,"SID",a.K),Ie(p,"RID",h),Ie(p,"AID",a.T),So(a,p),a.m&&a.o&&dh(p,a.m,a.o),h=new Zn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=__(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),lh(a.h,h),oh(h,p,d)}function So(a,d){a.H&&he(a.H,function(h,p){Ie(d,p,h)}),a.l&&n_({},function(h,p){Ie(d,p,h)})}function __(a,d,h){h=Math.min(a.i.length,h);var p=a.l?_(a.l.Na,a.l,a):null;e:{var b=a.i;let S=-1;for(;;){let P=["count="+h];S==-1?0<h?(S=b[0].g,P.push("ofs="+S)):S=0:P.push("ofs="+S);let ye=!0;for(let ze=0;ze<h;ze++){let fe=b[ze].g,Ye=b[ze].map;if(fe-=S,0>fe)S=Math.max(0,b[ze].g-100),ye=!1;else try{dS(Ye,P,"req"+fe+"_")}catch{p&&p(Ye)}}if(ye){p=P.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,p}function w_(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;uo||Rv(),lo||(uo(),lo=!0),zd.add(d,a),a.v=0}}function fh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=yo(_(a.Fa,a),D_(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,I_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=yo(_(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),wc(this),I_(this))};function ph(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function I_(a){a.g=new Zn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=gn(a.qa);Ie(d,"RID","rpc"),Ie(d,"SID",a.K),Ie(d,"AID",a.T),Ie(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ie(d,"TO",a.ja),Ie(d,"TYPE","xmlhttp"),So(a,d),a.m&&a.o&&dh(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=yc(gn(d)),h.m=null,h.P=!0,Kv(h,a)}t.Za=function(){this.C!=null&&(this.C=null,wc(this),fh(this),st(19))};function Ec(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function E_(a,d){var h=null;if(a.g==d){Ec(a),ph(a),a.g=null;var p=2}else if(uh(a.h,d))h=d.D,e_(a.h,d),p=1;else return;if(a.G!=0){if(d.o)if(p==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var b=a.B;p=dc(),it(p,new qv(p,h)),Ic(a)}else w_(a);else if(b=d.s,b==3||b==0&&0<d.X||!(p==1&&gS(a,d)||p==2&&fh(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),b){case 1:Lr(a,5);break;case 4:Lr(a,10);break;case 3:Lr(a,6);break;default:Lr(a,2)}}}function D_(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Lr(a,d){if(a.j.info("Error code "+d),d==2){var h=_(a.fb,a),p=a.Xa;let b=!p;p=new Fr(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||gc(p,"https"),yc(p),b?cS(p.toString(),h):uS(p.toString(),h)}else st(2);a.G=0,a.l&&a.l.sa(d),C_(a),y_(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function C_(a){if(a.G=0,a.ka=[],a.l){let d=t_(a.h);(d.length!=0||a.i.length!=0)&&(N(a.ka,d),N(a.ka,a.i),a.h.i.length=0,x(a.i),a.i.length=0),a.l.ra()}}function b_(a,d,h){var p=h instanceof Fr?gn(h):new Fr(h);if(p.g!="")d&&(p.g=d+"."+p.g),mc(p,p.s);else{var b=c.location;p=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var S=new Fr(null);p&&gc(S,p),d&&(S.g=d),b&&mc(S,b),h&&(S.l=h),p=S}return h=a.D,d=a.ya,h&&d&&Ie(p,h,d),Ie(p,"VER",a.la),So(a,p),p}function T_(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new De(new Do({eb:h})):new De(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function S_(){}t=S_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Dc(){}Dc.prototype.g=function(a,d){return new gt(a,d)};function gt(a,d){Qe.call(this),this.g=new m_(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!q(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!q(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Pi(this)}A(gt,Qe),gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gt.prototype.close=function(){hh(this.g)},gt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=eh(a),a=h);d.i.push(new JT(d.Ya++,a)),d.G==3&&Ic(d)},gt.prototype.N=function(){this.g.l=null,delete this.j,hh(this.g),delete this.g,gt.aa.N.call(this)};function A_(a){nh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(A_,nh);function R_(){rh.call(this),this.status=1}A(R_,rh);function Pi(a){this.g=a}A(Pi,S_),Pi.prototype.ua=function(){it(this.g,"a")},Pi.prototype.ta=function(a){it(this.g,new A_(a))},Pi.prototype.sa=function(a){it(this.g,new R_)},Pi.prototype.ra=function(){it(this.g,"b")},Dc.prototype.createWebChannel=Dc.prototype.g,gt.prototype.send=gt.prototype.o,gt.prototype.open=gt.prototype.m,gt.prototype.close=gt.prototype.close,Bm=qn.createWebChannelTransport=function(){return new Dc},Um=qn.getStatEventTarget=function(){return dc()},jm=qn.Event=Or,Kl=qn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hc.NO_ERROR=0,hc.TIMEOUT=8,hc.HTTP_ERROR=6,Va=qn.ErrorCode=hc,zv.COMPLETE="complete",Vm=qn.EventType=zv,Uv.EventType=go,go.OPEN="a",go.CLOSE="b",go.ERROR="c",go.MESSAGE="d",Qe.prototype.listen=Qe.prototype.K,Fs=qn.WebChannel=Uv,Lm=qn.FetchXmlHttpFactory=Do,De.prototype.listenOnce=De.prototype.L,De.prototype.getLastError=De.prototype.Ka,De.prototype.getLastErrorCode=De.prototype.Ba,De.prototype.getStatus=De.prototype.Z,De.prototype.getResponseJson=De.prototype.Oa,De.prototype.getResponseText=De.prototype.oa,De.prototype.send=De.prototype.ea,De.prototype.setWithCredentials=De.prototype.Ha,Fm=qn.XhrIo=De}).apply(typeof Wl<"u"?Wl:typeof self<"u"?self:typeof window<"u"?window:{});var Hb="@firebase/firestore";var $e=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");var eo="10.13.1";var Di=new Er("@firebase/firestore");function ja(){return Di.logLevel}function V(t,...e){if(Di.logLevel<=se.DEBUG){let n=e.map(uv);Di.debug(`Firestore (${eo}): ${t}`,...n)}}function Ci(t,...e){if(Di.logLevel<=se.ERROR){let n=e.map(uv);Di.error(`Firestore (${eo}): ${t}`,...n)}}function ed(t,...e){if(Di.logLevel<=se.WARN){let n=e.map(uv);Di.warn(`Firestore (${eo}): ${t}`,...n)}}function uv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function oe(t="Unexpected state"){let e=`FIRESTORE (${eo}) INTERNAL ASSERTION FAILED: `+t;throw Ci(e),new Error(e)}function Ve(t,e){t||oe()}function we(t,e){return t}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends Dt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var zn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var td=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},zm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($e.UNAUTHENTICATED))}shutdown(){}},Gm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Wm=class{constructor(e){this.t=e,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new zn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string"),new td(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string"),new $e(e)}},Km=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Qm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Km(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($e.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ym=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Zm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string"),this.R=n.token,new Ym(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function aV(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var nd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=aV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function _e(t,e){return t<e?-1:t>e?1:0}function Us(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var rt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Ae=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new rt(0,0))}static max(){return new t(new rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var rd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Pe=class t extends rd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new U(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},cV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ct=class t extends rd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return cV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new U(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new U(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new U(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new U(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var X=class t{constructor(e){this.path=e}static fromPath(e){return new t(Pe.fromString(e))}static fromName(e){return new t(Pe.fromString(e).popFirst(5))}static empty(){return new t(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Pe(e.slice()))}};var Jm=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Jm.UNKNOWN_ID=-1;function uV(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ae.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new bi(i,X.empty(),e)}function lV(t){return new bi(t.readTime,t.key,-1)}var bi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Ae.min(),X.empty(),-1)}static max(){return new t(Ae.max(),X.empty(),-1)}};function dV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}var hV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Xm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function d0(t){return w(this,null,function*(){if(t.code!==R.FAILED_PRECONDITION||t.message!==hV)throw t;V("LocalStore","Unexpectedly lost primary lease")})}var M=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(f=>{o[l]=f,++c,c===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function fV(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ed(t){return t.name==="IndexedDbTransactionError"}var pV=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function lv(t){return t==null}function za(t){return t===0&&1/t==-1/0}function gV(t){return typeof t=="number"&&Number.isInteger(t)&&!za(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var mV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ZW=[...mV,"documentOverlays"],yV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vV=yV,_V=[...vV,"indexConfiguration","indexState","indexEntries"];var JW=[..._V,"globals"];function qb(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qa(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function h0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var bt=class t{constructor(e,n){this.comparator=e,this.root=n||hn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vs(this.root,e,this.comparator,!0)}},Vs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},hn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();let e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}};hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var lt=class t{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new id(this.data.getIterator())}getIteratorFrom(e){return new id(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},id=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var dn=class t{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new t([])}unionWith(e){let n=new lt(Ct.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Us(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var ey=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Wn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ey("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Wn.EMPTY_BYTE_STRING=new Wn("");var wV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mr(t){if(Ve(!!t),typeof t=="string"){let e=0,n=wV.exec(t);if(Ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xe(t.seconds),nanos:xe(t.nanos)}}function xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bs(t){return typeof t=="string"?Wn.fromBase64String(t):Wn.fromUint8Array(t)}function dv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function f0(t){let e=t.mapValue.fields.__previous_value__;return dv(e)?f0(e):e}function sd(t){let e=Mr(t.mapValue.fields.__local_write_time__.timestampValue);return new rt(e.seconds,e.nanos)}var ty=class{constructor(e,n,r,i,s,o,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},ny=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Ql={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $s(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dv(t)?4:g0(t)?9007199254740991:p0(t)?10:11:oe()}function fn(t,e){if(t===e)return!0;let n=$s(t);if(n!==$s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sd(t).isEqual(sd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Mr(i.timestampValue),c=Mr(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Bs(i.bytesValue).isEqual(Bs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return xe(i.geoPointValue.latitude)===xe(s.geoPointValue.latitude)&&xe(i.geoPointValue.longitude)===xe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return xe(i.integerValue)===xe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=xe(i.doubleValue),c=xe(s.doubleValue);return o===c?za(o)===za(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Us(t.arrayValue.values||[],e.arrayValue.values||[],fn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(qb(o)!==qb(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!fn(o[u],c[u])))return!1;return!0}(t,e);default:return oe()}}function Ga(t,e){return(t.values||[]).find(n=>fn(n,e))!==void 0}function Hs(t,e){if(t===e)return 0;let n=$s(t),r=$s(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(s,o){let c=xe(s.integerValue||s.doubleValue),u=xe(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return zb(t.timestampValue,e.timestampValue);case 4:return zb(sd(t),sd(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(s,o){let c=Bs(s),u=Bs(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),u=o.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=_e(c[l],u[l]);if(f!==0)return f}return _e(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let c=_e(xe(s.latitude),xe(o.latitude));return c!==0?c:_e(xe(s.longitude),xe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Gb(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,l,f;let g=s.fields||{},_=o.fields||{},I=(c=g.value)===null||c===void 0?void 0:c.arrayValue,A=(u=_.value)===null||u===void 0?void 0:u.arrayValue,x=_e(((l=I?.values)===null||l===void 0?void 0:l.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return x!==0?x:Gb(I,A)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ql.mapValue&&o===Ql.mapValue)return 0;if(s===Ql.mapValue)return 1;if(o===Ql.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),l=o.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){let _=_e(u[g],f[g]);if(_!==0)return _;let I=Hs(c[u[g]],l[f[g]]);if(I!==0)return I}return _e(u.length,f.length)}(t.mapValue,e.mapValue);default:throw oe()}}function zb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);let n=Mr(t),r=Mr(e),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function Gb(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Hs(n[i],r[i]);if(s)return s}return _e(n.length,r.length)}function qs(t){return ry(t)}function ry(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Mr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Bs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return X.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=ry(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${ry(n.fields[o])}`;return i+"}"}(t.mapValue):oe()}function iy(t){return!!t&&"integerValue"in t}function hv(t){return!!t&&"arrayValue"in t}function Jl(t){return!!t&&"mapValue"in t}function p0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ba(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Qa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ba(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ba(t.arrayValue.values[n]);return e}return Object.assign({},t)}function g0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var ln=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ba(n)}setAll(e){let n=Ct.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=Ba(o):i.push(c.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Jl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Jl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Qa(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Ba(this.value))}};function m0(t){let e=[];return Qa(t.fields,(n,r)=>{let i=new Ct([n]);if(Jl(r)){let s=m0(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new dn(e)}var zs=class t{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new t(e,0,Ae.min(),Ae.min(),Ae.min(),ln.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Ae.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Ae.min(),Ae.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Ae.min(),Ae.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Gs=class{constructor(e,n){this.position=e,this.inclusive=n}};function Wb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=X.comparator(X.fromName(o.referenceValue),n.key):r=Hs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Kb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fn(t.position[n],e.position[n]))return!1;return!0}var Ws=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function IV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var od=class{},He=class t extends od{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new oy(e,n,r):n==="array-contains"?new uy(e,r):n==="in"?new ly(e,r):n==="not-in"?new dy(e,r):n==="array-contains-any"?new hy(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ay(e,r):new cy(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Hs(n,this.value)):n!==null&&$s(this.value)===$s(n)&&this.matchesComparison(Hs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Nr=class t extends od{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return y0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function y0(t){return t.op==="and"}function v0(t){return EV(t)&&y0(t)}function EV(t){for(let e of t.filters)if(e instanceof Nr)return!1;return!0}function sy(t){if(t instanceof He)return t.field.canonicalString()+t.op.toString()+qs(t.value);if(v0(t))return t.filters.map(e=>sy(e)).join(",");{let e=t.filters.map(n=>sy(n)).join(",");return`${t.op}(${e})`}}function _0(t,e){return t instanceof He?function(r,i){return i instanceof He&&r.op===i.op&&r.field.isEqual(i.field)&&fn(r.value,i.value)}(t,e):t instanceof Nr?function(r,i){return i instanceof Nr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&_0(o,i.filters[c]),!0):!1}(t,e):void oe()}function w0(t){return t instanceof He?function(n){return`${n.field.canonicalString()} ${n.op} ${qs(n.value)}`}(t):t instanceof Nr?function(n){return n.op.toString()+" {"+n.getFilters().map(w0).join(" ,")+"}"}(t):"Filter"}var oy=class extends He{constructor(e,n,r){super(e,n,r),this.key=X.fromName(r.referenceValue)}matches(e){let n=X.comparator(e.key,this.key);return this.matchesComparison(n)}},ay=class extends He{constructor(e,n){super(e,"in",n),this.keys=I0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},cy=class extends He{constructor(e,n){super(e,"not-in",n),this.keys=I0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function I0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}var uy=class extends He{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return hv(n)&&Ga(n.arrayValue,this.value)}},ly=class extends He{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ga(this.value.arrayValue,n)}},dy=class extends He{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ga(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Ga(this.value.arrayValue,n)}},hy=class extends He{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!hv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ga(this.value.arrayValue,r))}};var fy=class{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function Qb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new fy(t,e,n,r,i,s,o)}function fv(t){let e=we(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),lv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>qs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>qs(r)).join(",")),e.ue=n}return e.ue}function pv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!IV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Kb(t.startAt,e.startAt)&&Kb(t.endAt,e.endAt)}var Ks=class{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function DV(t,e,n,r,i,s,o,c){return new Ks(t,e,n,r,i,s,o,c)}function CV(t){return new Ks(t)}function Yb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bV(t){return t.collectionGroup!==null}function $a(t){let e=we(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new lt(Ct.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ws(s,r))}),n.has(Ct.keyField().canonicalString())||e.ce.push(new Ws(Ct.keyField(),r))}return e.ce}function Ii(t){let e=we(t);return e.le||(e.le=TV(e,$a(t))),e.le}function TV(t,e){if(t.limitType==="F")return Qb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Ws(i.field,s)});let n=t.endAt?new Gs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gs(t.startAt.position,t.startAt.inclusive):null;return Qb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function py(t,e,n){return new Ks(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function E0(t,e){return pv(Ii(t),Ii(e))&&t.limitType===e.limitType}function D0(t){return`${fv(Ii(t))}|lt:${t.limitType}`}function Ua(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>w0(i)).join(", ")}]`),lv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>qs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>qs(i)).join(",")),`Target(${r})`}(Ii(t))}; limitType=${t.limitType})`}function gv(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):X.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of $a(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){let l=Wb(o,c,u);return o.inclusive?l<=0:l<0}(r.startAt,$a(r),i)||r.endAt&&!function(o,c,u){let l=Wb(o,c,u);return o.inclusive?l>=0:l>0}(r.endAt,$a(r),i))}(t,e)}function SV(t){return(e,n)=>{let r=!1;for(let i of $a(t)){let s=AV(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function AV(t,e,n){let r=t.field.isKeyField()?X.comparator(e.key,n.key):function(s,o,c){let u=o.data.field(s),l=c.data.field(s);return u!==null&&l!==null?Hs(u,l):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}var xr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qa(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return h0(this.inner)}size(){return this.innerSize}};var RV=new bt(X.comparator);function ad(){return RV}var C0=new bt(X.comparator);function Yl(...t){let e=C0;for(let n of t)e=e.insert(n.key,n);return e}function b0(t){let e=C0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wi(){return Ha()}function T0(){return Ha()}function Ha(){return new xr(t=>t.toString(),(t,e)=>t.isEqual(e))}var MV=new bt(X.comparator),NV=new lt(X.comparator);function nt(...t){let e=NV;for(let n of t)e=e.add(n);return e}var xV=new lt(_e);function PV(){return xV}function mv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:za(e)?"-0":e}}function S0(t){return{integerValue:""+t}}function OV(t,e){return gV(e)?S0(e):mv(t,e)}var Qs=class{constructor(){this._=void 0}};function kV(t,e,n){return t instanceof Ys?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&dv(s)&&(s=f0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ti?R0(t,e):t instanceof Si?M0(t,e):function(i,s){let o=A0(i,s),c=Zb(o)+Zb(i.Pe);return iy(o)&&iy(i.Pe)?S0(c):mv(i.serializer,c)}(t,e)}function FV(t,e,n){return t instanceof Ti?R0(t,e):t instanceof Si?M0(t,e):n}function A0(t,e){return t instanceof Zs?function(r){return iy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Ys=class extends Qs{},Ti=class extends Qs{constructor(e){super(),this.elements=e}};function R0(t,e){let n=N0(e);for(let r of t.elements)n.some(i=>fn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Si=class extends Qs{constructor(e){super(),this.elements=e}};function M0(t,e){let n=N0(e);for(let r of t.elements)n=n.filter(i=>!fn(i,r));return{arrayValue:{values:n}}}var Zs=class extends Qs{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function Zb(t){return xe(t.integerValue||t.doubleValue)}function N0(t){return hv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function LV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ti&&i instanceof Ti||r instanceof Si&&i instanceof Si?Us(r.elements,i.elements,fn):r instanceof Zs&&i instanceof Zs?fn(r.Pe,i.Pe):r instanceof Ys&&i instanceof Ys}(t.transform,e.transform)}var gy=class{constructor(e,n){this.version=e,this.transformResults=n}},Ei=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Xl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Js=class{};function x0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cd(t.key,Ei.none()):new Ai(t.key,t.data,Ei.none());{let n=t.data,r=ln.empty(),i=new lt(Ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Kn(t.key,r,new dn(i.toArray()),Ei.none())}}function VV(t,e,n){t instanceof Ai?function(i,s,o){let c=i.value.clone(),u=Xb(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Kn?function(i,s,o){if(!Xl(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=Xb(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(P0(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function qa(t,e,n,r){return t instanceof Ai?function(s,o,c,u){if(!Xl(s.precondition,o))return c;let l=s.value.clone(),f=e0(s.fieldTransforms,u,o);return l.setAll(f),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Kn?function(s,o,c,u){if(!Xl(s.precondition,o))return c;let l=e0(s.fieldTransforms,u,o),f=o.data;return f.setAll(P0(s)),f.setAll(l),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,c){return Xl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function jV(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=A0(r.transform,i||null);s!=null&&(n===null&&(n=ln.empty()),n.set(r.field,s))}return n||null}function Jb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Us(r,i,(s,o)=>LV(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ai=class extends Js{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Kn=class extends Js{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function P0(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function Xb(t,e,n){let r=new Map;Ve(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,FV(o,c,n[i]))}return r}function e0(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,kV(s,o,e))}return r}var cd=class extends Js{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},my=class extends Js{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var yy=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&VV(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=qa(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=qa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=T0();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;let u=x0(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),nt())}isEqual(e){return this.batchId===e.batchId&&Us(this.mutations,e.mutations,(n,r)=>Jb(n,r))&&Us(this.baseMutations,e.baseMutations,(n,r)=>Jb(n,r))}},vy=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ve(e.mutations.length===r.length);let i=function(){return MV}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var _y=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Me,de;function UV(t){switch(t){default:return oe();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function BV(t){if(t===void 0)return Ci("GRPC error has no .code"),R.UNKNOWN;switch(t){case Me.OK:return R.OK;case Me.CANCELLED:return R.CANCELLED;case Me.UNKNOWN:return R.UNKNOWN;case Me.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Me.INTERNAL:return R.INTERNAL;case Me.UNAVAILABLE:return R.UNAVAILABLE;case Me.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Me.NOT_FOUND:return R.NOT_FOUND;case Me.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Me.ABORTED:return R.ABORTED;case Me.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Me.DATA_LOSS:return R.DATA_LOSS;default:return oe()}}(de=Me||(Me={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";var e3=new km([4294967295,4294967295],0);var wy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Iy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $V(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function HV(t,e){return Iy(t,e.toTimestamp())}function js(t){return Ve(!!t),Ae.fromTimestamp(function(n){let r=Mr(n);return new rt(r.seconds,r.nanos)}(t))}function O0(t,e){return Ey(t,e).canonicalString()}function Ey(t,e){let n=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function qV(t){let e=Pe.fromString(t);return Ve(JV(e)),e}function Dy(t,e){return O0(t.databaseId,e.path)}function zV(t){let e=qV(t);return e.length===4?Pe.emptyPath():WV(e)}function GV(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WV(t){return Ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function t0(t,e,n){return{name:Dy(t,e),fields:n.value.mapValue.fields}}function KV(t,e){let n;if(e instanceof Ai)n={update:t0(t,e.key,e.value)};else if(e instanceof cd)n={delete:Dy(t,e.key)};else if(e instanceof Kn)n={update:t0(t,e.key,e.data),updateMask:ZV(e.fieldMask)};else{if(!(e instanceof my))return oe();n={verify:Dy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof Ys)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ti)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Si)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Zs)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:HV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:oe()}(t,e.precondition)),n}function QV(t,e){return t&&t.length>0?(Ve(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?js(i.updateTime):js(s);return o.isEqual(Ae.min())&&(o=js(s)),new gy(o,i.transformResults||[])}(n,e))):[]}function YV(t){let e=zV(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ve(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(g){let _=k0(g);return _ instanceof Nr&&v0(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(_=>function(A){return new Ws(Ls(A.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(g){let _;return _=typeof g=="object"?g.value:g,lv(_)?null:_}(n.limit));let u=null;n.startAt&&(u=function(g){let _=!!g.before,I=g.values||[];return new Gs(I,_)}(n.startAt));let l=null;return n.endAt&&(l=function(g){let _=!g.before,I=g.values||[];return new Gs(I,_)}(n.endAt)),DV(e,i,o,s,c,"F",u,l)}function k0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ls(n.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ls(n.unaryFilter.field);return He.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Ls(n.unaryFilter.field);return He.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Ls(n.unaryFilter.field);return He.create(o,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(n){return He.create(Ls(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Nr.create(n.compositeFilter.filters.map(r=>k0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe()}}(n.compositeFilter.op))}(t):oe()}function Ls(t){return Ct.fromServerFormat(t.fieldPath)}function ZV(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function JV(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Cy=class{constructor(e){this.ct=e}};function XV(t){let e=YV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?py(e,e.limit,"L"):e}var ud=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(xe(e.integerValue));else if("doubleValue"in e){let r=xe(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),za(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Mr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Bs(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?g0(e)?this.dt(n,Number.MAX_SAFE_INTEGER):p0(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):oe()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(xe(c)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),X.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};ud.vt=new ud;var by=class{constructor(){this.un=new Ty}addToCollectionParentIndex(e,n){return this.un.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(bi.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(bi.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}},Ty=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new lt(Pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(Pe.comparator)).toArray()}};var t3=new Uint8Array(0);var un=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(41943040,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);var Wa=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Sy=class{constructor(){this.changes=new xr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zs.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Ay=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Ry=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&qa(r.mutation,i,dn.empty(),rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,nt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=nt()){let i=wi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Yl();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=wi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,nt()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let s=ad(),o=Ha(),c=function(){return Ha()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Kn)?s=s.insert(l.key,l):f!==void 0?(o.set(l.key,f.mutation.getFieldMask()),qa(f.mutation,l,f.mutation.getFieldMask(),rt.now())):o.set(l.key,dn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,f)=>o.set(l,f)),n.forEach((l,f)=>{var g;return c.set(l,new Ay(f,(g=o.get(l))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){let r=Ha(),i=new bt((o,c)=>o-c),s=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let c of o)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||dn.empty();f=c.applyToLocalView(l,f),r.set(u,f);let g=(i.get(c.batchId)||nt()).add(u);i=i.insert(c.batchId,g)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,g=T0();f.forEach(_=>{if(!s.has(_)){let I=x0(n.get(_),r.get(_));I!==null&&g.set(_,I),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,g))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bV(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(wi()),c=-1,u=s;return o.next(l=>M.forEach(l,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),s.get(f)?M.resolve():this.remoteDocumentCache.getEntry(e,f).next(_=>{u=u.insert(f,_)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,nt())).next(f=>({batchId:c,changes:b0(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(r=>{let i=Yl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Yl();return this.indexManager.getCollectionParents(e,s).next(c=>M.forEach(c,u=>{let l=function(g,_){return new Ks(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((g,_)=>{o=o.insert(g,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let f=l.getKey();o.get(f)===null&&(o=o.insert(f,zs.newInvalidDocument(f)))});let c=Yl();return o.forEach((u,l)=>{let f=s.get(u);f!==void 0&&qa(f.mutation,l,dn.empty(),rt.now()),gv(n,l)&&(c=c.insert(u,l))}),c})}};var My=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return M.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:js(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:XV(i.bundledQuery),readTime:js(i.readTime)}}(n)),M.resolve()}};var Ny=class{constructor(){this.overlays=new bt(X.comparator),this.Ir=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){let r=wi();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){let i=wi(),s=n.length+1,o=new X(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new bt((l,f)=>l-f),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=s.get(l.largestBatchId);f===null&&(f=wi(),s=s.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=wi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return M.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new _y(n,r));let s=this.Ir.get(n);s===void 0&&(s=nt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var xy=class{constructor(){this.sessionToken=Wn.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}};var Ka=class{constructor(){this.Tr=new lt(Ne.Er),this.dr=new lt(Ne.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Ne(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ne(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new X(new Pe([])),r=new Ne(n,e),i=new Ne(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new X(new Pe([])),r=new Ne(n,e),i=new Ne(n,e+1),s=nt();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Ne(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ne=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return X.comparator(e.key,n.key)||_e(e.wr,n.wr)}static Ar(e,n){return _e(e.wr,n.wr)||X.comparator(e.key,n.key)}};var Py=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new lt(Ne.Er)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new yy(s,n,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new Ne(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ne(n,0),i=new Ne(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(_e);return n.forEach(i=>{let s=new Ne(i,0),o=new Ne(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),M.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;X.isDocumentKey(s)||(s=s.child(""));let o=new Ne(new X(s),0),c=new lt(_e);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},o),M.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ve(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return M.forEach(n.mutations,i=>{let s=new Ne(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Ne(n,0),i=this.br.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Oy=class{constructor(e){this.Mr=e,this.docs=function(){return new bt(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():zs.newInvalidDocument(n))}getEntries(e,n){let r=ad();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zs.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ad(),o=n.path,c=new X(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||dV(lV(f),r)<=0||(i.has(f.key)||gv(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){oe()}Or(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ky(this)}getSize(e){return M.resolve(this.size)}},ky=class extends Sy{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Fy=class{constructor(e){this.persistence=e,this.Nr=new xr(n=>fv(n),pv),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ka,this.targetCount=0,this.kr=Wa.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),M.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Wa(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Kn(n),M.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),M.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Br.containsKey(n))}};var Ly=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new pV(0),this.Kr=!1,this.Kr=!0,this.$r=new xy,this.referenceDelegate=e(this),this.Ur=new Fy(this),this.indexManager=new by,this.remoteDocumentCache=function(i){return new Oy(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Cy(n),this.Gr=new My(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ny,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Py(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);let i=new Vy(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return M.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Vy=class extends Xm{constructor(e){super(),this.currentSequenceNumber=e}},jy=class t{constructor(e){this.persistence=e,this.Jr=new Ka,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw oe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Xr,r=>{let i=X.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Ae.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return M.or([()=>M.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Uy=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=nt(),i=nt();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var By=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var $y=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return wC()?8:fV(Be())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new By;return this.Xi(e,n,o).next(c=>{if(s.result=c,this.zi)return this.es(e,n,o,c.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ja()<=se.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",Ua(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),M.resolve()):(ja()<=se.DEBUG&&V("QueryEngine","Query:",Ua(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ja()<=se.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",Ua(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(n))):M.resolve())}Yi(e,n){if(Yb(n))return M.resolve(null);let r=Ii(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=py(n,null,"F"),r=Ii(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=nt(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,c);return this.ns(n,l,o,u.readTime)?this.Yi(e,py(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return Yb(n)||i.isEqual(Ae.min())?M.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?M.resolve(null):(ja()<=se.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ua(n)),this.rs(e,o,n,uV(i,-1)).next(c=>c))})}ts(e,n){let r=new lt(SV(e));return n.forEach((i,s)=>{gv(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return ja()<=se.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",Ua(n)),this.Ji.getDocumentsMatchingQuery(e,n,bi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Hy=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new bt(_e),this._s=new xr(s=>fv(s),pv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ry(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function ej(t,e,n,r){return new Hy(t,e,n,r)}function F0(t,e){return w(this,null,function*(){let n=we(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=nt();for(let l of i){o.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of s){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:c}))})})})}function tj(t,e){let n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,l,f){let g=l.batch,_=g.keys(),I=M.resolve();return _.forEach(A=>{I=I.next(()=>f.getEntry(u,A)).next(x=>{let N=l.docVersions.get(A);Ve(N!==null),x.version.compareTo(N)<0&&(g.applyToRemoteDocument(x,l),x.isValidDocument()&&(x.setReadTime(l.commitVersion),f.addEntry(x)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=nt();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function nj(t){let e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function rj(t,e){let n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var ld=class{constructor(){this.activeTargetIds=PV()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var qy=class{constructor(){this.so=new ld,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ld,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var zy=class{_o(e){}shutdown(){}};var dd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Zl=null;function $m(){return Zl===null?Zl=function(){return 268435456+Math.round(2147483648*Math.random())}():Zl++,"0x"+Zl.toString(16)}var ij={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Gy=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var tt="WebChannelConnection",Wy=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let c=$m(),u=this.xo(n,r.toUriEncodedString());V("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(f=>(V("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw ed("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,c){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+eo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=ij[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=$m();return new Promise((o,c)=>{let u=new Fm;u.setWithCredentials(!0),u.listenOnce(Vm.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Va.NO_ERROR:let f=u.getResponseJson();V(tt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Va.TIMEOUT:V(tt,`RPC '${e}' ${s} timed out`),c(new U(R.DEADLINE_EXCEEDED,"Request time out"));break;case Va.HTTP_ERROR:let g=u.getStatus();if(V(tt,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let I=_?.error;if(I&&I.status&&I.message){let A=function(N){let F=N.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(F)>=0?F:R.UNKNOWN}(I.status);c(new U(A,I.message))}else c(new U(R.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new U(R.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{V(tt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);V(tt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=$m(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Bm(),c=Um(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Lm({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=s.join("");V(tt,`Creating RPC '${e}' stream ${i}: ${f}`,u);let g=o.createWebChannel(f,u),_=!1,I=!1,A=new Gy({Io:N=>{I?V(tt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(_||(V(tt,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),V(tt,`RPC '${e}' stream ${i} sending:`,N),g.send(N))},To:()=>g.close()}),x=(N,F,q)=>{N.listen(F,K=>{try{q(K)}catch(pe){setTimeout(()=>{throw pe},0)}})};return x(g,Fs.EventType.OPEN,()=>{I||(V(tt,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),x(g,Fs.EventType.CLOSE,()=>{I||(I=!0,V(tt,`RPC '${e}' stream ${i} transport closed`),A.So())}),x(g,Fs.EventType.ERROR,N=>{I||(I=!0,ed(tt,`RPC '${e}' stream ${i} transport errored:`,N),A.So(new U(R.UNAVAILABLE,"The operation could not be completed")))}),x(g,Fs.EventType.MESSAGE,N=>{var F;if(!I){let q=N.data[0];Ve(!!q);let K=q,pe=K.error||((F=K[0])===null||F===void 0?void 0:F.error);if(pe){V(tt,`RPC '${e}' stream ${i} received error:`,pe);let qe=pe.status,he=function(y){let E=Me[y];if(E!==void 0)return BV(E)}(qe),D=pe.message;he===void 0&&(he=R.INTERNAL,D="Unknown error status: "+qe+" with message "+pe.message),I=!0,A.So(new U(he,D)),g.close()}else V(tt,`RPC '${e}' stream ${i} received:`,q),A.bo(q)}}),x(c,jm.STAT_EVENT,N=>{N.stat===Kl.PROXY?V(tt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Kl.NOPROXY&&V(tt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function Hm(){return typeof document<"u"?document:null}function Dd(t){return new wy(t,!0)}var hd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Ky=class{constructor(e,n,r,i,s,o,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new hd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(Ci(n.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new U(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var Qy=class extends Ky{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=QV(e.writeResults,e.commitTime),r=js(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=GV(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>KV(this.serializer,r))};this.a_(n)}};var Yy=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new U(R.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Ey(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(R.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,Ey(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(R.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Zy=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ci(n),this.D_=!1):V("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Jy=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){Za(this)&&(V("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=we(u);l.L_.add(4),yield Ya(l),l.q_.set("Unknown"),l.L_.delete(4),yield Cd(l)})}(this))}))}),this.q_=new Zy(r,i)}};function Cd(t){return w(this,null,function*(){if(Za(t))for(let e of t.B_)yield e(!0)})}function Ya(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function Za(t){return we(t).L_.size===0}function L0(t,e,n){return w(this,null,function*(){if(!Ed(e))throw e;t.L_.add(1),yield Ya(t),t.q_.set("Offline"),n||(n=()=>nj(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){V("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Cd(t)}))})}function V0(t,e){return e().catch(n=>L0(t,n,e))}function bd(t){return w(this,null,function*(){let e=we(t),n=Pr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;sj(e);)try{let i=yield rj(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,oj(e,i)}catch(i){yield L0(e,i)}j0(e)&&U0(e)})}function sj(t){return Za(t)&&t.O_.length<10}function oj(t,e){t.O_.push(e);let n=Pr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function j0(t){return Za(t)&&!Pr(t).n_()&&t.O_.length>0}function U0(t){Pr(t).start()}function aj(t){return w(this,null,function*(){Pr(t).p_()})}function cj(t){return w(this,null,function*(){let e=Pr(t);for(let n of t.O_)e.m_(n.mutations)})}function uj(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=vy.from(r,e,n);yield V0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield bd(t)})}function lj(t,e){return w(this,null,function*(){e&&Pr(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return UV(o)&&o!==R.ABORTED}(i.code)){let s=r.O_.shift();Pr(r).s_(),yield V0(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield bd(r)}})}(t,e)),j0(t)&&U0(t)})}function n0(t,e){return w(this,null,function*(){let n=we(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");let r=Za(n);n.L_.add(3),yield Ya(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Cd(n)})}function dj(t,e){return w(this,null,function*(){let n=we(t);e?(n.L_.delete(2),yield Cd(n)):e||(n.L_.add(2),yield Ya(n),n.q_.set("Unknown"))})}function Pr(t){return t.U_||(t.U_=function(n,r,i){let s=we(n);return s.w_(),new Qy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:aj.bind(null,t),mo:lj.bind(null,t),f_:cj.bind(null,t),g_:uj.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield bd(t)):(yield t.U_.stop(),t.O_.length>0&&(V("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Xy=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function B0(t,e){if(Ci("AsyncQueue",`${e}: ${t}`),Ed(t))return new U(R.UNAVAILABLE,`${e}: ${t}`);throw t}var ev=class{constructor(){this.queries=r0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=we(n),s=i.queries;i.queries=r0(),s.forEach((o,c)=>{for(let u of c.j_)u.onError(r)})})(this,new U(R.ABORTED,"Firestore shutting down"))}};function r0(){return new xr(t=>D0(t),E0)}function hj(t){t.Y_.forEach(e=>{e.next()})}var i0,s0;(s0=i0||(i0={})).ea="default",s0.Cache="cache";var tv=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new xr(c=>D0(c),E0),this.Ma=new Map,this.xa=new Set,this.Oa=new bt(X.comparator),this.Na=new Map,this.La=new Ka,this.Ba={},this.ka=new Map,this.qa=Wa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function fj(t,e,n){return w(this,null,function*(){let r=yj(t);try{let i=yield function(o,c){let u=we(o),l=rt.now(),f=c.reduce((I,A)=>I.add(A.key),nt()),g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let A=ad(),x=nt();return u.cs.getEntries(I,f).next(N=>{A=N,A.forEach((F,q)=>{q.isValidDocument()||(x=x.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,A)).next(N=>{g=N;let F=[];for(let q of c){let K=jV(q,g.get(q.key).overlayedDocument);K!=null&&F.push(new Kn(q.key,K,m0(K.value.mapValue),Ei.exists(!0)))}return u.mutationQueue.addMutationBatch(I,l,F,c)}).next(N=>{_=N;let F=N.applyToLocalDocumentSet(g,x);return u.documentOverlayCache.saveOverlays(I,N.batchId,F)})}).then(()=>({batchId:_.batchId,changes:b0(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new bt(_e)),l=l.insert(c,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Td(r,i.changes),yield bd(r.remoteStore)}catch(i){let s=B0(i,"Failed to persist write");n.reject(s)}})}function o0(t,e,n){let r=we(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let u=we(o);u.onlineState=c;let l=!1;u.queries.forEach((f,g)=>{for(let _ of g.j_)_.Z_(c)&&(l=!0)}),l&&hj(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function pj(t,e){return w(this,null,function*(){let n=we(t),r=e.batch.batchId;try{let i=yield tj(n.localStore,e);H0(n,r,null),$0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Td(n,i)}catch(i){yield d0(i)}})}function gj(t,e,n){return w(this,null,function*(){let r=we(t);try{let i=yield function(o,c){let u=we(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,c).next(g=>(Ve(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(l,g))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);H0(r,e,n),$0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Td(r,i)}catch(i){yield d0(i)}})}function $0(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function H0(t,e,n){let r=we(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Td(t,e,n){return w(this,null,function*(){let r=we(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{o.push(r.Ka(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let g=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(l){i.push(l);let g=Uy.Wi(u.targetId,l);s.push(g)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let f=we(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>M.forEach(l,_=>M.forEach(_.$i,I=>f.persistence.referenceDelegate.addReference(g,_.targetId,I)).next(()=>M.forEach(_.Ui,I=>f.persistence.referenceDelegate.removeReference(g,_.targetId,I)))))}catch(g){if(!Ed(g))throw g;V("LocalStore","Failed to update sequence numbers: "+g)}for(let g of l){let _=g.targetId;if(!g.fromCache){let I=f.os.get(_),A=I.snapshotVersion,x=I.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(_,x)}}})}(r.localStore,s))})}function mj(t,e){return w(this,null,function*(){let n=we(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());let r=yield F0(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(u=>{u.reject(new U(R.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Td(n,r.hs)}})}function yj(t){let e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gj.bind(null,e),e}var fd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=Dd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return ej(this.persistence,new $y,e.initialUser,this.serializer)}createPersistence(e){return new Ly(jy.Zr,this.serializer)}createSharedClientState(e){return new qy}terminate(){return w(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var nv=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>o0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mj.bind(null,this.syncEngine),yield dj(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new ev}()}createDatastore(e){let n=Dd(e.databaseInfo.databaseId),r=function(s){return new Wy(s)}(e.databaseInfo);return function(s,o,c,u){return new Yy(s,o,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,c){return new Jy(r,i,s,o,c)}(this.localStore,this.datastore,e.asyncQueue,n=>o0(this.syncEngine,n,0),function(){return dd.D()?new dd:new zy}())}createSyncEngine(e,n){return function(i,s,o,c,u,l,f){let g=new tv(i,s,o,c,u,l);return f&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return w(this,null,function*(){var e,n;yield function(i){return w(this,null,function*(){let s=we(i);V("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Ya(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var rv=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$e.UNAUTHENTICATED,this.clientId=nd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>w(this,null,function*(){V("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(V("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=B0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function qm(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield F0(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function a0(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield _j(t);V("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>n0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>n0(e.remoteStore,i)),t._onlineComponents=e})}function vj(t){return t.name==="FirebaseError"?t.code===R.FAILED_PRECONDITION||t.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function _j(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{yield qm(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!vj(n))throw n;ed("Error using user provided cache. Falling back to memory cache: "+n),yield qm(t,new fd)}}else V("FirestoreClient","Using default OfflineComponentProvider"),yield qm(t,new fd);return t._offlineComponents})}function wj(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),yield a0(t,t._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),yield a0(t,new nv))),t._onlineComponents})}function Ij(t){return wj(t).then(e=>e.syncEngine)}function q0(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var c0=new Map;function z0(t,e,n){if(!n)throw new U(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ej(t,e,n,r){if(e===!0&&r===!0)throw new U(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function u0(t){if(!X.isDocumentKey(t))throw new U(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function l0(t){if(X.isDocumentKey(t))throw new U(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function G0(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=yv(t);throw new U(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var pd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ej("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=q0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new U(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new U(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new U(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Xs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zm;switch(r.type){case"firstParty":return new Qm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=c0.get(n);r&&(V("ComponentProvider","Removing Datastore"),c0.delete(n),r.terminate())}(this),Promise.resolve()}};function W0(t,e,n,r={}){var i;let s=(t=G0(t,Xs))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ed("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=$e.MOCK_USER;else{c=gC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new U(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new $e(l)}t._authCredentials=new Gm(new td(c,u))}}var iv=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Gn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Rr=class t extends iv{constructor(e,n,r){super(e,n,CV(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Gn(this.firestore,null,new X(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function K0(t,e,...n){if(t=ut(t),z0("collection","path",e),t instanceof Xs){let r=Pe.fromString(e,...n);return l0(r),new Rr(t,null,r)}{if(!(t instanceof Gn||t instanceof Rr))throw new U(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return l0(r),new Rr(t.firestore,null,r)}}function Q0(t,e,...n){if(t=ut(t),arguments.length===1&&(e=nd.newId()),z0("doc","path",e),t instanceof Xs){let r=Pe.fromString(e,...n);return u0(r),new Gn(t,null,new X(r))}{if(!(t instanceof Gn||t instanceof Rr))throw new U(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return u0(r),new Gn(t.firestore,t instanceof Rr?t.converter:null,new X(r))}}var sv=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new hd(this,"async_queue_retry"),this.Eu=()=>{let n=Hm();n&&V("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=Hm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=Hm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new zn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return w(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Ed(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw Ci("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=Xy.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&oe()}verifyOperationInProgress(){}mu(){return w(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};var gd=class extends Xs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new sv}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Z0(this),this._firestoreClient.terminate()}};function Y0(t,e){let n=typeof t=="object"?t:Rs(),r=typeof t=="string"?t:e||"(default)",i=Aa(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=pC("firestore");s&&W0(i,...s)}return i}function Dj(t){return t._firestoreClient||Z0(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Z0(t){var e,n,r;let i=t._freezeSettings(),s=function(c,u,l,f){return new ty(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,q0(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new rv(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var md=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Wn.fromBase64String(e))}catch(n){throw new U(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var yd=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var vd=class{constructor(e){this._methodName=e}};var _d=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}};var wd=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var Cj=/^__.*__$/,ov=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Kn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ai(e,this.data,n,this.fieldTransforms)}};function J0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}var av=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Id(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(J0(this.wu)&&Cj.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},cv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Dd(e)}Nu(e,n,r,i=!1){return new av({wu:e,methodName:n,Ou:r,path:Ct.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function bj(t){let e=t._freezeSettings(),n=Dd(t._databaseId);return new cv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Tj(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);nT("Data must be an object, but it was:",o,r);let c=eT(r,o),u,l;if(s.merge)u=new dn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let g of s.mergeFields){let _=Sj(e,g,n);if(!o.contains(_))throw new U(R.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Mj(f,_)||f.push(_)}u=new dn(f),l=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,l=o.fieldTransforms;return new ov(new ln(c),u,l)}function X0(t,e){if(tT(t=ut(t)))return nT("Unsupported field value:",e,t),eT(t,e);if(t instanceof vd)return function(r,i){if(!J0(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let u=X0(c,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=rt.fromDate(r);return{timestampValue:Iy(i.serializer,s)}}if(r instanceof rt){let s=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Iy(i.serializer,s)}}if(r instanceof _d)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof md)return{bytesValue:$V(i.serializer,r._byteString)};if(r instanceof Gn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:O0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof wd)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.Mu("VectorValues must only contain numeric values.");return mv(c.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${yv(r)}`)}(t,e)}function eT(t,e){let n={};return h0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qa(t,(r,i)=>{let s=X0(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function tT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof _d||t instanceof md||t instanceof Gn||t instanceof vd||t instanceof wd)}function nT(t,e,n){if(!tT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=yv(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function Sj(t,e,n){if((e=ut(e))instanceof yd)return e._internalPath;if(typeof e=="string")return Rj(t,e);throw Id("Field path arguments must be of type string or ",t,!1,void 0,n)}var Aj=new RegExp("[~\\*/\\[\\]]");function Rj(t,e,n){if(e.search(Aj)>=0)throw Id(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yd(...e.split("."))._internalPath}catch{throw Id(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Id(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new U(R.INVALID_ARGUMENT,c+t+u)}function Mj(t,e){return t.some(n=>n.isEqual(e))}function Nj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function Sd(t,e){let n=G0(t.firestore,gd),r=Q0(t),i=Nj(t.converter,e);return xj(n,[Tj(bj(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ei.exists(!1))]).then(()=>r)}function xj(t,e){return function(r,i){let s=new zn;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return fj(yield Ij(r),i,s)})),s.promise}(Dj(t),e)}(function(e,n=!0){(function(i){eo=i})(br),Cr(new Ft("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new gd(new Wm(r.getProvider("auth-internal")),new Zm(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new U(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ny(l.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Le(Hb,"4.7.1",e),Le(Hb,"4.7.1","esm2017")})();var Qn=class{constructor(e){return e}},rT="firestore",vv=class{constructor(){return Ra(rT)}};var _v=new L("angularfire2.firestore-instances");function Pj(t,e){let n=Tl(rT,t,e);return n&&new Qn(n)}function Oj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Qn(r)}}var kj={provide:vv,deps:[[new ft,_v]]},Fj={provide:Qn,useFactory:Pj,deps:[[new ft,_v],Vn]};function iT(t,...e){return Le("angularfire",pi.full,"fst"),rn([Fj,kj,{provide:_v,useFactory:Oj(t),multi:!0,deps:[me,ct,xs,gi,[new ft,La],[new ft,Ns],...e]}])}var sT=Kt(Sd,!0);var Ad=Kt(K0,!0);var oT=Kt(Y0,!0);var mT=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(ie(ti),ie(pr))},e.\u0275dir=Je({type:e});let t=e;return t})(),Lj=(()=>{let e=class e extends mT{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=fr(e)))(s||e)}})(),e.\u0275dir=Je({type:e,features:[qt]});let t=e;return t})(),yT=new L("");var Vj={provide:yT,useExisting:Xr(()=>so),multi:!0};function jj(){let t=xn()?xn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Uj=new L(""),so=(()=>{let e=class e extends mT{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!jj())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(ie(ti),ie(pr),ie(Uj,8))},e.\u0275dir=Je({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&et("input",function(c){return s._handleInput(c.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(c){return s._compositionEnd(c.target.value)})},features:[Xo([Vj]),qt]});let t=e;return t})();function Bj(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var Iv=new L(""),vT=new L("");function $j(t){return Bj(t.value)?{required:!0}:null}function cT(t){return null}function _T(t){return t!=null}function wT(t){return ri(t)?be(t):t}function IT(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function ET(t,e){return e.map(n=>n(t))}function Hj(t){return!t.validate}function DT(t){return t.map(e=>Hj(e)?e:n=>e.validate(n))}function qj(t){if(!t)return null;let e=t.filter(_T);return e.length==0?null:function(n){return IT(ET(n,e))}}function Ev(t){return t!=null?qj(DT(t)):null}function zj(t){if(!t)return null;let e=t.filter(_T);return e.length==0?null:function(n){let r=ET(n,e).map(wT);return Uh(r).pipe(te(IT))}}function Dv(t){return t!=null?zj(DT(t)):null}function uT(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Gj(t){return t._rawValidators}function Wj(t){return t._rawAsyncValidators}function wv(t){return t?Array.isArray(t)?t:[t]:[]}function Md(t,e){return Array.isArray(t)?t.includes(e):t===e}function lT(t,e){let n=wv(e);return wv(t).forEach(i=>{Md(n,i)||n.push(i)}),n}function dT(t,e){return wv(e).filter(n=>!Md(t,n))}var Nd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ev(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Dv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ro=class extends Nd{get formDirective(){return null}get path(){return null}},rc=class extends Nd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},xd=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Kj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},U9=ee(O({},Kj),{"[class.ng-submitted]":"isSubmitted"}),Fd=(()=>{let e=class e extends xd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ie(rc,2))},e.\u0275dir=Je({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Yu("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[qt]});let t=e;return t})(),Ld=(()=>{let e=class e extends xd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ie(ro,10))},e.\u0275dir=Je({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Yu("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[qt]});let t=e;return t})();var Ja="VALID",Rd="INVALID",to="PENDING",Xa="DISABLED",io=class{},Pd=class extends io{constructor(e,n){super(),this.value=e,this.source=n}},tc=class extends io{constructor(e,n){super(),this.pristine=e,this.source=n}},nc=class extends io{constructor(e,n){super(),this.touched=e,this.source=n}},no=class extends io{constructor(e,n){super(),this.status=e,this.source=n}};function CT(t){return(Vd(t)?t.validators:t)||null}function Qj(t){return Array.isArray(t)?Ev(t):t||null}function bT(t,e){return(Vd(e)?e.asyncValidators:t)||null}function Yj(t){return Array.isArray(t)?Dv(t):t||null}function Vd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Zj(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new j(1e3,"");if(!r[n])throw new j(1001,"")}function Jj(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new j(1002,"")})}var Od=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ea(()=>this.statusReactive()),this.statusReactive=Ko(void 0),this._pristine=ea(()=>this.pristineReactive()),this.pristineReactive=Ko(!0),this._touched=ea(()=>this.touchedReactive()),this.touchedReactive=Ko(!1),this._events=new je,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Nn(this.statusReactive)}set status(e){Nn(()=>this.statusReactive.set(e))}get valid(){return this.status===Ja}get invalid(){return this.status===Rd}get pending(){return this.status==to}get disabled(){return this.status===Xa}get enabled(){return this.status!==Xa}get pristine(){return Nn(this.pristineReactive)}set pristine(e){Nn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Nn(this.touchedReactive)}set touched(e){Nn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(lT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(lT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(dT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(dT(e,this._rawAsyncValidators))}hasValidator(e){return Md(this._rawValidators,e)}hasAsyncValidator(e){return Md(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ee(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new nc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new nc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ee(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new tc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new tc(!0,r))}markAsPending(e={}){this.status=to;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new no(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ee(O({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Xa,this.errors=null,this._forEachChild(i=>{i.disable(ee(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Pd(this.value,r)),this._events.next(new no(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ee(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ja,this._forEachChild(r=>{r.enable(ee(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ee(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ja||this.status===to)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Pd(this.value,n)),this._events.next(new no(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ee(O({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xa:Ja}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=to,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=wT(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new no(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Te,this.statusChanges=new Te}_calculateStatus(){return this._allControlsDisabled()?Xa:this.errors?Rd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(to)?to:this._anyControlsHaveStatus(Rd)?Rd:Ja}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new tc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new nc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Vd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Qj(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Yj(this._rawAsyncValidators)}},kd=class extends Od{constructor(e,n,r){super(CT(n),bT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Jj(this,!0,e),Object.keys(e).forEach(r=>{Zj(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Cv=new L("CallSetDisabledState",{providedIn:"root",factory:()=>bv}),bv="always";function Xj(t,e){return[...e.path,t]}function TT(t,e,n=bv){ST(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),tU(t,e),rU(t,e),nU(t,e),eU(t,e)}function hT(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function eU(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function ST(t,e){let n=Gj(t);e.validator!==null?t.setValidators(uT(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Wj(t);e.asyncValidator!==null?t.setAsyncValidators(uT(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();hT(e._rawValidators,i),hT(e._rawAsyncValidators,i)}function tU(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&AT(t,e)})}function nU(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&AT(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function AT(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function rU(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function iU(t,e){t==null,ST(t,e)}function sU(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function oU(t){return Object.getPrototypeOf(t.constructor)===Lj}function aU(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function cU(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===so?n=s:oU(s)?r=s:i=s}),i||r||n||null}var uU={provide:ro,useExisting:Xr(()=>ic)},ec=Promise.resolve(),ic=(()=>{let e=class e extends ro{get submitted(){return Nn(this.submittedReactive)}constructor(r,i,s){super(),this.callSetDisabledState=s,this._submitted=ea(()=>this.submittedReactive()),this.submittedReactive=Ko(!1),this._directives=new Set,this.ngSubmit=new Te,this.form=new kd({},Ev(r),Dv(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){ec.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),TT(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){ec.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){ec.then(()=>{let i=this._findContainer(r.path),s=new kd({});iU(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){ec.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){ec.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),aU(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(ie(Iv,10),ie(vT,10),ie(Cv,8))},e.\u0275dir=Je({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&et("submit",function(c){return s.onSubmit(c)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Xo([uU]),qt]});let t=e;return t})();function fT(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function pT(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var lU=class extends Od{constructor(e=null,n,r){super(CT(n),bT(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(pT(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){fT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){fT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){pT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var dU={provide:rc,useExisting:Xr(()=>sc)},gT=Promise.resolve(),sc=(()=>{let e=class e extends rc{constructor(r,i,s,o,c,u){super(),this._changeDetectorRef=c,this.callSetDisabledState=u,this.control=new lU,this._registered=!1,this.name="",this.update=new Te,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=cU(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),sU(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){TT(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){gT.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&_r(i);gT.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?Xj(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(ie(ro,9),ie(Iv,10),ie(vT,10),ie(yT,10),ie(ii,8),ie(Cv,8))},e.\u0275dir=Je({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Xo([dU]),qt,An]});let t=e;return t})(),jd=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Je({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var hU=(()=>{let e=class e{constructor(){this._validator=cT}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):cT,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Je({type:e,features:[An]});let t=e;return t})();var fU={provide:Iv,useExisting:Xr(()=>oc),multi:!0};var oc=(()=>{let e=class e extends hU{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=_r,this.createValidator=r=>$j}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=fr(e)))(s||e)}})(),e.\u0275dir=Je({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&Yo("required",s._enabled?"":null)},inputs:{required:"required"},features:[Xo([fU]),qt]});let t=e;return t})();var pU=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Cn({type:e}),e.\u0275inj=Dn({});let t=e;return t})();var oo=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Cv,useValue:r.callSetDisabledState??bv}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Cn({type:e}),e.\u0275inj=Dn({imports:[pU]});let t=e;return t})();var Tv=new L("@sweetalert2/ngx-sweetalert2#swalProvider"),MT=new L("@sweetalert2/ngx-sweetalert2#fireOnInit"),NT=new L("@sweetalert2/ngx-sweetalert2#dismissOnDestroy"),xT=(()=>{class t{swalProvider;swalPromiseCache;constructor(n){this.swalProvider=n}get swal(){return this.swalPromiseCache||this.preloadSweetAlertLibrary(),this.swalPromiseCache}preloadSweetAlertLibrary(){if(this.swalPromiseCache)return;let n=r(this.swalProvider)?this.swalProvider():Promise.resolve(this.swalProvider);this.swalPromiseCache=n.then(s=>i(s)?s:s.default);function r(s){return typeof s=="function"&&s.version===void 0}function i(s){return typeof s=="function"}}static \u0275fac=function(r){return new(r||t)(Q(Tv))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})();function gU(){return import("./chunk-LYH66U5D.js")}var Ud=(()=>{class t{static forRoot(n={}){return{ngModule:t,providers:[xT,{provide:Tv,useValue:n.provideSwal||gU},{provide:MT,useValue:n.fireOnInit||!1},{provide:NT,useValue:n.dismissOnDestroy||!0}]}}static forChild(n={}){return{ngModule:t,providers:[...n.provideSwal?[xT,{provide:Tv,useValue:n.provideSwal}]:[],...n.fireOnInit!==void 0?[{provide:MT,useValue:n.fireOnInit}]:[],...n.dismissOnDestroy!==void 0?[{provide:NT,useValue:n.dismissOnDestroy}]:[]]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Cn({type:t});static \u0275inj=Dn({imports:[Np]})}return t})();var Ri=mh(yh());var ac=class t{constructor(e,n,r){this.auth=e;this.router=n;this.firestore=r}userMail="";userPWD="";loggedUser="";flagError=!1;msjError="";obtenerFechaActual=()=>{let e=new Date,n=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),i=e.getFullYear(),s=String(e.getHours()).padStart(2,"0"),o=String(e.getMinutes()).padStart(2,"0");return`${n}/${r}/${i} ${s}:${o}`};Login(){Ri.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#000",color:"#fff",didOpen:()=>{Ri.default.showLoading()}}),Lb(this.auth,this.userMail,this.userPWD).then(e=>{Ri.default.close(),e.user.email!==null&&(this.loggedUser=e.user.email);let n=Ad(this.firestore,"logins");Sd(n,{fecha:new Date,user:this.loggedUser}),Ri.default.fire({title:`Bienvenido ${e.user.displayName}
Fecha de ingreso: ${this.obtenerFechaActual()}`,background:"#000",color:"#fff",confirmButtonColor:"#ff5722"}),this.router.navigate(["home"]),this.flagError=!1}).catch(e=>{switch(Ri.default.close(),this.flagError=!0,console.log(e.code),e.code){case"auth/invalid-email":this.userMail==""?this.msjError="Por favor ingrese un mail":this.msjError="El mail ingresado es invalido";break;case"auth/invalid-credential":this.msjError="Contrase\xF1a incorrecta";break;case"auth/missing-password":this.msjError="Falta ingresar la contrase\xF1a";break;default:this.msjError="Ocurrio un error inesperado";break}Ri.default.fire({title:`${this.msjError}`,background:"#000",color:"#fff",confirmButtonColor:"#ff5722"})})}CompletarInputs(e,n){this.userMail=e,this.userPWD=n}static \u0275fac=function(n){return new(n||t)(ie(Hn),ie(kn),ie(Qn))};static \u0275cmp=_t({type:t,selectors:[["app-login"]],standalone:!0,features:[Ot],decls:20,vars:2,consts:[["mail",""],["pass",""],[1,"login-container","container-fluid"],["action","login.php","method","POST"],["type","text","name","email","placeholder","mail","required","",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","Contrase\xF1a","required","",3,"ngModelChange","ngModel"],["type","submit","value","Iniciar Sesi\xF3n",3,"click"],["id","users"],[1,"userbutton",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/tp-labo4-fae81.appspot.com/o/avatar%20(1).png?alt=media&token=63316508-e172-42c9-aa9a-d230191e3200"],["src","https://firebasestorage.googleapis.com/v0/b/tp-labo4-fae81.appspot.com/o/avatar%20(2).png?alt=media&token=ecbba639-a009-4141-afdd-845c19c8ead9"],["src","https://firebasestorage.googleapis.com/v0/b/tp-labo4-fae81.appspot.com/o/avatar.png?alt=media&token=7b9bf124-9782-46d5-b479-a736ec0df60d"],["href","#"],["href","/registro"]],template:function(n,r){if(n&1){let i=Ju();Z(0,"div",2)(1,"h2"),Se(2,"Iniciar Sesi\xF3n"),ce(),Z(3,"form",3)(4,"input",4,0),yr("ngModelChange",function(o){return Rn(i),ni(r.userMail,o)||(r.userMail=o),Mn(o)}),ce(),Z(6,"input",5,1),yr("ngModelChange",function(o){return Rn(i),ni(r.userPWD,o)||(r.userPWD=o),Mn(o)}),ce(),Z(8,"input",6),et("click",function(){return Rn(i),Mn(r.Login())}),ce(),Z(9,"div",7)(10,"button",8),et("click",function(){return Rn(i),Mn(r.CompletarInputs("carlos@mail.com","123456"))}),Xe(11,"img",9),ce(),Z(12,"button",8),et("click",function(){return Rn(i),Mn(r.CompletarInputs("alberto@gmail.com","abcdefg"))}),Xe(13,"img",10),ce(),Z(14,"button",8),et("click",function(){return Rn(i),Mn(r.CompletarInputs("luis@hotmail.com","123abc"))}),Xe(15,"img",11),ce()()(),Z(16,"a",12),Se(17,"\xBFOlvidaste tu contrase\xF1a?"),ce(),Z(18,"a",13),Se(19,"\xBFNo tenes usuario? Registrate"),ce()()}n&2&&(Pt(4),mr("ngModel",r.userMail),Pt(2),mr("ngModel",r.userPWD))},dependencies:[oo,jd,so,Fd,Ld,oc,sc,ic,Ud],styles:["body[_ngcontent-%COMP%]{background-image:url(https://example.com/tu-imagen-de-fondo.jpg);background-size:cover;display:flex;justify-content:center;align-items:center;height:100vh;margin:0;font-family:Arial,sans-serif}.login-container[_ngcontent-%COMP%]{background-color:#000c;padding:20px;border-radius:10px;box-shadow:0 0 15px #00000080;max-width:400px;width:100%;text-align:center;color:#fff;margin-top:30px}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;font-size:24px}.login-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:15px;border:none;border-radius:5px}.login-container[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#ff5722;border:none;border-radius:5px;color:#fff;font-size:18px;cursor:pointer;transition:background-color .3s ease}.login-container[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]:hover{background-color:#e64a19}.login-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ff5722;text-decoration:none;display:block;margin-top:15px}.login-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}#users[_ngcontent-%COMP%]{display:flex;width:100%;height:100px;padding:10px;justify-content:space-between}.userbutton[_ngcontent-%COMP%]{width:30%;height:100%;display:flex;justify-content:center;align-items:center;background-color:transparent;border:none}.userbutton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%}.userbutton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{width:100%}"]})};var $d=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=_t({type:t,selectors:[["app-home"]],standalone:!0,features:[Ot],decls:21,vars:0,consts:[["id","container",1,"login-container","container-fluid"],["id","juegos"],["id","juego1",1,"juegos"],["src","https://firebasestorage.googleapis.com/v0/b/tp-labo4-fae81.appspot.com/o/gibbet_3570557.png?alt=media&token=d647779d-4781-464e-a7ea-729d377ef471",1,"icon"],["id","juego2",1,"juegos"],["src","https://firebasestorage.googleapis.com/v0/b/tp-labo4-fae81.appspot.com/o/poker-card_16830094.png?alt=media&token=a77f8811-f847-4a14-9ecd-50e7677df02f",1,"icon"],["id","juego3",1,"juegos"],["src","https://firebasestorage.googleapis.com/v0/b/tp-labo4-fae81.appspot.com/o/problem_5377707.png?alt=media&token=42d0dad7-74ea-444d-8eeb-8e3c7e7b15a1",1,"icon"],["id","juego4",1,"juegos"],["src","https://firebasestorage.googleapis.com/v0/b/tp-labo4-fae81.appspot.com/o/explosivos.png?alt=media&token=64fe91e7-0c63-4b40-9e82-8bd5ad701f76",1,"icon"],["id","chat"],[1,"chat"]],template:function(n,r){n&1&&(Z(0,"div",0)(1,"div",1)(2,"button",2),Xe(3,"img",3),Z(4,"p"),Se(5,"Ahorcado"),ce()(),Z(6,"button",4),Xe(7,"img",5),Z(8,"p"),Se(9,"Mayor o menor"),ce()(),Z(10,"button",6),Xe(11,"img",7),Z(12,"p"),Se(13,"Preguntados"),ce()(),Z(14,"button",8),Xe(15,"img",9),Z(16,"p"),Se(17,"Buscaminas"),ce()()(),Z(18,"div",10)(19,"button",11),Se(20,"Chat"),ce()()())},styles:["p[_ngcontent-%COMP%]{color:#fff}button[_ngcontent-%COMP%]{box-shadow:0 0 15px #00000080;background-color:#000c;padding:20px;border-radius:10px;text-align:center;margin-top:30px;color:#fff;font-size:30px}button[_ngcontent-%COMP%]:hover{background-color:#5b5b5bcc}#juegos[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:space-between;padding:20px}.juegos[_ngcontent-%COMP%]{width:400px;height:400px;display:flex;justify-content:space-around;align-items:center;flex-wrap:wrap;box-shadow:0 0 15px #00000080;background-color:#000c;padding:20px;border-radius:10px;max-width:400px;width:100%;text-align:center;margin-top:30px}.juegos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%}#chat[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;padding:20px}.chat[_ngcontent-%COMP%]{width:1200px;height:100px}.icon[_ngcontent-%COMP%]{width:30%}"]})};var Hd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=_t({type:t,selectors:[["app-quien-soy"]],standalone:!0,features:[Ot],decls:7,vars:0,consts:[["id","user"],["src","https://firebasestorage.googleapis.com/v0/b/tp-labo4-fae81.appspot.com/o/quien-soy.jpg?alt=media&token=7c7be0a4-c909-4cd7-8755-a9bcbf68d4f1","id","user-image"],["id","info"]],template:function(n,r){n&1&&(Z(0,"div",0),Xe(1,"img",1),Z(2,"div",2)(3,"h1"),Se(4,"Quien Soy?"),ce(),Z(5,"p"),Se(6,'Mi nombre es Gast\xF3n G\xF3mez, tengo 26 a\xF1os, soy de Banfield (como el 70% del sur\u{1F601}) y actualmente estudio la Tecnicatura en Programaci\xF3n en la UTN y trabajo como QA Automation. En esta web podran jugar al ahorcado, al juego de cartas "Mayor o Menor", a un juego de preguntas y respuestas y a una version del buscaminas. Todos los juegos fueron desarrollados por mi.'),ce()()())},styles:["#user-image[_ngcontent-%COMP%]{border-radius:50%;width:300px}#user[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin-left:20px;margin-right:20px;margin-top:100px;background-color:#000c;box-shadow:0 0 15px #00000080;padding:20px;border-radius:10px;color:#fff}#info[_ngcontent-%COMP%]{width:1500px;font-size:30px}"]})};var Mi=mh(yh());var Sv=mh(yh());function mU(t,e){t&1&&(Z(0,"ul")(1,"li")(2,"button",1),Se(3,"Login"),ce()(),Z(4,"li")(5,"button",2),Se(6,"Quien soy?"),ce()()())}function yU(t,e){if(t&1){let n=Ju();Z(0,"ul",0)(1,"li",3)(2,"p"),Se(3),ce()(),Z(4,"li")(5,"button",4),et("click",function(){Rn(n);let i=Zo();return Mn(i.logout())}),Se(6,"Log out"),ce()()()}if(t&2){let n=Zo();Pt(3),Jo("Bienvenido ",n.auth.currentUser==null?null:n.auth.currentUser.displayName,"")}}var ao=class t{constructor(e,n,r){this.router=e;this.auth=n;this.firestore=r}title="TP_LABO4";username="";goTo(e){this.router.navigate([e])}isLoggedOut(){let e=this.router.url;return e==="/login"||e==="/quien-soy"||e==="/registro"||e==="/"}logout(){Sv.default.fire({title:"\xBFEsta seguro que desea cerrar la sesi\xF3n?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Cerrar Sesi\xF3n",cancelButtonText:"Cancelar",background:"#000",color:"#fff"}).then(e=>{e.isConfirmed&&(Sv.default.showLoading(),console.log("Logout successful"),this.goTo("/login"))})}obtenerFechaActual=()=>{let e=new Date,n=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),i=e.getFullYear(),s=String(e.getHours()).padStart(2,"0"),o=String(e.getMinutes()).padStart(2,"0");return`${n}/${r}/${i} ${s}:${o}`};static \u0275fac=function(n){return new(n||t)(ie(kn),ie(Hn),ie(Qn))};static \u0275cmp=_t({type:t,selectors:[["app-root"]],standalone:!0,features:[Ot],decls:4,vars:1,consts:[["id","loggedin"],["routerLink","login"],["routerLink","quien-soy"],["id","user"],[3,"click"]],template:function(n,r){n&1&&(Z(0,"nav"),ms(1,mU,7,0,"ul")(2,yU,7,1,"ul",0),ce(),Xe(3,"router-outlet")),n&2&&(Pt(),Zu(r.isLoggedOut()?1:2))},dependencies:[vg,uC,oo],styles:["button[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:#fff;border:none;height:100%}button[_ngcontent-%COMP%]:hover{background-color:#a08f8f42}#user[_ngcontent-%COMP%]{width:fit-content;padding:30px;display:flex;align-content:center}nav[_ngcontent-%COMP%]{background-color:#00000042;height:60px}ul[_ngcontent-%COMP%]{display:flex;list-style:none;height:100%;align-items:center}li[_ngcontent-%COMP%]{width:5%;height:100%;display:flex;align-items:center}#loggedin[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]})};function vU(t,e){if(t&1&&(Z(0,"h2",6),Se(1),ce()),t&2){let n=Zo();Pt(),Jo("Usuario registrado: ",n.loggedUser,"")}}var qd=class t extends ao{newUserMail="";newUserPWD="";newUserName="";loggedUser="";flagError=!1;msjError="";fechaRegistro="";Register(){Mi.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#000",color:"#fff",didOpen:()=>{Mi.default.showLoading()}}),Fb(this.auth,this.newUserMail,this.newUserPWD).then(e=>{Mi.default.close(),e.user.email!==null&&(this.loggedUser=e.user.email),this.fechaRegistro=this.obtenerFechaActual(),Vb(e.user,{displayName:this.newUserName});let n=Ad(this.firestore,"logins");sT(n,{fecha:new Date,user:this.loggedUser}),Mi.default.fire({title:`Se registro correctamente a ${e.user.displayName}
Fecha de registro: ${this.fechaRegistro}`,background:"#000",color:"#fff",confirmButtonColor:"#ff5722"}),this.router.navigate(["home"]),this.flagError=!1}).catch(e=>{switch(Mi.default.close(),this.flagError=!0,e.code){case"auth/invalid-email":this.newUserMail==""?this.msjError="Por favor ingrese un mail":this.msjError="El mail ingresado es invalido";break;case"auth/email-already-in-use":this.msjError="Email ya en uso";break;case"auth/weak-password":this.msjError="La contrase\xF1a debe contener como minimo 6 caracteres";break;default:this.msjError="Ocurrio un error inesperado";break}Mi.default.fire({title:`${this.msjError}`,background:"#000",color:"#fff",confirmButtonColor:"#ff5722"})})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=fr(t)))(r||t)}})();static \u0275cmp=_t({type:t,selectors:[["app-registro"]],standalone:!0,features:[qt,Ot],decls:9,vars:4,consts:[[1,"login-container","container-fluid"],["action","register.php","method","POST"],["type","text","name","mail","placeholder","Usuario","required","",3,"ngModelChange","ngModel"],["type","text","name","mail","placeholder","Email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","Contrase\xF1a","required","",3,"ngModelChange","ngModel"],["type","submit","value","Registrarse",3,"click"],[1,"text-center","text-primary"]],template:function(n,r){n&1&&(Z(0,"div",0)(1,"h2"),Se(2,"Registrarse"),ce(),Z(3,"form",1)(4,"input",2),yr("ngModelChange",function(s){return ni(r.newUserName,s)||(r.newUserName=s),s}),ce(),Z(5,"input",3),yr("ngModelChange",function(s){return ni(r.newUserMail,s)||(r.newUserMail=s),s}),ce(),Z(6,"input",4),yr("ngModelChange",function(s){return ni(r.newUserPWD,s)||(r.newUserPWD=s),s}),ce(),Z(7,"input",5),et("click",function(){return r.Register()}),ce(),ms(8,vU,2,1,"h2",6),ce()()),n&2&&(Pt(4),mr("ngModel",r.newUserName),Pt(),mr("ngModel",r.newUserMail),Pt(),mr("ngModel",r.newUserPWD),Pt(2),Zu(r.loggedUser!=""?8:-1))},dependencies:[oo,jd,so,Fd,Ld,oc,sc,ic,Ud],styles:["body[_ngcontent-%COMP%]{background-image:url(https://example.com/tu-imagen-de-fondo.jpg);background-size:cover;display:flex;justify-content:center;align-items:center;height:100vh;margin:0;font-family:Arial,sans-serif}.login-container[_ngcontent-%COMP%]{background-color:#000c;padding:20px;border-radius:10px;box-shadow:0 0 15px #00000080;max-width:400px;width:100%;text-align:center;color:#fff;margin-top:30px}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;font-size:24px}.login-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:15px;border:none;border-radius:5px}.login-container[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#ff5722;border:none;border-radius:5px;color:#fff;font-size:18px;cursor:pointer;transition:background-color .3s ease}.login-container[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]:hover{background-color:#e64a19}.login-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ff5722;text-decoration:none;display:block;margin-top:15px}.login-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};var PT=(t,e)=>{let n=Gl(),r=k(kn);return n.currentUser?!0:(r.navigate(["/login"]),!1)};var Av=[{path:"",component:ac},{path:"login",component:ac},{path:"home",component:$d,canActivate:[PT]},{path:"quien-soy",component:Hd},{path:"registro",component:qd}];var OT={apiKey:"AIzaSyAWhCFvDRGhvGv4j7mD0_h5pXtai8NIFX0",authDomain:"tp-labo4-fae81.firebaseapp.com",projectId:"tp-labo4-fae81",storageBucket:"tp-labo4-fae81.appspot.com",messagingSenderId:"1089427362123",appId:"1:1089427362123:web:c6f9f59e1a78d8b141d8ce"};var kT={providers:[Cg(Av),sD({eventCoalescing:!0}),Cg(Av),VC(()=>jC(OT)),kb(()=>Gl()),iT(()=>oT())]};TD(ao,kT).catch(t=>console.error(t));

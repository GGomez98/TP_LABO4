import{a as k,b as re,c as AA,d as Jn,e as w,f as SA}from"./chunk-M3GSIO6A.js";function x_(t,e){return Object.is(t,e)}var Fe=null,yc=!1,vc=1,In=Symbol("SIGNAL");function ce(t){let e=Fe;return Fe=t,e}function P_(){return Fe}var Co={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function dh(t){if(yc)throw new Error("");if(Fe===null)return;Fe.consumerOnSignalRead(t);let e=Fe.nextProducerIndex++;if(Ec(Fe),e<Fe.producerNode.length&&Fe.producerNode[e]!==t&&Do(Fe)){let n=Fe.producerNode[e];wc(n,Fe.producerIndexOfThis[e])}Fe.producerNode[e]!==t&&(Fe.producerNode[e]=t,Fe.producerIndexOfThis[e]=Do(Fe)?L_(t,Fe,e):0),Fe.producerLastReadVersion[e]=t.version}function RA(){vc++}function O_(t){if(!(Do(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===vc)){if(!t.producerMustRecompute(t)&&!fh(t)){t.dirty=!1,t.lastCleanEpoch=vc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=vc}}function k_(t){if(t.liveConsumerNode===void 0)return;let e=yc;yc=!0;try{for(let n of t.liveConsumerNode)n.dirty||MA(n)}finally{yc=e}}function F_(){return Fe?.consumerAllowSignalWrites!==!1}function MA(t){t.dirty=!0,k_(t),t.consumerMarkedDirty?.(t)}function Ic(t){return t&&(t.nextProducerIndex=0),ce(t)}function hh(t,e){if(ce(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Do(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)wc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function fh(t){Ec(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(O_(n),r!==n.version))return!0}return!1}function ph(t){if(Ec(t),Do(t))for(let e=0;e<t.producerNode.length;e++)wc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function L_(t,e,n){if(V_(t),t.liveConsumerNode.length===0&&U_(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=L_(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function wc(t,e){if(V_(t),t.liveConsumerNode.length===1&&U_(t))for(let r=0;r<t.producerNode.length;r++)wc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ec(i),i.producerIndexOfThis[r]=e}}function Do(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ec(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function V_(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function U_(t){return t.producerNode!==void 0}function j_(t){let e=Object.create(NA);e.computation=t;let n=()=>{if(O_(e),dh(e),e.value===_c)throw e.error;return e.value};return n[In]=e,n}var uh=Symbol("UNSET"),lh=Symbol("COMPUTING"),_c=Symbol("ERRORED"),NA=re(k({},Co),{value:uh,dirty:!0,error:null,equal:x_,producerMustRecompute(t){return t.value===uh||t.value===lh},producerRecomputeValue(t){if(t.value===lh)throw new Error("Detected cycle in computations.");let e=t.value;t.value=lh;let n=Ic(t),r;try{r=t.computation()}catch(i){r=_c,t.error=i}finally{hh(t,n)}if(e!==uh&&e!==_c&&r!==_c&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function xA(){throw new Error}var B_=xA;function $_(){B_()}function H_(t){B_=t}var PA=null;function q_(t){let e=Object.create(G_);e.value=t;let n=()=>(dh(e),e.value);return n[In]=e,n}function gh(t,e){F_()||$_(),t.equal(t.value,e)||(t.value=e,OA(t))}function z_(t,e){F_()||$_(),gh(t,e(t.value))}var G_=re(k({},Co),{equal:x_,value:void 0});function OA(t){t.version++,RA(),k_(t),PA?.()}function W(t){return typeof t=="function"}function Ri(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Dc=Ri(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function kr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ae=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(W(r))try{r()}catch(s){e=s instanceof Dc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{W_(s)}catch(o){e=e??[],o instanceof Dc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Dc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)W_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&kr(n,e)}remove(e){let{_finalizers:n}=this;n&&kr(n,e),e instanceof t&&e._removeParent(this)}};Ae.EMPTY=(()=>{let t=new Ae;return t.closed=!0,t})();var mh=Ae.EMPTY;function Cc(t){return t instanceof Ae||t&&"closed"in t&&W(t.remove)&&W(t.add)&&W(t.unsubscribe)}function W_(t){W(t)?t():t.unsubscribe()}var Bt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Mi={setTimeout(t,e,...n){let{delegate:r}=Mi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Mi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function bc(t){Mi.setTimeout(()=>{let{onUnhandledError:e}=Bt;if(e)e(t);else throw t})}function bo(){}var K_=yh("C",void 0,void 0);function Q_(t){return yh("E",void 0,t)}function Y_(t){return yh("N",t,void 0)}function yh(t,e,n){return{kind:t,value:e,error:n}}var Fr=null;function Ni(t){if(Bt.useDeprecatedSynchronousErrorHandling){let e=!Fr;if(e&&(Fr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Fr;if(Fr=null,n)throw r}}else t()}function Z_(t){Bt.useDeprecatedSynchronousErrorHandling&&Fr&&(Fr.errorThrown=!0,Fr.error=t)}var Lr=class extends Ae{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Cc(e)&&e.add(this)):this.destination=LA}static create(e,n,r){return new xi(e,n,r)}next(e){this.isStopped?_h(Y_(e),this):this._next(e)}error(e){this.isStopped?_h(Q_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?_h(K_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},kA=Function.prototype.bind;function vh(t,e){return kA.call(t,e)}var Ih=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Tc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Tc(r)}else Tc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Tc(n)}}},xi=class extends Lr{constructor(e,n,r){super();let i;if(W(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Bt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&vh(e.next,s),error:e.error&&vh(e.error,s),complete:e.complete&&vh(e.complete,s)}):i=e}this.destination=new Ih(i)}};function Tc(t){Bt.useDeprecatedSynchronousErrorHandling?Z_(t):bc(t)}function FA(t){throw t}function _h(t,e){let{onStoppedNotification:n}=Bt;n&&Mi.setTimeout(()=>n(t,e))}var LA={closed:!0,next:bo,error:FA,complete:bo};var Pi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function mt(t){return t}function wh(...t){return Eh(t)}function Eh(t){return t.length===0?mt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ue=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=UA(n)?n:new xi(n,r,i);return Ni(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=J_(r),new r((i,s)=>{let o=new xi({next:c=>{try{n(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Pi](){return this}pipe(...n){return Eh(n)(this)}toPromise(n){return n=J_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function J_(t){var e;return(e=t??Bt.Promise)!==null&&e!==void 0?e:Promise}function VA(t){return t&&W(t.next)&&W(t.error)&&W(t.complete)}function UA(t){return t&&t instanceof Lr||VA(t)&&Cc(t)}function Dh(t){return W(t?.lift)}function le(t){return e=>{if(Dh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ie(t,e,n,r,i){return new Ch(t,e,n,r,i)}var Ch=class extends Lr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Oi(){return le((t,e)=>{let n=null;t._refCount++;let r=ie(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ki=class extends ue{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Dh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ae;let n=this.getSubject();e.add(this.source.subscribe(ie(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ae.EMPTY)}return e}refCount(){return Oi()(this)}};var X_=Ri(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Be=(()=>{class t extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ac(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new X_}next(n){Ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?mh:(this.currentObservers=null,s.push(n),new Ae(()=>{this.currentObservers=null,kr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ue;return n.source=this,n}}return t.create=(e,n)=>new Ac(e,n),t})(),Ac=class extends Be{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:mh}};var Ke=class extends Be{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var bh={now(){return(bh.delegate||Date).now()},delegate:void 0};var Sc=class extends Ae{constructor(e,n){super()}schedule(e,n=0){return this}};var To={setInterval(t,e,...n){let{delegate:r}=To;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=To;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Fi=class extends Sc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return To.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&To.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,kr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Li=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Li.now=bh.now;var Vi=class extends Li{constructor(e,n=Li.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Th=new Vi(Fi);var Rc=class extends Fi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Mc=class extends Vi{};var Ah=new Mc(Rc);var yt=new ue(t=>t.complete());function eI(t){return t&&W(t.schedule)}function tI(t){return t[t.length-1]}function Nc(t){return W(tI(t))?t.pop():void 0}function Xn(t){return eI(tI(t))?t.pop():void 0}function Sh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function rI(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(f){try{l(r.next(f))}catch(g){o(g)}}function u(f){try{l(r.throw(f))}catch(g){o(g)}}function l(f){f.done?s(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function nI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vr(t){return this instanceof Vr?(this.v=t,this):new Vr(t)}function iI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(I){return function(S){return Promise.resolve(S).then(I,g)}}function c(I,S){r[I]&&(i[I]=function(P){return new Promise(function(N,F){s.push([I,P,N,F])>1||u(I,P)})},S&&(i[I]=S(i[I])))}function u(I,S){try{l(r[I](S))}catch(P){_(s[0][3],P)}}function l(I){I.value instanceof Vr?Promise.resolve(I.value.v).then(f,g):_(s[0][2],I)}function f(I){u("next",I)}function g(I){u("throw",I)}function _(I,S){I(S),s.shift(),s.length&&u(s[0][0],s[0][1])}}function sI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof nI=="function"?nI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,u){o=t[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(l){s({value:l,done:c})},o)}}var xc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Pc(t){return W(t?.then)}function Oc(t){return W(t[Pi])}function kc(t){return Symbol.asyncIterator&&W(t?.[Symbol.asyncIterator])}function Fc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function jA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Lc=jA();function Vc(t){return W(t?.[Lc])}function Uc(t){return iI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Vr(n.read());if(i)return yield Vr(void 0);yield yield Vr(r)}}finally{n.releaseLock()}})}function jc(t){return W(t?.getReader)}function Re(t){if(t instanceof ue)return t;if(t!=null){if(Oc(t))return BA(t);if(xc(t))return $A(t);if(Pc(t))return HA(t);if(kc(t))return oI(t);if(Vc(t))return qA(t);if(jc(t))return zA(t)}throw Fc(t)}function BA(t){return new ue(e=>{let n=t[Pi]();if(W(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function $A(t){return new ue(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function HA(t){return new ue(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,bc)})}function qA(t){return new ue(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function oI(t){return new ue(e=>{GA(t,e).catch(n=>e.error(n))})}function zA(t){return oI(Uc(t))}function GA(t,e){var n,r,i,s;return rI(this,void 0,void 0,function*(){try{for(n=sI(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function ft(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function er(t,e=0){return le((n,r)=>{n.subscribe(ie(r,i=>ft(r,t,()=>r.next(i),e),()=>ft(r,t,()=>r.complete(),e),i=>ft(r,t,()=>r.error(i),e)))})}function tr(t,e=0){return le((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function aI(t,e){return Re(t).pipe(tr(e),er(e))}function cI(t,e){return Re(t).pipe(tr(e),er(e))}function uI(t,e){return new ue(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function lI(t,e){return new ue(n=>{let r;return ft(n,e,()=>{r=t[Lc](),ft(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>W(r?.return)&&r.return()})}function Bc(t,e){if(!t)throw new Error("Iterable cannot be null");return new ue(n=>{ft(n,e,()=>{let r=t[Symbol.asyncIterator]();ft(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function dI(t,e){return Bc(Uc(t),e)}function hI(t,e){if(t!=null){if(Oc(t))return aI(t,e);if(xc(t))return uI(t,e);if(Pc(t))return cI(t,e);if(kc(t))return Bc(t,e);if(Vc(t))return lI(t,e);if(jc(t))return dI(t,e)}throw Fc(t)}function be(t,e){return e?hI(t,e):Re(t)}function H(...t){let e=Xn(t);return be(t,e)}function Ui(t,e){let n=W(t)?t:()=>t,r=i=>i.error(n());return new ue(e?i=>e.schedule(r,0,i):r)}function Rh(t){return!!t&&(t instanceof ue||W(t.lift)&&W(t.subscribe))}var wn=Ri(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function te(t,e){return le((n,r)=>{let i=0;n.subscribe(ie(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:WA}=Array;function KA(t,e){return WA(e)?t(...e):t(e)}function $c(t){return te(e=>KA(t,e))}var{isArray:QA}=Array,{getPrototypeOf:YA,prototype:ZA,keys:JA}=Object;function Hc(t){if(t.length===1){let e=t[0];if(QA(e))return{args:e,keys:null};if(XA(e)){let n=JA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function XA(t){return t&&typeof t=="object"&&YA(t)===ZA}function qc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ao(...t){let e=Xn(t),n=Nc(t),{args:r,keys:i}=Hc(t);if(r.length===0)return be([],e);let s=new ue(eS(r,e,i?o=>qc(i,o):mt));return n?s.pipe($c(n)):s}function eS(t,e,n=mt){return r=>{fI(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)fI(e,()=>{let l=be(t[u],e),f=!1;l.subscribe(ie(r,g=>{s[u]=g,f||(f=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function fI(t,e,n){t?ft(n,t,e):e()}function pI(t,e,n,r,i,s,o,c){let u=[],l=0,f=0,g=!1,_=()=>{g&&!u.length&&!l&&e.complete()},I=P=>l<r?S(P):u.push(P),S=P=>{s&&e.next(P),l++;let N=!1;Re(n(P,f++)).subscribe(ie(e,F=>{i?.(F),s?I(F):e.next(F)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let F=u.shift();o?ft(e,o,()=>S(F)):S(F)}_()}catch(F){e.error(F)}}))};return t.subscribe(ie(e,I,()=>{g=!0,_()})),()=>{c?.()}}function Me(t,e,n=1/0){return W(e)?Me((r,i)=>te((s,o)=>e(r,s,i,o))(Re(t(r,i))),n):(typeof e=="number"&&(n=e),le((r,i)=>pI(r,i,t,n)))}function ji(t=1/0){return Me(mt,t)}function gI(){return ji(1)}function Bi(...t){return gI()(be(t,Xn(t)))}function zc(t){return new ue(e=>{Re(t()).subscribe(e)})}function Mh(...t){let e=Nc(t),{args:n,keys:r}=Hc(t),i=new ue(s=>{let{length:o}=n;if(!o){s.complete();return}let c=new Array(o),u=o,l=o;for(let f=0;f<o;f++){let g=!1;Re(n[f]).subscribe(ie(s,_=>{g||(g=!0,l--),c[f]=_},()=>u--,void 0,()=>{(!u||!g)&&(l||s.next(r?qc(r,c):c),s.complete())}))}});return e?i.pipe($c(e)):i}function Tt(t,e){return le((n,r)=>{let i=0;n.subscribe(ie(r,s=>t.call(e,s,i++)&&r.next(s)))})}function nr(t){return le((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ie(n,void 0,void 0,o=>{s=Re(t(o,nr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function mI(t,e,n,r,i){return(s,o)=>{let c=n,u=e,l=0;s.subscribe(ie(o,f=>{let g=l++;u=c?t(u,f,g):(c=!0,f),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function Ur(t,e){return W(e)?Me(t,e,1):Me(t,1)}function rr(t){return le((e,n)=>{let r=!1;e.subscribe(ie(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function En(t){return t<=0?()=>yt:le((e,n)=>{let r=0;e.subscribe(ie(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Nh(t){return te(()=>t)}function Gc(t=tS){return le((e,n)=>{let r=!1;e.subscribe(ie(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function tS(){return new wn}function So(t){return le((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Kt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Tt((i,s)=>t(i,s,r)):mt,En(1),n?rr(e):Gc(()=>new wn))}function $i(t){return t<=0?()=>yt:le((e,n)=>{let r=[];e.subscribe(ie(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function xh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Tt((i,s)=>t(i,s,r)):mt,$i(1),n?rr(e):Gc(()=>new wn))}function Ph(t,e){return le(mI(t,e,arguments.length>=2,!0))}function Oh(...t){let e=Xn(t);return le((n,r)=>{(e?Bi(t,n,e):Bi(t,n)).subscribe(r)})}function At(t,e){return le((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(ie(r,u=>{i?.unsubscribe();let l=0,f=s++;Re(t(u,f)).subscribe(i=ie(r,g=>r.next(e?e(u,g,f,l++):g),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function kh(t){return le((e,n)=>{Re(t).subscribe(ie(n,()=>n.complete(),bo)),!n.closed&&e.subscribe(n)})}function Le(t,e,n){let r=W(t)||e||n?{next:t,error:e,complete:n}:t;return r?le((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(ie(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):mt}var tw="https://g.co/ng/security#xss",V=class extends Error{constructor(e,n){super(Bf(e,n)),this.code=e}};function Bf(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Lo(t){return{toString:t}.toString()}var Wc="__parameters__";function nS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function nw(t,e,n){return Lo(()=>{let r=nS(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,l,f){let g=u.hasOwnProperty(Wc)?u[Wc]:Object.defineProperty(u,Wc,{value:[]})[Wc];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Qh=globalThis;function Ie(t){for(let e in t)if(t[e]===Ie)return e;throw Error("Could not find renamed property on target object.")}function rS(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function pt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(pt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function yI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var iS=Ie({__forward_ref__:Ie});function Yr(t){return t.__forward_ref__=Yr,t.toString=function(){return pt(this())},t}function at(t){return rw(t)?t():t}function rw(t){return typeof t=="function"&&t.hasOwnProperty(iS)&&t.__forward_ref__===Yr}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function xt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Su(t){return vI(t,sw)||vI(t,ow)}function iw(t){return Su(t)!==null}function vI(t,e){return t.hasOwnProperty(e)?t[e]:null}function sS(t){let e=t&&(t[sw]||t[ow]);return e||null}function _I(t){return t&&(t.hasOwnProperty(II)||t.hasOwnProperty(oS))?t[II]:null}var sw=Ie({\u0275prov:Ie}),II=Ie({\u0275inj:Ie}),ow=Ie({ngInjectableDef:Ie}),oS=Ie({ngInjectorDef:Ie}),L=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function aw(t){return t&&!!t.\u0275providers}var aS=Ie({\u0275cmp:Ie}),cS=Ie({\u0275dir:Ie}),uS=Ie({\u0275pipe:Ie}),lS=Ie({\u0275mod:Ie}),ru=Ie({\u0275fac:Ie}),Mo=Ie({__NG_ELEMENT_ID__:Ie}),wI=Ie({__NG_ENV_ID__:Ie});function Ru(t){return typeof t=="string"?t:t==null?"":String(t)}function dS(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ru(t)}function hS(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new V(-200,t)}function $f(t,e){throw new V(-201,!1)}var Y=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Y||{}),Yh;function cw(){return Yh}function St(t){let e=Yh;return Yh=t,e}function uw(t,e,n){let r=Su(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Y.Optional)return null;if(e!==void 0)return e;$f(t,"Injector")}var fS={},No=fS,Zh="__NG_DI_FLAG__",iu="ngTempTokenPath",pS="ngTokenPath",gS=/\n/gm,mS="\u0275",EI="__source",Wi;function yS(){return Wi}function ir(t){let e=Wi;return Wi=t,e}function vS(t,e=Y.Default){if(Wi===void 0)throw new V(-203,!1);return Wi===null?uw(t,void 0,e):Wi.get(t,e&Y.Optional?null:void 0,e)}function q(t,e=Y.Default){return(cw()||vS)(at(t),e)}function x(t,e=Y.Default){return q(t,Mu(e))}function Mu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Jh(t){let e=[];for(let n=0;n<t.length;n++){let r=at(t[n]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let i,s=Y.Default;for(let o=0;o<r.length;o++){let c=r[o],u=_S(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(q(i,s))}else e.push(q(r))}return e}function lw(t,e){return t[Zh]=e,t.prototype[Zh]=e,t}function _S(t){return t[Zh]}function IS(t,e,n,r){let i=t[iu];throw e[EI]&&i.unshift(e[EI]),t.message=wS(`
`+t.message,i,n,r),t[pS]=i,t[iu]=null,t}function wS(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==mS?t.slice(2):t;let i=pt(e);if(Array.isArray(e))i=e.map(pt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):pt(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(gS,`
  `)}`}var et=lw(nw("Optional"),8);var Hf=lw(nw("SkipSelf"),4);function Qi(t,e){let n=t.hasOwnProperty(ru);return n?t[ru]:null}function qf(t,e){t.forEach(n=>Array.isArray(n)?qf(n,e):e(n))}function dw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function su(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ES(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function DS(t,e,n){let r=Vo(t,e);return r>=0?t[r|1]=n:(r=~r,ES(t,r,e,n)),r}function Fh(t,e){let n=Vo(t,e);if(n>=0)return t[n|1]}function Vo(t,e){return CS(t,e,1)}function CS(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Yi={},Rt=[],Zi=new L(""),hw=new L("",-1),fw=new L(""),ou=class{get(e,n=No){if(n===No){let r=new Error(`NullInjectorError: No provider for ${pt(e)}!`);throw r.name="NullInjectorError",r}return n}},pw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(pw||{}),Zt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Zt||{}),ar=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ar||{});function bS(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Xh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];TS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function gw(t){return t===3||t===4||t===6}function TS(t){return t.charCodeAt(0)===64}function xo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?DI(t,n,i,null,e[++r]):DI(t,n,i,null,null))}}return t}function DI(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var mw="ng-template";function AS(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&bS(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(zf(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function zf(t){return t.type===4&&t.value!==mw}function SS(t,e,n){let r=t.type===4&&!n?mw:t.value;return e===r}function RS(t,e,n){let r=4,i=t.attrs,s=i!==null?xS(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!$t(r)&&!$t(u))return!1;if(o&&$t(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!SS(t,u,n)||u===""&&e.length===1){if($t(r))return!1;o=!0}}else if(r&8){if(i===null||!AS(t,i,u,n)){if($t(r))return!1;o=!0}}else{let l=e[++c],f=MS(u,i,zf(t),n);if(f===-1){if($t(r))return!1;o=!0;continue}if(l!==""){let g;if(f>s?g="":g=i[f+1].toLowerCase(),r&2&&l!==g){if($t(r))return!1;o=!0}}}}return $t(r)||o}function $t(t){return(t&1)===0}function MS(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return PS(e,t)}function NS(t,e,n=!1){for(let r=0;r<e.length;r++)if(RS(t,e[r],n))return!0;return!1}function xS(t){for(let e=0;e<t.length;e++){let n=t[e];if(gw(n))return e}return t.length}function PS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function CI(t,e){return t?":not("+e.trim()+")":e}function OS(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!$t(o)&&(e+=CI(s,i),i=""),r=o,s=s||!$t(r);n++}return i!==""&&(e+=CI(s,i)),e}function kS(t){return t.map(OS).join(",")}function FS(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!$t(i))break;i=s}r++}return{attrs:e,classes:n}}function Pt(t){return Lo(()=>{let e=ww(t),n=re(k({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===pw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Zt.Emulated,styles:t.styles||Rt,_:null,schemas:t.schemas||null,tView:null,id:""});Ew(n);let r=t.dependencies;return n.directiveDefs=TI(r,!1),n.pipeDefs=TI(r,!0),n.id=US(n),n})}function LS(t){return cr(t)||yw(t)}function VS(t){return t!==null}function Ot(t){return Lo(()=>({type:t.type,bootstrap:t.bootstrap||Rt,declarations:t.declarations||Rt,imports:t.imports||Rt,exports:t.exports||Rt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function bI(t,e){if(t==null)return Yi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c=ar.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=c!==ar.None?[r,c]:r,e[s]=o):n[s]=r}return n}function tt(t){return Lo(()=>{let e=ww(t);return Ew(e),e})}function cr(t){return t[aS]||null}function yw(t){return t[cS]||null}function vw(t){return t[uS]||null}function _w(t){let e=cr(t)||yw(t)||vw(t);return e!==null?e.standalone:!1}function Iw(t,e){let n=t[lS]||null;if(!n&&e===!0)throw new Error(`Type ${pt(t)} does not have '\u0275mod' property.`);return n}function ww(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Yi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Rt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bI(t.inputs,e),outputs:bI(t.outputs),debugInfo:null}}function Ew(t){t.features?.forEach(e=>e(t))}function TI(t,e){if(!t)return null;let n=e?vw:LS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(VS)}function US(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function nn(t){return{\u0275providers:t}}function jS(...t){return{\u0275providers:Dw(!0,t),\u0275fromNgModule:!0}}function Dw(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return qf(e,o=>{let c=o;ef(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&Cw(i,s),n}function Cw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Gf(i,s=>{e(s,r)})}}function ef(t,e,n,r){if(t=at(t),!t)return!1;let i=null,s=_I(t),o=!s&&cr(t);if(!s&&!o){let u=t.ngModule;if(s=_I(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)ef(l,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let l;try{qf(s.imports,f=>{ef(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&Cw(l,e)}if(!c){let l=Qi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Rt},i),e({provide:fw,useValue:i,multi:!0},i),e({provide:Zi,useValue:()=>q(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let l=t;Gf(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Gf(t,e){for(let n of t)aw(n)&&(n=n.\u0275providers),Array.isArray(n)?Gf(n,e):e(n)}var BS=Ie({provide:String,useValue:Ie});function bw(t){return t!==null&&typeof t=="object"&&BS in t}function $S(t){return!!(t&&t.useExisting)}function HS(t){return!!(t&&t.useFactory)}function Ji(t){return typeof t=="function"}function qS(t){return!!t.useClass}var Nu=new L(""),Jc={},zS={},Lh;function Wf(){return Lh===void 0&&(Lh=new ou),Lh}var _t=class{},Po=class extends _t{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,nf(e,o=>this.processProvider(o)),this.records.set(hw,Hi(void 0,this)),i.has("environment")&&this.records.set(_t,Hi(void 0,this));let s=this.records.get(Nu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(fw,Rt,Y.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ce(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ce(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=ir(this),r=St(void 0),i;try{return e()}finally{ir(n),St(r)}}get(e,n=No,r=Y.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(wI))return e[wI](this);r=Mu(r);let i,s=ir(this),o=St(void 0);try{if(!(r&Y.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=YS(e)&&Su(e);l&&this.injectableDefInScope(l)?u=Hi(tf(e),Jc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&Y.Self?Wf():this.parent;return n=r&Y.Optional&&n===No?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[iu]=c[iu]||[]).unshift(pt(e)),s)throw c;return IS(c,e,"R3InjectorError",this.source)}else throw c}finally{St(o),ir(s)}}resolveInjectorInitializers(){let e=ce(null),n=ir(this),r=St(void 0),i;try{let s=this.get(Zi,Rt,Y.Self);for(let o of s)o()}finally{ir(n),St(r),ce(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(pt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new V(205,!1)}processProvider(e){e=at(e);let n=Ji(e)?e:at(e&&e.provide),r=WS(e);if(!Ji(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Hi(void 0,Jc,!0),i.factory=()=>Jh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ce(null);try{return n.value===Jc&&(n.value=zS,n.value=n.factory()),typeof n.value=="object"&&n.value&&QS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ce(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=at(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function tf(t){let e=Su(t),n=e!==null?e.factory:Qi(t);if(n!==null)return n;if(t instanceof L)throw new V(204,!1);if(t instanceof Function)return GS(t);throw new V(204,!1)}function GS(t){if(t.length>0)throw new V(204,!1);let n=sS(t);return n!==null?()=>n.factory(t):()=>new t}function WS(t){if(bw(t))return Hi(void 0,t.useValue);{let e=Tw(t);return Hi(e,Jc)}}function Tw(t,e,n){let r;if(Ji(t)){let i=at(t);return Qi(i)||tf(i)}else if(bw(t))r=()=>at(t.useValue);else if(HS(t))r=()=>t.useFactory(...Jh(t.deps||[]));else if($S(t))r=()=>q(at(t.useExisting));else{let i=at(t&&(t.useClass||t.provide));if(KS(t))r=()=>new i(...Jh(t.deps));else return Qi(i)||tf(i)}return r}function Hi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function KS(t){return!!t.deps}function QS(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function YS(t){return typeof t=="function"||typeof t=="object"&&t instanceof L}function nf(t,e){for(let n of t)Array.isArray(n)?nf(n,e):n&&aw(n)?nf(n.\u0275providers,e):e(n)}function rn(t,e){t instanceof Po&&t.assertNotDestroyed();let n,r=ir(t),i=St(void 0);try{return e()}finally{ir(r),St(i)}}function Aw(){return cw()!==void 0||yS()!=null}function ZS(t){if(!Aw())throw new V(-203,!1)}function JS(t){return typeof t=="function"}var Tn=0,X=1,z=2,ct=3,Ht=4,qt=5,au=6,cu=7,Nt=8,Xi=9,Jt=10,Ve=11,Oo=12,AI=13,cs=14,Xt=15,es=16,qi=17,ts=18,xu=19,Sw=20,sr=21,Vh=22,Mt=23,en=25,Rw=1;var Hr=7,uu=8,lu=9,vt=10,du=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(du||{});function or(t){return Array.isArray(t)&&typeof t[Rw]=="object"}function An(t){return Array.isArray(t)&&t[Rw]===!0}function Mw(t){return(t.flags&4)!==0}function Pu(t){return t.componentOffset>-1}function Kf(t){return(t.flags&1)===1}function ur(t){return!!t.template}function rf(t){return(t[z]&512)!==0}var sf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Nw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function dr(){return xw}function xw(t){return t.type.prototype.ngOnChanges&&(t.setInput=eR),XS}dr.ngInherit=!0;function XS(){let t=Ow(this),e=t?.current;if(e){let n=t.previous;if(n===Yi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function eR(t,e,n,r,i){let s=this.declaredInputs[r],o=Ow(t)||tR(t,{previous:Yi,current:null}),c=o.current||(o.current={}),u=o.previous,l=u[s];c[s]=new sf(l&&l.currentValue,n,u===Yi),Nw(t,e,i,n)}var Pw="__ngSimpleChanges__";function Ow(t){return t[Pw]||null}function tR(t,e){return t[Pw]=e}var SI=null;var Qt=function(t,e,n){SI?.(t,e,n)},nR="svg",rR="math";function tn(t){for(;Array.isArray(t);)t=t[Tn];return t}function kw(t,e){return tn(e[t])}function kt(t,e){return tn(e[t.index])}function Qf(t,e){return t.data[e]}function hr(t,e){let n=e[t];return or(n)?n:n[Tn]}function Yf(t){return(t[z]&128)===128}function iR(t){return An(t[ct])}function hu(t,e){return e==null?null:t[e]}function Fw(t){t[qi]=0}function Lw(t){t[z]&1024||(t[z]|=1024,Yf(t)&&ku(t))}function sR(t,e){for(;t>0;)e=e[cs],t--;return e}function Ou(t){return!!(t[z]&9216||t[Mt]?.dirty)}function of(t){t[Jt].changeDetectionScheduler?.notify(8),t[z]&64&&(t[z]|=1024),Ou(t)&&ku(t)}function ku(t){t[Jt].changeDetectionScheduler?.notify(0);let e=qr(t);for(;e!==null&&!(e[z]&8192||(e[z]|=8192,!Yf(e)));)e=qr(e)}function Vw(t,e){if((t[z]&256)===256)throw new V(911,!1);t[sr]===null&&(t[sr]=[]),t[sr].push(e)}function oR(t,e){if(t[sr]===null)return;let n=t[sr].indexOf(e);n!==-1&&t[sr].splice(n,1)}function qr(t){let e=t[ct];return An(e)?e[ct]:e}var ne={lFrame:Ww(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Uw=!1;function aR(){return ne.lFrame.elementDepthCount}function cR(){ne.lFrame.elementDepthCount++}function uR(){ne.lFrame.elementDepthCount--}function jw(){return ne.bindingsEnabled}function lR(){return ne.skipHydrationRootTNode!==null}function dR(t){return ne.skipHydrationRootTNode===t}function hR(){ne.skipHydrationRootTNode=null}function we(){return ne.lFrame.lView}function It(){return ne.lFrame.tView}function mG(t){return ne.lFrame.contextLView=t,t[Nt]}function yG(t){return ne.lFrame.contextLView=null,t}function ut(){let t=Bw();for(;t!==null&&t.type===64;)t=t.parent;return t}function Bw(){return ne.lFrame.currentTNode}function fR(){let t=ne.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Uo(t,e){let n=ne.lFrame;n.currentTNode=t,n.isParent=e}function $w(){return ne.lFrame.isParent}function pR(){ne.lFrame.isParent=!1}function Hw(){return Uw}function RI(t){Uw=t}function gR(){let t=ne.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function mR(t){return ne.lFrame.bindingIndex=t}function jo(){return ne.lFrame.bindingIndex++}function yR(t){let e=ne.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function vR(){return ne.lFrame.inI18n}function _R(t,e){let n=ne.lFrame;n.bindingIndex=n.bindingRootIndex=t,af(e)}function IR(){return ne.lFrame.currentDirectiveIndex}function af(t){ne.lFrame.currentDirectiveIndex=t}function wR(t){let e=ne.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function qw(t){ne.lFrame.currentQueryIndex=t}function ER(t){let e=t[X];return e.type===2?e.declTNode:e.type===1?t[qt]:null}function zw(t,e,n){if(n&Y.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&Y.Host);)if(i=ER(s),i===null||(s=s[cs],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ne.lFrame=Gw();return r.currentTNode=e,r.lView=t,!0}function Zf(t){let e=Gw(),n=t[X];ne.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Gw(){let t=ne.lFrame,e=t===null?null:t.child;return e===null?Ww(t):e}function Ww(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Kw(){let t=ne.lFrame;return ne.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Qw=Kw;function Jf(){let t=Kw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function DR(t){return(ne.lFrame.contextLView=sR(t,ne.lFrame.contextLView))[Nt]}function us(){return ne.lFrame.selectedIndex}function zr(t){ne.lFrame.selectedIndex=t}function Xf(){let t=ne.lFrame;return Qf(t.tView,t.selectedIndex)}function CR(){return ne.lFrame.currentNamespace}var Yw=!0;function ep(){return Yw}function tp(t){Yw=t}function bR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=xw(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function np(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Xc(t,e,n){Zw(t,e,3,n)}function eu(t,e,n,r){(t[z]&3)===n&&Zw(t,e,n,r)}function Uh(t,e){let n=t[z];(n&3)===e&&(n&=16383,n+=1,t[z]=n)}function Zw(t,e,n,r){let i=r!==void 0?t[qi]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[qi]+=65536),(c<s||s==-1)&&(TR(t,n,e,u),t[qi]=(t[qi]&4294901760)+u+2),u++}function MI(t,e){Qt(4,t,e);let n=ce(null);try{e.call(t)}finally{ce(n),Qt(5,t,e)}}function TR(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[z]>>14<t[qi]>>16&&(t[z]&3)===e&&(t[z]+=16384,MI(c,s)):MI(c,s)}var Ki=-1,Gr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function AR(t){return t instanceof Gr}function SR(t){return(t.flags&8)!==0}function RR(t){return(t.flags&16)!==0}var jh={},cf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Mu(r);let i=this.injector.get(e,jh,r);return i!==jh||n===jh?i:this.parentInjector.get(e,n,r)}};function Jw(t){return t!==Ki}function fu(t){return t&32767}function MR(t){return t>>16}function pu(t,e){let n=MR(t),r=e;for(;n>0;)r=r[cs],n--;return r}var uf=!0;function NI(t){let e=uf;return uf=t,e}var NR=256,Xw=NR-1,eE=5,xR=0,Yt={};function PR(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Mo)&&(r=n[Mo]),r==null&&(r=n[Mo]=xR++);let i=r&Xw,s=1<<i;e.data[t+(i>>eE)]|=s}function gu(t,e){let n=tE(t,e);if(n!==-1)return n;let r=e[X];r.firstCreatePass&&(t.injectorIndex=e.length,Bh(r.data,t),Bh(e,null),Bh(r.blueprint,null));let i=rp(t,e),s=t.injectorIndex;if(Jw(i)){let o=fu(i),c=pu(i,e),u=c[X].data;for(let l=0;l<8;l++)e[s+l]=c[o+l]|u[o+l]}return e[s+8]=i,s}function Bh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function tE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function rp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=oE(i),r===null)return Ki;if(n++,i=i[cs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ki}function lf(t,e,n){PR(t,e,n)}function OR(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(gw(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function nE(t,e,n){if(n&Y.Optional||t!==void 0)return t;$f(e,"NodeInjector")}function rE(t,e,n,r){if(n&Y.Optional&&r===void 0&&(r=null),!(n&(Y.Self|Y.Host))){let i=t[Xi],s=St(void 0);try{return i?i.get(e,r,n&Y.Optional):uw(e,r,n&Y.Optional)}finally{St(s)}}return nE(r,e,n)}function iE(t,e,n,r=Y.Default,i){if(t!==null){if(e[z]&2048&&!(r&Y.Self)){let o=UR(t,e,n,r,Yt);if(o!==Yt)return o}let s=sE(t,e,n,r,Yt);if(s!==Yt)return s}return rE(e,n,r,i)}function sE(t,e,n,r,i){let s=LR(n);if(typeof s=="function"){if(!zw(e,t,r))return r&Y.Host?nE(i,n,r):rE(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&Y.Optional))$f(n);else return o}finally{Qw()}}else if(typeof s=="number"){let o=null,c=tE(t,e),u=Ki,l=r&Y.Host?e[Xt][qt]:null;for((c===-1||r&Y.SkipSelf)&&(u=c===-1?rp(t,e):e[c+8],u===Ki||!PI(r,!1)?c=-1:(o=e[X],c=fu(u),e=pu(u,e)));c!==-1;){let f=e[X];if(xI(s,c,f.data)){let g=kR(c,e,n,o,r,l);if(g!==Yt)return g}u=e[c+8],u!==Ki&&PI(r,e[X].data[c+8]===l)&&xI(s,c,e)?(o=f,c=fu(u),e=pu(u,e)):c=-1}}return i}function kR(t,e,n,r,i,s){let o=e[X],c=o.data[t+8],u=r==null?Pu(c)&&uf:r!=o&&(c.type&3)!==0,l=i&Y.Host&&s===c,f=FR(c,o,n,u,l);return f!==null?ns(e,o,f,c):Yt}function FR(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,u=t.directiveStart,l=t.directiveEnd,f=s>>20,g=r?c:c+f,_=i?c+f:l;for(let I=g;I<_;I++){let S=o[I];if(I<u&&n===S||I>=u&&S.type===n)return I}if(i){let I=o[u];if(I&&ur(I)&&I.type===n)return u}return null}function ns(t,e,n,r){let i=t[n],s=e.data;if(AR(i)){let o=i;o.resolving&&hS(dS(s[n]));let c=NI(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?St(o.injectImpl):null,f=zw(t,r,Y.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&bR(n,s[n],e)}finally{l!==null&&St(l),NI(c),o.resolving=!1,Qw()}}return i}function LR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Mo)?t[Mo]:void 0;return typeof e=="number"?e>=0?e&Xw:VR:e}function xI(t,e,n){let r=1<<t;return!!(n[e+(t>>eE)]&r)}function PI(t,e){return!(t&Y.Self)&&!(t&Y.Host&&e)}var $r=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return iE(this._tNode,this._lView,e,Mu(r),n)}};function VR(){return new $r(ut(),we())}function ls(t){return Lo(()=>{let e=t.prototype.constructor,n=e[ru]||df(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[ru]||df(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function df(t){return rw(t)?()=>{let e=df(at(t));return e&&e()}:Qi(t)}function UR(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[z]&2048&&!(o[z]&512);){let c=sE(s,o,n,r|Y.Self,Yt);if(c!==Yt)return c;let u=s.parent;if(!u){let l=o[Sw];if(l){let f=l.get(n,Yt,r);if(f!==Yt)return f}u=oE(o),o=o[cs]}s=u}return i}function oE(t){let e=t[X],n=e.type;return n===2?e.declTNode:n===1?t[qt]:null}function ip(t){return OR(ut(),t)}function OI(t,e=null,n=null,r){let i=aE(t,e,n,r);return i.resolveInjectorInitializers(),i}function aE(t,e=null,n=null,r,i=new Set){let s=[n||Rt,jS(t)];return r=r||(typeof t=="object"?void 0:pt(t)),new Po(s,e||Wf(),r||null,i)}var jr=class jr{static create(e,n){if(Array.isArray(e))return OI({name:""},n,e,"");{let r=e.name??"";return OI({name:r},e.parent,e.providers,r)}}};jr.THROW_IF_NOT_FOUND=No,jr.NULL=new ou,jr.\u0275prov=j({token:jr,providedIn:"any",factory:()=>q(hw)}),jr.__NG_ELEMENT_ID__=-1;var Qe=jr;var jR=new L("");jR.__NG_ELEMENT_ID__=t=>{let e=ut();if(e===null)throw new V(204,!1);if(e.type&2)return e.value;if(t&Y.Optional)return null;throw new V(204,!1)};var BR="ngOriginalError";function $h(t){return t[BR]}var cE=!0,sp=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=$R,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),hf=class extends sp{constructor(e){super(),this._lView=e}onDestroy(e){return Vw(this._lView,e),()=>oR(this._lView,e)}};function $R(){return new hf(we())}var ds=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ke(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=j({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var ff=class extends Be{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,Aw()&&(this.destroyRef=x(sp,{optional:!0})??void 0,this.pendingTasks=x(ds,{optional:!0})??void 0)}emit(e){let n=ce(null);try{super.next(e)}finally{ce(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Ae&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ne=ff;function mu(...t){}function uE(t){let e,n;function r(){t=mu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function kI(t){return queueMicrotask(()=>t()),()=>{t=mu}}var op="isAngularZone",yu=op+"_ID",HR=0,ye=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ne(!1),this.onMicrotaskEmpty=new Ne(!1),this.onStable=new Ne(!1),this.onError=new Ne(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=cE}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,GR(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(op)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new V(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,qR,mu,mu);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},qR={};function ap(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function zR(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){uE(()=>{t.callbackScheduled=!1,pf(t),t.isCheckStableRunning=!0,ap(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),pf(t)}function GR(t){let e=()=>{zR(t)},n=HR++;t._inner=t._inner.fork({name:"angular",properties:{[op]:!0,[yu]:n,[yu+n]:!0},onInvokeTask:(r,i,s,o,c,u)=>{if(WR(u))return r.invokeTask(s,o,c,u);try{return FI(t),r.invokeTask(s,o,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),LI(t)}},onInvoke:(r,i,s,o,c,u,l)=>{try{return FI(t),r.invoke(s,o,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!KR(u)&&e(),LI(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,pf(t),ap(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function pf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function FI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function LI(t){t._nesting--,ap(t)}var gf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ne,this.onMicrotaskEmpty=new Ne,this.onStable=new Ne,this.onError=new Ne}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function WR(t){return lE(t,"__ignore_ng_zone__")}function KR(t){return lE(t,"__scheduler_tick__")}function lE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Dn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&$h(e);for(;n&&$h(n);)n=$h(n);return n||null}},QR=new L("",{providedIn:"root",factory:()=>{let t=x(ye),e=x(Dn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function YR(){return Fu(ut(),we())}function Fu(t,e){return new fr(kt(t,e))}var fr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=YR;let t=e;return t})();function dE(t){return(t.flags&128)===128}var hE=new Map,ZR=0;function JR(){return ZR++}function XR(t){hE.set(t[xu],t)}function mf(t){hE.delete(t[xu])}var VI="__ngContext__";function Wr(t,e){or(e)?(t[VI]=e[xu],XR(e)):t[VI]=e}function fE(t){return gE(t[Oo])}function pE(t){return gE(t[Ht])}function gE(t){for(;t!==null&&!An(t);)t=t[Ht];return t}var yf;function mE(t){yf=t}function eM(){if(yf!==void 0)return yf;if(typeof document<"u")return document;throw new V(210,!1)}var cp=new L("",{providedIn:"root",factory:()=>tM}),tM="ng",up=new L(""),sn=new L("",{providedIn:"platform",factory:()=>"unknown"});var lp=new L("",{providedIn:"root",factory:()=>eM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var nM="h",rM="b";var iM=()=>null;function dp(t,e,n=!1){return iM(t,e,n)}var yE=!1,sM=new L("",{providedIn:"root",factory:()=>yE});var Kc;function oM(){if(Kc===void 0&&(Kc=null,Qh.trustedTypes))try{Kc=Qh.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Kc}function UI(t){return oM()?.createScriptURL(t)||t}var vu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tw})`}};function Bo(t){return t instanceof vu?t.changingThisBreaksApplicationSecurity:t}function hp(t,e){let n=aM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${tw})`)}return n===e}function aM(t){return t instanceof vu&&t.getTypeName()||null}var cM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function vE(t){return t=String(t),t.match(cM)?t:"unsafe:"+t}var Lu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Lu||{});function uM(t){let e=IE();return e?e.sanitize(Lu.URL,t)||"":hp(t,"URL")?Bo(t):vE(Ru(t))}function lM(t){let e=IE();if(e)return UI(e.sanitize(Lu.RESOURCE_URL,t)||"");if(hp(t,"ResourceURL"))return UI(Bo(t));throw new V(904,!1)}function dM(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?lM:uM}function _E(t,e,n){return dM(e,n)(t)}function IE(){let t=we();return t&&t[Jt].sanitizer}function wE(t){return t instanceof Function?t():t}function hM(t){return(t??x(Qe)).get(sn)==="browser"}var Cn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Cn||{}),fM;function fp(t,e){return fM(t,e)}function zi(t,e,n,r,i){if(r!=null){let s,o=!1;An(r)?s=r:or(r)&&(o=!0,r=r[Tn]);let c=tn(r);t===0&&n!==null?i==null?bE(e,n,c):Iu(e,n,c,i||null,!0):t===1&&n!==null?Iu(e,n,c,i||null,!0):t===2?SM(e,c,o):t===3&&e.destroyNode(c),s!=null&&MM(e,t,s,n,i)}}function pM(t,e){return t.createText(e)}function gM(t,e,n){t.setValue(e,n)}function EE(t,e,n){return t.createElement(e,n)}function mM(t,e){DE(t,e),e[Tn]=null,e[qt]=null}function yM(t,e,n,r,i,s){r[Tn]=i,r[qt]=e,Vu(t,r,n,1,i,s)}function DE(t,e){e[Jt].changeDetectionScheduler?.notify(9),Vu(t,e,e[Ve],2,null,null)}function vM(t){let e=t[Oo];if(!e)return Hh(t[X],t);for(;e;){let n=null;if(or(e))n=e[Oo];else{let r=e[vt];r&&(n=r)}if(!n){for(;e&&!e[Ht]&&e!==t;)or(e)&&Hh(e[X],e),e=e[ct];e===null&&(e=t),or(e)&&Hh(e[X],e),n=e&&e[Ht]}e=n}}function _M(t,e,n,r){let i=vt+r,s=n.length;r>0&&(n[i-1][Ht]=e),r<s-vt?(e[Ht]=n[i],dw(n,vt+r,e)):(n.push(e),e[Ht]=null),e[ct]=n;let o=e[es];o!==null&&n!==o&&CE(o,e);let c=e[ts];c!==null&&c.insertView(t),of(e),e[z]|=128}function CE(t,e){let n=t[lu],r=e[ct];if(or(r))t[z]|=du.HasTransplantedViews;else{let i=r[ct][Xt];e[Xt]!==i&&(t[z]|=du.HasTransplantedViews)}n===null?t[lu]=[e]:n.push(e)}function pp(t,e){let n=t[lu],r=n.indexOf(e);n.splice(r,1)}function _u(t,e){if(t.length<=vt)return;let n=vt+e,r=t[n];if(r){let i=r[es];i!==null&&i!==t&&pp(i,r),e>0&&(t[n-1][Ht]=r[Ht]);let s=su(t,vt+e);mM(r[X],r);let o=s[ts];o!==null&&o.detachView(s[X]),r[ct]=null,r[Ht]=null,r[z]&=-129}return r}function gp(t,e){if(!(e[z]&256)){let n=e[Ve];n.destroyNode&&Vu(t,e,n,3,null,null),vM(e)}}function Hh(t,e){if(e[z]&256)return;let n=ce(null);try{e[z]&=-129,e[z]|=256,e[Mt]&&ph(e[Mt]),wM(t,e),IM(t,e),e[X].type===1&&e[Ve].destroy();let r=e[es];if(r!==null&&An(e[ct])){r!==e[ct]&&pp(r,e);let i=e[ts];i!==null&&i.detachView(t)}mf(e)}finally{ce(n)}}function IM(t,e){let n=t.cleanup,r=e[cu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[cu]=null);let i=e[sr];if(i!==null){e[sr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function wM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Gr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];Qt(4,c,u);try{u.call(c)}finally{Qt(5,c,u)}}else{Qt(4,i,s);try{s.call(i)}finally{Qt(5,i,s)}}}}}function EM(t,e,n){return DM(t,e.parent,n)}function DM(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Tn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Zt.None||s===Zt.Emulated)return null}return kt(r,n)}}function Iu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function bE(t,e,n){t.appendChild(e,n)}function jI(t,e,n,r,i){r!==null?Iu(t,e,n,r,i):bE(t,e,n)}function TE(t,e){return t.parentNode(e)}function CM(t,e){return t.nextSibling(e)}function bM(t,e,n){return AM(t,e,n)}function TM(t,e,n){return t.type&40?kt(t,n):null}var AM=TM,BI;function mp(t,e,n,r){let i=EM(t,r,e),s=e[Ve],o=r.parent||e[qt],c=bM(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)jI(s,i,n[u],c,!1);else jI(s,i,n,c,!1);BI!==void 0&&BI(s,r,e,n,i)}function Ro(t,e){if(e!==null){let n=e.type;if(n&3)return kt(e,t);if(n&4)return vf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ro(t,r);{let i=t[e.index];return An(i)?vf(-1,i):tn(i)}}else{if(n&128)return Ro(t,e.next);if(n&32)return fp(e,t)()||tn(t[e.index]);{let r=AE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=qr(t[Xt]);return Ro(i,r)}else return Ro(t,e.next)}}}return null}function AE(t,e){if(e!==null){let r=t[Xt][qt],i=e.projection;return r.projection[i]}return null}function vf(t,e){let n=vt+t+1;if(n<e.length){let r=e[n],i=r[X].firstChild;if(i!==null)return Ro(r,i)}return e[Hr]}function SM(t,e,n){t.removeChild(null,e,n)}function yp(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(o&&e===0&&(c&&Wr(tn(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)yp(t,e,n.child,r,i,s,!1),zi(e,t,i,c,s);else if(u&32){let l=fp(n,r),f;for(;f=l();)zi(e,t,i,f,s);zi(e,t,i,c,s)}else u&16?RM(t,e,r,n,i,s):zi(e,t,i,c,s);n=o?n.projectionNext:n.next}}function Vu(t,e,n,r,i,s){yp(n,r,t.firstChild,e,i,s,!1)}function RM(t,e,n,r,i,s){let o=n[Xt],u=o[qt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];zi(e,t,i,f,s)}else{let l=u,f=o[ct];dE(r)&&(l.flags|=128),yp(t,e,l,f,i,s,!0)}}function MM(t,e,n,r,i){let s=n[Hr],o=tn(n);s!==o&&zi(e,t,r,s,i);for(let c=vt;c<n.length;c++){let u=n[c];Vu(u[X],u,t,e,r,s)}}function NM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Cn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Cn.Important),t.setStyle(n,r,i,s))}}function xM(t,e,n){t.setAttribute(e,"style",n)}function SE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function RE(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Xh(t,e,r),i!==null&&SE(t,e,i),s!==null&&xM(t,e,s)}var pr={};function $o(t=1){ME(It(),we(),us()+t,!1)}function ME(t,e,n,r){if(!r)if((e[z]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Xc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&eu(e,s,0,n)}zr(n)}function he(t,e=Y.Default){let n=we();if(n===null)return q(t,e);let r=ut();return iE(r,n,at(t),e)}function NE(){let t="invalid";throw new Error(t)}function xE(t,e,n,r,i,s){let o=ce(null);try{let c=null;i&ar.SignalBased&&(c=e[r][In]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&ar.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,c,s,n,r):Nw(e,c,r,s)}finally{ce(o)}}function PM(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)zr(~i);else{let s=i,o=n[++r],c=n[++r];_R(o,s);let u=e[s];c(2,u)}}}finally{zr(-1)}}function Uu(t,e,n,r,i,s,o,c,u,l,f){let g=e.blueprint.slice();return g[Tn]=i,g[z]=r|4|128|8|64,(l!==null||t&&t[z]&2048)&&(g[z]|=2048),Fw(g),g[ct]=g[cs]=t,g[Nt]=n,g[Jt]=o||t&&t[Jt],g[Ve]=c||t&&t[Ve],g[Xi]=u||t&&t[Xi]||null,g[qt]=s,g[xu]=JR(),g[au]=f,g[Sw]=l,g[Xt]=e.type==2?t[Xt]:g,g}function ju(t,e,n,r,i){let s=t.data[e];if(s===null)s=OM(t,e,n,r,i),vR()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=fR();s.injectorIndex=o===null?-1:o.injectorIndex}return Uo(s,!0),s}function OM(t,e,n,r,i){let s=Bw(),o=$w(),c=o?s:s&&s.parent,u=t.data[e]=UM(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function PE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function OE(t,e,n,r,i){let s=us(),o=r&2;try{zr(-1),o&&e.length>en&&ME(t,e,en,!1),Qt(o?2:0,i),n(r,i)}finally{zr(s),Qt(o?3:1,i)}}function kE(t,e,n){if(Mw(e)){let r=ce(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let u=n[o];c.contentQueries(1,u,o)}}}finally{ce(r)}}}function FE(t,e,n){jw()&&(zM(t,e,n,kt(n,e)),(n.flags&64)===64&&$E(t,e,n))}function LE(t,e,n=kt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function VE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=vp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function vp(t,e,n,r,i,s,o,c,u,l,f){let g=en+r,_=g+i,I=kM(g,_),S=typeof l=="function"?l():l;return I[X]={type:t,blueprint:I,template:n,queries:null,viewQuery:c,declTNode:e,data:I.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:f}}function kM(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:pr);return n}function FM(t,e,n,r){let s=r.get(sM,yE)||n===Zt.ShadowDom,o=t.selectRootElement(e,s);return LM(o),o}function LM(t){VM(t)}var VM=()=>null;function UM(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return lR()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function $I(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=ar.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?HI(r,n,l,c,u):HI(r,n,l,c)}return r}function HI(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function jM(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,c=[],u=null,l=null;for(let f=r;f<i;f++){let g=s[f],_=n?n.get(g):null,I=_?_.inputs:null,S=_?_.outputs:null;u=$I(0,g.inputs,f,u,I),l=$I(1,g.outputs,f,l,S);let P=u!==null&&o!==null&&!zf(e)?nN(u,f,o):null;c.push(P)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function BM(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function UE(t,e,n,r,i,s,o,c){let u=kt(e,n),l=e.inputs,f;!c&&l!=null&&(f=l[r])?(_p(t,n,f,r,i),Pu(e)&&$M(n,e.index)):e.type&3?(r=BM(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function $M(t,e){let n=hr(e,t);n[z]&16||(n[z]|=64)}function jE(t,e,n,r){if(jw()){let i=r===null?null:{"":-1},s=WM(t,n),o,c;s===null?o=c=null:[o,c]=s,o!==null&&BE(t,e,n,o,i,c),i&&KM(n,r,i)}n.mergedAttrs=xo(n.mergedAttrs,n.attrs)}function BE(t,e,n,r,i,s){for(let l=0;l<r.length;l++)lf(gu(n,e),t,r[l].type);YM(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let o=!1,c=!1,u=PE(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=xo(n.mergedAttrs,f.hostAttrs),ZM(t,n,e,u,f),QM(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let g=f.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!c&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}jM(t,n,s)}function HM(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;qM(o)!=c&&o.push(c),o.push(n,r,s)}}function qM(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function zM(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Pu(n)&&JM(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||gu(n,e),Wr(r,e);let o=n.initialInputs;for(let c=i;c<s;c++){let u=t.data[c],l=ns(e,t,c,n);if(Wr(l,e),o!==null&&tN(e,c-i,l,u,n,o),ur(u)){let f=hr(n.index,e);f[Nt]=ns(e,t,c,n)}}}function $E(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=IR();try{zr(s);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];af(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&GM(u,l)}}finally{zr(-1),af(o)}}function GM(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function WM(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(NS(e,o.selectors,!1))if(r||(r=[]),ur(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;_f(t,e,u)}else r.unshift(o),_f(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function _f(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function KM(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new V(-301,!1);r.push(e[i],s)}}}function QM(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ur(e)&&(n[""]=t)}}function YM(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ZM(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Qi(i.type,!0)),o=new Gr(s,ur(i),he);t.blueprint[r]=o,n[r]=o,HM(t,e,r,PE(t,n,i.hostVars,pr),i)}function JM(t,e,n){let r=kt(e,t),i=VE(n),s=t[Jt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let c=Bu(t,Uu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=c}function XM(t,e,n,r,i,s){let o=kt(t,e);eN(e[Ve],o,s,t.value,n,r,i)}function eN(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let c=o==null?Ru(s):o(s,r||"",i);t.setAttribute(e,i,c,n)}}function tN(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],l=o[c++],f=o[c++],g=o[c++];xE(r,n,u,l,f,g)}}function nN(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],n[i+1]);break}}i+=2}return r}function HE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function qE(t,e){let n=t.contentQueries;if(n!==null){let r=ce(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];qw(s),c.contentQueries(2,e[o],o)}}}finally{ce(r)}}}function Bu(t,e){return t[Oo]?t[AI][Ht]=e:t[Oo]=e,t[AI]=e,e}function If(t,e,n){qw(0);let r=ce(null);try{e(t,n)}finally{ce(r)}}function rN(t){return t[cu]??=[]}function iN(t){return t.cleanup??=[]}function zE(t,e){let n=t[Xi],r=n?n.get(Dn,null):null;r&&r.handleError(e)}function _p(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],c=n[s++],u=n[s++],l=e[o],f=t.data[o];xE(f,l,r,c,u,i)}}function sN(t,e,n){let r=kw(e,t);gM(t[Ve],r,n)}function oN(t,e){let n=hr(e,t),r=n[X];aN(r,n);let i=n[Tn];i!==null&&n[au]===null&&(n[au]=dp(i,n[Xi])),Ip(r,n,n[Nt])}function aN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Ip(t,e,n){Zf(e);try{let r=t.viewQuery;r!==null&&If(1,r,n);let i=t.template;i!==null&&OE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ts]?.finishViewCreation(t),t.staticContentQueries&&qE(t,e),t.staticViewQueries&&If(2,t.viewQuery,n);let s=t.components;s!==null&&cN(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[z]&=-5,Jf()}}function cN(t,e){for(let n=0;n<e.length;n++)oN(t,e[n])}function GE(t,e,n,r){let i=ce(null);try{let s=e.tView,c=t[z]&4096?4096:16,u=Uu(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[es]=l;let f=t[ts];return f!==null&&(u[ts]=f.createEmbeddedView(s)),Ip(s,u,n),u}finally{ce(i)}}function uN(t,e){let n=vt+e;if(n<t.length)return t[n]}function wf(t,e){return!e||e.firstChild===null||dE(t)}function WE(t,e,n,r=!0){let i=e[X];if(_M(i,e,t,n),r){let o=vf(n,t),c=e[Ve],u=TE(c,t[Hr]);u!==null&&yM(i,t[qt],c,e,u,o)}let s=e[au];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function lN(t,e){let n=_u(t,e);return n!==void 0&&gp(n[X],n),n}function wu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(tn(s)),An(s)&&dN(s,r);let o=n.type;if(o&8)wu(t,e,n.child,r);else if(o&32){let c=fp(n,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=AE(e,n);if(Array.isArray(c))r.push(...c);else{let u=qr(e[Xt]);wu(u[X],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function dN(t,e){for(let n=vt;n<t.length;n++){let r=t[n],i=r[X].firstChild;i!==null&&wu(r[X],r,i,e)}t[Hr]!==t[Tn]&&e.push(t[Hr])}var KE=[];function hN(t){return t[Mt]??fN(t)}function fN(t){let e=KE.pop()??Object.create(gN);return e.lView=t,e}function pN(t){t.lView[Mt]!==t&&(t.lView=null,KE.push(t))}var gN=re(k({},Co),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ku(t.lView)},consumerOnSignalRead(){this.lView[Mt]=this}});function mN(t){let e=t[Mt]??Object.create(yN);return e.lView=t,e}var yN=re(k({},Co),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=qr(t.lView);for(;e&&!QE(e[X]);)e=qr(e);e&&Lw(e)},consumerOnSignalRead(){this.lView[Mt]=this}});function QE(t){return t.type!==2}var vN=100;function YE(t,e=!0,n=0){let r=t[Jt],i=r.rendererFactory,s=!1;s||i.begin?.();try{_N(t,n)}catch(o){throw e&&zE(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function _N(t,e){let n=Hw();try{RI(!0),Ef(t,e);let r=0;for(;Ou(t);){if(r===vN)throw new V(103,!1);r++,Ef(t,1)}}finally{RI(n)}}function IN(t,e,n,r){let i=e[z];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Jt].inlineEffectRunner?.flush(),Zf(e);let c=!0,u=null,l=null;s||(QE(t)?(l=hN(e),u=Ic(l)):P_()===null?(c=!1,l=mN(e),u=Ic(l)):e[Mt]&&(ph(e[Mt]),e[Mt]=null));try{Fw(e),mR(t.bindingStartIndex),n!==null&&OE(t,e,n,2,r);let f=(i&3)===3;if(!s)if(f){let I=t.preOrderCheckHooks;I!==null&&Xc(e,I,null)}else{let I=t.preOrderHooks;I!==null&&eu(e,I,0,null),Uh(e,0)}if(o||wN(e),ZE(e,0),t.contentQueries!==null&&qE(t,e),!s)if(f){let I=t.contentCheckHooks;I!==null&&Xc(e,I)}else{let I=t.contentHooks;I!==null&&eu(e,I,1),Uh(e,1)}PM(t,e);let g=t.components;g!==null&&XE(e,g,0);let _=t.viewQuery;if(_!==null&&If(2,_,r),!s)if(f){let I=t.viewCheckHooks;I!==null&&Xc(e,I)}else{let I=t.viewHooks;I!==null&&eu(e,I,2),Uh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Vh]){for(let I of e[Vh])I();e[Vh]=null}s||(e[z]&=-73)}catch(f){throw s||ku(e),f}finally{l!==null&&(hh(l,u),c&&pN(l)),Jf()}}function ZE(t,e){for(let n=fE(t);n!==null;n=pE(n))for(let r=vt;r<n.length;r++){let i=n[r];JE(i,e)}}function wN(t){for(let e=fE(t);e!==null;e=pE(e)){if(!(e[z]&du.HasTransplantedViews))continue;let n=e[lu];for(let r=0;r<n.length;r++){let i=n[r];Lw(i)}}}function EN(t,e,n){let r=hr(e,t);JE(r,n)}function JE(t,e){Yf(t)&&Ef(t,e)}function Ef(t,e){let r=t[X],i=t[z],s=t[Mt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&fh(s)),o||=!1,s&&(s.dirty=!1),t[z]&=-9217,o)IN(r,t,r.template,t[Nt]);else if(i&8192){ZE(t,1);let c=r.components;c!==null&&XE(t,c,1)}}function XE(t,e,n){for(let r=0;r<e.length;r++)EN(t,e[r],n)}function wp(t,e){let n=Hw()?64:1088;for(t[Jt].changeDetectionScheduler?.notify(e);t;){t[z]|=n;let r=qr(t);if(rf(t)&&!r)return t;t=r}return null}var Kr=class{get rootNodes(){let e=this._lView,n=e[X];return wu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Nt]}set context(e){this._lView[Nt]=e}get destroyed(){return(this._lView[z]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ct];if(An(e)){let n=e[uu],r=n?n.indexOf(this):-1;r>-1&&(_u(e,r),su(n,r))}this._attachedToViewContainer=!1}gp(this._lView[X],this._lView)}onDestroy(e){Vw(this._lView,e)}markForCheck(){wp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[z]&=-129}reattach(){of(this._lView),this._lView[z]|=128}detectChanges(){this._lView[z]|=1024,YE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=rf(this._lView),n=this._lView[es];n!==null&&!e&&pp(n,this._lView),DE(this._lView[X],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let n=rf(this._lView),r=this._lView[es];r!==null&&!n&&CE(r,this._lView),of(this._lView)}},Ep=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=bN;let t=e;return t})(),DN=Ep,CN=class extends DN{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=GE(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Kr(i)}};function bN(){return TN(ut(),we())}function TN(t,e){return t.type&4?new CN(e,t,Fu(t,e)):null}var _G=new RegExp(`^(\\d+)*(${rM}|${nM})*(.*)`);var AN=()=>null;function Df(t,e){return AN(t,e)}var rs=class{},Dp=new L("",{providedIn:"root",factory:()=>!1});var eD=new L(""),tD=new L(""),Cf=class{},Eu=class{};function SN(t){let e=Error(`No component factory found for ${pt(t)}.`);return e[RN]=t,e}var RN="ngComponent";var bf=class{resolveComponentFactory(e){throw SN(e)}},Mp=class Mp{};Mp.NULL=new bf;var is=Mp,ss=class{},Zr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>MN();let t=e;return t})();function MN(){let t=we(),e=ut(),n=hr(e.index,t);return(or(n)?n:t)[Ve]}var NN=(()=>{let e=class e{};e.\u0275prov=j({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function Tf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=yI(i,c);else if(s==2){let u=c,l=e[++o];r=yI(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Du=class extends is{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=cr(e);return new os(n,this.ngModule)}};function qI(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,c=s?i[1]:ar.None;e?n.push({propName:o,templateName:r,isSignal:(c&ar.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function xN(t){let e=t.toLowerCase();return e==="svg"?nR:e==="math"?rR:null}var os=class extends Eu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=qI(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return qI(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=kS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ce(null);try{i=i||this.ngModule;let o=i instanceof _t?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new cf(e,o):e,u=c.get(ss,null);if(u===null)throw new V(407,!1);let l=c.get(NN,null),f=c.get(rs,null),g={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:f},_=u.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",S=r?FM(_,r,this.componentDef.encapsulation,c):EE(_,I,xN(I)),P=512;this.componentDef.signals?P|=4096:this.componentDef.onPush||(P|=16);let N=null;S!==null&&(N=dp(S,c,!0));let F=vp(0,null,null,1,0,null,null,null,null,null,null),G=Uu(null,F,null,P,null,null,g,_,c,null,N);Zf(G);let Q,me,Ge=null;try{let pe=this.componentDef,D,m=null;pe.findHostDirectiveDefs?(D=[],m=new Map,pe.findHostDirectiveDefs(pe,D,m),D.push(pe)):D=[pe];let y=PN(G,S);Ge=ON(y,S,pe,D,G,g,_),me=Qf(F,en),S&&LN(_,pe,S,r),n!==void 0&&VN(me,this.ngContentSelectors,n),Q=FN(Ge,pe,D,m,G,[UN]),Ip(F,G,null)}catch(pe){throw Ge!==null&&mf(Ge),mf(G),pe}finally{Jf()}return new Af(this.componentType,Q,Fu(me,G),G,me)}finally{ce(s)}}},Af=class extends Cf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Kr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;_p(s[X],s,i,e,n),this.previousInputValues.set(e,n);let o=hr(this._tNode.index,s);wp(o,1)}}get injector(){return new $r(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function PN(t,e){let n=t[X],r=en;return t[r]=e,ju(n,r,2,"#host",null)}function ON(t,e,n,r,i,s,o){let c=i[X];kN(r,t,e,o);let u=null;e!==null&&(u=dp(e,i[Xi]));let l=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let g=Uu(i,VE(n),null,f,i[t.index],t,s,l,null,null,u);return c.firstCreatePass&&_f(c,t,r.length-1),Bu(i,g),i[t.index]=g}function kN(t,e,n,r){for(let i of t)e.mergedAttrs=xo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Tf(e,e.mergedAttrs,!0),n!==null&&RE(r,n,e))}function FN(t,e,n,r,i,s){let o=ut(),c=i[X],u=kt(o,i);BE(c,i,o,n,null,r);for(let f=0;f<n.length;f++){let g=o.directiveStart+f,_=ns(i,c,g,o);Wr(_,i)}$E(c,i,o),u&&Wr(u,i);let l=ns(i,c,o.directiveStart+o.componentOffset,o);if(t[Nt]=i[Nt]=l,s!==null)for(let f of s)f(l,e);return kE(c,o,i),l}function LN(t,e,n,r){if(r)Xh(t,n,["ng-version","18.2.3"]);else{let{attrs:i,classes:s}=FS(e.selectors[0]);i&&Xh(t,n,i),s&&s.length>0&&SE(t,n,s.join(" "))}}function VN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function UN(){let t=ut();np(we()[X],t)}var Ho=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=jN;let t=e;return t})();function jN(){let t=ut();return $N(t,we())}var BN=Ho,nD=class extends BN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Fu(this._hostTNode,this._hostLView)}get injector(){return new $r(this._hostTNode,this._hostLView)}get parentInjector(){let e=rp(this._hostTNode,this._hostLView);if(Jw(e)){let n=pu(e,this._hostLView),r=fu(e),i=n[X].data[r+8];return new $r(i,n)}else return new $r(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=zI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-vt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Df(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,wf(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!JS(e),c;if(o)c=n;else{let S=n||{};c=S.index,r=S.injector,i=S.projectableNodes,s=S.environmentInjector||S.ngModuleRef}let u=o?e:new os(cr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let P=(o?l:this.parentInjector).get(_t,null);P&&(s=P)}let f=cr(u.componentType??{}),g=Df(this._lContainer,f?.id??null),_=g?.firstChild??null,I=u.create(l,i,_,s);return this.insertImpl(I.hostView,c,wf(this._hostTNode,g)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(iR(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[ct],l=new nD(u,u[qt],u[ct]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return WE(o,i,s,r),e.attachToViewContainerRef(),dw(qh(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=zI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=_u(this._lContainer,n);r&&(su(qh(this._lContainer),n),gp(r[X],r))}detach(e){let n=this._adjustIndex(e,-1),r=_u(this._lContainer,n);return r&&su(qh(this._lContainer),n)!=null?new Kr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function zI(t){return t[uu]}function qh(t){return t[uu]||(t[uu]=[])}function $N(t,e){let n,r=e[t.index];return An(r)?n=r:(n=HE(r,e,null,t),e[t.index]=n,Bu(e,n)),qN(n,e,t,r),new nD(n,t,e)}function HN(t,e){let n=t[Ve],r=n.createComment(""),i=kt(e,t),s=TE(n,i);return Iu(n,s,r,CM(n,i),!1),r}var qN=WN,zN=()=>!1;function GN(t,e,n){return zN(t,e,n)}function WN(t,e,n,r){if(t[Hr])return;let i;n.type&8?i=tn(r):i=HN(e,n),t[Hr]=i}var GI=new Set;function Jr(t){GI.has(t)||(GI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function KN(t){return typeof t=="function"&&t[In]!==void 0}function qo(t,e){Jr("NgSignals");let n=q_(t),r=n[In];return e?.equal&&(r.equal=e.equal),n.set=i=>gh(r,i),n.update=i=>z_(r,i),n.asReadonly=QN.bind(n),n}function QN(){let t=this[In];if(t.readonlyFn===void 0){let e=()=>this();e[In]=t,t.readonlyFn=e}return t.readonlyFn}function rD(t){return KN(t)&&typeof t.set=="function"}function YN(t){return Object.getPrototypeOf(t.prototype).constructor}function Sn(t){let e=YN(t.type),n=!0,r=[t];for(;e;){let i;if(ur(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Qc(t.inputs),o.inputTransforms=Qc(t.inputTransforms),o.declaredInputs=Qc(t.declaredInputs),o.outputs=Qc(t.outputs);let c=i.hostBindings;c&&tx(t,c);let u=i.viewQuery,l=i.contentQueries;if(u&&XN(t,u),l&&ex(t,l),ZN(t,i),rS(t.outputs,i.outputs),ur(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let c=s[o];c&&c.ngInherit&&c(t),c===Sn&&(n=!1)}}e=Object.getPrototypeOf(e)}JN(r)}function ZN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function JN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=xo(i.hostAttrs,n=xo(n,i.hostAttrs))}}function Qc(t){return t===Yi?{}:t===Rt?[]:t}function XN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function ex(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function tx(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Cp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var lr=class{},ko=class{};var Sf=class extends lr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Du(this);let s=Iw(e);this._bootstrapComponents=wE(s.bootstrap),this._r3Injector=aE(e,n,[{provide:lr,useValue:this},{provide:is,useValue:this.componentFactoryResolver},...r],pt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Rf=class extends ko{constructor(e){super(),this.moduleType=e}create(e){return new Sf(this.moduleType,e,[])}};var Cu=class extends lr{constructor(e){super(),this.componentFactoryResolver=new Du(this),this.instance=null;let n=new Po([...e.providers,{provide:lr,useValue:this},{provide:is,useValue:this.componentFactoryResolver}],e.parent||Wf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function $u(t,e,n=null){return new Cu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function iD(t){return rx(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function nx(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function rx(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function ix(t,e,n){return t[e]=n}function sx(t,e){return t[e]}function hs(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function ox(t){return(t.flags&32)===32}function ax(t,e,n,r,i,s,o,c,u){let l=e.consts,f=ju(e,t,4,o||null,c||null);jE(e,n,f,hu(l,u)),np(e,f);let g=f.tView=vp(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}function cx(t,e,n,r,i,s,o,c,u,l){let f=n+en,g=e.firstCreatePass?ax(f,e,t,r,i,s,o,c,u):e.data[f];Uo(g,!1);let _=ux(e,t,g,n);ep()&&mp(e,t,_,g),Wr(_,t);let I=HE(_,t,_,g);return t[f]=I,Bu(t,I),GN(I,g,t),Kf(g)&&FE(e,t,g),u!=null&&LE(t,g,l),g}function bp(t,e,n,r,i,s,o,c){let u=we(),l=It(),f=hu(l.consts,s);return cx(u,l,t,e,n,r,i,f,o,c),bp}var ux=lx;function lx(t,e,n,r){return tp(!0),e[Ve].createComment("")}var Gi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Gi||{}),sD=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=j({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),Br=class Br{constructor(){this.ngZone=x(ye),this.scheduler=x(rs),this.errorHandler=x(Dn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of Br.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};Br.PHASES=[Gi.EarlyRead,Gi.Write,Gi.MixedReadWrite,Gi.Read],Br.\u0275prov=j({token:Br,providedIn:"root",factory:()=>new Br});var Mf=Br,Nf=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Tp(t,e){!e?.injector&&ZS(Tp);let n=e?.injector??x(Qe);return hM(n)?(Jr("NgAfterNextRender"),hx(t,n,e,!0)):fx}function dx(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function hx(t,e,n,r){let i=e.get(sD);i.impl??=e.get(Mf);let s=n?.phase??Gi.MixedReadWrite,o=new Nf(i.impl,dx(t,s),r,e.get(sp));return i.impl.register(o),o}var fx={destroy(){}};function zo(t,e,n,r){let i=we(),s=jo();if(hs(i,s,e)){let o=It(),c=Xf();XM(c,i,t,e,n,r)}return zo}function px(t,e,n,r){return hs(t,jo(),n)?e+Ru(n)+r:pr}function Yc(t,e){return t<<17|e<<2}function Qr(t){return t>>17&32767}function gx(t){return(t&2)==2}function mx(t,e){return t&131071|e<<17}function xf(t){return t|2}function as(t){return(t&131068)>>2}function zh(t,e){return t&-131069|e<<2}function yx(t){return(t&1)===1}function Pf(t){return t|1}function vx(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,c=Qr(o),u=as(o);t[r]=n;let l=!1,f;if(Array.isArray(n)){let g=n;f=g[1],(f===null||Vo(g,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let _=Qr(t[c+1]);t[r+1]=Yc(_,c),_!==0&&(t[_+1]=zh(t[_+1],r)),t[c+1]=mx(t[c+1],r)}else t[r+1]=Yc(c,0),c!==0&&(t[c+1]=zh(t[c+1],r)),c=r;else t[r+1]=Yc(u,0),c===0?c=r:t[u+1]=zh(t[u+1],r),u=r;l&&(t[r+1]=xf(t[r+1])),WI(t,f,r,!0),WI(t,f,r,!1),_x(e,f,t,r,s),o=Yc(c,u),s?e.classBindings=o:e.styleBindings=o}function _x(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Vo(s,e)>=0&&(n[r+1]=Pf(n[r+1]))}function WI(t,e,n,r){let i=t[n+1],s=e===null,o=r?Qr(i):as(i),c=!1;for(;o!==0&&(c===!1||s);){let u=t[o],l=t[o+1];Ix(u,e)&&(c=!0,t[o+1]=r?Pf(l):xf(l)),o=r?Qr(l):as(l)}c&&(t[n+1]=r?xf(i):Pf(i))}function Ix(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Vo(t,e)>=0:!1}function Go(t,e,n){let r=we(),i=jo();if(hs(r,i,e)){let s=It(),o=Xf();UE(s,o,r,t,e,r[Ve],n,!1)}return Go}function KI(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";_p(t,n,s[o],o,r)}function Hu(t,e){return wx(t,e,null,!0),Hu}function wx(t,e,n,r){let i=we(),s=It(),o=yR(2);if(s.firstUpdatePass&&Dx(s,t,o,r),e!==pr&&hs(i,o,e)){let c=s.data[us()];Sx(s,c,i,i[Ve],t,i[o+1]=Rx(e,n),r,o)}}function Ex(t,e){return e>=t.expandoStartIndex}function Dx(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[us()],o=Ex(t,n);Mx(s,r)&&e===null&&!o&&(e=!1),e=Cx(i,s,e,r),vx(i,s,e,n,o,r)}}function Cx(t,e,n,r){let i=wR(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Gh(null,t,e,n,r),n=Fo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Gh(i,t,e,n,r),s===null){let u=bx(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Gh(null,t,e,u[1],r),u=Fo(u,e.attrs,r),Tx(t,e,r,u))}else s=Ax(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function bx(t,e,n){let r=n?e.classBindings:e.styleBindings;if(as(r)!==0)return t[Qr(r)]}function Tx(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Qr(i)]=r}function Ax(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Fo(r,o,n)}return Fo(r,e.attrs,n)}function Gh(t,e,n,r,i){let s=null,o=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<o&&(s=e[c],r=Fo(r,s.hostAttrs,i),s!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function Fo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),DS(t,o,n?!0:e[++s]))}return t===void 0?null:t}function Sx(t,e,n,r,i,s,o,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],f=yx(l)?QI(u,e,n,i,as(l),o):void 0;if(!bu(f)){bu(s)||gx(l)&&(s=QI(u,null,n,i,c,o));let g=kw(us(),n);NM(r,o,g,i,s)}}function QI(t,e,n,r,i,s){let o=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,g=f===null,_=n[i+1];_===pr&&(_=g?Rt:void 0);let I=g?Fh(_,r):f===r?_:void 0;if(l&&!bu(I)&&(I=Fh(u,r)),bu(I)&&(c=I,o))return c;let S=t[i+1];i=o?Qr(S):as(S)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(c=Fh(u,r))}return c}function bu(t){return t!==void 0}function Rx(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=pt(Bo(t)))),t}function Mx(t,e){return(t.flags&(e?8:16))!==0}function wG(t,e){Jr("NgControlFlow");let n=we(),r=jo(),i=n[r]!==pr?n[r]:-1,s=i!==-1?YI(n,en+i):void 0,o=0;if(hs(n,r,t)){let c=ce(null);try{if(s!==void 0&&lN(s,o),t!==-1){let u=en+t,l=YI(n,u),f=Nx(n[X],u),g=Df(l,f.tView.ssrId),_=GE(n,f,e,{dehydratedView:g});WE(l,_,o,wf(f,g))}}finally{ce(c)}}else if(s!==void 0){let c=uN(s,o);c!==void 0&&(c[Nt]=e)}}function YI(t,e){return t[e]}function Nx(t,e){return Qf(t,e)}function xx(t,e,n,r,i,s){let o=e.consts,c=hu(o,i),u=ju(e,t,2,r,c);return jE(e,n,u,hu(o,s)),u.attrs!==null&&Tf(u,u.attrs,!1),u.mergedAttrs!==null&&Tf(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Z(t,e,n,r){let i=we(),s=It(),o=en+t,c=i[Ve],u=s.firstCreatePass?xx(o,s,i,e,n,r):s.data[o],l=Px(s,i,u,c,e,t);i[o]=l;let f=Kf(u);return Uo(u,!0),RE(c,l,u),!ox(u)&&ep()&&mp(s,i,l,u),aR()===0&&Wr(l,i),cR(),f&&(FE(s,i,u),kE(s,u,i)),r!==null&&LE(i,u),Z}function J(){let t=ut();$w()?pR():(t=t.parent,Uo(t,!1));let e=t;dR(e)&&hR(),uR();let n=It();return n.firstCreatePass&&(np(n,t),Mw(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&SR(e)&&KI(n,e,we(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&RR(e)&&KI(n,e,we(),e.stylesWithoutHost,!1),J}function Ft(t,e,n,r){return Z(t,e,n,r),J(),Ft}var Px=(t,e,n,r,i,s)=>(tp(!0),EE(r,i,CR()));function EG(){return we()}var Tu="en-US";var Ox=Tu;function kx(t){typeof t=="string"&&(Ox=t.toLowerCase().replace(/_/g,"-"))}var Fx=(t,e,n)=>{};function fe(t,e,n,r){let i=we(),s=It(),o=ut();return oD(s,i,i[Ve],o,t,e,r),fe}function Lx(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let c=e[cu],u=i[s+2];return c.length>u?c[u]:null}typeof o=="string"&&(s+=2)}return null}function oD(t,e,n,r,i,s,o){let c=Kf(r),l=t.firstCreatePass&&iN(t),f=e[Nt],g=rN(e),_=!0;if(r.type&3||o){let P=kt(r,e),N=o?o(P):P,F=g.length,G=o?me=>o(tn(me[r.index])):r.index,Q=null;if(!o&&c&&(Q=Lx(t,e,i,r.index)),Q!==null){let me=Q.__ngLastListenerFn__||Q;me.__ngNextListenerFn__=s,Q.__ngLastListenerFn__=s,_=!1}else{s=JI(r,e,f,s),Fx(P,i,s);let me=n.listen(N,i,s);g.push(s,me),l&&l.push(i,G,F,F+1)}}else s=JI(r,e,f,s);let I=r.outputs,S;if(_&&I!==null&&(S=I[i])){let P=S.length;if(P)for(let N=0;N<P;N+=2){let F=S[N],G=S[N+1],Ge=e[F][G].subscribe(s),pe=g.length;g.push(s,Ge),l&&l.push(i,r.index,pe,-(pe+1))}}}function ZI(t,e,n,r){let i=ce(null);try{return Qt(6,e,n),n(r)!==!1}catch(s){return zE(t,s),!1}finally{Qt(7,e,n),ce(i)}}function JI(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?hr(t.index,e):e;wp(o,5);let c=ZI(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)c=ZI(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return c}}function DG(t=1){return DR(t)}function se(t,e=""){let n=we(),r=It(),i=t+en,s=r.firstCreatePass?ju(r,i,1,e,null):r.data[i],o=Vx(r,n,s,e,t);n[i]=o,ep()&&mp(r,n,o,s),Uo(s,!1)}var Vx=(t,e,n,r,i)=>(tp(!0),pM(e[Ve],r));function Ap(t){return aD("",t,""),Ap}function aD(t,e,n){let r=we(),i=px(r,t,e,n);return i!==pr&&sN(r,us(),i),aD}function Ux(t,e,n){rD(e)&&(e=e());let r=we(),i=jo();if(hs(r,i,e)){let s=It(),o=Xf();UE(s,o,r,t,e,r[Ve],n,!1)}return Ux}function CG(t,e){let n=rD(t);return n&&t.set(e),n}function jx(t,e){let n=we(),r=It(),i=ut();return oD(r,n,n[Ve],i,t,e),jx}function Bx(t,e,n){let r=It();if(r.firstCreatePass){let i=ur(t);Of(n,r.data,r.blueprint,i,!0),Of(e,r.data,r.blueprint,i,!1)}}function Of(t,e,n,r,i){if(t=at(t),Array.isArray(t))for(let s=0;s<t.length;s++)Of(t[s],e,n,r,i);else{let s=It(),o=we(),c=ut(),u=Ji(t)?t:at(t.provide),l=Tw(t),f=c.providerIndexes&1048575,g=c.directiveStart,_=c.providerIndexes>>20;if(Ji(t)||!t.multi){let I=new Gr(l,i,he),S=Kh(u,e,i?f:f+_,g);S===-1?(lf(gu(c,o),s,u),Wh(s,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(I),o.push(I)):(n[S]=I,o[S]=I)}else{let I=Kh(u,e,f+_,g),S=Kh(u,e,f,f+_),P=I>=0&&n[I],N=S>=0&&n[S];if(i&&!N||!i&&!P){lf(gu(c,o),s,u);let F=qx(i?Hx:$x,n.length,i,r,l);!i&&N&&(n[S].providerFactory=F),Wh(s,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(F),o.push(F)}else{let F=cD(n[i?S:I],l,!i&&r);Wh(s,t,I>-1?I:S,F)}!i&&r&&N&&n[S].componentProviders++}}}function Wh(t,e,n,r){let i=Ji(e),s=qS(e);if(i||s){let u=(s?at(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function cD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Kh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function $x(t,e,n,r){return kf(this.multi,[])}function Hx(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=ns(n,n[X],this.providerFactory.index,r);s=c.slice(0,o),kf(i,s);for(let u=o;u<c.length;u++)s.push(c[u])}else s=[],kf(i,s);return s}function kf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function qx(t,e,n,r,i){let s=new Gr(t,n,he);return s.multi=[],s.index=e,s.componentProviders=0,cD(s,i,r&&!n),s}function Wo(t,e=[]){return n=>{n.providersResolver=(r,i)=>Bx(r,i?i(t):t,e)}}var zx=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Dw(!1,r.type),s=i.length>0?$u([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=j({token:e,providedIn:"environment",factory:()=>new e(q(_t))});let t=e;return t})();function uD(t){Jr("NgStandalone"),t.getStandaloneInjector=e=>e.get(zx).getOrCreateStandaloneInjector(t)}function lD(t,e,n){let r=gR()+t,i=we();return i[r]===pr?ix(i,r,n?e.call(n):e()):sx(i,r)}var bn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},dD=new bn("18.2.3");var qu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var hD=new L("");function Xr(t){return!!t&&typeof t.then=="function"}function fD(t){return!!t&&typeof t.subscribe=="function"}var zu=new L(""),pD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=x(zu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Xr(o))r.push(o);else if(fD(o)){let c=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(c)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gu=new L("");function Gx(){H_(()=>{throw new V(600,!1)})}function Wx(t){return t.isBoundToModule}var Kx=10;function Qx(t,e,n){try{let r=n();return Xr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ei=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=x(QR),this.afterRenderManager=x(sD),this.zonelessEnabled=x(Dp),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Be,this.afterTick=new Be,this.componentTypes=[],this.components=[],this.isStable=x(ds).hasPendingTasks.pipe(te(r=>!r)),this._injector=x(_t)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Eu;if(!this._injector.get(pD).done){let I=!s&&_w(r),S=!1;throw new V(405,S)}let c;s?c=r:c=this._injector.get(is).resolveComponentFactory(r),this.componentTypes.push(c.componentType);let u=Wx(c)?void 0:this._injector.get(lr),l=i||c.selector,f=c.create(Qe.NULL,[],l,u),g=f.location.nativeElement,_=f.injector.get(hD,null);return _?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),tu(this.components,f),_?.unregisterApplication(g)}),this._loadComponent(f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new V(101,!1);let r=ce(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,ce(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(ss,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<Kx;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:o}of this._views)Yx(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>Ou(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;tu(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Gu,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>tu(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new V(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Yx(t,e,n,r){if(!n&&!Ou(t))return;YE(t,e,n&&!r?0:1)}var Ff=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Wu=(()=>{let e=class e{compileModuleSync(r){return new Rf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=Iw(r),o=wE(s.declarations).reduce((c,u)=>{let l=cr(u);return l&&c.push(new os(l)),c},[]);return new Ff(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Zx=(()=>{let e=class e{constructor(){this.zone=x(ye),this.changeDetectionScheduler=x(rs),this.applicationRef=x(ei)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Jx=new L("",{factory:()=>!1});function gD({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ye(re(k({},mD()),{scheduleInRootZone:n})),[{provide:ye,useFactory:t},{provide:Zi,multi:!0,useFactory:()=>{let r=x(Zx,{optional:!0});return()=>r.initialize()}},{provide:Zi,multi:!0,useFactory:()=>{let r=x(Xx);return()=>{r.initialize()}}},e===!0?{provide:eD,useValue:!0}:[],{provide:tD,useValue:n??cE}]}function bG(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=gD({ngZoneFactory:()=>{let i=mD(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Jr("NgZone_CoalesceEvent"),new ye(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return nn([{provide:Jx,useValue:!0},{provide:Dp,useValue:!1},r])}function mD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Xx=(()=>{let e=class e{constructor(){this.subscription=new Ae,this.initialized=!1,this.zone=x(ye),this.pendingTasks=x(ds)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var eP=(()=>{let e=class e{constructor(){this.appRef=x(ei),this.taskService=x(ds),this.ngZone=x(ye),this.zonelessEnabled=x(Dp),this.disableScheduling=x(eD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ae,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(yu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(tD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof gf||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?kI:uE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(yu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,kI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tP(){return typeof $localize<"u"&&$localize.locale||Tu}var Sp=new L("",{providedIn:"root",factory:()=>x(Sp,Y.Optional|Y.SkipSelf)||tP()});var yD=new L("");function Zc(t){return!!t.platformInjector}function nP(t){let e=Zc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ye);return n.run(()=>{Zc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Dn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Zc(t)){let s=()=>e.destroy(),o=t.platformInjector.get(yD);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{tu(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return Qx(r,n,()=>{let s=e.get(pD);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Sp,Tu);if(kx(o||Tu),Zc(t)){let c=e.get(ei);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return rP(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function rP(t,e){let n=t.injector.get(ei);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new V(-403,!1);e.push(t)}var nu=null;function iP(t=[],e){return Qe.create({name:e,providers:[{provide:Nu,useValue:"platform"},{provide:yD,useValue:new Set([()=>nu=null])},...t]})}function sP(t=[]){if(nu)return nu;let e=iP(t);return nu=e,Gx(),oP(e),e}function oP(t){t.get(up,null)?.forEach(n=>n())}var ti=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=aP;let t=e;return t})();function aP(t){return cP(ut(),we(),(t&16)===16)}function cP(t,e,n){if(Pu(t)&&!n){let r=hr(t.index,e);return new Kr(r,r)}else if(t.type&175){let r=e[Xt];return new Kr(r,e)}return null}var Lf=class{constructor(){}supports(e){return iD(e)}create(e){return new Vf(e)}},uP=(t,e)=>e,Vf=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||uP}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<XI(r,i,s)?n:r,c=XI(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=c-i,f=u-i;if(l!=f){for(let _=0;_<l;_++){let I=_<s.length?s[_]:s[_]=0,S=I+_;f<=S&&S<l&&(s[_]=I+1)}let g=o.previousIndex;s[g]=f-l}}c!==u&&e(o,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!iD(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],o=this._trackByFn(c,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,c),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,c)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,nx(e,c=>{o=this._trackByFn(i,c),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,c,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,o,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Uf(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Au),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Au),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Uf=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},jf=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Au=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new jf,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function XI(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function ew(){return new Rp([new Lf])}var Rp=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||ew()),deps:[[e,new Hf,new et]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new V(901,!1)}};e.\u0275prov=j({token:e,providedIn:"root",factory:ew});let t=e;return t})();function vD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=sP(r),s=[gD({}),{provide:rs,useExisting:eP},...n||[]],o=new Cu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return nP({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var _D=new L("");function gr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Ko(t,e){Jr("NgSignals");let n=j_(t);return e?.equal&&(n[In].equal=e.equal),n}function Rn(t){let e=ce(null);try{return t()}finally{ce(e)}}function ID(t){let e=cr(t);if(!e)return null;let n=new os(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var CD=null;function Nn(){return CD}function bD(t){CD??=t}var Ku=class{};var lt=new L(""),Op=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>x(lP),providedIn:"platform"});let t=e;return t})(),TD=new L(""),lP=(()=>{let e=class e extends Op{constructor(){super(),this._doc=x(lt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Nn().getBaseHref(this._doc)}onPopState(r){let i=Nn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Nn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function kp(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function wD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Mn(t){return t&&t[0]!=="?"?"?"+t:t}var xn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>x(Fp),providedIn:"root"});let t=e;return t})(),AD=new L(""),Fp=(()=>{let e=class e extends xn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??x(lt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return kp(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Mn(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let c=this.prepareExternalUrl(s+Mn(o));this._platformLocation.pushState(r,i,c)}replaceState(r,i,s,o){let c=this.prepareExternalUrl(s+Mn(o));this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(q(Op),q(AD,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),SD=(()=>{let e=class e extends xn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=kp(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let c=this.prepareExternalUrl(s+Mn(o));c.length==0&&(c=this._platformLocation.pathname),this._platformLocation.pushState(r,i,c)}replaceState(r,i,s,o){let c=this.prepareExternalUrl(s+Mn(o));c.length==0&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(q(Op),q(AD,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),fs=(()=>{let e=class e{constructor(r){this._subject=new Ne,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=fP(wD(ED(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Mn(i))}normalize(r){return e.stripTrailingSlash(hP(this._basePath,ED(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Mn(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Mn(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Mn,e.joinWithSlash=kp,e.stripTrailingSlash=wD,e.\u0275fac=function(i){return new(i||e)(q(xn))},e.\u0275prov=j({token:e,factory:()=>dP(),providedIn:"root"});let t=e;return t})();function dP(){return new fs(q(xn))}function hP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function ED(t){return t.replace(/\/index.html$/,"")}function fP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function RD(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Np=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},MD=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,c)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Np(s.item,this._ngForOf,-1,-1),c===null?void 0:c);else if(c==null)i.remove(o===null?void 0:o);else if(o!==null){let u=i.get(o);i.move(u,c),DD(u,s)}});for(let s=0,o=i.length;s<o;s++){let u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);DD(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(he(Ho),he(Ep),he(Rp))},e.\u0275dir=tt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function DD(t,e){t.context.$implicit=e.item}var Lp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ot({type:e}),e.\u0275inj=xt({});let t=e;return t})(),Vp="browser",pP="server";function gP(t){return t===Vp}function Up(t){return t===pP}var ND=(()=>{let e=class e{};e.\u0275prov=j({token:e,providedIn:"root",factory:()=>gP(x(sn))?new xp(x(lt),window):new Pp});let t=e;return t})(),xp=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=mP(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function mP(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Pp=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Qu=class{};var $p=class extends Ku{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Hp=class t extends $p{static makeCurrent(){bD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=yP();return n==null?null:vP(n)}resetBaseElement(){Qo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return RD(document.cookie,e)}},Qo=null;function yP(){return Qo=Qo||document.querySelector("base"),Qo?Qo.getAttribute("href"):null}function vP(t){return new URL(t,document.baseURI).pathname}var _P=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),Yu=new L(""),FD=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new V(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(q(Yu),q(ye))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),Yo=class{constructor(e){this._doc=e}},jp="ng-app-id",LD=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Up(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${jp}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(jp),o;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(jp,this.appId),r.appendChild(c),c}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,c=o.get(i)?.elements;c?c.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(q(lt),q(cp),q(lp,8),q(sn))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),Bp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},zp=/%COMP%/g,VD="%COMP%",IP=`_nghost-${VD}`,wP=`_ngcontent-${VD}`,EP=!0,DP=new L("",{providedIn:"root",factory:()=>EP});function CP(t){return wP.replace(zp,t)}function bP(t){return IP.replace(zp,t)}function UD(t,e){return e.map(n=>n.replace(zp,t))}var PD=(()=>{let e=class e{constructor(r,i,s,o,c,u,l,f=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=c,this.platformId=u,this.ngZone=l,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=Up(u),this.defaultRenderer=new Zo(r,c,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Zt.ShadowDom&&(i=re(k({},i),{encapsulation:Zt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Zu?s.applyToHost(r):s instanceof Jo&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let c=this.doc,u=this.ngZone,l=this.eventManager,f=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(i.encapsulation){case Zt.Emulated:o=new Zu(l,f,i,this.appId,g,c,u,_);break;case Zt.ShadowDom:return new qp(l,f,r,i,c,u,this.nonce,_);default:o=new Jo(l,f,i,g,c,u,_);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(q(FD),q(LD),q(cp),q(DP),q(lt),q(sn),q(ye),q(lp))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),Zo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Bp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(OD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(OD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Bp[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Bp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Cn.DashCase|Cn.Important)?e.style.setProperty(n,r,i&Cn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Cn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Nn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function OD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var qp=class extends Zo{constructor(e,n,r,i,s,o,c,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=UD(i.id,i.styles);for(let f of l){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Jo=class extends Zo{constructor(e,n,r,i,s,o,c,u){super(e,s,o,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?UD(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Zu=class extends Jo{constructor(e,n,r,i,s,o,c,u){let l=i+"-"+r.id;super(e,n,r,s,o,c,u,l),this.contentAttr=CP(l),this.hostAttr=bP(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},TP=(()=>{let e=class e extends Yo{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(q(lt))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),AP=(()=>{let e=class e extends Yo{constructor(r){super(r),this.delegate=x(_D,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(q(lt))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),kD=["alt","control","meta","shift"],SP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},RP={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},MP=(()=>{let e=class e extends Yo{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),c=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Nn().onAndCancel(r,o.domEventName,c))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),c="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),c="code."),kD.forEach(f=>{let g=i.indexOf(f);g>-1&&(i.splice(g,1),c+=f+".")}),c+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=c,l}static matchEventFullKeyCode(r,i){let s=SP[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),kD.forEach(c=>{if(c!==s){let u=RP[c];u(r)&&(o+=c+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(q(lt))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})();function E4(t,e){return vD(k({rootComponent:t},NP(e)))}function NP(t){return{appProviders:[...FP,...t?.providers??[]],platformProviders:kP}}function xP(){Hp.makeCurrent()}function PP(){return new Dn}function OP(){return mE(document),document}var kP=[{provide:sn,useValue:Vp},{provide:up,useValue:xP,multi:!0},{provide:lt,useFactory:OP,deps:[]}];var FP=[{provide:Nu,useValue:"root"},{provide:Dn,useFactory:PP,deps:[]},{provide:Yu,useClass:TP,multi:!0,deps:[lt,ye,sn]},{provide:Yu,useClass:MP,multi:!0,deps:[lt]},{provide:Yu,useClass:AP,multi:!0},PD,LD,FD,{provide:ss,useExisting:PD},{provide:Qu,useClass:_P,deps:[]},[]];var jD=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(q(lt))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var K="primary",fa=Symbol("RouteTitle"),Yp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function _s(t){return new Yp(t)}function VP(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=t[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function UP(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!on(t[n],e[n]))return!1;return!0}function on(t,e){let n=t?Zp(t):void 0,r=e?Zp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!ZD(t[i],e[i]))return!1;return!0}function Zp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function ZD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function JD(t){return t.length>0?t[t.length-1]:null}function vr(t){return Rh(t)?t:Xr(t)?be(Promise.resolve(t)):H(t)}var jP={exact:eC,subset:tC},XD={exact:BP,subset:$P,ignored:()=>!0};function BD(t,e,n){return jP[n.paths](t.root,e.root,n.matrixParams)&&XD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function BP(t,e){return on(t,e)}function eC(t,e,n){if(!ri(t.segments,e.segments)||!el(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!eC(t.children[r],e.children[r],n))return!1;return!0}function $P(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ZD(t[n],e[n]))}function tC(t,e,n){return nC(t,e,e.segments,n)}function nC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ri(i,n)||e.hasChildren()||!el(i,n,r))}else if(t.segments.length===n.length){if(!ri(t.segments,n)||!el(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!tC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ri(t.segments,i)||!el(t.segments,i,r)||!t.children[K]?!1:nC(t.children[K],e,s,r)}}function el(t,e,n){return e.every((r,i)=>XD[n](t[i].parameters,r.parameters))}var On=class{constructor(e=new ve([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=_s(this.queryParams),this._queryParamMap}toString(){return zP.serialize(this)}},ve=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tl(this)}},ni=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=_s(this.parameters),this._parameterMap}toString(){return iC(this)}};function HP(t,e){return ri(t,e)&&t.every((n,r)=>on(n.parameters,e[r].parameters))}function ri(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function qP(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===K&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==K&&(n=n.concat(e(i,r)))}),n}var pa=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>new Is,providedIn:"root"});let t=e;return t})(),Is=class{parse(e){let n=new Xp(e);return new On(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Xo(e.root,!0)}`,r=KP(e.queryParams),i=typeof e.fragment=="string"?`#${GP(e.fragment)}`:"";return`${n}${r}${i}`}},zP=new Is;function tl(t){return t.segments.map(e=>iC(e)).join("/")}function Xo(t,e){if(!t.hasChildren())return tl(t);if(e){let n=t.children[K]?Xo(t.children[K],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==K&&r.push(`${i}:${Xo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=qP(t,(r,i)=>i===K?[Xo(t.children[K],!1)]:[`${i}:${Xo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[K]!=null?`${tl(t)}/${n[0]}`:`${tl(t)}/(${n.join("//")})`}}function rC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ju(t){return rC(t).replace(/%3B/gi,";")}function GP(t){return encodeURI(t)}function Jp(t){return rC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nl(t){return decodeURIComponent(t)}function $D(t){return nl(t.replace(/\+/g,"%20"))}function iC(t){return`${Jp(t.path)}${WP(t.parameters)}`}function WP(t){return Object.entries(t).map(([e,n])=>`;${Jp(e)}=${Jp(n)}`).join("")}function KP(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ju(n)}=${Ju(i)}`).join("&"):`${Ju(n)}=${Ju(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var QP=/^[^\/()?;#]+/;function Gp(t){let e=t.match(QP);return e?e[0]:""}var YP=/^[^\/()?;=#]+/;function ZP(t){let e=t.match(YP);return e?e[0]:""}var JP=/^[^=?&#]+/;function XP(t){let e=t.match(JP);return e?e[0]:""}var eO=/^[^&#]+/;function tO(t){let e=t.match(eO);return e?e[0]:""}var Xp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ve([],{}):new ve([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[K]=new ve(e,n)),r}parseSegment(){let e=Gp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new ni(nl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=ZP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Gp(this.remaining);i&&(r=i,this.capture(r))}e[nl(n)]=nl(r)}parseQueryParam(e){let n=XP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=tO(this.remaining);o&&(r=o,this.capture(r))}let i=$D(n),s=$D(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Gp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new V(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=K);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[K]:new ve([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}};function sC(t){return t.segments.length>0?new ve([],{[K]:t}):t}function oC(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=oC(i);if(r===K&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ve(t.segments,e);return nO(n)}function nO(t){if(t.numberOfChildren===1&&t.children[K]){let e=t.children[K];return new ve(t.segments.concat(e.segments),e.children)}return t}function ii(t){return t instanceof On}function rO(t,e,n=null,r=null){let i=aC(t);return cC(i,e,n,r)}function aC(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let c=new ve(s.url,o);return s===t&&(e=c),c}let r=n(t.root),i=sC(r);return e??i}function cC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Wp(i,i,i,n,r);let s=iO(e);if(s.toRoot())return Wp(i,i,new ve([],{}),n,r);let o=sO(s,i,t),c=o.processChildren?na(o.segmentGroup,o.index,s.commands):lC(o.segmentGroup,o.index,s.commands);return Wp(i,o.segmentGroup,c,n,r)}function rl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function sa(t){return typeof t=="object"&&t!=null&&t.outlets}function Wp(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let o;t===e?o=n:o=uC(t,e,n);let c=sC(oC(o));return new On(c,s,i)}function uC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=uC(s,e,n)}),new ve(t.segments,r)}var il=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&rl(r[0]))throw new V(4003,!1);let i=r.find(sa);if(i&&i!==JD(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function iO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new il(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new il(n,e,r)}var ms=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function sO(t,e,n){if(t.isAbsolute)return new ms(e,!0,0);if(!n)return new ms(e,!1,NaN);if(n.parent===null)return new ms(n,!0,0);let r=rl(t.commands[0])?0:1,i=n.segments.length-1+r;return oO(n,i,t.numberOfDoubleDots)}function oO(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new ms(r,!1,i-s)}function aO(t){return sa(t[0])?t[0].outlets:{[K]:t}}function lC(t,e,n){if(t??=new ve([],{}),t.segments.length===0&&t.hasChildren())return na(t,e,n);let r=cO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ve(t.segments.slice(0,r.pathIndex),{});return s.children[K]=new ve(t.segments.slice(r.pathIndex),t.children),na(s,0,i)}else return r.match&&i.length===0?new ve(t.segments,{}):r.match&&!t.hasChildren()?eg(t,e,n):r.match?na(t,0,i):eg(t,e,n)}function na(t,e,n){if(n.length===0)return new ve(t.segments,{});{let r=aO(n),i={};if(Object.keys(r).some(s=>s!==K)&&t.children[K]&&t.numberOfChildren===1&&t.children[K].segments.length===0){let s=na(t.children[K],e,n);return new ve(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=lC(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ve(t.segments,i)}}function cO(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],c=n[r];if(sa(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!qD(u,l,o))return s;r+=2}else{if(!qD(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function eg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(sa(s)){let u=uO(s.outlets);return new ve(r,u)}if(i===0&&rl(n[0])){let u=t.segments[e];r.push(new ni(u.path,HD(n[0]))),i++;continue}let o=sa(s)?s.outlets[K]:`${s}`,c=i<n.length-1?n[i+1]:null;o&&c&&rl(c)?(r.push(new ni(o,HD(c))),i+=2):(r.push(new ni(o,{})),i++)}return new ve(r,{})}function uO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=eg(new ve([],{}),0,r))}),e}function HD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function qD(t,e,n){return t==n.path&&on(e,n.parameters)}var ra="imperative",$e=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}($e||{}),Vt=class{constructor(e,n){this.id=e,this.url=n}},ws=class extends Vt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=$e.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},an=class extends Vt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=$e.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Et=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Et||{}),sl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(sl||{}),Pn=class extends Vt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=$e.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},mr=class extends Vt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=$e.NavigationSkipped}},oa=class extends Vt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=$e.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ol=class extends Vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=$e.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tg=class extends Vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=$e.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ng=class extends Vt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=$e.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},rg=class extends Vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=$e.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ig=class extends Vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=$e.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sg=class{constructor(e){this.route=e,this.type=$e.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},og=class{constructor(e){this.route=e,this.type=$e.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ag=class{constructor(e){this.snapshot=e,this.type=$e.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cg=class{constructor(e){this.snapshot=e,this.type=$e.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ug=class{constructor(e){this.snapshot=e,this.type=$e.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lg=class{constructor(e){this.snapshot=e,this.type=$e.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},al=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=$e.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},aa=class{},Es=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function lO(t,e){return t.providers&&!t._injector&&(t._injector=$u(t.providers,e,`Route: ${t.path}`)),t._injector??e}function zt(t){return t.outlet||K}function dO(t,e){let n=t.filter(r=>zt(r)===e);return n.push(...t.filter(r=>zt(r)!==e)),n}function ga(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var dg=class{get injector(){return ga(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new ma(this.rootInjector),this.attachRef=null}},ma=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new dg(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(q(_t))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=hg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=hg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=fg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return fg(e,this._root).map(n=>n.value)}};function hg(t,e){if(t===e.value)return e;for(let n of e.children){let r=hg(t,n);if(r)return r}return null}function fg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=fg(t,n);if(r.length)return r.unshift(e),r}return[]}var wt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function gs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var ul=class extends cl{constructor(e,n){super(e),this.snapshot=n,Eg(this,e)}toString(){return this.snapshot.toString()}};function dC(t){let e=hO(t),n=new Ke([new ni("",{})]),r=new Ke({}),i=new Ke({}),s=new Ke({}),o=new Ke(""),c=new yr(n,r,s,o,i,K,t,e.root);return c.snapshot=e.root,new ul(new wt(c,[]),e)}function hO(t){let e={},n={},r={},i="",s=new ys([],e,r,i,n,K,t,null,{});return new dl("",new wt(s,[]))}var yr=class{constructor(e,n,r,i,s,o,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(te(l=>l[fa]))??H(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(te(e=>_s(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(te(e=>_s(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ll(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),t.params),data:k(k({},e.data),t.data),resolve:k(k(k(k({},t.data),e.data),i?.data),t._resolvedData)}:r={params:k({},t.params),data:k({},t.data),resolve:k(k({},t.data),t._resolvedData??{})},i&&fC(i)&&(r.resolve[fa]=i.title),r}var ys=class{get title(){return this.data?.[fa]}constructor(e,n,r,i,s,o,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=_s(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=_s(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},dl=class extends cl{constructor(e,n){super(n),this.url=e,Eg(this,n)}toString(){return hC(this._root)}};function Eg(t,e){e.value._routerState=t,e.children.forEach(n=>Eg(t,n))}function hC(t){let e=t.children.length>0?` { ${t.children.map(hC).join(", ")} } `:"";return`${t.value}${e}`}function Kp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,on(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),on(e.params,n.params)||t.paramsSubject.next(n.params),UP(e.url,n.url)||t.urlSubject.next(n.url),on(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function pg(t,e){let n=on(t.params,e.params)&&HP(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||pg(t.parent,e.parent))}function fC(t){return typeof t.title=="string"||t.title===null}var fO=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=K,this.activateEvents=new Ne,this.deactivateEvents=new Ne,this.attachEvents=new Ne,this.detachEvents=new Ne,this.parentContexts=x(ma),this.location=x(Ho),this.changeDetector=x(ti),this.inputBinder=x(gl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=r;let s=this.location,c=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new gg(r,u,s.injector);this.activated=s.createComponent(c,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=tt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[dr]});let t=e;return t})(),gg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===yr?this.route:e===ma?this.childContexts:this.parent.get(e,n)}},gl=new L(""),zD=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=Ao([i.queryParams,i.params,i.data]).pipe(At(([o,c,u],l)=>(u=k(k(k({},o),c),u),l===0?H(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let c=ID(i.component);if(!c){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of c.inputs)r.activatedComponentRef.setInput(u,o[u])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})();function pO(t,e,n){let r=ca(t,e._root,n?n._root:void 0);return new ul(r,e)}function ca(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=gO(t,e,n);return new wt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>ca(t,c)),o}}let r=mO(e.value),i=e.children.map(s=>ca(t,s));return new wt(r,i)}}function gO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ca(t,r,i);return ca(t,r)})}function mO(t){return new yr(new Ke(t.url),new Ke(t.params),new Ke(t.queryParams),new Ke(t.fragment),new Ke(t.data),t.outlet,t.component,t)}var ua=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},pC="ngNavigationCancelingError";function hl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ii(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=gC(!1,Et.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function gC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[pC]=!0,n.cancellationCode=e,n}function yO(t){return mC(t)&&ii(t.url)}function mC(t){return!!t&&t[pC]}var vO=(t,e,n,r)=>te(i=>(new mg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),mg=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Kp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=gs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=gs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=gs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=gs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new lg(s.value.snapshot))}),e.children.length&&this.forwardEvent(new cg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Kp(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Kp(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},fl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},vs=class{constructor(e,n){this.component=e,this.route=n}};function _O(t,e,n){let r=t._root,i=e?e._root:null;return ea(r,i,n,[r.value])}function IO(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Cs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!iw(t)?t:e.get(t):r}function ea(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=gs(e);return t.children.forEach(o=>{wO(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>ia(c,n.getContext(o),i)),i}function wO(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=EO(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new fl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ea(t,e,c?c.children:null,r,i):ea(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new vs(c.outlet.component,o))}else o&&ia(e,c,i),i.canActivateChecks.push(new fl(r)),s.component?ea(t,null,c?c.children:null,r,i):ea(t,null,n,r,i);return i}function EO(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ri(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ri(t.url,e.url)||!on(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pg(t,e)||!on(t.queryParams,e.queryParams);case"paramsChange":default:return!pg(t,e)}}function ia(t,e,n){let r=gs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?ia(o,e.children.getContext(s),n):ia(o,null,n):ia(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new vs(e.outlet.component,i)):n.canDeactivateChecks.push(new vs(null,i)):n.canDeactivateChecks.push(new vs(null,i))}function ya(t){return typeof t=="function"}function DO(t){return typeof t=="boolean"}function CO(t){return t&&ya(t.canLoad)}function bO(t){return t&&ya(t.canActivate)}function TO(t){return t&&ya(t.canActivateChild)}function AO(t){return t&&ya(t.canDeactivate)}function SO(t){return t&&ya(t.canMatch)}function yC(t){return t instanceof wn||t?.name==="EmptyError"}var Xu=Symbol("INITIAL_VALUE");function Ds(){return At(t=>Ao(t.map(e=>e.pipe(En(1),Oh(Xu)))).pipe(te(e=>{for(let n of e)if(n!==!0){if(n===Xu)return Xu;if(n===!1||RO(n))return n}return!0}),Tt(e=>e!==Xu),En(1)))}function RO(t){return ii(t)||t instanceof ua}function MO(t,e){return Me(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?H(re(k({},n),{guardsResult:!0})):NO(o,r,i,t).pipe(Me(c=>c&&DO(c)?xO(r,s,t,e):H(c)),te(c=>re(k({},n),{guardsResult:c})))})}function NO(t,e,n,r){return be(t).pipe(Me(i=>LO(i.component,i.route,n,e,r)),Kt(i=>i!==!0,!0))}function xO(t,e,n,r){return be(e).pipe(Ur(i=>Bi(OO(i.route.parent,r),PO(i.route,r),FO(t,i.path,n),kO(t,i.route,n))),Kt(i=>i!==!0,!0))}function PO(t,e){return t!==null&&e&&e(new ug(t)),H(!0)}function OO(t,e){return t!==null&&e&&e(new ag(t)),H(!0)}function kO(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return H(!0);let i=r.map(s=>zc(()=>{let o=ga(e)??n,c=Cs(s,o),u=bO(c)?c.canActivate(e,t):rn(o,()=>c(e,t));return vr(u).pipe(Kt())}));return H(i).pipe(Ds())}function FO(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>IO(o)).filter(o=>o!==null).map(o=>zc(()=>{let c=o.guards.map(u=>{let l=ga(o.node)??n,f=Cs(u,l),g=TO(f)?f.canActivateChild(r,t):rn(l,()=>f(r,t));return vr(g).pipe(Kt())});return H(c).pipe(Ds())}));return H(s).pipe(Ds())}function LO(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return H(!0);let o=s.map(c=>{let u=ga(e)??i,l=Cs(c,u),f=AO(l)?l.canDeactivate(t,e,n,r):rn(u,()=>l(t,e,n,r));return vr(f).pipe(Kt())});return H(o).pipe(Ds())}function VO(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return H(!0);let s=i.map(o=>{let c=Cs(o,t),u=CO(c)?c.canLoad(e,n):rn(t,()=>c(e,n));return vr(u)});return H(s).pipe(Ds(),vC(r))}function vC(t){return wh(Le(e=>{if(typeof e!="boolean")throw hl(t,e)}),te(e=>e===!0))}function UO(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return H(!0);let s=i.map(o=>{let c=Cs(o,t),u=SO(c)?c.canMatch(e,n):rn(t,()=>c(e,n));return vr(u)});return H(s).pipe(Ds(),vC(r))}var la=class{constructor(e){this.segmentGroup=e||null}},da=class extends Error{constructor(e){super(),this.urlTree=e}};function ps(t){return Ui(new la(t))}function jO(t){return Ui(new V(4e3,!1))}function BO(t){return Ui(gC(!1,Et.GuardRejected))}var yg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return H(r);if(i.numberOfChildren>1||!i.children[K])return jO(`${e.redirectTo}`);i=i.children[K]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let c=n,{queryParams:u,fragment:l,routeConfig:f,url:g,outlet:_,params:I,data:S,title:P}=i,N=rn(s,()=>c({params:I,data:S,queryParams:u,fragment:l,routeConfig:f,url:g,outlet:_,title:P}));if(N instanceof On)throw new da(N);n=N}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new da(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new On(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=n[c]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(e,u,r,i)}),new ve(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},vg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $O(t,e,n,r,i){let s=_C(t,e,n);return s.matched?(r=lO(e,r),UO(r,e,n,i).pipe(te(o=>o===!0?s:k({},vg)))):H(s)}function _C(t,e,n){if(e.path==="**")return HO(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?k({},vg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||VP)(n,t,e);if(!i)return k({},vg);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?k(k({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function HO(t){return{matched:!0,parameters:t.length>0?JD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function GD(t,e,n,r){return n.length>0&&GO(t,n,r)?{segmentGroup:new ve(e,zO(r,new ve(n,t.children))),slicedSegments:[]}:n.length===0&&WO(t,n,r)?{segmentGroup:new ve(t.segments,qO(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ve(t.segments,t.children),slicedSegments:n}}function qO(t,e,n,r){let i={};for(let s of n)if(ml(t,e,s)&&!r[zt(s)]){let o=new ve([],{});i[zt(s)]=o}return k(k({},r),i)}function zO(t,e){let n={};n[K]=e;for(let r of t)if(r.path===""&&zt(r)!==K){let i=new ve([],{});n[zt(r)]=i}return n}function GO(t,e,n){return n.some(r=>ml(t,e,r)&&zt(r)!==K)}function WO(t,e,n){return n.some(r=>ml(t,e,r))}function ml(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function KO(t,e,n){return e.length===0&&!t.children[n]}var _g=class{};function QO(t,e,n,r,i,s,o="emptyOnly"){return new Ig(t,e,n,r,i,o,s).recognize()}var YO=31,Ig=class{constructor(e,n,r,i,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new yg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}recognize(){let e=GD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(te(({children:n,rootSnapshot:r})=>{let i=new wt(r,n),s=new dl("",i),o=rO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new ys([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),K,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,K,n).pipe(te(r=>({children:r,rootSnapshot:n})),nr(r=>{if(r instanceof da)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof la?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(te(o=>o instanceof wt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return be(s).pipe(Ur(o=>{let c=r.children[o],u=dO(n,o);return this.processSegmentGroup(e,u,c,o,i)}),Ph((o,c)=>(o.push(...c),o)),rr(null),xh(),Me(o=>{if(o===null)return ps(r);let c=IC(o);return ZO(c),H(c)}))}processSegment(e,n,r,i,s,o,c){return be(n).pipe(Ur(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,c).pipe(nr(l=>{if(l instanceof la)return H(null);throw l}))),Kt(u=>!!u),nr(u=>{if(yC(u))return KO(r,i,s)?H(new _g):ps(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,c,u){return zt(r)!==o&&(o===K||!ml(i,s,r))?ps(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):ps(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:g,remainingSegments:_}=_C(n,i,s);if(!u)return ps(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>YO&&(this.allowRedirects=!1));let I=new ys(s,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,WD(i),zt(i),i.component??i._loadedComponent??null,i,KD(i)),S=ll(I,c,this.paramsInheritanceStrategy);I.params=Object.freeze(S.params),I.data=Object.freeze(S.data);let P=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,g,I,e);return this.applyRedirects.lineralizeSegments(i,P).pipe(Me(N=>this.processSegment(e,r,n,N.concat(_),o,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let c=$O(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(At(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(At(({routes:l})=>{let f=r._loadedInjector??e,{parameters:g,consumedSegments:_,remainingSegments:I}=u,S=new ys(_,g,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,WD(r),zt(r),r.component??r._loadedComponent??null,r,KD(r)),P=ll(S,o,this.paramsInheritanceStrategy);S.params=Object.freeze(P.params),S.data=Object.freeze(P.data);let{segmentGroup:N,slicedSegments:F}=GD(n,_,I,l);if(F.length===0&&N.hasChildren())return this.processChildren(f,l,N,S).pipe(te(Q=>new wt(S,Q)));if(l.length===0&&F.length===0)return H(new wt(S,[]));let G=zt(r)===s;return this.processSegment(f,l,N,F,G?K:s,!0,S).pipe(te(Q=>new wt(S,Q instanceof wt?[Q]:[])))}))):ps(n)))}getChildConfig(e,n,r){return n.children?H({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?H({routes:n._loadedRoutes,injector:n._loadedInjector}):VO(e,n,r,this.urlSerializer).pipe(Me(i=>i?this.configLoader.loadChildren(e,n).pipe(Le(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):BO(n))):H({routes:[],injector:e})}};function ZO(t){t.sort((e,n)=>e.value.outlet===K?-1:n.value.outlet===K?1:e.value.outlet.localeCompare(n.value.outlet))}function JO(t){let e=t.value.routeConfig;return e&&e.path===""}function IC(t){let e=[],n=new Set;for(let r of t){if(!JO(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=IC(r.children);e.push(new wt(r.value,i))}return e.filter(r=>!n.has(r))}function WD(t){return t.data||{}}function KD(t){return t.resolve||{}}function XO(t,e,n,r,i,s){return Me(o=>QO(t,e,n,r,o.extractedUrl,i,s).pipe(te(({state:c,tree:u})=>re(k({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function ek(t,e){return Me(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return H(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of wC(u))o.add(l);let c=0;return be(o).pipe(Ur(u=>s.has(u)?tk(u,r,t,e):(u.data=ll(u,u.parent,t).resolve,H(void 0))),Le(()=>c++),$i(1),Me(u=>c===o.size?H(n):yt))})}function wC(t){let e=t.children.map(n=>wC(n)).flat();return[t,...e]}function tk(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!fC(i)&&(s[fa]=i.title),nk(s,t,e,r).pipe(te(o=>(t._resolvedData=o,t.data=ll(t,t.parent,n).resolve,null)))}function nk(t,e,n,r){let i=Zp(t);if(i.length===0)return H({});let s={};return be(i).pipe(Me(o=>rk(t[o],e,n,r).pipe(Kt(),Le(c=>{if(c instanceof ua)throw hl(new Is,c);s[o]=c}))),$i(1),Nh(s),nr(o=>yC(o)?yt:Ui(o)))}function rk(t,e,n,r){let i=ga(e)??r,s=Cs(t,i),o=s.resolve?s.resolve(e,n):rn(i,()=>s(e,n));return vr(o)}function Qp(t){return At(e=>{let n=t(e);return n?be(n).pipe(te(()=>e)):H(e)})}var EC=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===K);return i}getResolvedTitleForRoute(r){return r.data[fa]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>x(ik),providedIn:"root"});let t=e;return t})(),ik=(()=>{let e=class e extends EC{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(q(jD))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),va=new L("",{providedIn:"root",factory:()=>({})}),sk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Pt({type:e,selectors:[["ng-component"]],standalone:!0,features:[uD],decls:1,vars:0,template:function(i,s){i&1&&Ft(0,"router-outlet")},dependencies:[fO],encapsulation:2});let t=e;return t})();function Dg(t){let e=t.children&&t.children.map(Dg),n=e?re(k({},t),{children:e}):k({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==K&&(n.component=sk),n}var ha=new L(""),Cg=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=x(Wu)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return H(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=vr(r.loadComponent()).pipe(te(DC),Le(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),So(()=>{this.componentLoaders.delete(r)})),s=new ki(i,()=>new Be).pipe(Oi());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return H({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=ok(i,this.compiler,r,this.onLoadEndListener).pipe(So(()=>{this.childrenLoaders.delete(i)})),c=new ki(o,()=>new Be).pipe(Oi());return this.childrenLoaders.set(i,c),c}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ok(t,e,n,r){return vr(t.loadChildren()).pipe(te(DC),Me(i=>i instanceof ko||Array.isArray(i)?H(i):be(e.compileModuleAsync(i))),te(i=>{r&&r(t);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(n).injector,o=s.get(ha,[],{optional:!0,self:!0}).flat()),{routes:o.map(Dg),injector:s}}))}function ak(t){return t&&typeof t=="object"&&"default"in t}function DC(t){return ak(t)?t.default:t}var bg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>x(ck),providedIn:"root"});let t=e;return t})(),ck=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),CC=new L(""),bC=new L("");function uk(t,e,n){let r=t.get(bC),i=t.get(lt);return t.get(ye).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),c=i.startViewTransition(()=>(s(),lk(t))),{onViewTransitionCreated:u}=r;return u&&rn(t,()=>u({transition:c,from:e,to:n})),o})}function lk(t){return new Promise(e=>{Tp({read:()=>setTimeout(e)},{injector:t})})}var dk=new L(""),Tg=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Be,this.transitionAbortSubject=new Be,this.configLoader=x(Cg),this.environmentInjector=x(_t),this.urlSerializer=x(pa),this.rootContexts=x(ma),this.location=x(fs),this.inputBindingEnabled=x(gl,{optional:!0})!==null,this.titleStrategy=x(EC),this.options=x(va,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=x(bg),this.createViewTransition=x(CC,{optional:!0}),this.navigationErrorHandler=x(dk,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>H(void 0),this.rootComponentType=null;let r=s=>this.events.next(new sg(s)),i=s=>this.events.next(new og(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(re(k(k({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Ke({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ra,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Tt(o=>o.id!==0),te(o=>re(k({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),At(o=>{let c=!1,u=!1;return H(o).pipe(At(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Et.SupersededByNewNavigation),yt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?re(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!f&&g!=="reload"){let _="";return this.events.next(new mr(l.id,this.urlSerializer.serialize(l.rawUrl),_,sl.IgnoredSameUrlNavigation)),l.resolve(!1),yt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return H(l).pipe(At(_=>{let I=this.transitions?.getValue();return this.events.next(new ws(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),I!==this.transitions?.getValue()?yt:Promise.resolve(_)}),XO(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Le(_=>{o.targetSnapshot=_.targetSnapshot,o.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation=re(k({},this.currentNavigation),{finalUrl:_.urlAfterRedirects});let I=new ol(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(I)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:_,extractedUrl:I,source:S,restoredState:P,extras:N}=l,F=new ws(_,this.urlSerializer.serialize(I),S,P);this.events.next(F);let G=dC(this.rootComponentType).snapshot;return this.currentTransition=o=re(k({},l),{targetSnapshot:G,urlAfterRedirects:I,extras:re(k({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=I,H(o)}else{let _="";return this.events.next(new mr(l.id,this.urlSerializer.serialize(l.extractedUrl),_,sl.IgnoredByUrlHandlingStrategy)),l.resolve(!1),yt}}),Le(l=>{let f=new tg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),te(l=>(this.currentTransition=o=re(k({},l),{guards:_O(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),MO(this.environmentInjector,l=>this.events.next(l)),Le(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw hl(this.urlSerializer,l.guardsResult);let f=new ng(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),Tt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Et.GuardRejected),!1)),Qp(l=>{if(l.guards.canActivateChecks.length)return H(l).pipe(Le(f=>{let g=new rg(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}),At(f=>{let g=!1;return H(f).pipe(ek(this.paramsInheritanceStrategy,this.environmentInjector),Le({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(f,"",Et.NoDataFromResolver)}}))}),Le(f=>{let g=new ig(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}))}),Qp(l=>{let f=g=>{let _=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(g.routeConfig).pipe(Le(I=>{g.component=I}),te(()=>{})));for(let I of g.children)_.push(...f(I));return _};return Ao(f(l.targetSnapshot.root)).pipe(rr(null),En(1))}),Qp(()=>this.afterPreactivation()),At(()=>{let{currentSnapshot:l,targetSnapshot:f}=o,g=this.createViewTransition?.(this.environmentInjector,l.root,f.root);return g?be(g).pipe(te(()=>o)):H(o)}),te(l=>{let f=pO(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=re(k({},l),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,o}),Le(()=>{this.events.next(new aa)}),vO(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),En(1),Le({next:l=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new an(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{c=!0}}),kh(this.transitionAbortSubject.pipe(Le(l=>{throw l}))),So(()=>{!c&&!u&&this.cancelNavigationTransition(o,"",Et.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),nr(l=>{if(u=!0,mC(l))this.events.next(new Pn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),yO(l)?this.events.next(new Es(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let f=new oa(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let g=rn(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(g instanceof ua){let{message:_,cancellationCode:I}=hl(this.urlSerializer,g);this.events.next(new Pn(o.id,this.urlSerializer.serialize(o.extractedUrl),_,I)),this.events.next(new Es(g.redirectTo,g.navigationBehaviorOptions))}else{this.events.next(f);let _=r.errorHandler(l);o.resolve(!!_)}}catch(g){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(g)}}return yt}))}))}cancelNavigationTransition(r,i,s){let o=new Pn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hk(t){return t!==ra}var fk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>x(pk),providedIn:"root"});let t=e;return t})(),wg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},pk=(()=>{let e=class e extends wg{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ls(e)))(s||e)}})(),e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),TC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>x(gk),providedIn:"root"});let t=e;return t})(),gk=(()=>{let e=class e extends TC{constructor(){super(...arguments),this.location=x(fs),this.urlSerializer=x(pa),this.options=x(va,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=x(bg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new On,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=dC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ws)this.stateMemento=this.createStateMemento();else if(r instanceof mr)this.rawUrlTree=i.initialUrl;else if(r instanceof ol){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof aa?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof Pn&&(r.code===Et.GuardRejected||r.code===Et.NoDataFromResolver)?this.restoreHistory(i):r instanceof oa?this.restoreHistory(i,!0):r instanceof an&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof On?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,c=k(k({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",c)}else{let o=k(k({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ls(e)))(s||e)}})(),e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ta=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ta||{});function AC(t,e){t.events.pipe(Tt(n=>n instanceof an||n instanceof Pn||n instanceof oa||n instanceof mr),te(n=>n instanceof an||n instanceof mr?ta.COMPLETE:(n instanceof Pn?n.code===Et.Redirect||n.code===Et.SupersededByNewNavigation:!1)?ta.REDIRECTING:ta.FAILED),Tt(n=>n!==ta.REDIRECTING),En(1)).subscribe(()=>{e()})}function mk(t){throw t}var yk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},kn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=x(qu),this.stateManager=x(TC),this.options=x(va,{optional:!0})||{},this.pendingTasks=x(ds),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=x(Tg),this.urlSerializer=x(pa),this.location=x(fs),this.urlHandlingStrategy=x(bg),this._events=new Be,this.errorHandler=this.options.errorHandler||mk,this.navigated=!1,this.routeReuseStrategy=x(fk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=x(ha,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!x(gl,{optional:!0}),this.eventsSubscription=new Ae,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Pn&&i.code!==Et.Redirect&&i.code!==Et.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof an)this.navigated=!0;else if(i instanceof Es){let c=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l=k({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||hk(s.source)},c);this.scheduleNavigation(u,ra,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Ik(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ra,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},c=s?.navigationId?s:null;if(s){let l=k({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Dg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:c,queryParamsHandling:u,preserveFragment:l}=i,f=l?this.currentUrlTree.fragment:c,g=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":g=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=o||null}g!==null&&(g=this.removeEmptyProps(g));let _;try{let I=s?s.snapshot:this.routerState.snapshot.root;_=aC(I)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),_=this.currentUrlTree.root}return cC(_,r,g,f??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=ii(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,ra,null,i)}navigate(r,i={skipLocationChange:!1}){return _k(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=k({},yk):i===!1?s=k({},vk):s=i,ii(r))return BD(this.currentUrlTree,r,s);let o=this.parseUrl(r);return BD(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,c){if(this.disposed)return Promise.resolve(!1);let u,l,f;c?(u=c.resolve,l=c.reject,f=c.promise):f=new Promise((_,I)=>{u=_,l=I});let g=this.pendingTasks.add();return AC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(_=>Promise.reject(_))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _k(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new V(4008,!1)}function Ik(t){return!(t instanceof aa)&&!(t instanceof Es)}var SC=(()=>{let e=class e{constructor(r,i,s,o,c,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=c,this.locationStrategy=u,this.href=null,this.onChanges=new Be,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(f=>{f instanceof an&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ii(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,c){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||c||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:_E(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:ii(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(he(kn),he(yr),ip("tabindex"),he(Zr),he(fr),he(xn))},e.\u0275dir=tt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&fe("click",function(c){return s.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),i&2&&zo("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",gr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",gr],replaceUrl:[2,"replaceUrl","replaceUrl",gr],routerLink:"routerLink"},standalone:!0,features:[Cp,dr]});let t=e;return t})();var pl=class{};var wk=(()=>{let e=class e{constructor(r,i,s,o,c){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Tt(r=>r instanceof an),Ur(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=$u(o.providers,r,`Route: ${o.path}`));let c=o._injector??r,u=o._loadedInjector??c;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(c,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return be(s).pipe(ji())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=H(null);let o=s.pipe(Me(c=>c===null?H(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??r,c.routes))));if(i.loadComponent&&!i._loadedComponent){let c=this.loader.loadComponent(i);return be([o,c]).pipe(ji())}else return o})}};e.\u0275fac=function(i){return new(i||e)(q(kn),q(Wu),q(_t),q(pl),q(Cg))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),RC=new L(""),Ek=(()=>{let e=class e{constructor(r,i,s,o,c={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration||="disabled",c.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof ws?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof an?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof mr&&r.code===sl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof al&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new al(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){NE()},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})();function H4(t,...e){return nn([{provide:ha,multi:!0,useValue:t},[],{provide:yr,useFactory:MC,deps:[kn]},{provide:Gu,multi:!0,useFactory:NC},e.map(n=>n.\u0275providers)])}function MC(t){return t.routerState.root}function _a(t,e){return{\u0275kind:t,\u0275providers:e}}function NC(){let t=x(Qe);return e=>{let n=t.get(ei);if(e!==n.components[0])return;let r=t.get(kn),i=t.get(xC);t.get(Ag)===1&&r.initialNavigation(),t.get(PC,null,Y.Optional)?.setUpPreloading(),t.get(RC,null,Y.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var xC=new L("",{factory:()=>new Be}),Ag=new L("",{providedIn:"root",factory:()=>1});function Dk(){return _a(2,[{provide:Ag,useValue:0},{provide:zu,multi:!0,deps:[Qe],useFactory:e=>{let n=e.get(TD,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(kn),s=e.get(xC);AC(i,()=>{r(!0)}),e.get(Tg).afterPreactivation=()=>(r(!0),s.closed?H(void 0):s),i.initialNavigation()}))}}])}function Ck(){return _a(3,[{provide:zu,multi:!0,useFactory:()=>{let e=x(kn);return()=>{e.setUpLocationChangeListener()}}},{provide:Ag,useValue:2}])}var PC=new L("");function bk(t){return _a(0,[{provide:PC,useExisting:wk},{provide:pl,useExisting:t}])}function Tk(){return _a(8,[zD,{provide:gl,useExisting:zD}])}function Ak(t){let e=[{provide:CC,useValue:uk},{provide:bC,useValue:k({skipNextTransition:!!t?.skipInitialTransition},t)}];return _a(9,e)}var QD=new L("ROUTER_FORROOT_GUARD"),Sk=[fs,{provide:pa,useClass:Is},kn,ma,{provide:yr,useFactory:MC,deps:[kn]},Cg,[]],Sg=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[Sk,[],{provide:ha,multi:!0,useValue:r},{provide:QD,useFactory:xk,deps:[[kn,new et,new Hf]]},{provide:va,useValue:i||{}},i?.useHash?Mk():Nk(),Rk(),i?.preloadingStrategy?bk(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Pk(i):[],i?.bindToComponentInputs?Tk().\u0275providers:[],i?.enableViewTransitions?Ak().\u0275providers:[],Ok()]}}static forChild(r){return{ngModule:e,providers:[{provide:ha,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(q(QD,8))},e.\u0275mod=Ot({type:e}),e.\u0275inj=xt({});let t=e;return t})();function Rk(){return{provide:RC,useFactory:()=>{let t=x(ND),e=x(ye),n=x(va),r=x(Tg),i=x(pa);return n.scrollOffset&&t.setOffset(n.scrollOffset),new Ek(i,r,t,e,n)}}}function Mk(){return{provide:xn,useClass:SD}}function Nk(){return{provide:xn,useClass:Fp}}function xk(t){return"guarded"}function Pk(t){return[t.initialNavigation==="disabled"?Ck().\u0275providers:[],t.initialNavigation==="enabledBlocking"?Dk().\u0275providers:[]]}var YD=new L("");function Ok(){return[{provide:YD,useFactory:NC},{provide:Gu,multi:!0,useExisting:YD}]}var kC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Fk=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},FC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=s>>2,g=(s&3)<<4|c>>4,_=(c&15)<<2|l>>6,I=l&63;u||(I=64,o||(_=64)),r.push(n[f],n[g],n[_],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Fk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||l==null||g==null)throw new Mg;let _=s<<2|c>>4;if(r.push(_),l!==64){let I=c<<4&240|l>>2;if(r.push(I),g!==64){let S=l<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Mg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Lk=function(t){let e=kC(t);return FC.encodeByteArray(e,!0)},Ia=function(t){return Lk(t).replace(/\./g,"")},xg=function(t){try{return FC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Vk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Uk=()=>Vk().__FIREBASE_DEFAULTS__,jk=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Bk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&xg(t[1]);return e&&JSON.parse(e)},vl=()=>{try{return Uk()||jk()||Bk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Pg=t=>{var e,n;return(n=(e=vl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},LC=t=>{let e=Pg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Og=()=>{var t;return(t=vl())===null||t===void 0?void 0:t.config},kg=t=>{var e;return(e=vl())===null||e===void 0?void 0:e[`_${t}`]};var yl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function VC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ia(JSON.stringify(n)),Ia(JSON.stringify(o)),""].join(".")}function He(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function $k(){var t;let e=(t=vl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function BC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $C(){let t=He();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function HC(){return!$k()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fg(){try{return typeof indexedDB=="object"}catch{return!1}}function qC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var Hk="FirebaseError",Dt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Hk,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fn.prototype.create)}},Fn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?qk(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Dt(i,c,r)}};function qk(t,e){return t.replace(zk,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var zk=/\{\$([^}]+)}/g;function zC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function si(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(OC(s)&&OC(o)){if(!si(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function OC(t){return t!==null&&typeof t=="object"}function wa(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bs(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ts(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function GC(t,e){let n=new Ng(t,e);return n.subscribe.bind(n)}var Ng=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Gk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Rg),i.error===void 0&&(i.error=Rg),i.complete===void 0&&(i.complete=Rg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Gk(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rg(){}var z4=4*60*60*1e3;function dt(t){return t&&t._delegate?t._delegate:t}var Ut=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var oi="[DEFAULT]";var Lg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new yl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Kk(e))try{this.getOrInitializeService({instanceIdentifier:oi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=oi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=oi){return this.instances.has(e)}getOptions(e=oi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Wk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=oi){return this.component?this.component.multipleInstances?e:oi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Wk(t){return t===oi?void 0:t}function Kk(t){return t.instantiationMode==="EAGER"}var _l=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Lg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Qk=[],oe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(oe||{}),Yk={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},Zk=oe.INFO,Jk={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},Xk=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Jk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},_r=class{constructor(e){this.name=e,this._logLevel=Zk,this._logHandler=Xk,this._userLogHandler=null,Qk.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Yk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}};var e1=(t,e)=>e.some(n=>t instanceof n),WC,KC;function t1(){return WC||(WC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n1(){return KC||(KC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var QC=new WeakMap,Ug=new WeakMap,YC=new WeakMap,Vg=new WeakMap,Bg=new WeakMap;function r1(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(cn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&QC.set(n,t)}).catch(()=>{}),Bg.set(e,t),e}function i1(t){if(Ug.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ug.set(t,e)}var jg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ug.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZC(t){jg=t(jg)}function s1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Il(this),e,...n);return YC.set(r,e.sort?e.sort():[e]),cn(r)}:n1().includes(t)?function(...e){return t.apply(Il(this),e),cn(QC.get(this))}:function(...e){return cn(t.apply(Il(this),e))}}function o1(t){return typeof t=="function"?s1(t):(t instanceof IDBTransaction&&i1(t),e1(t,t1())?new Proxy(t,jg):t)}function cn(t){if(t instanceof IDBRequest)return r1(t);if(Vg.has(t))return Vg.get(t);let e=o1(t);return e!==t&&(Vg.set(t,e),Bg.set(e,t)),e}var Il=t=>Bg.get(t);function XC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=cn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(cn(o.result),u.oldVersion,u.newVersion,cn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var a1=["get","getKey","getAll","getAllKeys","count"],c1=["put","add","delete","clear"],$g=new Map;function JC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($g.get(e))return $g.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=c1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||a1.includes(n)))return;let s=function(o,...c){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return $g.set(e,s),s}ZC(t=>re(k({},t),{get:(e,n,r)=>JC(e,n)||t.get(e,n,r),has:(e,n)=>!!JC(e,n)||t.has(e,n)}));var qg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(u1(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function u1(t){let e=t.getComponent();return e?.type==="VERSION"}var zg="@firebase/app",eb="0.10.10";var Ln=new _r("@firebase/app"),l1="@firebase/app-compat",d1="@firebase/analytics-compat",h1="@firebase/analytics",f1="@firebase/app-check-compat",p1="@firebase/app-check",g1="@firebase/auth",m1="@firebase/auth-compat",y1="@firebase/database",v1="@firebase/database-compat",_1="@firebase/functions",I1="@firebase/functions-compat",w1="@firebase/installations",E1="@firebase/installations-compat",D1="@firebase/messaging",C1="@firebase/messaging-compat",b1="@firebase/performance",T1="@firebase/performance-compat",A1="@firebase/remote-config",S1="@firebase/remote-config-compat",R1="@firebase/storage",M1="@firebase/storage-compat",N1="@firebase/firestore",x1="@firebase/vertexai-preview",P1="@firebase/firestore-compat",O1="firebase",k1="10.13.1";var Gg="[DEFAULT]",F1={[zg]:"fire-core",[l1]:"fire-core-compat",[h1]:"fire-analytics",[d1]:"fire-analytics-compat",[p1]:"fire-app-check",[f1]:"fire-app-check-compat",[g1]:"fire-auth",[m1]:"fire-auth-compat",[y1]:"fire-rtdb",[v1]:"fire-rtdb-compat",[_1]:"fire-fn",[I1]:"fire-fn-compat",[w1]:"fire-iid",[E1]:"fire-iid-compat",[D1]:"fire-fcm",[C1]:"fire-fcm-compat",[b1]:"fire-perf",[T1]:"fire-perf-compat",[A1]:"fire-rc",[S1]:"fire-rc-compat",[R1]:"fire-gcs",[M1]:"fire-gcs-compat",[N1]:"fire-fst",[P1]:"fire-fst-compat",[x1]:"fire-vertex","fire-js":"fire-js",[O1]:"fire-js-all"};var Ea=new Map,L1=new Map,Wg=new Map;function tb(t,e){try{t.container.addComponent(e)}catch(n){Ln.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wr(t){let e=t.name;if(Wg.has(e))return Ln.debug(`There were multiple attempts to register component ${e}.`),!1;Wg.set(e,t);for(let n of Ea.values())tb(n,t);for(let n of L1.values())tb(n,t);return!0}function Ca(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gt(t){return t.settings!==void 0}var V1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ir=new Fn("app","Firebase",V1);var Kg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ut("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}};var Er=k1;function Zg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Gg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ir.create("bad-app-name",{appName:String(i)});if(n||(n=Og()),!n)throw Ir.create("no-options");let s=Ea.get(i);if(s){if(si(n,s.options)&&si(r,s.config))return s;throw Ir.create("duplicate-app",{appName:i})}let o=new _l(i);for(let u of Wg.values())o.addComponent(u);let c=new Kg(n,r,o);return Ea.set(i,c),c}function As(t=Gg){let e=Ea.get(t);if(!e&&t===Gg&&Og())return Zg();if(!e)throw Ir.create("no-app",{appName:t});return e}function wl(){return Array.from(Ea.values())}function Ue(t,e,n){var r;let i=(r=F1[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ln.warn(c.join(" "));return}wr(new Ut(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var U1="firebase-heartbeat-database",j1=1,Da="firebase-heartbeat-store",Hg=null;function sb(){return Hg||(Hg=XC(U1,j1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Da)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ir.create("idb-open",{originalErrorMessage:t.message})})),Hg}function B1(t){return w(this,null,function*(){try{let n=(yield sb()).transaction(Da),r=yield n.objectStore(Da).get(ob(t));return yield n.done,r}catch(e){if(e instanceof Dt)Ln.warn(e.message);else{let n=Ir.create("idb-get",{originalErrorMessage:e?.message});Ln.warn(n.message)}}})}function nb(t,e){return w(this,null,function*(){try{let r=(yield sb()).transaction(Da,"readwrite");yield r.objectStore(Da).put(e,ob(t)),yield r.done}catch(n){if(n instanceof Dt)Ln.warn(n.message);else{let r=Ir.create("idb-set",{originalErrorMessage:n?.message});Ln.warn(r.message)}}})}function ob(t){return`${t.name}!${t.options.appId}`}var $1=1024,H1=30*24*60*60*1e3,Qg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Yg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=rb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=H1}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ln.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=rb(),{heartbeatsToSend:r,unsentEntries:i}=q1(this._heartbeatsCache.heartbeats),s=Ia(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ln.warn(n),""}})}};function rb(){return new Date().toISOString().substring(0,10)}function q1(t,e=$1){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ib(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ib(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Yg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return Fg()?qC().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield B1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return nb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return nb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function ib(t){return Ia(JSON.stringify({version:2,heartbeats:t})).length}function z1(t){wr(new Ut("platform-logger",e=>new qg(e),"PRIVATE")),wr(new Ut("heartbeat",e=>new Qg(e),"PRIVATE")),Ue(zg,eb,t),Ue(zg,eb,"esm2017"),Ue("fire-js","")}z1("");var G1="firebase",W1="10.13.1";Ue(G1,W1,"app");var ci=new bn("ANGULARFIRE2_VERSION");function Dl(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ba=(t,e)=>{let n=e?[e]:wl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Rs=class{constructor(){return ba(K1)}},K1="app-check";function Ss(){}var El=class{zone;delegate;constructor(e,n=Ah){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Jg=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ss,{},Ss,Ss)),n.pipe(Le({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ms=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new El(Zone.current)),this.insideAngular=n.run(()=>new El(Zone.current,Th)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(q(ye))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Cl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Q1(t){return Cl().ngZone.runOutsideAngular(()=>t())}function ai(t){return Cl().ngZone.run(()=>t())}function Y1(t){return Z1(Cl())(t)}function Z1(t){return function(n){return n=n.lift(new Jg(t.ngZone)),n.pipe(tr(t.outsideAngular),er(t.insideAngular))}}var J1=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ai(()=>t.apply(void 0,r))},Wt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=ai(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ss,{},Ss,Ss))),r[s]=J1(r[s],n));let i=Q1(()=>t.apply(this,r));if(!e)if(i instanceof ue){let s=Cl();return i.pipe(tr(s.outsideAngular),er(s.insideAngular))}else return ai(()=>i);return i instanceof ue?i.pipe(Y1):i instanceof Promise?ai(()=>new Promise((s,o)=>i.then(c=>ai(()=>s(c)),c=>ai(()=>o(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ai(()=>i)};var Vn=class{constructor(e){return e}},ui=class{constructor(){return wl()}};function X1(t){return t&&t.length===1?t[0]:new Vn(As())}var Xg=new L("angularfire2._apps"),eF={provide:Vn,useFactory:X1,deps:[[new et,Xg]]},tF={provide:ui,deps:[[new et,Xg]]};function nF(t){return(e,n)=>{let r=n.get(sn);Ue("angularfire",ci.full,"core"),Ue("angularfire",ci.full,"app"),Ue("angular",dD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Vn(i)}}function N3(t,...e){return nn([eF,tF,{provide:Xg,useFactory:nF(t),multi:!0,deps:[ye,Qe,Ms,...e]}])}var x3=Wt(Zg,!0);function Db(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Cb=Db,bb=new Fn("auth","Firebase",Db());var Ml=new _r("@firebase/auth");function rF(t,...e){Ml.logLevel<=oe.WARN&&Ml.warn(`Auth (${Er}): ${t}`,...e)}function Tl(t,...e){Ml.logLevel<=oe.ERROR&&Ml.error(`Auth (${Er}): ${t}`,...e)}function ln(t,...e){throw Em(t,...e)}function li(t,...e){return Em(t,...e)}function Tb(t,e,n){let r=Object.assign(Object.assign({},Cb()),{[e]:n});return new Fn("auth","Firebase",r).create(e,{appName:t.name})}function Bn(t){return Tb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Em(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bb.create(t,...e)}function $(t,e,...n){if(!t)throw Em(e,...n)}function Un(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Tl(e),new Error(e)}function Cr(t,e){t||Un(e)}function rm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function iF(){return ab()==="http:"||ab()==="https:"}function ab(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function sF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iF()||jC()||"connection"in navigator)?navigator.onLine:!0}function oF(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var di=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Cr(n>e,"Short delay should be less than long delay!"),this.isMobile=UC()||BC()}get(){return sF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Dm(t,e){Cr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Nl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var aF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var cF=new di(3e4,6e4);function br(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function $n(s,o,c,u){return w(this,arguments,function*(t,e,n,r,i={}){return Ab(t,i,()=>w(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let g=wa(Object.assign({key:t.config.apiKey},f)).slice(1),_=yield t._getAdditionalHeaders();return _["Content-Type"]="application/json",t.languageCode&&(_["X-Firebase-Locale"]=t.languageCode),Nl.fetch()(Sb(t,t.config.apiHost,n,g),Object.assign({method:e,headers:_,referrerPolicy:"no-referrer"},l))}))})}function Ab(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},aF),e);try{let i=new im(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw bl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw bl(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw bl(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw bl(t,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Tb(t,f,l);ln(t,f)}}catch(i){if(i instanceof Dt)throw i;ln(t,"network-request-failed",{message:String(i)})}})}function xa(s,o,c,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield $n(t,e,n,r,i);return"mfaPendingCredential"in l&&ln(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function Sb(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Dm(t.config,i):`${t.config.apiScheme}://${i}`}function uF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var im=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(li(this.auth,"network-request-failed")),cF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function bl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=li(t,e,r);return i.customData._tokenResponse=n,i}function cb(t){return t!==void 0&&t.enterprise!==void 0}var sm=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return uF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function lF(t,e){return w(this,null,function*(){return $n(t,"GET","/v2/recaptchaConfig",br(t,e))})}function dF(t,e){return w(this,null,function*(){return $n(t,"POST","/v1/accounts:delete",e)})}function Rb(t,e){return w(this,null,function*(){return $n(t,"POST","/v1/accounts:lookup",e)})}function Ta(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Cm(t,e=!1){return w(this,null,function*(){let n=dt(t),r=yield n.getIdToken(e),i=bm(r);$(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ta(em(i.auth_time)),issuedAtTime:Ta(em(i.iat)),expirationTime:Ta(em(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function em(t){return Number(t)*1e3}function bm(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Tl("JWT malformed, contained fewer than 3 sections"),null;try{let i=xg(n);return i?JSON.parse(i):(Tl("Failed to decode base64 JWT payload"),null)}catch(i){return Tl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ub(t){let e=bm(t);return $(e,"internal-error"),$(typeof e.exp<"u","internal-error"),$(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ns(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Dt&&hF(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function hF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var om=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Sa=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ta(this.lastLoginAt),this.creationTime=Ta(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function xl(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ns(t,Rb(n,{idToken:r}));$(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Mb(s.providerUserInfo):[],c=fF(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!c?.length,f=u?l:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Sa(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,g)})}function Tm(t){return w(this,null,function*(){let e=dt(t);yield xl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function fF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Mb(t){return t.map(e=>{var{providerId:n}=e,r=Sh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function pF(t,e){return w(this,null,function*(){let n=yield Ab(t,{},()=>w(this,null,function*(){let r=wa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Sb(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Nl.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function gF(t,e){return w(this,null,function*(){return $n(t,"POST","/v2/accounts:revokeToken",br(t,e))})}var Aa=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$(e.idToken,"internal-error"),$(typeof e.idToken<"u","internal-error"),$(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ub(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){$(e.length!==0,"internal-error");let n=ub(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield pF(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&($(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&($(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&($(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Un("not implemented")}};function Dr(t,e){$(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var xs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Sh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new om(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Sa(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield Ns(this,this.stsTokenManager.getToken(this.auth,e));return $(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Cm(this,e)}reload(){return Tm(this)}_assign(e){this!==e&&($(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield xl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(Gt(this.auth.app))return Promise.reject(Bn(this.auth));let e=yield this.getIdToken();return yield Ns(this,dF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,u,l,f;let g=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,I=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,P=(c=n.tenantId)!==null&&c!==void 0?c:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,G=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:Q,emailVerified:me,isAnonymous:Ge,providerData:pe,stsTokenManager:D}=n;$(Q&&D,e,"internal-error");let m=Aa.fromJSON(this.name,D);$(typeof Q=="string",e,"internal-error"),Dr(g,e.name),Dr(_,e.name),$(typeof me=="boolean",e,"internal-error"),$(typeof Ge=="boolean",e,"internal-error"),Dr(I,e.name),Dr(S,e.name),Dr(P,e.name),Dr(N,e.name),Dr(F,e.name),Dr(G,e.name);let y=new t({uid:Q,auth:e,email:_,emailVerified:me,displayName:g,isAnonymous:Ge,photoURL:S,phoneNumber:I,tenantId:P,stsTokenManager:m,createdAt:F,lastLoginAt:G});return pe&&Array.isArray(pe)&&(y.providerData=pe.map(E=>Object.assign({},E))),N&&(y._redirectEventId=N),y}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new Aa;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield xl(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];$(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?Mb(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new Aa;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Sa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var lb=new Map;function jn(t){Cr(t instanceof Function,"Expected a class definition");let e=lb.get(t);return e?(Cr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lb.set(t,e),e)}var mF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),am=mF;function Al(t,e,n){return`firebase:${t}:${e}:${n}`}var Pl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Al(this.userKey,i.apiKey,s),this.fullPersistenceKey=Al("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?xs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(jn(am),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||jn(am),o=Al(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=yield l._get(o);if(f){let g=xs._fromJSON(e,f);l!==s&&(c=g),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function db(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ob(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Nb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Fb(e))return"Blackberry";if(Lb(e))return"Webos";if(xb(e))return"Safari";if((e.includes("chrome/")||Pb(e))&&!e.includes("edge/"))return"Chrome";if(kb(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Nb(t=He()){return/firefox\//i.test(t)}function xb(t=He()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Pb(t=He()){return/crios\//i.test(t)}function Ob(t=He()){return/iemobile/i.test(t)}function kb(t=He()){return/android/i.test(t)}function Fb(t=He()){return/blackberry/i.test(t)}function Lb(t=He()){return/webos/i.test(t)}function Am(t=He()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yF(t=He()){var e;return Am(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function vF(){return $C()&&document.documentMode===10}function Vb(t=He()){return Am(t)||kb(t)||Lb(t)||Fb(t)||/windows phone/i.test(t)||Ob(t)}function Ub(t,e=[]){let n;switch(t){case"Browser":n=db(He());break;case"Worker":n=`${db(He())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Er}/${r}`}var cm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function _F(n){return w(this,arguments,function*(t,e={}){return $n(t,"GET","/v2/passwordPolicy",br(t,e))})}var IF=6,um=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:IF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var lm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ol(this),this.idTokenSubscription=new Ol(this),this.beforeStateQueue=new cm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=jn(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Pl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield Rb(this,{idToken:e}),r=yield xs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(Gt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield xl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=oF()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(Gt(this.app))return Promise.reject(Bn(this));let n=e?dt(e):null;return n&&$(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&$(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return Gt(this.app)?Promise.reject(Bn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Gt(this.app)?Promise.reject(Bn(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(jn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield _F(this),n=new um(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield gF(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&jn(e)||this._popupRedirectResolver;$(n,this,"argument-error"),this.redirectPersistenceManager=yield Pl.create(this,[jn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if($(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ub(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&rF(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function fi(t){return dt(t)}var Ol=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=GC(n=>this.observer=n)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Bl={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wF(t){Bl=t}function jb(t){return Bl.loadJS(t)}function EF(){return Bl.recaptchaEnterpriseScript}function DF(){return Bl.gapiScript}function Bb(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var CF="recaptcha-enterprise",bF="NO_RECAPTCHA",dm=class{constructor(e){this.type=CF,this.auth=fi(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(s){return w(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,c)=>w(this,null,function*(){lF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let l=new sm(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{c(u)})}))})}function i(s,o,c){let u=window.grecaptcha;cb(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(bF)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(c=>{if(!n&&cb(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=EF();u.length!==0&&(u+=c),jb(u).then(()=>{i(c,s,o)}).catch(l=>{o(l)})}}).catch(c=>{o(c)})})})}};function hb(t,e,n,r=!1){return w(this,null,function*(){let i=new dm(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function hm(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield hb(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>w(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield hb(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function Sm(t,e){let n=Ca(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(si(s,e??{}))return i;ln(i,"already-initialized")}return n.initialize({options:e})}function TF(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(jn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Rm(t,e,n){let r=fi(t);$(r._canInitEmulator,r,"emulator-config-failed"),$(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=$b(e),{host:o,port:c}=AF(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||SF()}function $b(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function AF(t){let e=$b(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:fb(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:fb(o)}}}function fb(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function SF(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ra=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Un("not implemented")}_getIdTokenResponse(e){return Un("not implemented")}_linkToIdToken(e,n){return Un("not implemented")}_getReauthenticationResolver(e){return Un("not implemented")}};function RF(t,e){return w(this,null,function*(){return $n(t,"POST","/v1/accounts:signUp",e)})}function MF(t,e){return w(this,null,function*(){return xa(t,"POST","/v1/accounts:signInWithPassword",br(t,e))})}function NF(t,e){return w(this,null,function*(){return xa(t,"POST","/v1/accounts:signInWithEmailLink",br(t,e))})}function xF(t,e){return w(this,null,function*(){return xa(t,"POST","/v1/accounts:signInWithEmailLink",br(t,e))})}var Ma=class t extends Ra{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hm(e,n,"signInWithPassword",MF);case"emailLink":return NF(e,{email:this._email,oobCode:this._password});default:ln(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hm(e,r,"signUpPassword",RF);case"emailLink":return xF(e,{idToken:n,email:this._email,oobCode:this._password});default:ln(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function tm(t,e){return w(this,null,function*(){return xa(t,"POST","/v1/accounts:signInWithIdp",br(t,e))})}function PF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OF(t){let e=bs(Ts(t)).link,n=e?bs(Ts(e)).deep_link_id:null,r=bs(Ts(t)).deep_link_id;return(r?bs(Ts(r)).link:null)||r||n||e||t}var kl=class t{constructor(e){var n,r,i,s,o,c;let u=bs(Ts(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,g=PF((i=u.mode)!==null&&i!==void 0?i:null);$(l&&f&&g,"argument-error"),this.apiKey=l,this.operation=g,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let n=OF(e);try{return new t(n)}catch{return null}}};var Hb=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Ma._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=kl.parseLink(r);return $(i,"argument-error"),Ma._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Fl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var fm=class extends Fl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function kF(t,e){return w(this,null,function*(){return xa(t,"POST","/v1/accounts:signUp",br(t,e))})}var Ps=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield xs._fromIdTokenResponse(e,r,i),o=pb(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=pb(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function pb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var pm=class t extends Dt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function qb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?pm._fromErrorAndOperation(t,s,e,r):s})}function FF(t,e,n=!1){return w(this,null,function*(){let r=yield Ns(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ps._forOperation(t,"link",r)})}function LF(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(Gt(r.app))return Promise.reject(Bn(r));let i="reauthenticate";try{let s=yield Ns(t,qb(r,i,e,t),n);$(s.idToken,r,"internal-error");let o=bm(s.idToken);$(o,r,"internal-error");let{sub:c}=o;return $(t.uid===c,r,"user-mismatch"),Ps._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ln(r,"user-mismatch"),s}})}function zb(t,e,n=!1){return w(this,null,function*(){if(Gt(t.app))return Promise.reject(Bn(t));let r="signIn",i=yield qb(t,r,e),s=yield Ps._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Mm(t,e){return w(this,null,function*(){return zb(fi(t),e)})}function Gb(t){return w(this,null,function*(){let e=fi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Nm(t,e,n){return w(this,null,function*(){if(Gt(t.app))return Promise.reject(Bn(t));let r=fi(t),o=yield hm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kF).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Gb(t),u}),c=yield Ps._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(c.user),c})}function xm(t,e,n){return Gt(t.app)?Promise.reject(Bn(t)):Mm(dt(t),Hb.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&Gb(t),r}))}function VF(t,e){return w(this,null,function*(){return $n(t,"POST","/v1/accounts:update",e)})}function Pm(r,i){return w(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let s=dt(t),c={idToken:yield s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=yield Ns(s,VF(s.auth,c));s.displayName=u.displayName||null,s.photoURL=u.photoUrl||null;let l=s.providerData.find(({providerId:f})=>f==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),yield s._updateTokensIfNecessary(u)})}function Om(t,e,n,r){return dt(t).onIdTokenChanged(e,n,r)}function km(t,e,n){return dt(t).beforeAuthStateChanged(e,n)}var Ll="__sak";var Vl=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ll,"1"),this.storage.removeItem(Ll),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var UF=1e3,jF=10,BF=(()=>{class t extends Vl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Vb(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);vF()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,jF):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},UF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield Jn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield Jn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield Jn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),Wb=BF;var $F=(()=>{class t extends Vl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Fm=$F;function HF(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var qF=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(c).map(f=>w(this,null,function*(){return f(r.origin,o)})),l=yield HF(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Kb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var gm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{let l=Kb("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){let _=g;if(_.data.eventId===l)switch(_.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(_.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function un(){return window}function zF(t){un().location.href=t}function Qb(){return typeof un().WorkerGlobalScope<"u"&&typeof un().importScripts=="function"}function GF(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function WF(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function KF(){return Qb()?self:null}var Yb="firebaseLocalStorageDb",QF=1,Ul="firebaseLocalStorage",Zb="fbase_key",hi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function $l(t,e){return t.transaction([Ul],e?"readwrite":"readonly").objectStore(Ul)}function YF(){let t=indexedDB.deleteDatabase(Yb);return new hi(t).toPromise()}function mm(){let t=indexedDB.open(Yb,QF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Ul,{keyPath:Zb})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Ul)?e(r):(r.close(),yield YF(),e(yield mm()))}))})}function gb(t,e,n){return w(this,null,function*(){let r=$l(t,!0).put({[Zb]:e,value:n});return new hi(r).toPromise()})}function ZF(t,e){return w(this,null,function*(){let n=$l(t,!1).get(e),r=yield new hi(n).toPromise();return r===void 0?null:r.value})}function mb(t,e){let n=$l(t,!0).delete(e);return new hi(n).toPromise()}var JF=800,XF=3,eL=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield mm(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>XF)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return Qb()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=qF._getInstance(KF()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield GF(),!this.activeServiceWorker)return;this.sender=new gm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||WF()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield mm();return yield gb(n,Ll,"1"),yield mb(n,Ll),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>gb(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>ZF(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>mb(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=$l(s,!1).getAll();return new hi(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),JF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),Jb=eL;var j3=Bb("rcb"),B3=new di(3e4,6e4);function tL(t,e){return e?jn(e):($(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Na=class extends Ra{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function nL(t){return zb(t.auth,new Na(t),t.bypassAuthState)}function rL(t){let{auth:e,user:n}=t;return $(n,e,"internal-error"),LF(n,new Na(t),t.bypassAuthState)}function iL(t){return w(this,null,function*(){let{auth:e,user:n}=t;return $(n,e,"internal-error"),FF(n,new Na(t),t.bypassAuthState)})}var ym=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nL;case"linkViaPopup":case"linkViaRedirect":return iL;case"reauthViaPopup":case"reauthViaRedirect":return rL;default:ln(this.auth,"internal-error")}}resolve(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var $3=new di(2e3,1e4);var sL="pendingRedirect",Sl=new Map,vm=class t extends ym{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=Sl.get(this.auth._key());if(!e){try{let r=(yield oL(this.resolver,this.auth))?yield Jn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Sl.set(this.auth._key(),e)}return this.bypassAuthState||Sl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return Jn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Jn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function oL(t,e){return w(this,null,function*(){let n=uL(e),r=cL(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function aL(t,e){Sl.set(t._key(),e)}function cL(t){return jn(t._redirectPersistence)}function uL(t){return Al(sL,t.config.apiKey,t.name)}function lL(t,e,n=!1){return w(this,null,function*(){if(Gt(t.app))return Promise.reject(Bn(t));let r=fi(t),i=tL(r,e),o=yield new vm(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var dL=10*60*1e3,_m=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Xb(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(li(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dL&&this.cachedEventUids.clear(),this.cachedEventUids.has(yb(e))}saveEventToCache(e){this.cachedEventUids.add(yb(e)),this.lastProcessedEventTime=Date.now()}};function yb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Xb({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function hL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xb(t);default:return!1}}function fL(n){return w(this,arguments,function*(t,e={}){return $n(t,"GET","/v1/projects",e)})}var pL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gL=/^https?/;function mL(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield fL(t);for(let n of e)try{if(yL(n))return}catch{}ln(t,"unauthorized-domain")})}function yL(t){let e=rm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!gL.test(n))return!1;if(pL.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var vL=new di(3e4,6e4);function vb(){let t=un().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _L(t){return new Promise((e,n)=>{var r,i,s;function o(){vb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vb(),n(li(t,"network-request-failed"))},timeout:vL.get()})}if(!((i=(r=un().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=un().gapi)===null||s===void 0)&&s.load)o();else{let c=Bb("iframefcb");return un()[c]=()=>{gapi.load?o():n(li(t,"network-request-failed"))},jb(`${DF()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Rl=null,e})}var Rl=null;function IL(t){return Rl=Rl||_L(t),Rl}var wL=new di(5e3,15e3),EL="__/auth/iframe",DL="emulator/auth/iframe",CL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TL(t){let e=t.config;$(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Dm(e,DL):`https://${t.config.authDomain}/${EL}`,r={apiKey:e.apiKey,appName:t.name,v:Er},i=bL.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${wa(r).slice(1)}`}function AL(t){return w(this,null,function*(){let e=yield IL(t),n=un().gapi;return $(n,t,"internal-error"),e.open({where:document.body,url:TL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CL,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=li(t,"network-request-failed"),c=un().setTimeout(()=>{s(o)},wL.get());function u(){un().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var SL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RL=500,ML=600,NL="_blank",xL="http://localhost",jl=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function PL(t,e,n,r=RL,i=ML){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},SL),{width:r.toString(),height:i.toString(),top:s,left:o}),l=He().toLowerCase();n&&(c=Pb(l)?NL:n),Nb(l)&&(e=e||xL,u.scrollbars="yes");let f=Object.entries(u).reduce((_,[I,S])=>`${_}${I}=${S},`,"");if(yF(l)&&c!=="_self")return OL(e||"",c),new jl(null);let g=window.open(e||"",c,f);$(g,t,"popup-blocked");try{g.focus()}catch{}return new jl(g)}function OL(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var kL="__/auth/handler",FL="emulator/auth/handler",LL=encodeURIComponent("fac");function _b(t,e,n,r,i,s){return w(this,null,function*(){$(t.config.authDomain,t,"auth-domain-config-required"),$(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Er,eventId:i};if(e instanceof Fl){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",zC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,g]of Object.entries(s||{}))o[f]=g}if(e instanceof fm){let f=e.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);let c=o;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield t._getAppCheckToken(),l=u?`#${LL}=${encodeURIComponent(u)}`:"";return`${VL(t)}?${wa(c).slice(1)}${l}`})}function VL({config:t}){return t.emulator?Dm(t,FL):`https://${t.authDomain}/${kL}`}var nm="webStorageSupport",Im=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fm,this._completeRedirectFn=lL,this._overrideRedirectResult=aL}_openPopup(e,n,r,i){return w(this,null,function*(){var s;Cr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield _b(e,n,r,rm(),i);return PL(e,o,Kb())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield _b(e,n,r,rm(),i);return zF(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Cr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield AL(e),r=new _m(e);return n.register("authEvent",i=>($(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nm,{type:nm},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[nm];o!==void 0&&n(!!o),ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Vb()||xb()||Am()}},eT=Im;var Ib="@firebase/auth",wb="1.7.8";var wm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function UL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jL(t){wr(new Ut("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;$(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ub(t)},l=new lm(r,i,s,u);return TF(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wr(new Ut("auth-internal",e=>{let n=fi(e.getProvider("auth").getImmediate());return(r=>new wm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ue(Ib,wb,UL(t)),Ue(Ib,wb,"esm2017")}var BL=5*60,$L=kg("authIdTokenMaxAge")||BL,Eb=null,HL=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$L)return;let i=n?.token;Eb!==i&&(Eb=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Lm(t=As()){let e=Ca(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Sm(t,{popupRedirectResolver:eT,persistence:[Jb,Wb,Fm]}),r=kg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=HL(s.toString());km(n,o,()=>o(n.currentUser)),Om(n,c=>o(c))}}let i=Pg("auth");return i&&Rm(n,`http://${i}`),n}function qL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}wF({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=li("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",qL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jL("Browser");var tT="auth",pi=class{constructor(e){return e}},Pa=class{constructor(){return ba(tT)}};var Vm=new L("angularfire2.auth-instances");function OV(t,e){let n=Dl(tT,t,e);return n&&new pi(n)}function kV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new pi(r)}}var FV={provide:Pa,deps:[[new et,Vm]]},LV={provide:pi,useFactory:OV,deps:[[new et,Vm],Vn]};function b9(t,...e){return Ue("angularfire",ci.full,"auth"),nn([LV,FV,{provide:Vm,useFactory:kV(t),multi:!0,deps:[ye,Qe,Ms,ui,[new et,Rs],...e]}])}var T9=Wt(Nm,!0);var A9=Wt(Lm,!0);var S9=Wt(xm,!0);var R9=Wt(Pm,!0);var nT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rT={};var Um,iT;(function(){var t;function e(D,m){function y(){}y.prototype=m.prototype,D.D=m.prototype,D.prototype=new y,D.prototype.constructor=D,D.C=function(E,C,T){for(var v=Array(arguments.length-2),yn=2;yn<arguments.length;yn++)v[yn-2]=arguments[yn];return m.prototype[C].apply(E,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,m,y){y||(y=0);var E=Array(16);if(typeof m=="string")for(var C=0;16>C;++C)E[C]=m.charCodeAt(y++)|m.charCodeAt(y++)<<8|m.charCodeAt(y++)<<16|m.charCodeAt(y++)<<24;else for(C=0;16>C;++C)E[C]=m[y++]|m[y++]<<8|m[y++]<<16|m[y++]<<24;m=D.g[0],y=D.g[1],C=D.g[2];var T=D.g[3],v=m+(T^y&(C^T))+E[0]+3614090360&4294967295;m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+E[1]+3905402710&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+E[2]+606105819&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+E[3]+3250441966&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(T^y&(C^T))+E[4]+4118548399&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+E[5]+1200080426&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+E[6]+2821735955&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+E[7]+4249261313&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(T^y&(C^T))+E[8]+1770035416&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+E[9]+2336552879&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+E[10]+4294925233&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+E[11]+2304563134&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(T^y&(C^T))+E[12]+1804603682&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+E[13]+4254626195&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+E[14]+2792965006&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+E[15]+1236535329&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(C^T&(y^C))+E[1]+4129170786&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+E[6]+3225465664&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+E[11]+643717713&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+E[0]+3921069994&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(C^T&(y^C))+E[5]+3593408605&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+E[10]+38016083&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+E[15]+3634488961&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+E[4]+3889429448&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(C^T&(y^C))+E[9]+568446438&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+E[14]+3275163606&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+E[3]+4107603335&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+E[8]+1163531501&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(C^T&(y^C))+E[13]+2850285829&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+E[2]+4243563512&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+E[7]+1735328473&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+E[12]+2368359562&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(y^C^T)+E[5]+4294588738&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+E[8]+2272392833&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+E[11]+1839030562&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+E[14]+4259657740&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(y^C^T)+E[1]+2763975236&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+E[4]+1272893353&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+E[7]+4139469664&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+E[10]+3200236656&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(y^C^T)+E[13]+681279174&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+E[0]+3936430074&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+E[3]+3572445317&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+E[6]+76029189&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(y^C^T)+E[9]+3654602809&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+E[12]+3873151461&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+E[15]+530742520&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+E[2]+3299628645&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(C^(y|~T))+E[0]+4096336452&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+E[7]+1126891415&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+E[14]+2878612391&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+E[5]+4237533241&4294967295,y=C+(v<<21&4294967295|v>>>11),v=m+(C^(y|~T))+E[12]+1700485571&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+E[3]+2399980690&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+E[10]+4293915773&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+E[1]+2240044497&4294967295,y=C+(v<<21&4294967295|v>>>11),v=m+(C^(y|~T))+E[8]+1873313359&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+E[15]+4264355552&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+E[6]+2734768916&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+E[13]+1309151649&4294967295,y=C+(v<<21&4294967295|v>>>11),v=m+(C^(y|~T))+E[4]+4149444226&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+E[11]+3174756917&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+E[2]+718787259&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+m&4294967295,D.g[1]=D.g[1]+(C+(v<<21&4294967295|v>>>11))&4294967295,D.g[2]=D.g[2]+C&4294967295,D.g[3]=D.g[3]+T&4294967295}r.prototype.u=function(D,m){m===void 0&&(m=D.length);for(var y=m-this.blockSize,E=this.B,C=this.h,T=0;T<m;){if(C==0)for(;T<=y;)i(this,D,T),T+=this.blockSize;if(typeof D=="string"){for(;T<m;)if(E[C++]=D.charCodeAt(T++),C==this.blockSize){i(this,E),C=0;break}}else for(;T<m;)if(E[C++]=D[T++],C==this.blockSize){i(this,E),C=0;break}}this.h=C,this.o+=m},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var m=1;m<D.length-8;++m)D[m]=0;var y=8*this.o;for(m=D.length-8;m<D.length;++m)D[m]=y&255,y/=256;for(this.u(D),D=Array(16),m=y=0;4>m;++m)for(var E=0;32>E;E+=8)D[y++]=this.g[m]>>>E&255;return D};function s(D,m){var y=c;return Object.prototype.hasOwnProperty.call(y,D)?y[D]:y[D]=m(D)}function o(D,m){this.h=m;for(var y=[],E=!0,C=D.length-1;0<=C;C--){var T=D[C]|0;E&&T==m||(y[C]=T,E=!1)}this.g=y}var c={};function u(D){return-128<=D&&128>D?s(D,function(m){return new o([m|0],0>m?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return N(l(-D));for(var m=[],y=1,E=0;D>=y;E++)m[E]=D/y|0,y*=4294967296;return new o(m,0)}function f(D,m){if(D.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(D.charAt(0)=="-")return N(f(D.substring(1),m));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=l(Math.pow(m,8)),E=g,C=0;C<D.length;C+=8){var T=Math.min(8,D.length-C),v=parseInt(D.substring(C,C+T),m);8>T?(T=l(Math.pow(m,T)),E=E.j(T).add(l(v))):(E=E.j(y),E=E.add(l(v)))}return E}var g=u(0),_=u(1),I=u(16777216);t=o.prototype,t.m=function(){if(P(this))return-N(this).m();for(var D=0,m=1,y=0;y<this.g.length;y++){var E=this.i(y);D+=(0<=E?E:4294967296+E)*m,m*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(P(this))return"-"+N(this).toString(D);for(var m=l(Math.pow(D,6)),y=this,E="";;){var C=me(y,m).g;y=F(y,C.j(m));var T=((0<y.g.length?y.g[0]:y.h)>>>0).toString(D);if(y=C,S(y))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var m=0;m<D.g.length;m++)if(D.g[m]!=0)return!1;return!0}function P(D){return D.h==-1}t.l=function(D){return D=F(this,D),P(D)?-1:S(D)?0:1};function N(D){for(var m=D.g.length,y=[],E=0;E<m;E++)y[E]=~D.g[E];return new o(y,~D.h).add(_)}t.abs=function(){return P(this)?N(this):this},t.add=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0,C=0;C<=m;C++){var T=E+(this.i(C)&65535)+(D.i(C)&65535),v=(T>>>16)+(this.i(C)>>>16)+(D.i(C)>>>16);E=v>>>16,T&=65535,v&=65535,y[C]=v<<16|T}return new o(y,y[y.length-1]&-2147483648?-1:0)};function F(D,m){return D.add(N(m))}t.j=function(D){if(S(this)||S(D))return g;if(P(this))return P(D)?N(this).j(N(D)):N(N(this).j(D));if(P(D))return N(this.j(N(D)));if(0>this.l(I)&&0>D.l(I))return l(this.m()*D.m());for(var m=this.g.length+D.g.length,y=[],E=0;E<2*m;E++)y[E]=0;for(E=0;E<this.g.length;E++)for(var C=0;C<D.g.length;C++){var T=this.i(E)>>>16,v=this.i(E)&65535,yn=D.i(C)>>>16,ro=D.i(C)&65535;y[2*E+2*C]+=v*ro,G(y,2*E+2*C),y[2*E+2*C+1]+=T*ro,G(y,2*E+2*C+1),y[2*E+2*C+1]+=v*yn,G(y,2*E+2*C+1),y[2*E+2*C+2]+=T*yn,G(y,2*E+2*C+2)}for(E=0;E<m;E++)y[E]=y[2*E+1]<<16|y[2*E];for(E=m;E<2*m;E++)y[E]=0;return new o(y,0)};function G(D,m){for(;(D[m]&65535)!=D[m];)D[m+1]+=D[m]>>>16,D[m]&=65535,m++}function Q(D,m){this.g=D,this.h=m}function me(D,m){if(S(m))throw Error("division by zero");if(S(D))return new Q(g,g);if(P(D))return m=me(N(D),m),new Q(N(m.g),N(m.h));if(P(m))return m=me(D,N(m)),new Q(N(m.g),m.h);if(30<D.g.length){if(P(D)||P(m))throw Error("slowDivide_ only works with positive integers.");for(var y=_,E=m;0>=E.l(D);)y=Ge(y),E=Ge(E);var C=pe(y,1),T=pe(E,1);for(E=pe(E,2),y=pe(y,2);!S(E);){var v=T.add(E);0>=v.l(D)&&(C=C.add(y),T=v),E=pe(E,1),y=pe(y,1)}return m=F(D,C.j(m)),new Q(C,m)}for(C=g;0<=D.l(m);){for(y=Math.max(1,Math.floor(D.m()/m.m())),E=Math.ceil(Math.log(y)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(y),v=T.j(m);P(v)||0<v.l(D);)y-=E,T=l(y),v=T.j(m);S(T)&&(T=_),C=C.add(T),D=F(D,v)}return new Q(C,D)}t.A=function(D){return me(this,D).h},t.and=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)&D.i(E);return new o(y,this.h&D.h)},t.or=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)|D.i(E);return new o(y,this.h|D.h)},t.xor=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)^D.i(E);return new o(y,this.h^D.h)};function Ge(D){for(var m=D.g.length+1,y=[],E=0;E<m;E++)y[E]=D.i(E)<<1|D.i(E-1)>>>31;return new o(y,D.h)}function pe(D,m){var y=m>>5;m%=32;for(var E=D.g.length-y,C=[],T=0;T<E;T++)C[T]=0<m?D.i(T+y)>>>m|D.i(T+y+1)<<32-m:D.i(T+y);return new o(C,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,iT=rT.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=f,Um=rT.Integer=o}).apply(typeof nT<"u"?nT:typeof self<"u"?self:typeof window<"u"?window:{});var Hl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hn={};var jm,Bm,Os,$m,Oa,ql,Hm,qm,zm;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hl=="object"&&Hl];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var b=a[p];if(!(b in h))break e;h=h[b]}a=a[a.length-1],p=h[a],d=d(p),d!=p&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var h=0,p=!1,b={next:function(){if(!p&&h<a.length){var A=h++;return{value:d(A,a[A]),done:!1}}return p=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,h){return h})}});var o=o||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function g(a,d,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,p),a.apply(d,b)}}return function(){return a.apply(d,arguments)}}function _(a,d,h){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,_.apply(null,arguments)}function I(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function S(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,b,A){for(var O=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)O[_e-2]=arguments[_e];return d.prototype[b].apply(p,O)}}function P(a){let d=a.length;if(0<d){let h=Array(d);for(let p=0;p<d;p++)h[p]=a[p];return h}return[]}function N(a,d){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let b=a.length||0,A=p.length||0;a.length=b+A;for(let O=0;O<A;O++)a[b+O]=p[O]}else a.push(p)}}class F{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function G(a){return/^[\s\xa0]*$/.test(a)}function Q(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function me(a){return me[" "](a),a}me[" "]=function(){};var Ge=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function pe(a,d,h){for(let p in a)d.call(h,a[p],p,a)}function D(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function m(a){let d={};for(let h in a)d[h]=a[h];return d}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,d){let h,p;for(let b=1;b<arguments.length;b++){p=arguments[b];for(h in p)a[h]=p[h];for(let A=0;A<y.length;A++)h=y[A],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function C(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function T(a){c.setTimeout(()=>{throw a},0)}function v(){var a=Vd;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class yn{constructor(){this.h=this.g=null}add(d,h){let p=ro.get();p.set(d,h),this.h?this.h.next=p:this.g=p,this.h=p}}var ro=new F(()=>new W0,a=>a.reset());class W0{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let io,so=!1,Vd=new yn,Nv=()=>{let a=c.Promise.resolve(void 0);io=()=>{a.then(K0)}};var K0=()=>{for(var a;a=v();){try{a.h.call(a.g)}catch(h){T(h)}var d=ro;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}so=!1};function Kn(){this.s=this.s,this.C=this.C}Kn.prototype.s=!1,Kn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Kn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ye(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Ye.prototype.h=function(){this.defaultPrevented=!0};var Q0=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function oo(a,d){if(Ye.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Ge){e:{try{me(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Y0[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&oo.aa.h.call(this)}}S(oo,Ye);var Y0={2:"touch",3:"pen",4:"mouse"};oo.prototype.h=function(){oo.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ao="closure_listenable_"+(1e6*Math.random()|0),Z0=0;function J0(a,d,h,p,b){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!p,this.ha=b,this.key=++Z0,this.da=this.fa=!1}function ec(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function tc(a){this.src=a,this.g={},this.h=0}tc.prototype.add=function(a,d,h,p,b){var A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);var O=jd(a,d,p,b);return-1<O?(d=a[O],h||(d.fa=!1)):(d=new J0(d,this.src,A,!!p,b),d.fa=h,a.push(d)),d};function Ud(a,d){var h=d.type;if(h in a.g){var p=a.g[h],b=Array.prototype.indexOf.call(p,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(p,b,1),A&&(ec(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function jd(a,d,h,p){for(var b=0;b<a.length;++b){var A=a[b];if(!A.da&&A.listener==d&&A.capture==!!h&&A.ha==p)return b}return-1}var Bd="closure_lm_"+(1e6*Math.random()|0),$d={};function xv(a,d,h,p,b){if(p&&p.once)return Ov(a,d,h,p,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)xv(a,d[A],h,p,b);return null}return h=Gd(h),a&&a[ao]?a.K(d,h,l(p)?!!p.capture:!!p,b):Pv(a,d,h,!1,p,b)}function Pv(a,d,h,p,b,A){if(!d)throw Error("Invalid event type");var O=l(b)?!!b.capture:!!b,_e=qd(a);if(_e||(a[Bd]=_e=new tc(a)),h=_e.add(d,h,p,O,A),h.proxy)return h;if(p=X0(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)Q0||(b=O),b===void 0&&(b=!1),a.addEventListener(d.toString(),p,b);else if(a.attachEvent)a.attachEvent(Fv(d.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function X0(){function a(h){return d.call(a.src,a.listener,h)}let d=eA;return a}function Ov(a,d,h,p,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)Ov(a,d[A],h,p,b);return null}return h=Gd(h),a&&a[ao]?a.L(d,h,l(p)?!!p.capture:!!p,b):Pv(a,d,h,!0,p,b)}function kv(a,d,h,p,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)kv(a,d[A],h,p,b);else p=l(p)?!!p.capture:!!p,h=Gd(h),a&&a[ao]?(a=a.i,d=String(d).toString(),d in a.g&&(A=a.g[d],h=jd(A,h,p,b),-1<h&&(ec(A[h]),Array.prototype.splice.call(A,h,1),A.length==0&&(delete a.g[d],a.h--)))):a&&(a=qd(a))&&(d=a.g[d.toString()],a=-1,d&&(a=jd(d,h,p,b)),(h=-1<a?d[a]:null)&&Hd(h))}function Hd(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[ao])Ud(d.i,a);else{var h=a.type,p=a.proxy;d.removeEventListener?d.removeEventListener(h,p,a.capture):d.detachEvent?d.detachEvent(Fv(h),p):d.addListener&&d.removeListener&&d.removeListener(p),(h=qd(d))?(Ud(h,a),h.h==0&&(h.src=null,d[Bd]=null)):ec(a)}}}function Fv(a){return a in $d?$d[a]:$d[a]="on"+a}function eA(a,d){if(a.da)a=!0;else{d=new oo(d,this);var h=a.listener,p=a.ha||a.src;a.fa&&Hd(a),a=h.call(p,d)}return a}function qd(a){return a=a[Bd],a instanceof tc?a:null}var zd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gd(a){return typeof a=="function"?a:(a[zd]||(a[zd]=function(d){return a.handleEvent(d)}),a[zd])}function Ze(){Kn.call(this),this.i=new tc(this),this.M=this,this.F=null}S(Ze,Kn),Ze.prototype[ao]=!0,Ze.prototype.removeEventListener=function(a,d,h,p){kv(this,a,d,h,p)};function st(a,d){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=d.type||d,typeof d=="string")d=new Ye(d,a);else if(d instanceof Ye)d.target=d.target||a;else{var b=d;d=new Ye(p,a),E(d,b)}if(b=!0,h)for(var A=h.length-1;0<=A;A--){var O=d.g=h[A];b=nc(O,p,!0,d)&&b}if(O=d.g=a,b=nc(O,p,!0,d)&&b,b=nc(O,p,!1,d)&&b,h)for(A=0;A<h.length;A++)O=d.g=h[A],b=nc(O,p,!1,d)&&b}Ze.prototype.N=function(){if(Ze.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],p=0;p<h.length;p++)ec(h[p]);delete a.g[d],a.h--}}this.F=null},Ze.prototype.K=function(a,d,h,p){return this.i.add(String(a),d,!1,h,p)},Ze.prototype.L=function(a,d,h,p){return this.i.add(String(a),d,!0,h,p)};function nc(a,d,h,p){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var O=d[A];if(O&&!O.da&&O.capture==h){var _e=O.listener,We=O.ha||O.src;O.fa&&Ud(a.i,O),b=_e.call(We,p)!==!1&&b}}return b&&!p.defaultPrevented}function Lv(a,d,h){if(typeof a=="function")h&&(a=_(a,h));else if(a&&typeof a.handleEvent=="function")a=_(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function Vv(a){a.g=Lv(()=>{a.g=null,a.i&&(a.i=!1,Vv(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class tA extends Kn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Vv(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function co(a){Kn.call(this),this.h=a,this.g={}}S(co,Kn);var Uv=[];function jv(a){pe(a.g,function(d,h){this.g.hasOwnProperty(h)&&Hd(d)},a),a.g={}}co.prototype.N=function(){co.aa.N.call(this),jv(this)},co.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wd=c.JSON.stringify,nA=c.JSON.parse,rA=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Kd(){}Kd.prototype.h=null;function Bv(a){return a.h||(a.h=a.i())}function $v(){}var uo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qd(){Ye.call(this,"d")}S(Qd,Ye);function Yd(){Ye.call(this,"c")}S(Yd,Ye);var Nr={},Hv=null;function rc(){return Hv=Hv||new Ze}Nr.La="serverreachability";function qv(a){Ye.call(this,Nr.La,a)}S(qv,Ye);function lo(a){let d=rc();st(d,new qv(d))}Nr.STAT_EVENT="statevent";function zv(a,d){Ye.call(this,Nr.STAT_EVENT,a),this.stat=d}S(zv,Ye);function ot(a){let d=rc();st(d,new zv(d,a))}Nr.Ma="timingevent";function Gv(a,d){Ye.call(this,Nr.Ma,a),this.size=d}S(Gv,Ye);function ho(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function fo(){this.g=!0}fo.prototype.xa=function(){this.g=!1};function iA(a,d,h,p,b,A){a.info(function(){if(a.g)if(A)for(var O="",_e=A.split("&"),We=0;We<_e.length;We++){var ge=_e[We].split("=");if(1<ge.length){var Je=ge[0];ge=ge[1];var Xe=Je.split("_");O=2<=Xe.length&&Xe[1]=="type"?O+(Je+"="+ge+"&"):O+(Je+"=redacted&")}}else O=null;else O=A;return"XMLHTTP REQ ("+p+") [attempt "+b+"]: "+d+`
`+h+`
`+O})}function sA(a,d,h,p,b,A,O){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+b+"]: "+d+`
`+h+`
`+A+" "+O})}function bi(a,d,h,p){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+aA(a,h)+(p?" "+p:"")})}function oA(a,d){a.info(function(){return"TIMEOUT: "+d})}fo.prototype.info=function(){};function aA(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var b=p[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var O=1;O<b.length;O++)b[O]=""}}}}return Wd(h)}catch{return d}}var ic={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zd;function sc(){}S(sc,Kd),sc.prototype.g=function(){return new XMLHttpRequest},sc.prototype.i=function(){return{}},Zd=new sc;function Qn(a,d,h,p){this.j=a,this.i=d,this.l=h,this.R=p||1,this.U=new co(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Kv}function Kv(){this.i=null,this.g="",this.h=!1}var Qv={},Jd={};function Xd(a,d,h){a.L=1,a.v=uc(vn(d)),a.m=h,a.P=!0,Yv(a,null)}function Yv(a,d){a.F=Date.now(),oc(a),a.A=vn(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),l_(h.i,"t",p),a.C=0,h=a.j.J,a.h=new Kv,a.g=S_(a.j,h?d:null,!a.m),0<a.O&&(a.M=new tA(_(a.Y,a,a.g),a.O)),d=a.U,h=a.g,p=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(Uv[0]=b.toString()),b=Uv);for(var A=0;A<b.length;A++){var O=xv(h,b[A],p||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),lo(),iA(a.i,a.u,a.A,a.l,a.R,a.m)}Qn.prototype.ca=function(a){a=a.target;let d=this.M;d&&_n(a)==3?d.j():this.Y(a)},Qn.prototype.Y=function(a){try{if(a==this.g)e:{let Xe=_n(this.g);var d=this.g.Ba();let Si=this.g.Z();if(!(3>Xe)&&(Xe!=3||this.g&&(this.h.h||this.g.oa()||y_(this.g)))){this.J||Xe!=4||d==7||(d==8||0>=Si?lo(3):lo(2)),eh(this);var h=this.g.Z();this.X=h;t:if(Zv(this)){var p=y_(this.g);a="";var b=p.length,A=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xr(this),po(this);var O="";break t}this.h.i=new c.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,a+=this.h.i.decode(p[d],{stream:!(A&&d==b-1)});p.length=0,this.h.g+=a,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=h==200,sA(this.i,this.u,this.A,this.l,this.R,Xe,h),this.o){if(this.T&&!this.K){t:{if(this.g){var _e,We=this.g;if((_e=We.g?We.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(_e)){var ge=_e;break t}}ge=null}if(h=ge)bi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,th(this,h);else{this.o=!1,this.s=3,ot(12),xr(this),po(this);break e}}if(this.P){h=!0;let jt;for(;!this.J&&this.C<O.length;)if(jt=cA(this,O),jt==Jd){Xe==4&&(this.s=4,ot(14),h=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==Qv){this.s=4,ot(15),bi(this.i,this.l,O,"[Invalid Chunk]"),h=!1;break}else bi(this.i,this.l,jt,null),th(this,jt);if(Zv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xe!=4||O.length!=0||this.h.h||(this.s=1,ot(16),h=!1),this.o=this.o&&h,!h)bi(this.i,this.l,O,"[Invalid Chunked Response]"),xr(this),po(this);else if(0<O.length&&!this.W){this.W=!0;var Je=this.j;Je.g==this&&Je.ba&&!Je.M&&(Je.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),ah(Je),Je.M=!0,ot(11))}}else bi(this.i,this.l,O,null),th(this,O);Xe==4&&xr(this),this.o&&!this.J&&(Xe==4?C_(this.j,this):(this.o=!1,oc(this)))}else bA(this.g),h==400&&0<O.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),xr(this),po(this)}}}catch{}finally{}};function Zv(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function cA(a,d){var h=a.C,p=d.indexOf(`
`,h);return p==-1?Jd:(h=Number(d.substring(h,p)),isNaN(h)?Qv:(p+=1,p+h>d.length?Jd:(d=d.slice(p,p+h),a.C=p+h,d)))}Qn.prototype.cancel=function(){this.J=!0,xr(this)};function oc(a){a.S=Date.now()+a.I,Jv(a,a.I)}function Jv(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ho(_(a.ba,a),d)}function eh(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Qn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(oA(this.i,this.A),this.L!=2&&(lo(),ot(17)),xr(this),this.s=2,po(this)):Jv(this,this.S-a)};function po(a){a.j.G==0||a.J||C_(a.j,a)}function xr(a){eh(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,jv(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function th(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||nh(h.h,a))){if(!a.K&&nh(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(d)}catch{p=null}if(Array.isArray(p)&&p.length==3){var b=p;if(b[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)pc(h),hc(h);else break e;oh(h),ot(18)}}else h.za=b[1],0<h.za-h.T&&37500>b[2]&&h.F&&h.v==0&&!h.C&&(h.C=ho(_(h.Za,h),6e3));if(1>=t_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Or(h,11)}else if((a.K||h.g==a)&&pc(h),!G(d))for(b=h.Da.g.parse(d),d=0;d<b.length;d++){let ge=b[d];if(h.T=ge[0],ge=ge[1],h.G==2)if(ge[0]=="c"){h.K=ge[1],h.ia=ge[2];let Je=ge[3];Je!=null&&(h.la=Je,h.j.info("VER="+h.la));let Xe=ge[4];Xe!=null&&(h.Aa=Xe,h.j.info("SVER="+h.Aa));let Si=ge[5];Si!=null&&typeof Si=="number"&&0<Si&&(p=1.5*Si,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let jt=a.g;if(jt){let mc=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mc){var A=p.h;A.g||mc.indexOf("spdy")==-1&&mc.indexOf("quic")==-1&&mc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(rh(A,A.h),A.h=null))}if(p.D){let ch=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;ch&&(p.ya=ch,Ce(p.I,p.D,ch))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var O=a;if(p.qa=A_(p,p.J?p.ia:null,p.W),O.K){n_(p.h,O);var _e=O,We=p.L;We&&(_e.I=We),_e.B&&(eh(_e),oc(_e)),p.g=O}else E_(p);0<h.i.length&&fc(h)}else ge[0]!="stop"&&ge[0]!="close"||Or(h,7);else h.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?Or(h,7):sh(h):ge[0]!="noop"&&h.l&&h.l.ta(ge),h.v=0)}}lo(4)}catch{}}var uA=class{constructor(a,d){this.g=a,this.map=d}};function Xv(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function e_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function t_(a){return a.h?1:a.g?a.g.size:0}function nh(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function rh(a,d){a.g?a.g.add(d):a.h=d}function n_(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Xv.prototype.cancel=function(){if(this.i=r_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function r_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return P(a.i)}function lA(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,p=0;p<h;p++)d.push(a[p]);return d}d=[],h=0;for(p in a)d[h++]=a[p];return d}function dA(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let p in a)d[h++]=p;return d}}}function i_(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=dA(a),p=lA(a),b=p.length,A=0;A<b;A++)d.call(void 0,p[A],h&&h[A],a)}var s_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hA(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),b=null;if(0<=p){var A=a[h].substring(0,p);b=a[h].substring(p+1)}else A=a[h];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Pr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Pr){this.h=a.h,ac(this,a.j),this.o=a.o,this.g=a.g,cc(this,a.s),this.l=a.l;var d=a.i,h=new yo;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),o_(this,h),this.m=a.m}else a&&(d=String(a).match(s_))?(this.h=!1,ac(this,d[1]||"",!0),this.o=go(d[2]||""),this.g=go(d[3]||"",!0),cc(this,d[4]),this.l=go(d[5]||"",!0),o_(this,d[6]||"",!0),this.m=go(d[7]||"")):(this.h=!1,this.i=new yo(null,this.h))}Pr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(mo(d,a_,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(mo(d,a_,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(mo(h,h.charAt(0)=="/"?gA:pA,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",mo(h,yA)),a.join("")};function vn(a){return new Pr(a)}function ac(a,d,h){a.j=h?go(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function cc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function o_(a,d,h){d instanceof yo?(a.i=d,vA(a.i,a.h)):(h||(d=mo(d,mA)),a.i=new yo(d,a.h))}function Ce(a,d,h){a.i.set(d,h)}function uc(a){return Ce(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function go(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function mo(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,fA),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function fA(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var a_=/[#\/\?@]/g,pA=/[#\?:]/g,gA=/[#\?]/g,mA=/[#\?@]/g,yA=/#/g;function yo(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Yn(a){a.g||(a.g=new Map,a.h=0,a.i&&hA(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=yo.prototype,t.add=function(a,d){Yn(this),this.i=null,a=Ti(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function c_(a,d){Yn(a),d=Ti(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function u_(a,d){return Yn(a),d=Ti(a,d),a.g.has(d)}t.forEach=function(a,d){Yn(this),this.g.forEach(function(h,p){h.forEach(function(b){a.call(d,b,p,this)},this)},this)},t.na=function(){Yn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let p=0;p<d.length;p++){let b=a[p];for(let A=0;A<b.length;A++)h.push(d[p])}return h},t.V=function(a){Yn(this);let d=[];if(typeof a=="string")u_(this,a)&&(d=d.concat(this.g.get(Ti(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return Yn(this),this.i=null,a=Ti(this,a),u_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function l_(a,d,h){c_(a,d),0<h.length&&(a.i=null,a.g.set(Ti(a,d),P(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var p=d[h];let A=encodeURIComponent(String(p)),O=this.V(p);for(p=0;p<O.length;p++){var b=A;O[p]!==""&&(b+="="+encodeURIComponent(String(O[p]))),a.push(b)}}return this.i=a.join("&")};function Ti(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function vA(a,d){d&&!a.j&&(Yn(a),a.i=null,a.g.forEach(function(h,p){var b=p.toLowerCase();p!=b&&(c_(this,p),l_(this,b,h))},a)),a.j=d}function _A(a,d){let h=new fo;if(c.Image){let p=new Image;p.onload=I(Zn,h,"TestLoadImage: loaded",!0,d,p),p.onerror=I(Zn,h,"TestLoadImage: error",!1,d,p),p.onabort=I(Zn,h,"TestLoadImage: abort",!1,d,p),p.ontimeout=I(Zn,h,"TestLoadImage: timeout",!1,d,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else d(!1)}function IA(a,d){let h=new fo,p=new AbortController,b=setTimeout(()=>{p.abort(),Zn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:p.signal}).then(A=>{clearTimeout(b),A.ok?Zn(h,"TestPingServer: ok",!0,d):Zn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Zn(h,"TestPingServer: error",!1,d)})}function Zn(a,d,h,p,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),p(h)}catch{}}function wA(){this.g=new rA}function EA(a,d,h){let p=h||"";try{i_(a,function(b,A){let O=b;l(b)&&(O=Wd(b)),d.push(p+A+"="+encodeURIComponent(O))})}catch(b){throw d.push(p+"type="+encodeURIComponent("_badmap")),b}}function vo(a){this.l=a.Ub||null,this.j=a.eb||!1}S(vo,Kd),vo.prototype.g=function(){return new lc(this.l,this.j)},vo.prototype.i=function(a){return function(){return a}}({});function lc(a,d){Ze.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(lc,Ze),t=lc.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Io(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_o(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Io(this)),this.g&&(this.readyState=3,Io(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;d_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function d_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?_o(this):Io(this),this.readyState==3&&d_(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,_o(this))},t.Qa=function(a){this.g&&(this.response=a,_o(this))},t.ga=function(){this.g&&_o(this)};function _o(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Io(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function Io(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(lc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function h_(a){let d="";return pe(a,function(h,p){d+=p,d+=":",d+=h,d+=`\r
`}),d}function ih(a,d,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=h_(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Ce(a,d,h))}function Te(a){Ze.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Te,Ze);var DA=/^https?$/i,CA=["POST","PUT"];t=Te.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zd.g(),this.v=this.o?Bv(this.o):Bv(Zd),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(A){f_(this,A);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var b in p)h.set(b,p[b]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let A of p.keys())h.set(A,p.get(A));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(CA,d,void 0))||p||b||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,O]of h)this.g.setRequestHeader(A,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{m_(this),this.u=!0,this.g.send(a),this.u=!1}catch(A){f_(this,A)}};function f_(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,p_(a),dc(a)}function p_(a){a.A||(a.A=!0,st(a,"complete"),st(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,st(this,"complete"),st(this,"abort"),dc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dc(this,!0)),Te.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?g_(this):this.bb())},t.bb=function(){g_(this)};function g_(a){if(a.h&&typeof o<"u"&&(!a.v[1]||_n(a)!=4||a.Z()!=2)){if(a.u&&_n(a)==4)Lv(a.Ea,0,a);else if(st(a,"readystatechange"),_n(a)==4){a.h=!1;try{let O=a.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var p;if(p=O===0){var b=String(a.D).match(s_)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),p=!DA.test(b?b.toLowerCase():"")}h=p}if(h)st(a,"complete"),st(a,"success");else{a.m=6;try{var A=2<_n(a)?a.g.statusText:""}catch{A=""}a.l=A+" ["+a.Z()+"]",p_(a)}}finally{dc(a)}}}}function dc(a,d){if(a.g){m_(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||st(a,"ready");try{h.onreadystatechange=p}catch{}}}function m_(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function _n(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),nA(d)}};function y_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function bA(a){let d={};a=(a.g&&2<=_n(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(G(a[p]))continue;var h=C(a[p]);let b=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=d[b]||[];d[b]=A,A.push(h)}D(d,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wo(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function v_(a){this.Aa=0,this.i=[],this.j=new fo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wo("baseRetryDelayMs",5e3,a),this.cb=wo("retryDelaySeedMs",1e4,a),this.Wa=wo("forwardChannelMaxRetries",2,a),this.wa=wo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Xv(a&&a.concurrentRequestLimit),this.Da=new wA,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=v_.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,p){ot(0),this.W=a,this.H=d||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=A_(this,null,this.W),fc(this)};function sh(a){if(__(a),a.G==3){var d=a.U++,h=vn(a.I);if(Ce(h,"SID",a.K),Ce(h,"RID",d),Ce(h,"TYPE","terminate"),Eo(a,h),d=new Qn(a,a.j,d),d.L=2,d.v=uc(vn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=S_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),oc(d)}T_(a)}function hc(a){a.g&&(ah(a),a.g.cancel(),a.g=null)}function __(a){hc(a),a.u&&(c.clearTimeout(a.u),a.u=null),pc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function fc(a){if(!e_(a.h)&&!a.s){a.s=!0;var d=a.Ga;io||Nv(),so||(io(),so=!0),Vd.add(d,a),a.B=0}}function TA(a,d){return t_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ho(_(a.Ga,a,d),b_(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new Qn(this,this.j,a),A=this.o;if(this.S&&(A?(A=m(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(d+=p,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=w_(this,b,d),h=vn(this.I),Ce(h,"RID",a),Ce(h,"CVER",22),this.D&&Ce(h,"X-HTTP-Session-Id",this.D),Eo(this,h),A&&(this.O?d="headers="+encodeURIComponent(String(h_(A)))+"&"+d:this.m&&ih(h,this.m,A)),rh(this.h,b),this.Ua&&Ce(h,"TYPE","init"),this.P?(Ce(h,"$req",d),Ce(h,"SID","null"),b.T=!0,Xd(b,h,null)):Xd(b,h,d),this.G=2}}else this.G==3&&(a?I_(this,a):this.i.length==0||e_(this.h)||I_(this))};function I_(a,d){var h;d?h=d.l:h=a.U++;let p=vn(a.I);Ce(p,"SID",a.K),Ce(p,"RID",h),Ce(p,"AID",a.T),Eo(a,p),a.m&&a.o&&ih(p,a.m,a.o),h=new Qn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=w_(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),rh(a.h,h),Xd(h,p,d)}function Eo(a,d){a.H&&pe(a.H,function(h,p){Ce(d,p,h)}),a.l&&i_({},function(h,p){Ce(d,p,h)})}function w_(a,d,h){h=Math.min(a.i.length,h);var p=a.l?_(a.l.Na,a.l,a):null;e:{var b=a.i;let A=-1;for(;;){let O=["count="+h];A==-1?0<h?(A=b[0].g,O.push("ofs="+A)):A=0:O.push("ofs="+A);let _e=!0;for(let We=0;We<h;We++){let ge=b[We].g,Je=b[We].map;if(ge-=A,0>ge)A=Math.max(0,b[We].g-100),_e=!1;else try{EA(Je,O,"req"+ge+"_")}catch{p&&p(Je)}}if(_e){p=O.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,p}function E_(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;io||Nv(),so||(io(),so=!0),Vd.add(d,a),a.v=0}}function oh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ho(_(a.Fa,a),b_(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,D_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ho(_(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),hc(this),D_(this))};function ah(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function D_(a){a.g=new Qn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=vn(a.qa);Ce(d,"RID","rpc"),Ce(d,"SID",a.K),Ce(d,"AID",a.T),Ce(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ce(d,"TO",a.ja),Ce(d,"TYPE","xmlhttp"),Eo(a,d),a.m&&a.o&&ih(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=uc(vn(d)),h.m=null,h.P=!0,Yv(h,a)}t.Za=function(){this.C!=null&&(this.C=null,hc(this),oh(this),ot(19))};function pc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function C_(a,d){var h=null;if(a.g==d){pc(a),ah(a),a.g=null;var p=2}else if(nh(a.h,d))h=d.D,n_(a.h,d),p=1;else return;if(a.G!=0){if(d.o)if(p==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var b=a.B;p=rc(),st(p,new Gv(p,h)),fc(a)}else E_(a);else if(b=d.s,b==3||b==0&&0<d.X||!(p==1&&TA(a,d)||p==2&&oh(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),b){case 1:Or(a,5);break;case 4:Or(a,10);break;case 3:Or(a,6);break;default:Or(a,2)}}}function b_(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Or(a,d){if(a.j.info("Error code "+d),d==2){var h=_(a.fb,a),p=a.Xa;let b=!p;p=new Pr(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ac(p,"https"),uc(p),b?_A(p.toString(),h):IA(p.toString(),h)}else ot(2);a.G=0,a.l&&a.l.sa(d),T_(a),__(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function T_(a){if(a.G=0,a.ka=[],a.l){let d=r_(a.h);(d.length!=0||a.i.length!=0)&&(N(a.ka,d),N(a.ka,a.i),a.h.i.length=0,P(a.i),a.i.length=0),a.l.ra()}}function A_(a,d,h){var p=h instanceof Pr?vn(h):new Pr(h);if(p.g!="")d&&(p.g=d+"."+p.g),cc(p,p.s);else{var b=c.location;p=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new Pr(null);p&&ac(A,p),d&&(A.g=d),b&&cc(A,b),h&&(A.l=h),p=A}return h=a.D,d=a.ya,h&&d&&Ce(p,h,d),Ce(p,"VER",a.la),Eo(a,p),p}function S_(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Te(new vo({eb:h})):new Te(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function R_(){}t=R_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function gc(){}gc.prototype.g=function(a,d){return new gt(a,d)};function gt(a,d){Ze.call(this),this.g=new v_(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!G(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!G(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Ai(this)}S(gt,Ze),gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gt.prototype.close=function(){sh(this.g)},gt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Wd(a),a=h);d.i.push(new uA(d.Ya++,a)),d.G==3&&fc(d)},gt.prototype.N=function(){this.g.l=null,delete this.j,sh(this.g),delete this.g,gt.aa.N.call(this)};function M_(a){Qd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}S(M_,Qd);function N_(){Yd.call(this),this.status=1}S(N_,Yd);function Ai(a){this.g=a}S(Ai,R_),Ai.prototype.ua=function(){st(this.g,"a")},Ai.prototype.ta=function(a){st(this.g,new M_(a))},Ai.prototype.sa=function(a){st(this.g,new N_)},Ai.prototype.ra=function(){st(this.g,"b")},gc.prototype.createWebChannel=gc.prototype.g,gt.prototype.send=gt.prototype.o,gt.prototype.open=gt.prototype.m,gt.prototype.close=gt.prototype.close,zm=Hn.createWebChannelTransport=function(){return new gc},qm=Hn.getStatEventTarget=function(){return rc()},Hm=Hn.Event=Nr,ql=Hn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ic.NO_ERROR=0,ic.TIMEOUT=8,ic.HTTP_ERROR=6,Oa=Hn.ErrorCode=ic,Wv.COMPLETE="complete",$m=Hn.EventType=Wv,$v.EventType=uo,uo.OPEN="a",uo.CLOSE="b",uo.ERROR="c",uo.MESSAGE="d",Ze.prototype.listen=Ze.prototype.K,Os=Hn.WebChannel=$v,Bm=Hn.FetchXmlHttpFactory=vo,Te.prototype.listenOnce=Te.prototype.L,Te.prototype.getLastError=Te.prototype.Ka,Te.prototype.getLastErrorCode=Te.prototype.Ba,Te.prototype.getStatus=Te.prototype.Z,Te.prototype.getResponseJson=Te.prototype.Oa,Te.prototype.getResponseText=Te.prototype.oa,Te.prototype.send=Te.prototype.ea,Te.prototype.setWithCredentials=Te.prototype.Ha,jm=Hn.XhrIo=Te}).apply(typeof Hl<"u"?Hl:typeof self<"u"?self:typeof window<"u"?window:{});var sT="@firebase/firestore";var qe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};qe.UNAUTHENTICATED=new qe(null),qe.GOOGLE_CREDENTIALS=new qe("google-credentials-uid"),qe.FIRST_PARTY=new qe("first-party-uid"),qe.MOCK_USER=new qe("mock-user");var Js="10.13.1";var vi=new _r("@firebase/firestore");function ka(){return vi.logLevel}function U(t,...e){if(vi.logLevel<=oe.DEBUG){let n=e.map(fv);vi.debug(`Firestore (${Js}): ${t}`,...n)}}function _i(t,...e){if(vi.logLevel<=oe.ERROR){let n=e.map(fv);vi.error(`Firestore (${Js}): ${t}`,...n)}}function Yl(t,...e){if(vi.logLevel<=oe.WARN){let n=e.map(fv);vi.warn(`Firestore (${Js}): ${t}`,...n)}}function fv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ae(t="Unexpected state"){let e=`FIRESTORE (${Js}) INTERNAL ASSERTION FAILED: `+t;throw _i(e),new Error(e)}function je(t,e){t||ae()}function De(t,e){return t}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=class extends Dt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var qn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Zl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Qm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qe.UNAUTHENTICATED))}shutdown(){}},Ym=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Zm=class{constructor(e){this.t=e,this.currentUser=qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new qn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new qn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new qn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new Zl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new qe(e)}},Jm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Xm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Jm(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},ey=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},ty=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,U("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.R=n.token,new ey(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function UV(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Jl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=UV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Ee(t,e){return t<e?-1:t>e?1:0}function Vs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var it=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new B(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Se=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new it(0,0))}static max(){return new t(new it(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Xl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(),r===void 0?r=e.length-n:r>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},ke=class t extends Xl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new B(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},jV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ct=class t extends Xl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return jV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new B(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new B(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new B(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new B(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ee=class t{constructor(e){this.path=e}static fromPath(e){return new t(ke.fromString(e))}static fromName(e){return new t(ke.fromString(e).popFirst(5))}static empty(){return new t(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ke(e.slice()))}};var ny=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};ny.UNKNOWN_ID=-1;function BV(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new Ii(i,ee.empty(),e)}function $V(t){return new Ii(t.readTime,t.key,-1)}var Ii=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Se.min(),ee.empty(),-1)}static max(){return new t(Se.max(),ee.empty(),-1)}};function HV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}var qV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ry=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function AT(t){return w(this,null,function*(){if(t.code!==R.FAILED_PRECONDITION||t.message!==qV)throw t;U("LocalStore","Unexpectedly lost primary lease")})}var M=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(f=>{o[l]=f,++c,c===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function zV(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vd(t){return t.name==="IndexedDbTransactionError"}var GV=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function pv(t){return t==null}function Ba(t){return t===0&&1/t==-1/0}function WV(t){return typeof t=="number"&&Number.isInteger(t)&&!Ba(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var KV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$9=[...KV,"documentOverlays"],QV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],YV=QV,ZV=[...YV,"indexConfiguration","indexState","indexEntries"];var H9=[...ZV,"globals"];function oT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function za(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ST(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var bt=class t{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fs(this.root,e,this.comparator,!0)}},Fs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},pn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();let e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}};pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,n,r,i,s){return this}insert(e,n,r){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ht=class t{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ed(this.data.getIterator())}getIteratorFrom(e){return new ed(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},ed=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var fn=class t{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new t([])}unionWith(e){let n=new ht(Ct.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var iy=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Gn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new iy("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Gn.EMPTY_BYTE_STRING=new Gn("");var JV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ar(t){if(je(!!t),typeof t=="string"){let e=0,n=JV.exec(t);if(je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oe(t.seconds),nanos:Oe(t.nanos)}}function Oe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Us(t){return typeof t=="string"?Gn.fromBase64String(t):Gn.fromUint8Array(t)}function gv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function RT(t){let e=t.mapValue.fields.__previous_value__;return gv(e)?RT(e):e}function td(t){let e=Ar(t.mapValue.fields.__local_write_time__.timestampValue);return new it(e.seconds,e.nanos)}var sy=class{constructor(e,n,r,i,s,o,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},oy=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var zl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function js(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gv(t)?4:NT(t)?9007199254740991:MT(t)?10:11:ae()}function gn(t,e){if(t===e)return!0;let n=js(t);if(n!==js(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return td(t).isEqual(td(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Ar(i.timestampValue),c=Ar(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Us(i.bytesValue).isEqual(Us(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Oe(i.geoPointValue.latitude)===Oe(s.geoPointValue.latitude)&&Oe(i.geoPointValue.longitude)===Oe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Oe(i.integerValue)===Oe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Oe(i.doubleValue),c=Oe(s.doubleValue);return o===c?Ba(o)===Ba(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Vs(t.arrayValue.values||[],e.arrayValue.values||[],gn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(oT(o)!==oT(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!gn(o[u],c[u])))return!1;return!0}(t,e);default:return ae()}}function $a(t,e){return(t.values||[]).find(n=>gn(n,e))!==void 0}function Bs(t,e){if(t===e)return 0;let n=js(t),r=js(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(s,o){let c=Oe(s.integerValue||s.doubleValue),u=Oe(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return aT(t.timestampValue,e.timestampValue);case 4:return aT(td(t),td(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(s,o){let c=Us(s),u=Us(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),u=o.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=Ee(c[l],u[l]);if(f!==0)return f}return Ee(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let c=Ee(Oe(s.latitude),Oe(o.latitude));return c!==0?c:Ee(Oe(s.longitude),Oe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return cT(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,l,f;let g=s.fields||{},_=o.fields||{},I=(c=g.value)===null||c===void 0?void 0:c.arrayValue,S=(u=_.value)===null||u===void 0?void 0:u.arrayValue,P=Ee(((l=I?.values)===null||l===void 0?void 0:l.length)||0,((f=S?.values)===null||f===void 0?void 0:f.length)||0);return P!==0?P:cT(I,S)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===zl.mapValue&&o===zl.mapValue)return 0;if(s===zl.mapValue)return 1;if(o===zl.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),l=o.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){let _=Ee(u[g],f[g]);if(_!==0)return _;let I=Bs(c[u[g]],l[f[g]]);if(I!==0)return I}return Ee(u.length,f.length)}(t.mapValue,e.mapValue);default:throw ae()}}function aT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);let n=Ar(t),r=Ar(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function cT(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Bs(n[i],r[i]);if(s)return s}return Ee(n.length,r.length)}function $s(t){return ay(t)}function ay(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Ar(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Us(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=ay(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${ay(n.fields[o])}`;return i+"}"}(t.mapValue):ae()}function cy(t){return!!t&&"integerValue"in t}function mv(t){return!!t&&"arrayValue"in t}function Kl(t){return!!t&&"mapValue"in t}function MT(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function La(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return za(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=La(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=La(t.arrayValue.values[n]);return e}return Object.assign({},t)}function NT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var hn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Kl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=La(n)}setAll(e){let n=Ct.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=La(o):i.push(c.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Kl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Kl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){za(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(La(this.value))}};function xT(t){let e=[];return za(t.fields,(n,r)=>{let i=new Ct([n]);if(Kl(r)){let s=xT(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new fn(e)}var Hs=class t{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new t(e,0,Se.min(),Se.min(),Se.min(),hn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Se.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Se.min(),Se.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Se.min(),Se.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var qs=class{constructor(e,n){this.position=e,this.inclusive=n}};function uT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ee.comparator(ee.fromName(o.referenceValue),n.key):r=Bs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function lT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gn(t.position[n],e.position[n]))return!1;return!0}var zs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function XV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var nd=class{},ze=class t extends nd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ly(e,n,r):n==="array-contains"?new fy(e,r):n==="in"?new py(e,r):n==="not-in"?new gy(e,r):n==="array-contains-any"?new my(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new dy(e,r):new hy(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Bs(n,this.value)):n!==null&&js(this.value)===js(n)&&this.matchesComparison(Bs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Sr=class t extends nd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return PT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function PT(t){return t.op==="and"}function OT(t){return eU(t)&&PT(t)}function eU(t){for(let e of t.filters)if(e instanceof Sr)return!1;return!0}function uy(t){if(t instanceof ze)return t.field.canonicalString()+t.op.toString()+$s(t.value);if(OT(t))return t.filters.map(e=>uy(e)).join(",");{let e=t.filters.map(n=>uy(n)).join(",");return`${t.op}(${e})`}}function kT(t,e){return t instanceof ze?function(r,i){return i instanceof ze&&r.op===i.op&&r.field.isEqual(i.field)&&gn(r.value,i.value)}(t,e):t instanceof Sr?function(r,i){return i instanceof Sr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&kT(o,i.filters[c]),!0):!1}(t,e):void ae()}function FT(t){return t instanceof ze?function(n){return`${n.field.canonicalString()} ${n.op} ${$s(n.value)}`}(t):t instanceof Sr?function(n){return n.op.toString()+" {"+n.getFilters().map(FT).join(" ,")+"}"}(t):"Filter"}var ly=class extends ze{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){let n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}},dy=class extends ze{constructor(e,n){super(e,"in",n),this.keys=LT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},hy=class extends ze{constructor(e,n){super(e,"not-in",n),this.keys=LT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function LT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}var fy=class extends ze{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return mv(n)&&$a(n.arrayValue,this.value)}},py=class extends ze{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&$a(this.value.arrayValue,n)}},gy=class extends ze{constructor(e,n){super(e,"not-in",n)}matches(e){if($a(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!$a(this.value.arrayValue,n)}},my=class extends ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!mv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$a(this.value.arrayValue,r))}};var yy=class{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function dT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new yy(t,e,n,r,i,s,o)}function yv(t){let e=De(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>uy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),pv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$s(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$s(r)).join(",")),e.ue=n}return e.ue}function vv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!XV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lT(t.startAt,e.startAt)&&lT(t.endAt,e.endAt)}var Gs=class{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function tU(t,e,n,r,i,s,o,c){return new Gs(t,e,n,r,i,s,o,c)}function nU(t){return new Gs(t)}function hT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rU(t){return t.collectionGroup!==null}function Va(t){let e=De(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new ht(Ct.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new zs(s,r))}),n.has(Ct.keyField().canonicalString())||e.ce.push(new zs(Ct.keyField(),r))}return e.ce}function mi(t){let e=De(t);return e.le||(e.le=iU(e,Va(t))),e.le}function iU(t,e){if(t.limitType==="F")return dT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new zs(i.field,s)});let n=t.endAt?new qs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qs(t.startAt.position,t.startAt.inclusive):null;return dT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function vy(t,e,n){return new Gs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function VT(t,e){return vv(mi(t),mi(e))&&t.limitType===e.limitType}function UT(t){return`${yv(mi(t))}|lt:${t.limitType}`}function Fa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>FT(i)).join(", ")}]`),pv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>$s(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>$s(i)).join(",")),`Target(${r})`}(mi(t))}; limitType=${t.limitType})`}function _v(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ee.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Va(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){let l=uT(o,c,u);return o.inclusive?l<=0:l<0}(r.startAt,Va(r),i)||r.endAt&&!function(o,c,u){let l=uT(o,c,u);return o.inclusive?l>=0:l>0}(r.endAt,Va(r),i))}(t,e)}function sU(t){return(e,n)=>{let r=!1;for(let i of Va(t)){let s=oU(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function oU(t,e,n){let r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(s,o,c){let u=o.data.field(s),l=c.data.field(s);return u!==null&&l!==null?Bs(u,l):ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}var Rr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){za(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return ST(this.inner)}size(){return this.innerSize}};var aU=new bt(ee.comparator);function rd(){return aU}var jT=new bt(ee.comparator);function Gl(...t){let e=jT;for(let n of t)e=e.insert(n.key,n);return e}function BT(t){let e=jT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function gi(){return Ua()}function $T(){return Ua()}function Ua(){return new Rr(t=>t.toString(),(t,e)=>t.isEqual(e))}var cU=new bt(ee.comparator),uU=new ht(ee.comparator);function rt(...t){let e=uU;for(let n of t)e=e.add(n);return e}var lU=new ht(Ee);function dU(){return lU}function Iv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ba(e)?"-0":e}}function HT(t){return{integerValue:""+t}}function hU(t,e){return WV(e)?HT(e):Iv(t,e)}var Ws=class{constructor(){this._=void 0}};function fU(t,e,n){return t instanceof Ks?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&gv(s)&&(s=RT(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof wi?zT(t,e):t instanceof Ei?GT(t,e):function(i,s){let o=qT(i,s),c=fT(o)+fT(i.Pe);return cy(o)&&cy(i.Pe)?HT(c):Iv(i.serializer,c)}(t,e)}function pU(t,e,n){return t instanceof wi?zT(t,e):t instanceof Ei?GT(t,e):n}function qT(t,e){return t instanceof Qs?function(r){return cy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Ks=class extends Ws{},wi=class extends Ws{constructor(e){super(),this.elements=e}};function zT(t,e){let n=WT(e);for(let r of t.elements)n.some(i=>gn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ei=class extends Ws{constructor(e){super(),this.elements=e}};function GT(t,e){let n=WT(e);for(let r of t.elements)n=n.filter(i=>!gn(i,r));return{arrayValue:{values:n}}}var Qs=class extends Ws{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function fT(t){return Oe(t.integerValue||t.doubleValue)}function WT(t){return mv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function gU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof wi&&i instanceof wi||r instanceof Ei&&i instanceof Ei?Vs(r.elements,i.elements,gn):r instanceof Qs&&i instanceof Qs?gn(r.Pe,i.Pe):r instanceof Ks&&i instanceof Ks}(t.transform,e.transform)}var _y=class{constructor(e,n){this.version=e,this.transformResults=n}},yi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ql(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ys=class{};function KT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new id(t.key,yi.none()):new Di(t.key,t.data,yi.none());{let n=t.data,r=hn.empty(),i=new ht(Ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Wn(t.key,r,new fn(i.toArray()),yi.none())}}function mU(t,e,n){t instanceof Di?function(i,s,o){let c=i.value.clone(),u=gT(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Wn?function(i,s,o){if(!Ql(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=gT(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(QT(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ja(t,e,n,r){return t instanceof Di?function(s,o,c,u){if(!Ql(s.precondition,o))return c;let l=s.value.clone(),f=mT(s.fieldTransforms,u,o);return l.setAll(f),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Wn?function(s,o,c,u){if(!Ql(s.precondition,o))return c;let l=mT(s.fieldTransforms,u,o),f=o.data;return f.setAll(QT(s)),f.setAll(l),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,c){return Ql(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function yU(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=qT(r.transform,i||null);s!=null&&(n===null&&(n=hn.empty()),n.set(r.field,s))}return n||null}function pT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Vs(r,i,(s,o)=>gU(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Di=class extends Ys{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Wn=class extends Ys{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function QT(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function gT(t,e,n){let r=new Map;je(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,pU(o,c,n[i]))}return r}function mT(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,fU(s,o,e))}return r}var id=class extends Ys{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Iy=class extends Ys{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var wy=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&mU(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ja(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ja(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=$T();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;let u=KT(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),rt())}isEqual(e){return this.batchId===e.batchId&&Vs(this.mutations,e.mutations,(n,r)=>pT(n,r))&&Vs(this.baseMutations,e.baseMutations,(n,r)=>pT(n,r))}},Ey=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){je(e.mutations.length===r.length);let i=function(){return cU}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Dy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var xe,de;function vU(t){switch(t){default:return ae();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function _U(t){if(t===void 0)return _i("GRPC error has no .code"),R.UNKNOWN;switch(t){case xe.OK:return R.OK;case xe.CANCELLED:return R.CANCELLED;case xe.UNKNOWN:return R.UNKNOWN;case xe.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case xe.INTERNAL:return R.INTERNAL;case xe.UNAVAILABLE:return R.UNAVAILABLE;case xe.UNAUTHENTICATED:return R.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case xe.NOT_FOUND:return R.NOT_FOUND;case xe.ALREADY_EXISTS:return R.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return R.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case xe.ABORTED:return R.ABORTED;case xe.OUT_OF_RANGE:return R.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return R.UNIMPLEMENTED;case xe.DATA_LOSS:return R.DATA_LOSS;default:return ae()}}(de=xe||(xe={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";var z9=new Um([4294967295,4294967295],0);var Cy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function by(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wU(t,e){return by(t,e.toTimestamp())}function Ls(t){return je(!!t),Se.fromTimestamp(function(n){let r=Ar(n);return new it(r.seconds,r.nanos)}(t))}function YT(t,e){return Ty(t,e).canonicalString()}function Ty(t,e){let n=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function EU(t){let e=ke.fromString(t);return je(MU(e)),e}function Ay(t,e){return YT(t.databaseId,e.path)}function DU(t){let e=EU(t);return e.length===4?ke.emptyPath():bU(e)}function CU(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bU(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function yT(t,e,n){return{name:Ay(t,e),fields:n.value.mapValue.fields}}function TU(t,e){let n;if(e instanceof Di)n={update:yT(t,e.key,e.value)};else if(e instanceof id)n={delete:Ay(t,e.key)};else if(e instanceof Wn)n={update:yT(t,e.key,e.data),updateMask:RU(e.fieldMask)};else{if(!(e instanceof Iy))return ae();n={verify:Ay(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof Ks)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof wi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ei)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Qs)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:wU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ae()}(t,e.precondition)),n}function AU(t,e){return t&&t.length>0?(je(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ls(i.updateTime):Ls(s);return o.isEqual(Se.min())&&(o=Ls(s)),new _y(o,i.transformResults||[])}(n,e))):[]}function SU(t){let e=DU(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){je(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(g){let _=ZT(g);return _ instanceof Sr&&OT(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(_=>function(S){return new zs(ks(S.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(g){let _;return _=typeof g=="object"?g.value:g,pv(_)?null:_}(n.limit));let u=null;n.startAt&&(u=function(g){let _=!!g.before,I=g.values||[];return new qs(I,_)}(n.startAt));let l=null;return n.endAt&&(l=function(g){let _=!g.before,I=g.values||[];return new qs(I,_)}(n.endAt)),tU(e,i,o,s,c,"F",u,l)}function ZT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ks(n.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ks(n.unaryFilter.field);return ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=ks(n.unaryFilter.field);return ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=ks(n.unaryFilter.field);return ze.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(n){return ze.create(ks(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Sr.create(n.compositeFilter.filters.map(r=>ZT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ae()}}(n.compositeFilter.op))}(t):ae()}function ks(t){return Ct.fromServerFormat(t.fieldPath)}function RU(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function MU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Sy=class{constructor(e){this.ct=e}};function NU(t){let e=SU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vy(e,e.limit,"L"):e}var sd=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Oe(e.integerValue));else if("doubleValue"in e){let r=Oe(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Ba(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Ar(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Us(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?NT(e)?this.dt(n,Number.MAX_SAFE_INTEGER):MT(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ae()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Oe(c)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ee.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};sd.vt=new sd;var Ry=class{constructor(){this.un=new My}addToCollectionParentIndex(e,n){return this.un.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Ii.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Ii.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}},My=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ht(ke.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ht(ke.comparator)).toArray()}};var G9=new Uint8Array(0);var dn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(41943040,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);var Ha=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Ny=class{constructor(){this.changes=new Rr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Hs.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var xy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Py=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ja(r.mutation,i,fn.empty(),it.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,rt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=rt()){let i=gi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Gl();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=gi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,rt()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let s=rd(),o=Ua(),c=function(){return Ua()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Wn)?s=s.insert(l.key,l):f!==void 0?(o.set(l.key,f.mutation.getFieldMask()),ja(f.mutation,l,f.mutation.getFieldMask(),it.now())):o.set(l.key,fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,f)=>o.set(l,f)),n.forEach((l,f)=>{var g;return c.set(l,new xy(f,(g=o.get(l))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){let r=Ua(),i=new bt((o,c)=>o-c),s=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let c of o)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||fn.empty();f=c.applyToLocalView(l,f),r.set(u,f);let g=(i.get(c.batchId)||rt()).add(u);i=i.insert(c.batchId,g)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,g=$T();f.forEach(_=>{if(!s.has(_)){let I=KT(n.get(_),r.get(_));I!==null&&g.set(_,I),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,g))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rU(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(gi()),c=-1,u=s;return o.next(l=>M.forEach(l,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),s.get(f)?M.resolve():this.remoteDocumentCache.getEntry(e,f).next(_=>{u=u.insert(f,_)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,rt())).next(f=>({batchId:c,changes:BT(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=Gl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Gl();return this.indexManager.getCollectionParents(e,s).next(c=>M.forEach(c,u=>{let l=function(g,_){return new Gs(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((g,_)=>{o=o.insert(g,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let f=l.getKey();o.get(f)===null&&(o=o.insert(f,Hs.newInvalidDocument(f)))});let c=Gl();return o.forEach((u,l)=>{let f=s.get(u);f!==void 0&&ja(f.mutation,l,fn.empty(),it.now()),_v(n,l)&&(c=c.insert(u,l))}),c})}};var Oy=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return M.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ls(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:NU(i.bundledQuery),readTime:Ls(i.readTime)}}(n)),M.resolve()}};var ky=class{constructor(){this.overlays=new bt(ee.comparator),this.Ir=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){let r=gi();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){let i=gi(),s=n.length+1,o=new ee(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new bt((l,f)=>l-f),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=s.get(l.largestBatchId);f===null&&(f=gi(),s=s.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=gi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return M.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Dy(n,r));let s=this.Ir.get(n);s===void 0&&(s=rt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var Fy=class{constructor(){this.sessionToken=Gn.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}};var qa=class{constructor(){this.Tr=new ht(Pe.Er),this.dr=new ht(Pe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Pe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Pe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new ee(new ke([])),r=new Pe(n,e),i=new Pe(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new ee(new ke([])),r=new Pe(n,e),i=new Pe(n,e+1),s=rt();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Pe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Pe=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ee.comparator(e.key,n.key)||Ee(e.wr,n.wr)}static Ar(e,n){return Ee(e.wr,n.wr)||ee.comparator(e.key,n.key)}};var Ly=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ht(Pe.Er)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new wy(s,n,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new Pe(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Pe(n,0),i=new Pe(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ht(Ee);return n.forEach(i=>{let s=new Pe(i,0),o=new Pe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),M.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;ee.isDocumentKey(s)||(s=s.child(""));let o=new Pe(new ee(s),0),c=new ht(Ee);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},o),M.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){je(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return M.forEach(n.mutations,i=>{let s=new Pe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Pe(n,0),i=this.br.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Vy=class{constructor(e){this.Mr=e,this.docs=function(){return new bt(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():Hs.newInvalidDocument(n))}getEntries(e,n){let r=rd();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Hs.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=rd(),o=n.path,c=new ee(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||HV($V(f),r)<=0||(i.has(f.key)||_v(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ae()}Or(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Uy(this)}getSize(e){return M.resolve(this.size)}},Uy=class extends Ny{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var jy=class{constructor(e){this.persistence=e,this.Nr=new Rr(n=>yv(n),vv),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new qa,this.targetCount=0,this.kr=Ha.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),M.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Ha(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Kn(n),M.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),M.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Br.containsKey(n))}};var By=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new GV(0),this.Kr=!1,this.Kr=!0,this.$r=new Fy,this.referenceDelegate=e(this),this.Ur=new jy(this),this.indexManager=new Ry,this.remoteDocumentCache=function(i){return new Vy(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Sy(n),this.Gr=new Oy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ky,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Ly(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);let i=new $y(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return M.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},$y=class extends ry{constructor(e){super(),this.currentSequenceNumber=e}},Hy=class t{constructor(e){this.persistence=e,this.Jr=new qa,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ae()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Xr,r=>{let i=ee.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Se.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return M.or([()=>M.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var qy=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=rt(),i=rt();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var zy=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Gy=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return HC()?8:zV(He())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new zy;return this.Xi(e,n,o).next(c=>{if(s.result=c,this.zi)return this.es(e,n,o,c.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ka()<=oe.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Fa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),M.resolve()):(ka()<=oe.DEBUG&&U("QueryEngine","Query:",Fa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ka()<=oe.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Fa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(n))):M.resolve())}Yi(e,n){if(hT(n))return M.resolve(null);let r=mi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=vy(n,null,"F"),r=mi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=rt(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,c);return this.ns(n,l,o,u.readTime)?this.Yi(e,vy(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return hT(n)||i.isEqual(Se.min())?M.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?M.resolve(null):(ka()<=oe.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fa(n)),this.rs(e,o,n,BV(i,-1)).next(c=>c))})}ts(e,n){let r=new ht(sU(e));return n.forEach((i,s)=>{_v(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return ka()<=oe.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Fa(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ii.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Wy=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new bt(Ee),this._s=new Rr(s=>yv(s),vv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Py(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function xU(t,e,n,r){return new Wy(t,e,n,r)}function JT(t,e){return w(this,null,function*(){let n=De(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=rt();for(let l of i){o.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of s){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:c}))})})})}function PU(t,e){let n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,l,f){let g=l.batch,_=g.keys(),I=M.resolve();return _.forEach(S=>{I=I.next(()=>f.getEntry(u,S)).next(P=>{let N=l.docVersions.get(S);je(N!==null),P.version.compareTo(N)<0&&(g.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),f.addEntry(P)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=rt();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function OU(t){let e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function kU(t,e){let n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var od=class{constructor(){this.activeTargetIds=dU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Ky=class{constructor(){this.so=new od,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new od,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Qy=class{_o(e){}shutdown(){}};var ad=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Wl=null;function Gm(){return Wl===null?Wl=function(){return 268435456+Math.round(2147483648*Math.random())}():Wl++,"0x"+Wl.toString(16)}var FU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Yy=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var nt="WebChannelConnection",Zy=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let c=Gm(),u=this.xo(n,r.toUriEncodedString());U("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(f=>(U("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw Yl("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,c){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Js}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=FU[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=Gm();return new Promise((o,c)=>{let u=new jm;u.setWithCredentials(!0),u.listenOnce($m.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Oa.NO_ERROR:let f=u.getResponseJson();U(nt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Oa.TIMEOUT:U(nt,`RPC '${e}' ${s} timed out`),c(new B(R.DEADLINE_EXCEEDED,"Request time out"));break;case Oa.HTTP_ERROR:let g=u.getStatus();if(U(nt,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let I=_?.error;if(I&&I.status&&I.message){let S=function(N){let F=N.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(F)>=0?F:R.UNKNOWN}(I.status);c(new B(S,I.message))}else c(new B(R.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new B(R.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{U(nt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);U(nt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Gm(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=zm(),c=qm(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Bm({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=s.join("");U(nt,`Creating RPC '${e}' stream ${i}: ${f}`,u);let g=o.createWebChannel(f,u),_=!1,I=!1,S=new Yy({Io:N=>{I?U(nt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(_||(U(nt,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),U(nt,`RPC '${e}' stream ${i} sending:`,N),g.send(N))},To:()=>g.close()}),P=(N,F,G)=>{N.listen(F,Q=>{try{G(Q)}catch(me){setTimeout(()=>{throw me},0)}})};return P(g,Os.EventType.OPEN,()=>{I||(U(nt,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),P(g,Os.EventType.CLOSE,()=>{I||(I=!0,U(nt,`RPC '${e}' stream ${i} transport closed`),S.So())}),P(g,Os.EventType.ERROR,N=>{I||(I=!0,Yl(nt,`RPC '${e}' stream ${i} transport errored:`,N),S.So(new B(R.UNAVAILABLE,"The operation could not be completed")))}),P(g,Os.EventType.MESSAGE,N=>{var F;if(!I){let G=N.data[0];je(!!G);let Q=G,me=Q.error||((F=Q[0])===null||F===void 0?void 0:F.error);if(me){U(nt,`RPC '${e}' stream ${i} received error:`,me);let Ge=me.status,pe=function(y){let E=xe[y];if(E!==void 0)return _U(E)}(Ge),D=me.message;pe===void 0&&(pe=R.INTERNAL,D="Unknown error status: "+Ge+" with message "+me.message),I=!0,S.So(new B(pe,D)),g.close()}else U(nt,`RPC '${e}' stream ${i} received:`,G),S.bo(G)}}),P(c,Hm.STAT_EVENT,N=>{N.stat===ql.PROXY?U(nt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===ql.NOPROXY&&U(nt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function Wm(){return typeof document<"u"?document:null}function _d(t){return new Cy(t,!0)}var cd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Jy=class{constructor(e,n,r,i,s,o,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new cd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(_i(n.toString()),_i("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new B(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var Xy=class extends Jy{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return je(!!e.streamToken),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=AU(e.writeResults,e.commitTime),r=Ls(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=CU(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>TU(this.serializer,r))};this.a_(n)}};var ev=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new B(R.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Ty(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(R.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,Ty(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(R.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},tv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(_i(n),this.D_=!1):U("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var nv=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){Wa(this)&&(U("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=De(u);l.L_.add(4),yield Ga(l),l.q_.set("Unknown"),l.L_.delete(4),yield Id(l)})}(this))}))}),this.q_=new tv(r,i)}};function Id(t){return w(this,null,function*(){if(Wa(t))for(let e of t.B_)yield e(!0)})}function Ga(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function Wa(t){return De(t).L_.size===0}function XT(t,e,n){return w(this,null,function*(){if(!vd(e))throw e;t.L_.add(1),yield Ga(t),t.q_.set("Offline"),n||(n=()=>OU(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){U("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Id(t)}))})}function e0(t,e){return e().catch(n=>XT(t,n,e))}function wd(t){return w(this,null,function*(){let e=De(t),n=Mr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;LU(e);)try{let i=yield kU(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,VU(e,i)}catch(i){yield XT(e,i)}t0(e)&&n0(e)})}function LU(t){return Wa(t)&&t.O_.length<10}function VU(t,e){t.O_.push(e);let n=Mr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function t0(t){return Wa(t)&&!Mr(t).n_()&&t.O_.length>0}function n0(t){Mr(t).start()}function UU(t){return w(this,null,function*(){Mr(t).p_()})}function jU(t){return w(this,null,function*(){let e=Mr(t);for(let n of t.O_)e.m_(n.mutations)})}function BU(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=Ey.from(r,e,n);yield e0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield wd(t)})}function $U(t,e){return w(this,null,function*(){e&&Mr(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return vU(o)&&o!==R.ABORTED}(i.code)){let s=r.O_.shift();Mr(r).s_(),yield e0(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield wd(r)}})}(t,e)),t0(t)&&n0(t)})}function vT(t,e){return w(this,null,function*(){let n=De(t);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");let r=Wa(n);n.L_.add(3),yield Ga(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Id(n)})}function HU(t,e){return w(this,null,function*(){let n=De(t);e?(n.L_.delete(2),yield Id(n)):e||(n.L_.add(2),yield Ga(n),n.q_.set("Unknown"))})}function Mr(t){return t.U_||(t.U_=function(n,r,i){let s=De(n);return s.w_(),new Xy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:UU.bind(null,t),mo:$U.bind(null,t),f_:jU.bind(null,t),g_:BU.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield wd(t)):(yield t.U_.stop(),t.O_.length>0&&(U("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var rv=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function r0(t,e){if(_i("AsyncQueue",`${e}: ${t}`),vd(t))return new B(R.UNAVAILABLE,`${e}: ${t}`);throw t}var iv=class{constructor(){this.queries=_T(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=De(n),s=i.queries;i.queries=_T(),s.forEach((o,c)=>{for(let u of c.j_)u.onError(r)})})(this,new B(R.ABORTED,"Firestore shutting down"))}};function _T(){return new Rr(t=>UT(t),VT)}function qU(t){t.Y_.forEach(e=>{e.next()})}var IT,wT;(wT=IT||(IT={})).ea="default",wT.Cache="cache";var sv=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Rr(c=>UT(c),VT),this.Ma=new Map,this.xa=new Set,this.Oa=new bt(ee.comparator),this.Na=new Map,this.La=new qa,this.Ba={},this.ka=new Map,this.qa=Ha.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function zU(t,e,n){return w(this,null,function*(){let r=QU(t);try{let i=yield function(o,c){let u=De(o),l=it.now(),f=c.reduce((I,S)=>I.add(S.key),rt()),g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let S=rd(),P=rt();return u.cs.getEntries(I,f).next(N=>{S=N,S.forEach((F,G)=>{G.isValidDocument()||(P=P.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,S)).next(N=>{g=N;let F=[];for(let G of c){let Q=yU(G,g.get(G.key).overlayedDocument);Q!=null&&F.push(new Wn(G.key,Q,xT(Q.value.mapValue),yi.exists(!0)))}return u.mutationQueue.addMutationBatch(I,l,F,c)}).next(N=>{_=N;let F=N.applyToLocalDocumentSet(g,P);return u.documentOverlayCache.saveOverlays(I,N.batchId,F)})}).then(()=>({batchId:_.batchId,changes:BT(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new bt(Ee)),l=l.insert(c,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Ed(r,i.changes),yield wd(r.remoteStore)}catch(i){let s=r0(i,"Failed to persist write");n.reject(s)}})}function ET(t,e,n){let r=De(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let u=De(o);u.onlineState=c;let l=!1;u.queries.forEach((f,g)=>{for(let _ of g.j_)_.Z_(c)&&(l=!0)}),l&&qU(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function GU(t,e){return w(this,null,function*(){let n=De(t),r=e.batch.batchId;try{let i=yield PU(n.localStore,e);s0(n,r,null),i0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ed(n,i)}catch(i){yield AT(i)}})}function WU(t,e,n){return w(this,null,function*(){let r=De(t);try{let i=yield function(o,c){let u=De(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,c).next(g=>(je(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(l,g))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);s0(r,e,n),i0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ed(r,i)}catch(i){yield AT(i)}})}function i0(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function s0(t,e,n){let r=De(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Ed(t,e,n){return w(this,null,function*(){let r=De(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{o.push(r.Ka(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let g=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(l){i.push(l);let g=qy.Wi(u.targetId,l);s.push(g)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let f=De(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>M.forEach(l,_=>M.forEach(_.$i,I=>f.persistence.referenceDelegate.addReference(g,_.targetId,I)).next(()=>M.forEach(_.Ui,I=>f.persistence.referenceDelegate.removeReference(g,_.targetId,I)))))}catch(g){if(!vd(g))throw g;U("LocalStore","Failed to update sequence numbers: "+g)}for(let g of l){let _=g.targetId;if(!g.fromCache){let I=f.os.get(_),S=I.snapshotVersion,P=I.withLastLimboFreeSnapshotVersion(S);f.os=f.os.insert(_,P)}}})}(r.localStore,s))})}function KU(t,e){return w(this,null,function*(){let n=De(t);if(!n.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());let r=yield JT(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(u=>{u.reject(new B(R.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ed(n,r.hs)}})}function QU(t){let e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WU.bind(null,e),e}var ud=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=_d(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return xU(this.persistence,new Gy,e.initialUser,this.serializer)}createPersistence(e){return new By(Hy.Zr,this.serializer)}createSharedClientState(e){return new Ky}terminate(){return w(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var ov=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ET(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KU.bind(null,this.syncEngine),yield HU(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new iv}()}createDatastore(e){let n=_d(e.databaseInfo.databaseId),r=function(s){return new Zy(s)}(e.databaseInfo);return function(s,o,c,u){return new ev(s,o,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,c){return new nv(r,i,s,o,c)}(this.localStore,this.datastore,e.asyncQueue,n=>ET(this.syncEngine,n,0),function(){return ad.D()?new ad:new Qy}())}createSyncEngine(e,n){return function(i,s,o,c,u,l,f){let g=new sv(i,s,o,c,u,l);return f&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return w(this,null,function*(){var e,n;yield function(i){return w(this,null,function*(){let s=De(i);U("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Ga(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var av=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qe.UNAUTHENTICATED,this.clientId=Jl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>w(this,null,function*(){U("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(U("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=r0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Km(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield JT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function DT(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield ZU(t);U("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>vT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>vT(e.remoteStore,i)),t._onlineComponents=e})}function YU(t){return t.name==="FirebaseError"?t.code===R.FAILED_PRECONDITION||t.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function ZU(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Km(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!YU(n))throw n;Yl("Error using user provided cache. Falling back to memory cache: "+n),yield Km(t,new ud)}}else U("FirestoreClient","Using default OfflineComponentProvider"),yield Km(t,new ud);return t._offlineComponents})}function JU(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),yield DT(t,t._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),yield DT(t,new ov))),t._onlineComponents})}function XU(t){return JU(t).then(e=>e.syncEngine)}function o0(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var CT=new Map;function a0(t,e,n){if(!n)throw new B(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ej(t,e,n,r){if(e===!0&&r===!0)throw new B(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bT(t){if(!ee.isDocumentKey(t))throw new B(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TT(t){if(ee.isDocumentKey(t))throw new B(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function c0(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=wv(t);throw new B(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var ld=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new B(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ej("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new B(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new B(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new B(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Zs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ld({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new B(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new B(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ld(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Qm;switch(r.type){case"firstParty":return new Xm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=CT.get(n);r&&(U("ComponentProvider","Removing Datastore"),CT.delete(n),r.terminate())}(this),Promise.resolve()}};function u0(t,e,n,r={}){var i;let s=(t=c0(t,Zs))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Yl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=qe.MOCK_USER;else{c=VC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new B(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new qe(l)}t._authCredentials=new Ym(new Zl(c,u))}}var cv=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},zn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Tr=class t extends cv{constructor(e,n,r){super(e,n,nU(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new ee(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function l0(t,e,...n){if(t=dt(t),a0("collection","path",e),t instanceof Zs){let r=ke.fromString(e,...n);return TT(r),new Tr(t,null,r)}{if(!(t instanceof zn||t instanceof Tr))throw new B(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return TT(r),new Tr(t.firestore,null,r)}}function d0(t,e,...n){if(t=dt(t),arguments.length===1&&(e=Jl.newId()),a0("doc","path",e),t instanceof Zs){let r=ke.fromString(e,...n);return bT(r),new zn(t,null,new ee(r))}{if(!(t instanceof zn||t instanceof Tr))throw new B(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return bT(r),new zn(t.firestore,t instanceof Tr?t.converter:null,new ee(r))}}var uv=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new cd(this,"async_queue_retry"),this.Eu=()=>{let n=Wm();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=Wm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=Wm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new qn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return w(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!vd(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw _i("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=rv.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&ae()}verifyOperationInProgress(){}mu(){return w(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};var dd=class extends Zs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new uv}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||f0(this),this._firestoreClient.terminate()}};function h0(t,e){let n=typeof t=="object"?t:As(),r=typeof t=="string"?t:e||"(default)",i=Ca(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=LC("firestore");s&&u0(i,...s)}return i}function tj(t){return t._firestoreClient||f0(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function f0(t){var e,n,r;let i=t._freezeSettings(),s=function(c,u,l,f){return new sy(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,o0(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new av(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var hd=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Gn.fromBase64String(e))}catch(n){throw new B(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var fd=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var pd=class{constructor(e){this._methodName=e}};var gd=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}};var md=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var nj=/^__.*__$/,lv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Wn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Di(e,this.data,n,this.fieldTransforms)}};function p0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}var dv=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return yd(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(p0(this.wu)&&nj.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},hv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_d(e)}Nu(e,n,r,i=!1){return new dv({wu:e,methodName:n,Ou:r,path:Ct.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function rj(t){let e=t._freezeSettings(),n=_d(t._databaseId);return new hv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ij(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);v0("Data must be an object, but it was:",o,r);let c=m0(r,o),u,l;if(s.merge)u=new fn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let g of s.mergeFields){let _=sj(e,g,n);if(!o.contains(_))throw new B(R.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);cj(f,_)||f.push(_)}u=new fn(f),l=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,l=o.fieldTransforms;return new lv(new hn(c),u,l)}function g0(t,e){if(y0(t=dt(t)))return v0("Unsupported field value:",e,t),m0(t,e);if(t instanceof pd)return function(r,i){if(!p0(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let u=g0(c,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=it.fromDate(r);return{timestampValue:by(i.serializer,s)}}if(r instanceof it){let s=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:by(i.serializer,s)}}if(r instanceof gd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hd)return{bytesValue:IU(i.serializer,r._byteString)};if(r instanceof zn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:YT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof md)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.Mu("VectorValues must only contain numeric values.");return Iv(c.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${wv(r)}`)}(t,e)}function m0(t,e){let n={};return ST(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):za(t,(r,i)=>{let s=g0(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function y0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof gd||t instanceof hd||t instanceof zn||t instanceof pd||t instanceof md)}function v0(t,e,n){if(!y0(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=wv(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function sj(t,e,n){if((e=dt(e))instanceof fd)return e._internalPath;if(typeof e=="string")return aj(t,e);throw yd("Field path arguments must be of type string or ",t,!1,void 0,n)}var oj=new RegExp("[~\\*/\\[\\]]");function aj(t,e,n){if(e.search(oj)>=0)throw yd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fd(...e.split("."))._internalPath}catch{throw yd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yd(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new B(R.INVALID_ARGUMENT,c+t+u)}function cj(t,e){return t.some(n=>n.isEqual(e))}function uj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function _0(t,e){let n=c0(t.firestore,dd),r=d0(t),i=uj(t.converter,e);return lj(n,[ij(rj(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,yi.exists(!1))]).then(()=>r)}function lj(t,e){return function(r,i){let s=new qn;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return zU(yield XU(r),i,s)})),s.promise}(tj(t),e)}(function(e,n=!0){(function(i){Js=i})(Er),wr(new Ut("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new dd(new Zm(r.getProvider("auth-internal")),new ty(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new B(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oy(l.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Ue(sT,"4.7.1",e),Ue(sT,"4.7.1","esm2017")})();var Ci=class{constructor(e){return e}},I0="firestore",Ev=class{constructor(){return ba(I0)}};var Dv=new L("angularfire2.firestore-instances");function dj(t,e){let n=Dl(I0,t,e);return n&&new Ci(n)}function hj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ci(r)}}var fj={provide:Ev,deps:[[new et,Dv]]},pj={provide:Ci,useFactory:dj,deps:[[new et,Dv],Vn]};function g6(t,...e){return Ue("angularfire",ci.full,"fst"),nn([pj,fj,{provide:Dv,useFactory:hj(t),multi:!0,deps:[ye,Qe,Ms,ui,[new et,Pa],[new et,Rs],...e]}])}var w0=Wt(_0,!0);var E0=Wt(l0,!0);var m6=Wt(h0,!0);var Cv=AA(SA());var mj=()=>["../../home"],mn=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Pt({type:t,selectors:[["app-juego"]],decls:3,vars:2,consts:[["id","button"],["id","close",3,"routerLink"]],template:function(n,r){n&1&&(Z(0,"div",0)(1,"button",1),se(2,"X"),J()()),n&2&&($o(),Go("routerLink",lD(1,mj)))},dependencies:[SC],styles:["#button[_ngcontent-%COMP%]{width:100vw;display:flex;justify-content:end}button[_ngcontent-%COMP%]{width:50px;height:50px;margin:30px 10px 10px;box-shadow:0 0 15px #00000080;background-color:#cb1212cc;border-radius:10px;text-align:center;color:#fff;font-size:30px}#close[_ngcontent-%COMP%]:hover{background-color:#c64242cc}"]})};function yj(t,e){t&1&&Ft(0,"img",30)}var bd=class t{constructor(e,n){this.firestore=e;this.auth=n}palabras=["GATO","PERRO","CASA","FLOR","ARBOL","LUNA","SOL","MAR","CIELO","NUBE","R\xCDO","FUEGO","AGUA","TIERRA","AIRE","ESTRELLA","LIBRO","MUSICA","CINE","COMIDA","BEBIDA","JUEGO","DEPORTE","COCHE","AVI\xD3N","BARCO","TREN","BICICLETA","CIUDAD","PA\xCDS","MUNDO","IDIOMA","PALABRA","LETRA","SONIDO","COLOR","LINEA","C\xCDRCULO","CUADRADO","FAMILIA","AMIGO","AMOR","PAZ","GUERRA","TRABAJO","ESCUELA","OFICINA","PARQUE","CALLE","CARRETERA","PUENTE","MUSEO","TEATRO","HOSPITAL","IGLESIA","TEMPLO","TIENDA","RESTAURANTE","CAFETER\xCDA","ZAPATO","CAMISETA","PANTAL\xD3N","SOMBRERO","RELOJ","BOLSA","LLAVE","TEL\xC9FONO","ORDENADOR","MESA","SILLA","CAMA","SOFA","VENTANA","PUERTA","LIBRETA","L\xC1PIZ","BOLIGRAFO","CEPILLO","ESPEJO","PEINE","JAB\xD3N","TOALLA","LAVAVAJILLAS","NEVERA","LAVADORA","COCINA","HORNO","MICROONDAS","TELEVISOR","RADIO","CAMARA","REPRODUCTOR","MOTOR","BATERIA","CARGADOR","CUADERNO","GRIFO","CORTE","PLATO"];palabraSeleccionada="";palabraOculta="";vidasCount=5;puntos=0;teclado=document.getElementsByClassName("letter");ngOnInit(){this.InitGame(),Cv.default.fire({title:"Ahorcado",html:`<div style="text-align: left;">
      -Tenes 5 intentos para adivinar la palabra secreta<br><br>
      -Cada letra que se agregue vale un punto y cada letra incorrecta resta una vida<br><br>
      -Al acertar una palabra esta se reemplaza por otra y el jugador vuelve a tener todas las vidas<br><br>
      -El juegos se termina cuando te quedas sin vidas
      </div>`,background:"#000",color:"#fff",confirmButtonColor:"#ff5722",confirmButtonText:"Entendido",allowOutsideClick:!1,allowEscapeKey:!1})}InitGame(){this.palabraSeleccionada=this.palabras[Math.floor(Math.random()*this.palabras.length)],console.log(this.palabraSeleccionada);for(let e=0;e<this.palabraSeleccionada.length;e++)this.palabraOculta+="_";console.log(this.teclado);for(let e=0;e<this.teclado.length;e++){let n=this.teclado[e].id,r=document.getElementById(n);r!=null&&(r.style.display="block")}}BuscarLetra(e){let n=[],r=!1;for(let i=0;i<this.palabraSeleccionada.length;i++)if(e.toUpperCase()==this.palabraSeleccionada[i].toUpperCase()){let s=this.palabraOculta.split("");s[i]=e.toUpperCase(),this.palabraOculta=s.join(""),n.push(e.toUpperCase()),r=!0,this.puntos++}if(r||(console.log("Esa letra no existe"),this.vidasCount--),this.hideButton(e),this.ActualizarPalabra())if(this.vidasCount==0){Cv.default.fire({title:`Perdiste
Puntuacion Final: ${this.puntos}`,background:"#000",color:"#fff",confirmButtonColor:"#ff5722"});let i=E0(this.firestore,"ahorcado");w0(i,{puntaje:this.puntos,user:this.auth.currentUser?.displayName}),this.vidasCount=5,this.puntos=0,this.InitGame()}else this.vidasCount=5,this.InitGame()}hideButton(e){let n=document.getElementById(e);n&&(n.style.display="none")}get vidas(){return Array(this.vidasCount).fill(0).map((e,n)=>n)}ActualizarPalabra(){let e=!1;return(this.vidasCount==0||this.palabraOculta.indexOf("_")==-1)&&(e=!0,this.palabraOculta=""),e}static \u0275fac=function(n){return new(n||t)(he(Ci),he(pi))};static \u0275cmp=Pt({type:t,selectors:[["app-ahorcado"]],decls:58,vars:2,consts:[["id","barra-vidas"],["src","https://firebasestorage.googleapis.com/v0/b/tp-labo4-fae81.appspot.com/o/corazon.png?alt=media&token=821aefc2-08ca-4af0-8947-67d7ff5d6c8e","alt","vida","id","vida",4,"ngFor","ngForOf"],["id","palabra"],[1,"alphabet-buttons","container-fluid"],["id","A",1,"letter",3,"click"],["id","B",1,"letter",3,"click"],["id","C",1,"letter",3,"click"],["id","D",1,"letter",3,"click"],["id","E",1,"letter",3,"click"],["id","F",1,"letter",3,"click"],["id","G",1,"letter",3,"click"],["id","H",1,"letter",3,"click"],["id","I",1,"letter",3,"click"],["id","J",1,"letter",3,"click"],["id","K",1,"letter",3,"click"],["id","L",1,"letter",3,"click"],["id","M",1,"letter",3,"click"],["id","N",1,"letter",3,"click"],["id","O",1,"letter",3,"click"],["id","P",1,"letter",3,"click"],["id","Q",1,"letter",3,"click"],["id","R",1,"letter",3,"click"],["id","S",1,"letter",3,"click"],["id","T",1,"letter",3,"click"],["id","U",1,"letter",3,"click"],["id","V",1,"letter",3,"click"],["id","W",1,"letter",3,"click"],["id","X",1,"letter",3,"click"],["id","Y",1,"letter",3,"click"],["id","Z",1,"letter",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/tp-labo4-fae81.appspot.com/o/corazon.png?alt=media&token=821aefc2-08ca-4af0-8947-67d7ff5d6c8e","alt","vida","id","vida"]],template:function(n,r){n&1&&(Ft(0,"app-juego"),Z(1,"div",0),bp(2,yj,1,0,"img",1),J(),Z(3,"p",2),se(4),J(),Z(5,"div",3)(6,"button",4),fe("click",function(){return r.BuscarLetra("A")}),se(7,"A"),J(),Z(8,"button",5),fe("click",function(){return r.BuscarLetra("B")}),se(9,"B"),J(),Z(10,"button",6),fe("click",function(){return r.BuscarLetra("C")}),se(11,"C"),J(),Z(12,"button",7),fe("click",function(){return r.BuscarLetra("D")}),se(13,"D"),J(),Z(14,"button",8),fe("click",function(){return r.BuscarLetra("E")}),se(15,"E"),J(),Z(16,"button",9),fe("click",function(){return r.BuscarLetra("F")}),se(17,"F"),J(),Z(18,"button",10),fe("click",function(){return r.BuscarLetra("G")}),se(19,"G"),J(),Z(20,"button",11),fe("click",function(){return r.BuscarLetra("H")}),se(21,"H"),J(),Z(22,"button",12),fe("click",function(){return r.BuscarLetra("I")}),se(23,"I"),J(),Z(24,"button",13),fe("click",function(){return r.BuscarLetra("J")}),se(25,"J"),J(),Z(26,"button",14),fe("click",function(){return r.BuscarLetra("K")}),se(27,"K"),J(),Z(28,"button",15),fe("click",function(){return r.BuscarLetra("L")}),se(29,"L"),J(),Z(30,"button",16),fe("click",function(){return r.BuscarLetra("M")}),se(31,"M"),J(),Z(32,"button",17),fe("click",function(){return r.BuscarLetra("N")}),se(33,"N"),J(),Z(34,"button",18),fe("click",function(){return r.BuscarLetra("O")}),se(35,"O"),J(),Z(36,"button",19),fe("click",function(){return r.BuscarLetra("P")}),se(37,"P"),J(),Z(38,"button",20),fe("click",function(){return r.BuscarLetra("Q")}),se(39,"Q"),J(),Z(40,"button",21),fe("click",function(){return r.BuscarLetra("R")}),se(41,"R"),J(),Z(42,"button",22),fe("click",function(){return r.BuscarLetra("S")}),se(43,"S"),J(),Z(44,"button",23),fe("click",function(){return r.BuscarLetra("T")}),se(45,"T"),J(),Z(46,"button",24),fe("click",function(){return r.BuscarLetra("U")}),se(47,"U"),J(),Z(48,"button",25),fe("click",function(){return r.BuscarLetra("V")}),se(49,"V"),J(),Z(50,"button",26),fe("click",function(){return r.BuscarLetra("W")}),se(51,"W"),J(),Z(52,"button",27),fe("click",function(){return r.BuscarLetra("X")}),se(53,"X"),J(),Z(54,"button",28),fe("click",function(){return r.BuscarLetra("Y")}),se(55,"Y"),J(),Z(56,"button",29),fe("click",function(){return r.BuscarLetra("Z")}),se(57,"Z"),J()()),n&2&&($o(2),Go("ngForOf",r.vidas),$o(2),Ap(r.palabraOculta))},dependencies:[MD,mn],styles:["p[_ngcontent-%COMP%]{color:#fff}.alphabet-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;width:90vw}.letter[_ngcontent-%COMP%]{width:100px;height:100px;margin:30px 10px 10px;box-shadow:0 0 15px #00000080;background-color:#000c;padding:20px;border-radius:10px;text-align:center;color:#fff;font-size:30px}.letter[_ngcontent-%COMP%]:hover{background-color:#5b5b5bcc}#palabra[_ngcontent-%COMP%]{width:100%;text-align:center;font-size:100px;letter-spacing:10px}#vida[_ngcontent-%COMP%]{width:40px}#barra-vidas[_ngcontent-%COMP%]{padding:20px}"]})};var Td=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Pt({type:t,selectors:[["app-mayor-o-menor"]],decls:3,vars:0,template:function(n,r){n&1&&(Z(0,"p"),se(1,"mayor-o-menor works!"),J(),Ft(2,"app-juego"))},dependencies:[mn],styles:["p[_ngcontent-%COMP%]{color:#fff}"]})};var Ad=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Pt({type:t,selectors:[["app-preguntas"]],decls:3,vars:0,template:function(n,r){n&1&&(Z(0,"p"),se(1,"preguntas works!"),J(),Ft(2,"app-juego"))},dependencies:[mn],styles:["p[_ngcontent-%COMP%]{color:#fff}"]})};var Sd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Pt({type:t,selectors:[["app-buscaminas"]],decls:3,vars:0,template:function(n,r){n&1&&(Z(0,"p"),se(1,"buscaminas works!"),J(),Ft(2,"app-juego"))},dependencies:[mn],styles:["p[_ngcontent-%COMP%]{color:#fff}"]})};var vj=[{path:"ahorcado",component:bd},{path:"mayor-o-menor",component:Td},{path:"preguntas",component:Ad},{path:"buscaminas",component:Sd}],Rd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Ot({type:t});static \u0275inj=xt({imports:[Sg.forChild(vj),Sg]})};var N0=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(he(Zr),he(fr))},e.\u0275dir=tt({type:e});let t=e;return t})(),_j=(()=>{let e=class e extends N0{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ls(e)))(s||e)}})(),e.\u0275dir=tt({type:e,features:[Sn]});let t=e;return t})(),x0=new L("");var Ij={provide:x0,useExisting:Yr(()=>P0),multi:!0};function wj(){let t=Nn()?Nn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Ej=new L(""),P0=(()=>{let e=class e extends N0{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!wj())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(he(Zr),he(fr),he(Ej,8))},e.\u0275dir=tt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&fe("input",function(c){return s._handleInput(c.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(c){return s._compositionEnd(c.target.value)})},features:[Wo([Ij]),Sn]});let t=e;return t})();function Dj(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var Tv=new L(""),O0=new L("");function Cj(t){return Dj(t.value)?{required:!0}:null}function D0(t){return null}function k0(t){return t!=null}function F0(t){return Xr(t)?be(t):t}function L0(t){let e={};return t.forEach(n=>{e=n!=null?k(k({},e),n):e}),Object.keys(e).length===0?null:e}function V0(t,e){return e.map(n=>n(t))}function bj(t){return!t.validate}function U0(t){return t.map(e=>bj(e)?e:n=>e.validate(n))}function Tj(t){if(!t)return null;let e=t.filter(k0);return e.length==0?null:function(n){return L0(V0(n,e))}}function Av(t){return t!=null?Tj(U0(t)):null}function Aj(t){if(!t)return null;let e=t.filter(k0);return e.length==0?null:function(n){let r=V0(n,e).map(F0);return Mh(r).pipe(te(L0))}}function Sv(t){return t!=null?Aj(U0(t)):null}function C0(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Sj(t){return t._rawValidators}function Rj(t){return t._rawAsyncValidators}function bv(t){return t?Array.isArray(t)?t:[t]:[]}function Nd(t,e){return Array.isArray(t)?t.includes(e):t===e}function b0(t,e){let n=bv(e);return bv(t).forEach(i=>{Nd(n,i)||n.push(i)}),n}function T0(t,e){return bv(e).filter(n=>!Nd(t,n))}var xd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Av(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Sv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},to=class extends xd{get formDirective(){return null}get path(){return null}},Xa=class extends xd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Pd=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Mj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},G6=re(k({},Mj),{"[class.ng-submitted]":"isSubmitted"}),W6=(()=>{let e=class e extends Pd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(he(Xa,2))},e.\u0275dir=tt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Hu("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Sn]});let t=e;return t})(),K6=(()=>{let e=class e extends Pd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(he(to,10))},e.\u0275dir=tt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Hu("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Sn]});let t=e;return t})();var Ka="VALID",Md="INVALID",Xs="PENDING",Qa="DISABLED",no=class{},Od=class extends no{constructor(e,n){super(),this.value=e,this.source=n}},Za=class extends no{constructor(e,n){super(),this.pristine=e,this.source=n}},Ja=class extends no{constructor(e,n){super(),this.touched=e,this.source=n}},eo=class extends no{constructor(e,n){super(),this.status=e,this.source=n}};function j0(t){return(Ld(t)?t.validators:t)||null}function Nj(t){return Array.isArray(t)?Av(t):t||null}function B0(t,e){return(Ld(e)?e.asyncValidators:t)||null}function xj(t){return Array.isArray(t)?Sv(t):t||null}function Ld(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Pj(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new V(1e3,"");if(!r[n])throw new V(1001,"")}function Oj(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new V(1002,"")})}var kd=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ko(()=>this.statusReactive()),this.statusReactive=qo(void 0),this._pristine=Ko(()=>this.pristineReactive()),this.pristineReactive=qo(!0),this._touched=Ko(()=>this.touchedReactive()),this.touchedReactive=qo(!1),this._events=new Be,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Rn(this.statusReactive)}set status(e){Rn(()=>this.statusReactive.set(e))}get valid(){return this.status===Ka}get invalid(){return this.status===Md}get pending(){return this.status==Xs}get disabled(){return this.status===Qa}get enabled(){return this.status!==Qa}get pristine(){return Rn(this.pristineReactive)}set pristine(e){Rn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Rn(this.touchedReactive)}set touched(e){Rn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(b0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(b0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(T0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(T0(e,this._rawAsyncValidators))}hasValidator(e){return Nd(this._rawValidators,e)}hasAsyncValidator(e){return Nd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(re(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ja(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ja(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(re(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Za(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Za(!0,r))}markAsPending(e={}){this.status=Xs;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new eo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(re(k({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Qa,this.errors=null,this._forEachChild(i=>{i.disable(re(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Od(this.value,r)),this._events.next(new eo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(re(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ka,this._forEachChild(r=>{r.enable(re(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(re(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ka||this.status===Xs)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Od(this.value,n)),this._events.next(new eo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(re(k({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qa:Ka}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Xs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=F0(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new eo(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ne,this.statusChanges=new Ne}_calculateStatus(){return this._allControlsDisabled()?Qa:this.errors?Md:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xs)?Xs:this._anyControlsHaveStatus(Md)?Md:Ka}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Za(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ja(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ld(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Nj(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=xj(this._rawAsyncValidators)}},Fd=class extends kd{constructor(e,n,r){super(j0(n),B0(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Oj(this,!0,e),Object.keys(e).forEach(r=>{Pj(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Rv=new L("CallSetDisabledState",{providedIn:"root",factory:()=>Mv}),Mv="always";function kj(t,e){return[...e.path,t]}function $0(t,e,n=Mv){H0(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Lj(t,e),Uj(t,e),Vj(t,e),Fj(t,e)}function A0(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Fj(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function H0(t,e){let n=Sj(t);e.validator!==null?t.setValidators(C0(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Rj(t);e.asyncValidator!==null?t.setAsyncValidators(C0(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();A0(e._rawValidators,i),A0(e._rawAsyncValidators,i)}function Lj(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&q0(t,e)})}function Vj(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&q0(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function q0(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Uj(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function jj(t,e){t==null,H0(t,e)}function Bj(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function $j(t){return Object.getPrototypeOf(t.constructor)===_j}function Hj(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function qj(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===P0?n=s:$j(s)?r=s:i=s}),i||r||n||null}var zj={provide:to,useExisting:Yr(()=>Gj)},Ya=Promise.resolve(),Gj=(()=>{let e=class e extends to{get submitted(){return Rn(this.submittedReactive)}constructor(r,i,s){super(),this.callSetDisabledState=s,this._submitted=Ko(()=>this.submittedReactive()),this.submittedReactive=qo(!1),this._directives=new Set,this.ngSubmit=new Ne,this.form=new Fd({},Av(r),Sv(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Ya.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),$0(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Ya.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Ya.then(()=>{let i=this._findContainer(r.path),s=new Fd({});jj(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Ya.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Ya.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),Hj(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(he(Tv,10),he(O0,10),he(Rv,8))},e.\u0275dir=tt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&fe("submit",function(c){return s.onSubmit(c)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Wo([zj]),Sn]});let t=e;return t})();function S0(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function R0(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Wj=class extends kd{constructor(e=null,n,r){super(j0(n),B0(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ld(n)&&(n.nonNullable||n.initialValueIsDefault)&&(R0(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){S0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){S0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){R0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Kj={provide:Xa,useExisting:Yr(()=>Qj)},M0=Promise.resolve(),Qj=(()=>{let e=class e extends Xa{constructor(r,i,s,o,c,u){super(),this._changeDetectorRef=c,this.callSetDisabledState=u,this.control=new Wj,this._registered=!1,this.name="",this.update=new Ne,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=qj(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),Bj(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){$0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){M0.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&gr(i);M0.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?kj(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(he(to,9),he(Tv,10),he(O0,10),he(x0,10),he(ti,8),he(Rv,8))},e.\u0275dir=tt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Wo([Kj]),Sn,dr]});let t=e;return t})(),Y6=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=tt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var Yj=(()=>{let e=class e{constructor(){this._validator=D0}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):D0,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=tt({type:e,features:[dr]});let t=e;return t})();var Zj={provide:Tv,useExisting:Yr(()=>Jj),multi:!0};var Jj=(()=>{let e=class e extends Yj{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=gr,this.createValidator=r=>Cj}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ls(e)))(s||e)}})(),e.\u0275dir=tt({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&zo("required",s._enabled?"":null)},inputs:{required:"required"},features:[Wo([Zj]),Sn]});let t=e;return t})();var Xj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ot({type:e}),e.\u0275inj=xt({});let t=e;return t})();var z0=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Rv,useValue:r.callSetDisabledState??Mv}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ot({type:e}),e.\u0275inj=xt({imports:[Xj]});let t=e;return t})();var G0=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Ot({type:t});static \u0275inj=xt({imports:[Lp,Rd,z0]})};export{j as a,xt as b,L as c,q as d,x as e,Pt as f,Ot as g,mG as h,yG as i,ls as j,$o as k,he as l,Sn as m,bp as n,wG as o,Z as p,J as q,Ft as r,EG as s,fe as t,DG as u,se as v,aD as w,Ux as x,CG as y,jx as z,uD as A,bG as B,Lp as C,E4 as D,fO as E,kn as F,H4 as G,N3 as H,x3 as I,pi as J,b9 as K,T9 as L,A9 as M,S9 as N,R9 as O,_0 as P,Ci as Q,g6 as R,w0 as S,E0 as T,m6 as U,P0 as V,W6 as W,K6 as X,Gj as Y,Qj as Z,Y6 as _,Jj as $,z0 as aa,G0 as ba};
